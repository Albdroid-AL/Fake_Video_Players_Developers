(function(){function s(l,e,r){function t(d,n){if(!e[d]){if(!l[d]){var i="function"==typeof require&&require;if(!n&&i)return i(d,!0);if(o)return o(d,!0);var c=new Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",c}var a=e[d]={exports:{}};l[d][0].call(a.exports,function(e){var r=l[d][1][e];return t(r||e)},a,a.exports,s,l,e,r)}return e[d].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)t(r[a]);return t}return s})()({1:[function(e,t){(function(){var e=!1,r=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(t){function a(){!e&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;e=!0;var n=new this;for(var s in e=!1,t)n[s]="function"==typeof t[s]&&"function"==typeof o[s]&&r.test(t[s])?function(e,t){return function(){var r=this._super;this._super=o[e];var a=t.apply(this,arguments);return this._super=r,a}}(s,t[s]):t[s];return a.prototype=n,a.prototype.constructor=a,a.extend=arguments.callee,a},t.exports=Class})()},{}],2:[function(e,t,r){(function(){function e(e){function t(t,r,a,o,n,s){for(;0<=n&&n<s;n+=e){var i=o?o[n]:n;a=r(a,t[i],i,t)}return a}return function(r,a,o,n){a=_(a,n,4);var s=!D(r)&&S.keys(r),i=(s||r).length,l=0<e?0:i-1;return 3>arguments.length&&(o=r[s?s[l]:l],l+=e),t(r,a,o,s,l,i)}}function a(e){return function(t,r,a){r=N(r,a);for(var o=P(t),n=0<e?0:o-1;0<=n&&n<o;n+=e)if(r(t[n],n,t))return n;return-1}}function o(e,t,r){return function(a,o,n){var s=0,i=P(a);if("number"==typeof n)0<e?s=0<=n?n:l(n+i,s):i=0<=n?Math.min(n+1,i):n+i+1;else if(r&&n&&i)return n=r(a,o),a[n]===o?n:-1;if(o!==o)return n=t(h.call(a,s,i),S.isNaN),0<=n?n+s:-1;for(n=0<e?s:i-1;0<=n&&n<i;n+=e)if(a[n]===o)return n;return-1}}function n(e,t){var r=k.length,a=e.constructor,o=S.isFunction(a)&&a.prototype||p,n="constructor";for(S.has(e,n)&&!S.contains(t,n)&&t.push(n);r--;)n=k[r],n in e&&e[n]!==o[n]&&!S.contains(t,n)&&t.push(n)}var s=Math.floor,l=Math.max,i=this,d=i._,c=Array.prototype,p=Object.prototype,m=Function.prototype,u=c.push,h=c.slice,g=p.toString,y=p.hasOwnProperty,f=Array.isArray,v=Object.keys,b=m.bind,C=Object.create,E=function(){},S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"==typeof r?i._=S:("undefined"!=typeof t&&t.exports&&(r=t.exports=S),r._=S),S.VERSION="1.8.3";var _=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,o){return e.call(t,r,a,o)};case 4:return function(r,a,o,n){return e.call(t,r,a,o,n)};}return function(){return e.apply(t,arguments)}},N=function(e,t,r){return null==e?S.identity:S.isFunction(e)?_(e,t,r):S.isObject(e)?S.matcher(e):S.property(e)};S.iteratee=function(e,t){return N(e,t,Infinity)};var T=function(e,t){return function(r){var a=arguments.length;if(2>a||null==r)return r;for(var o=1;o<a;o++)for(var n,s=arguments[o],d=e(s),c=d.length,l=0;l<c;l++)n=d[l],t&&void 0!==r[n]||(r[n]=s[n]);return r}},L=function(e){if(!S.isObject(e))return{};if(C)return C(e);E.prototype=e;var t=new E;return E.prototype=null,t},I=function(e){return function(t){return null==t?void 0:t[e]}},P=I("length"),D=function(e){var t=P(e);return"number"==typeof t&&0<=t&&t<=9007199254740991};S.each=S.forEach=function(e,t,r){t=_(t,r);var a,o;if(D(e))for(a=0,o=e.length;a<o;a++)t(e[a],a,e);else{var n=S.keys(e);for(a=0,o=n.length;a<o;a++)t(e[n[a]],n[a],e)}return e},S.map=S.collect=function(e,t,r){t=N(t,r);for(var a,o=!D(e)&&S.keys(e),n=(o||e).length,s=Array(n),i=0;i<n;i++)a=o?o[i]:i,s[i]=t(e[a],a,e);return s},S.reduce=S.foldl=S.inject=e(1),S.reduceRight=S.foldr=e(-1),S.find=S.detect=function(e,t,r){var a;if(a=D(e)?S.findIndex(e,t,r):S.findKey(e,t,r),void 0!==a&&-1!==a)return e[a]},S.filter=S.select=function(e,t,r){var a=[];return t=N(t,r),S.each(e,function(e,r,o){t(e,r,o)&&a.push(e)}),a},S.reject=function(e,t,r){return S.filter(e,S.negate(N(t)),r)},S.every=S.all=function(e,t,r){t=N(t,r);for(var a,o=!D(e)&&S.keys(e),n=(o||e).length,s=0;s<n;s++)if(a=o?o[s]:s,!t(e[a],a,e))return!1;return!0},S.some=S.any=function(e,t,r){t=N(t,r);for(var a,o=!D(e)&&S.keys(e),n=(o||e).length,s=0;s<n;s++)if(a=o?o[s]:s,t(e[a],a,e))return!0;return!1},S.contains=S.includes=S.include=function(e,t,r,a){return D(e)||(e=S.values(e)),("number"!=typeof r||a)&&(r=0),0<=S.indexOf(e,t,r)},S.invoke=function(e,t){var r=h.call(arguments,2),a=S.isFunction(t);return S.map(e,function(e){var o=a?t:e[t];return null==o?o:o.apply(e,r)})},S.pluck=function(e,t){return S.map(e,S.property(t))},S.where=function(e,t){return S.filter(e,S.matcher(t))},S.findWhere=function(e,t){return S.find(e,S.matcher(t))},S.max=function(e,t,r){var a,o,n=-Infinity,s=-Infinity;if(null==t&&null!=e){e=D(e)?e:S.values(e);for(var l=0,i=e.length;l<i;l++)a=e[l],a>n&&(n=a)}else t=N(t,r),S.each(e,function(e,r,a){o=t(e,r,a),(o>s||o===-Infinity&&n===-Infinity)&&(n=e,s=o)});return n},S.min=function(e,t,r){var a,o,n=Infinity,s=Infinity;if(null==t&&null!=e){e=D(e)?e:S.values(e);for(var l=0,i=e.length;l<i;l++)a=e[l],a<n&&(n=a)}else t=N(t,r),S.each(e,function(e,r,a){o=t(e,r,a),(o<s||o===Infinity&&n===Infinity)&&(n=e,s=o)});return n},S.shuffle=function(e){for(var t,r=D(e)?e:S.values(e),a=r.length,o=Array(a),n=0;n<a;n++)t=S.random(0,n),t!==n&&(o[n]=o[t]),o[t]=r[n];return o},S.sample=function(e,t,r){return null==t||r?(D(e)||(e=S.values(e)),e[S.random(e.length-1)]):S.shuffle(e).slice(0,l(0,t))},S.sortBy=function(e,t,r){return t=N(t,r),S.pluck(S.map(e,function(e,r,a){return{value:e,index:r,criteria:t(e,r,a)}}).sort(function(e,t){var r=e.criteria,a=t.criteria;if(r!==a){if(r>a||void 0===r)return 1;if(r<a||void 0===a)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,r,a){var o={};return r=N(r,a),S.each(t,function(a,n){var s=r(a,n,t);e(o,a,s)}),o}};S.groupBy=x(function(e,t,r){S.has(e,r)?e[r].push(t):e[r]=[t]}),S.indexBy=x(function(e,t,r){e[r]=t}),S.countBy=x(function(e,t,r){S.has(e,r)?e[r]++:e[r]=1}),S.toArray=function(e){return e?S.isArray(e)?h.call(e):D(e)?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:D(e)?e.length:S.keys(e).length},S.partition=function(e,t,r){t=N(t,r);var a=[],o=[];return S.each(e,function(e,r,n){(t(e,r,n)?a:o).push(e)}),[a,o]},S.first=S.head=S.take=function(e,t,r){return null==e?void 0:null==t||r?e[0]:S.initial(e,e.length-t)},S.initial=function(e,t,r){return h.call(e,0,l(0,e.length-(null==t||r?1:t)))},S.last=function(e,t,r){return null==e?void 0:null==t||r?e[e.length-1]:S.rest(e,l(0,e.length-t))},S.rest=S.tail=S.drop=function(e,t,r){return h.call(e,null==t||r?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var M=function(e,t,r,a){for(var o,n=[],s=0,l=a||0,i=P(e);l<i;l++)if(o=e[l],D(o)&&(S.isArray(o)||S.isArguments(o))){t||(o=M(o,t,r));var d=0,c=o.length;for(n.length+=c;d<c;)n[s++]=o[d++]}else r||(n[s++]=o);return n};S.flatten=function(e,t){return M(e,t,!1)},S.without=function(e){return S.difference(e,h.call(arguments,1))},S.uniq=S.unique=function(e,t,r,a){S.isBoolean(t)||(a=r,r=t,t=!1),null!=r&&(r=N(r,a));for(var o=[],n=[],s=0,l=P(e);s<l;s++){var d=e[s],c=r?r(d,s,e):d;t?((!s||n!==c)&&o.push(d),n=c):r?!S.contains(n,c)&&(n.push(c),o.push(d)):!S.contains(o,d)&&o.push(d)}return o},S.union=function(){return S.uniq(M(arguments,!0,!0))},S.intersection=function(e){for(var t,r=[],a=arguments.length,o=0,n=P(e);o<n;o++)if(t=e[o],!S.contains(r,t)){for(var s=1;s<a&&!!S.contains(arguments[s],t);s++);s===a&&r.push(t)}return r},S.difference=function(e){var t=M(arguments,!0,!0,1);return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){return S.unzip(arguments)},S.unzip=function(e){for(var t=e&&S.max(e,P).length||0,r=Array(t),a=0;a<t;a++)r[a]=S.pluck(e,a);return r},S.object=function(e,t){for(var r={},a=0,o=P(e);a<o;a++)t?r[e[a]]=t[a]:r[e[a][0]]=e[a][1];return r},S.findIndex=a(1),S.findLastIndex=a(-1),S.sortedIndex=function(e,t,r,a){r=N(r,a,1);for(var o=r(t),n=0,i=P(e);n<i;){var l=s((n+i)/2);r(e[l])<o?n=l+1:i=l}return n},S.indexOf=o(1,S.findIndex,S.sortedIndex),S.lastIndexOf=o(-1,S.findLastIndex),S.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var a=l(Math.ceil((t-e)/r),0),o=Array(a),n=0;n<a;n++,e+=r)o[n]=e;return o};var w=function(e,t,r,a,o){if(!(a instanceof t))return e.apply(r,o);var n=L(e.prototype),s=e.apply(n,o);return S.isObject(s)?s:n};S.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,h.call(arguments,1));if(!S.isFunction(e))throw new TypeError("Bind must be called on a function");var r=h.call(arguments,2),a=function(){return w(e,a,t,this,r.concat(h.call(arguments)))};return a},S.partial=function(e){var t=h.call(arguments,1),r=function(){for(var a=0,o=t.length,n=Array(o),s=0;s<o;s++)n[s]=t[s]===S?arguments[a++]:t[s];for(;a<arguments.length;)n.push(arguments[a++]);return w(e,r,this,this,n)};return r},S.bindAll=function(e){var t,r,a=arguments.length;if(1>=a)throw new Error("bindAll must be passed function names");for(t=1;t<a;t++)r=arguments[t],e[r]=S.bind(e[r],e);return e},S.memoize=function(e,t){var r=function(a){var o=r.cache,n=""+(t?t.apply(this,arguments):a);return S.has(o,n)||(o[n]=e.apply(this,arguments)),o[n]};return r.cache={},r},S.delay=function(e,t){var r=h.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},S.defer=S.partial(S.delay,S,1),S.throttle=function(e,t,r){var a,o,n,s=null,i=0;r||(r={});var l=function(){i=!1===r.leading?0:S.now(),s=null,n=e.apply(a,o),s||(a=o=null)};return function(){var d=S.now();i||!1!==r.leading||(i=d);var c=t-(d-i);return a=this,o=arguments,0>=c||c>t?(s&&(clearTimeout(s),s=null),i=d,n=e.apply(a,o),!s&&(a=o=null)):!s&&!1!==r.trailing&&(s=setTimeout(l,c)),n}},S.debounce=function(e,t,r){var a,o,n,s,i,l=function(){var d=S.now()-s;d<t&&0<=d?a=setTimeout(l,t-d):(a=null,!r&&(i=e.apply(n,o),!a&&(n=o=null)))};return function(){n=this,o=arguments,s=S.now();var d=r&&!a;return a||(a=setTimeout(l,t)),d&&(i=e.apply(n,o),n=o=null),i}},S.wrap=function(e,t){return S.partial(t,e)},S.negate=function(e){return function(){return!e.apply(this,arguments)}},S.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,a=e[t].apply(this,arguments);r--;)a=e[r].call(this,a);return a}},S.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},S.before=function(e,t){var r;return function(){return 0<--e&&(r=t.apply(this,arguments)),1>=e&&(t=null),r}},S.once=S.partial(S.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),k=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];S.keys=function(e){if(!S.isObject(e))return[];if(v)return v(e);var t=[];for(var r in e)S.has(e,r)&&t.push(r);return O&&n(e,t),t},S.allKeys=function(e){if(!S.isObject(e))return[];var t=[];for(var r in e)t.push(r);return O&&n(e,t),t},S.values=function(e){for(var t=S.keys(e),r=t.length,a=Array(r),o=0;o<r;o++)a[o]=e[t[o]];return a},S.mapObject=function(e,t,r){t=N(t,r);for(var a,o=S.keys(e),n=o.length,s={},i=0;i<n;i++)a=o[i],s[a]=t(e[a],a,e);return s},S.pairs=function(e){for(var t=S.keys(e),r=t.length,a=Array(r),o=0;o<r;o++)a[o]=[t[o],e[t[o]]];return a},S.invert=function(e){for(var t={},r=S.keys(e),a=0,o=r.length;a<o;a++)t[e[r[a]]]=r[a];return t},S.functions=S.methods=function(e){var t=[];for(var r in e)S.isFunction(e[r])&&t.push(r);return t.sort()},S.extend=T(S.allKeys),S.extendOwn=S.assign=T(S.keys),S.findKey=function(e,t,r){t=N(t,r);for(var a,o=S.keys(e),n=0,s=o.length;n<s;n++)if(a=o[n],t(e[a],a,e))return a},S.pick=function(e,t,r){var a,o,n={},s=e;if(null==s)return n;S.isFunction(t)?(o=S.allKeys(s),a=_(t,r)):(o=M(arguments,!1,!1,1),a=function(e,t,r){return t in r},s=Object(s));for(var l=0,i=o.length;l<i;l++){var d=o[l],c=s[d];a(c,d,s)&&(n[d]=c)}return n},S.omit=function(e,t,r){if(S.isFunction(t))t=S.negate(t);else{var a=S.map(M(arguments,!1,!1,1),String);t=function(e,t){return!S.contains(a,t)}}return S.pick(e,t,r)},S.defaults=T(S.allKeys,!0),S.create=function(e,t){var r=L(e);return t&&S.extendOwn(r,t),r},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isMatch=function(e,t){var r=S.keys(t),a=r.length;if(null==e)return!a;for(var o,n=Object(e),s=0;s<a;s++)if(o=r[s],t[o]!==n[o]||!(o in n))return!1;return!0};var A=function(e,t,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var n=g.call(e);if(n!==g.call(t))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;}var s="[object Array]"===n;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,l=t.constructor;if(i!==l&&!(S.isFunction(i)&&i instanceof i&&S.isFunction(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),s){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!A(e[d],t[d],r,o))return!1}else{var c,p=S.keys(e);if(d=p.length,S.keys(t).length!==d)return!1;for(;d--;)if(c=p[d],!(S.has(t,c)&&A(e[c],t[c],r,o)))return!1}return r.pop(),o.pop(),!0};S.isEqual=function(e,t){return A(e,t)},S.isEmpty=function(e){return!(null!=e)||(D(e)&&(S.isArray(e)||S.isString(e)||S.isArguments(e))?0===e.length:0===S.keys(e).length)},S.isElement=function(e){return!!(e&&1===e.nodeType)},S.isArray=f||function(e){return"[object Array]"===g.call(e)},S.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},S.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){S["is"+e]=function(t){return g.call(t)==="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return S.has(e,"callee")}),"function"!=typeof /./&&"object"!=typeof Int8Array&&(S.isFunction=function(e){return"function"==typeof e||!1}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!==+e},S.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===g.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return null!=e&&y.call(e,t)},S.noConflict=function(){return i._=d,this},S.identity=function(e){return e},S.constant=function(e){return function(){return e}},S.noop=function(){},S.property=I,S.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},S.matcher=S.matches=function(e){return e=S.extendOwn({},e),function(t){return S.isMatch(t,e)}},S.times=function(e,t,r){var a=Array(l(0,e));t=_(t,r,1);for(var o=0;o<e;o++)a[o]=t(o);return a},S.random=function(e,t){return null==t&&(t=e,e=0),e+s(Math.random()*(t-e+1))},S.now=Date.now||function(){return new Date().getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=S.invert(R),q=function(e){var t=function(t){return e[t]},r="(?:"+S.keys(e).join("|")+")",a=RegExp(r),o=RegExp(r,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(o,t):e}};S.escape=q(R),S.unescape=q(j),S.result=function(e,t,r){var a=null==e?void 0:e[t];return void 0===a&&(a=r),S.isFunction(a)?a.call(e):a};var H=0;S.uniqueId=function(e){var t=++H+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+U[e]};S.template=function(e,t,r){!t&&r&&(t=r),t=S.defaults({},t,S.templateSettings);var a=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),o=0,n="__p+='";e.replace(a,function(t,r,a,s,i){return n+=e.slice(o,i).replace(B,V),o=i+t.length,r?n+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":a?n+="'+\n((__t=("+a+"))==null?'':__t)+\n'":s&&(n+="';\n"+s+"\n__p+='"),t}),n+="';\n",t.variable||(n="with(obj||{}){\n"+n+"}\n"),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var s=new Function(t.variable||"obj","_",n)}catch(t){throw t.source=n,t}var i=function(e){return s.call(this,e,S)},l=t.variable||"obj";return i.source="function("+l+"){\n"+n+"}",i},S.chain=function(e){var t=S(e);return t._chain=!0,t};var G=function(e,t){return e._chain?S(t).chain():t};S.mixin=function(e){S.each(S.functions(e),function(t){var r=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),G(this,r.apply(S,e))}})},S.mixin(S),S.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];S.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),("shift"===e||"splice"===e)&&0===r.length&&delete r[0],G(this,r)}}),S.each(["concat","join","slice"],function(e){var t=c[e];S.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),S.prototype.value=function(){return this._wrapped},S.prototype.valueOf=S.prototype.toJSON=S.prototype.value,S.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return S})}).call(this)},{}],3:[function(){(function(){window.WebComponents=window.WebComponents||{flags:{}};var e=document.querySelector("script[src*=\""+"webcomponents-lite.js"+"\"]"),t={};if(!t.noOpts){if(location.search.slice(1).split("&").forEach(function(e){var r,a=e.split("=");a[0]&&(r=a[0].match(/wc-(.+)/))&&(t[r[1]]=a[1]||!0)}),e)for(var r,a=0;r=e.attributes[a];a++)"src"!==r.name&&(t[r.name]=r.value||!0);if(t.log&&t.log.split){var o=t.log.split(",");t.log={},o.forEach(function(e){t.log[e]=!0})}else t.log={}}t.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=t.register),WebComponents.flags=t})(),function(e){"use strict";function t(e){return p[e]!==void 0}function r(){i.call(this),this._isInvalid=!0}function a(e){return""==e&&r.call(this),e.toLowerCase()}function o(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1==[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function n(e){var t=e.charCodeAt(0);return 32<t&&127>t&&-1==[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}function s(e,s,l){function d(e){C.push(e)}var g=s||"scheme start",y=0,f="",v=!1,b=!1,C=[];loop:for(;(e[y-1]!=u||0==y)&&!this._isInvalid;){var E=e[y];switch(g){case"scheme start":if(E&&h.test(E))f+=E.toLowerCase(),g="scheme";else if(!s){f="",g="no scheme";continue}else{d("Invalid scheme.");break loop}break;case"scheme":if(E&&_.test(E))f+=E.toLowerCase();else if(":"==E){if(this._scheme=f,f="",s)break loop;t(this._scheme)&&(this._isRelative=!0),g="file"==this._scheme?"relative":this._isRelative&&l&&l._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}else if(!s){f="",y=0,g="no scheme";continue}else if(u==E)break loop;else{d("Code point not allowed in scheme: "+E);break loop}break;case"scheme data":"?"==E?(this._query="?",g="query"):"#"==E?(this._fragment="#",g="fragment"):u!=E&&"\t"!=E&&"\n"!=E&&"\r"!=E&&(this._schemeData+=o(E));break;case"no scheme":if(!l||!t(l._scheme))d("Missing scheme."),r.call(this);else{g="relative";continue}break;case"relative or authority":if("/"==E&&"/"==e[y+1])g="authority ignore slashes";else{d("Expected /, got: "+E),g="relative";continue}break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=l._scheme),u==E){this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query=l._query,this._username=l._username,this._password=l._password;break loop}else if("/"==E||"\\"==E)"\\"==E&&d("\\ is an invalid code point."),g="relative slash";else if("?"==E)this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query="?",this._username=l._username,this._password=l._password,g="query";else if("#"==E)this._host=l._host,this._port=l._port,this._path=l._path.slice(),this._query=l._query,this._fragment="#",this._username=l._username,this._password=l._password,g="fragment";else{var c=e[y+1],S=e[y+2];"file"==this._scheme&&h.test(E)&&(":"==c||"|"==c)&&(u==S||"/"==S||"\\"==S||"?"==S||"#"==S)||(this._host=l._host,this._port=l._port,this._username=l._username,this._password=l._password,this._path=l._path.slice(),this._path.pop()),g="relative path";continue}break;case"relative slash":if("/"==E||"\\"==E)"\\"==E&&d("\\ is an invalid code point."),g="file"==this._scheme?"file host":"authority ignore slashes";else{"file"!=this._scheme&&(this._host=l._host,this._port=l._port,this._username=l._username,this._password=l._password),g="relative path";continue}break;case"authority first slash":if("/"==E)g="authority second slash";else{d("Expected '/', got: "+E),g="authority ignore slashes";continue}break;case"authority second slash":if(g="authority ignore slashes","/"!=E){d("Expected '/', got: "+E);continue}break;case"authority ignore slashes":if("/"!=E&&"\\"!=E){g="authority";continue}else d("Expected authority, got: "+E);break;case"authority":if("@"==E){v&&(d("@ already seen."),f+="%40"),v=!0;for(var N,T=0;T<f.length;T++){if(N=f[T],"\t"==N||"\n"==N||"\r"==N){d("Invalid whitespace in authority.");continue}if(":"==N&&null===this._password){this._password="";continue}var i=o(N);null===this._password?this._username+=i:this._password+=i}f=""}else if(u==E||"/"==E||"\\"==E||"?"==E||"#"==E){y-=f.length,f="",g="host";continue}else f+=E;break;case"file host":if(u==E||"/"==E||"\\"==E||"?"==E||"#"==E){2==f.length&&h.test(f[0])&&(":"==f[1]||"|"==f[1])?g="relative path":0==f.length?g="relative path start":(this._host=a.call(this,f),f="",g="relative path start");continue}else"\t"==E||"\n"==E||"\r"==E?d("Invalid whitespace in file host."):f+=E;break;case"host":case"hostname":if(":"==E&&!b){if(this._host=a.call(this,f),f="",g="port","hostname"==s)break loop;}else if(u==E||"/"==E||"\\"==E||"?"==E||"#"==E){if(this._host=a.call(this,f),f="",g="relative path start",s)break loop;continue}else"\t"!=E&&"\n"!=E&&"\r"!=E?("["==E?b=!0:"]"==E&&(b=!1),f+=E):d("Invalid code point in host/hostname: "+E);break;case"port":if(/[0-9]/.test(E))f+=E;else if(u==E||"/"==E||"\\"==E||"?"==E||"#"==E||s){if(""!=f){var L=parseInt(f,10);L!=p[this._scheme]&&(this._port=L+""),f=""}if(s)break loop;g="relative path start";continue}else"\t"==E||"\n"==E||"\r"==E?d("Invalid code point in port: "+E):r.call(this);break;case"relative path start":if("\\"==E&&d("'\\' not allowed in path."),g="relative path","/"!=E&&"\\"!=E)continue;break;case"relative path":if(u==E||"/"==E||"\\"==E||!s&&("?"==E||"#"==E)){"\\"==E&&d("\\ not allowed in relative path.");var I;(I=m[f.toLowerCase()])&&(f=I),".."==f?(this._path.pop(),"/"!=E&&"\\"!=E&&this._path.push("")):"."==f&&"/"!=E&&"\\"!=E?this._path.push(""):"."!=f&&("file"==this._scheme&&0==this._path.length&&2==f.length&&h.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this._path.push(f)),f="","?"==E?(this._query="?",g="query"):"#"==E&&(this._fragment="#",g="fragment")}else"\t"!=E&&"\n"!=E&&"\r"!=E&&(f+=o(E));break;case"query":s||"#"!=E?u!=E&&"\t"!=E&&"\n"!=E&&"\r"!=E&&(this._query+=n(E)):(this._fragment="#",g="fragment");break;case"fragment":u!=E&&"\t"!=E&&"\n"!=E&&"\r"!=E&&(this._fragment+=E);}y++}}function i(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function l(e,t){t===void 0||t instanceof l||(t=new l(t+"")),this._url=e,i.call(this);var r=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,r,null,t)}var d=!1;if(!e.forceJURL)try{var c=new URL("b","http://a");c.pathname="c%20d",d="http://a/c%20d"===c.href}catch(t){}if(!d){var p=Object.create(null);p.ftp=21,p.file=0,p.gopher=70,p.http=80,p.https=443,p.ws=80,p.wss=443;var m=Object.create(null);m["%2e"]=".",m[".%2e"]="..",m["%2e."]="..",m["%2e%2e"]="..";var u,h=/[a-zA-Z]/,_=/[a-zA-Z0-9\+\-\.]/;l.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return(""!=this._username||null!=this._password)&&(e=this._username+(null==this._password?"":":"+this._password)+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){i.call(this),s.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||s.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){this._isInvalid||!this._isRelative||s.call(this,e,"host")},get hostname(){return this._host},set hostname(e){this._isInvalid||!this._isRelative||s.call(this,e,"hostname")},get port(){return this._port},set port(e){this._isInvalid||!this._isRelative||s.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){this._isInvalid||!this._isRelative||(this._path=[],s.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(e){this._isInvalid||!this._isRelative||(this._query="?","?"==e[0]&&(e=e.slice(1)),s.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"==e[0]&&(e=e.slice(1)),s.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";}return e=this.host,e?this._scheme+"://"+e:""}};var g=e.URL;g&&(l.createObjectURL=function(){return g.createObjectURL.apply(g,arguments)},l.revokeObjectURL=function(e){g.revokeObjectURL(e)}),e.URL=l}}(self),"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,r=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};r.prototype={set:function(t,r){var a=t[this.name];return a&&a[0]===t?a[1]=r:e(t,this.name,{value:[t,r],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!!(t&&t[0]===e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=r}(),function(e){function t(e){b.push(e),v||(v=!0,_(a))}function r(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function a(){v=!1;var e=b;b=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var r=e.takeRecords();o(e),r.length&&(e.callback_(r,e),t=!0)}),t&&a()}function o(e){e.nodes_.forEach(function(t){var r=g.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function n(e,t){for(var r,a=e;a;a=a.parentNode)if(r=g.get(a),r)for(var o=0;o<r.length;o++){var n=r[o],s=n.options;if(a===e||s.subtree){var i=t(s);i&&n.enqueue(i)}}}function s(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++C}function i(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function l(e){var t=new i(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function d(e,t){return E=new i(e,t)}function c(e){return S?S:(S=l(E),S.oldValue=e,S)}function p(){E=S=void 0}function m(e){return e===S||e===E}function u(e,t){return e===t?e:S&&m(e)?S:null}function h(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var _,g=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))_=setTimeout;else if(window.setImmediate)_=window.setImmediate;else{var y=[],f=Math.random()+"";window.addEventListener("message",function(t){if(t.data===f){var e=y;y=[],e.forEach(function(e){e()})}}),_=function(e){y.push(e),window.postMessage(f,"*")}}var v=!1,b=[],C=0;s.prototype={observe:function(e,t){if(e=r(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var a=g.get(e);a||g.set(e,a=[]);for(var o,n=0;n<a.length;n++)if(a[n].observer===this){o=a[n],o.removeListeners(),o.options=t;break}o||(o=new h(this,e,t),a.push(o),this.nodes_.push(e)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t,r=g.get(e),a=0;a<r.length;a++)if(t=r[a],t.observer===this){t.removeListeners(),r.splice(a,1);break}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var E,S;h.prototype={enqueue:function(e){var r=this.observer.records_,a=r.length;if(0<r.length){var o=r[a-1],n=u(o,e);if(n)return void(r[a-1]=n)}else t(this.observer);r[a]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=g.get(e);t||g.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=g.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,r=t.relatedNode.namespaceURI,a=t.target,o=new d("attributes",a);o.attributeName=e,o.attributeNamespace=r;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;n(a,function(t){return t.attributes?t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(r)?void 0:t.attributeOldValue?c(s):o:void 0});break;case"DOMCharacterDataModified":var a=t.target,o=d("characterData",a),s=t.prevValue;n(a,function(e){return e.characterData?e.characterDataOldValue?c(s):o:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var i,l,m=t.target;"DOMNodeInserted"===t.type?(i=[m],l=[]):(i=[],l=[m]);var u=m.previousSibling,h=m.nextSibling,o=d("childList",t.target.parentNode);o.addedNodes=i,o.removedNodes=l,o.previousSibling=u,o.nextSibling=h,n(t.relatedNode,function(e){return e.childList?o:void 0});}p()}},e.JsMutationObserver=s,e.MutationObserver||(e.MutationObserver=s,s._isPolyfilled=!0)}}(self),function(){var e="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var r=document.createDocumentFragment();return r.appendChild(t),r}return t}}();var t=function(){if(!e){var r=document.createElement("template"),t=document.createElement("template");t.content.appendChild(document.createElement("div")),r.content.appendChild(t);var a=r.cloneNode(!0);return 0===a.content.childNodes.length||0===a.content.firstChild.content.childNodes.length}}(),r="template",a=function(){};if(e){function e(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":"\xA0"===e?"&nbsp;":void 0}function t(t){return t.replace(d,e)}var o=document.implementation.createHTMLDocument("template"),n=!0,s=document.createElement("style");s.textContent=r+"{display:none;}";var i=document.head;i.insertBefore(s,i.firstElementChild),a.prototype=Object.create(HTMLElement.prototype),a.decorate=function(e){if(!e.content){e.content=o.createDocumentFragment();for(var r;r=e.firstChild;)e.content.appendChild(r);if(e.cloneNode=function(e){return a.cloneNode(this,e)},n)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var r="",a=this.content.firstChild;a;a=a.nextSibling)r+=a.outerHTML||t(a.data);return r},set:function(e){for(o.body.innerHTML=e,a.bootstrap(o);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;o.body.firstChild;)this.content.appendChild(o.body.firstChild)},configurable:!0})}catch(e){n=!1}a.bootstrap(e.content)}},a.bootstrap=function(e){for(var o,t=e.querySelectorAll(r),n=0,s=t.length;n<s&&(o=t[n]);n++)a.decorate(o)},document.addEventListener("DOMContentLoaded",function(){a.bootstrap(document)});var l=document.createElement;document.createElement=function(){"use strict";var e=l.apply(document,arguments);return"template"===e.localName&&a.decorate(e),e};var d=/[&\u00A0<>]/g}if(e||t){var c=Node.prototype.cloneNode;a.cloneNode=function(e,t){var r=c.call(e,!1);return this.decorate&&this.decorate(r),t&&(r.content.appendChild(c.call(e.content,!0)),this.fixClonedDom(r.content,e.content)),r},a.fixClonedDom=function(e,a){if(a.querySelectorAll)for(var o,t,n=a.querySelectorAll(r),s=e.querySelectorAll(r),d=0,i=s.length;d<i;d++)t=n[d],o=s[d],this.decorate&&this.decorate(t),o.parentNode.replaceChild(t.cloneNode(!0),o)};var p=document.importNode;Node.prototype.cloneNode=function(e){var t=c.call(this,e);return e&&a.fixClonedDom(t,this),t},document.importNode=function(e,t){if(e.localName===r)return a.cloneNode(e,t);var o=p.call(document,e,t);return t&&a.fixClonedDom(o,e),o},t&&(HTMLTemplateElement.prototype.cloneNode=function(e){return a.cloneNode(this,e)})}e&&(window.HTMLTemplateElement=a)}(),function(){"use strict";if(!(window.performance&&window.performance.now)){var e=Date.now();window.performance={now:function(){return Date.now()-e}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}());var t=function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}();if(!t){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var a=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||a&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,r){r=r||{};var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,!!r.bubbles,!!r.cancelable,r.detail),a},window.CustomEvent.prototype=window.Event.prototype),!window.Event||a&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(t,r){r=r||{};var a=document.createEvent("Event");return a.initEvent(t,!!r.bubbles,!!r.cancelable),a},window.Event.prototype=o.prototype}}(window.WebComponents),window.HTMLImports=window.HTMLImports||{flags:{}},function(e){function t(e,t){t=t||p,a(function(){n(e,t)},t)}function r(e){return"complete"===e.readyState||e.readyState===h}function a(e,t){if(!r(t)){var o=function(){("complete"===t.readyState||t.readyState===h)&&(t.removeEventListener(_,o),a(e,t))};t.addEventListener(_,o)}else e&&e()}function o(e){e.target.__loaded=!0}function n(e,t){function r(){d==c&&e&&e({allImports:l,loadedImports:p,errorImports:m})}function a(t){o(t),p.push(this),d++,r()}function n(){m.push(this),d++,r()}var l=t.querySelectorAll("link[rel=import]"),d=0,c=l.length,p=[],m=[];if(c)for(var u,h=0;h<c&&(u=l[h]);h++)s(u)?(p.push(this),d++,r()):(u.addEventListener("load",a),u.addEventListener("error",n));else r()}function s(e){return l?e.__loaded||e.import&&"loading"!==e.import.readyState:e.__importParsed}var i="import",l=!!(i in document.createElement("link")),d=!!window.ShadowDOMPolyfill,c=function(e){return d?window.ShadowDOMPolyfill.wrapIfNeeded(e):e},p=c(document),m={get:function(){var e=window.HTMLImports.currentScript||document.currentScript||("complete"===document.readyState?null:document.scripts[document.scripts.length-1]);return c(e)},configurable:!0};Object.defineProperty(document,"_currentScript",m),Object.defineProperty(p,"_currentScript",m);var u=/Trident/.test(navigator.userAgent),h=u?"complete":"interactive",_="readystatechange";if(l){function e(e){for(var a,o=0,n=e.length;o<n&&(a=e[o]);o++)t(a)&&r(a)}function t(e){return"link"===e.localName&&"import"===e.rel}function r(e){var t=e.import;t?o({target:e}):(e.addEventListener("load",o),e.addEventListener("error",o))}new MutationObserver(function(t){for(var r,a=0,o=t.length;a<o&&(r=t[a]);a++)r.addedNodes&&e(r.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var e,t=document.querySelectorAll("link[rel=import]"),a=0,o=t.length;a<o&&(e=t[a]);a++)r(e)}()}t(function(e){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=new Date().getTime();var t=p.createEvent("CustomEvent");t.initCustomEvent("HTMLImportsLoaded",!0,!0,e),p.dispatchEvent(t)}),e.IMPORT_LINK_TYPE=i,e.useNative=l,e.rootDocument=p,e.whenReady=t,e.isIE=u}(window.HTMLImports),function(e){var t=[];e.addModule=function(e){t.push(e)},e.initializeModules=function(){t.forEach(function(t){t(e)})}}(window.HTMLImports),window.HTMLImports.addModule(function(e){var t=/(url\()([^)]*)(\))/g,a=/(@import[\s]+(?!url\())([^;]*)(;)/g;e.path={resolveUrlsInStyle:function(e,t){var r=e.ownerDocument,a=r.createElement("a");return e.textContent=this.resolveUrlsInCssText(e.textContent,t,a),e},resolveUrlsInCssText:function(e,o,n){var s=this.replaceUrls(e,n,o,t);return s=this.replaceUrls(s,n,o,a),s},replaceUrls:function(e,t,r,a){return e.replace(a,function(e,a,o,n){var s=o.replace(/["']/g,"");return r&&(s=new URL(s,r).href),t.href=s,s=t.href,a+"'"+s+"'"+n})}}}),window.HTMLImports.addModule(function(e){var t={async:!0,ok:function(e){return 200<=e.status&&300>e.status||304===e.status||0===e.status},load:function(r,a,o){var n=new XMLHttpRequest;return(e.flags.debug||e.flags.bust)&&(r+="?"+Math.random()),n.open("GET",r,t.async),n.addEventListener("readystatechange",function(){if(4===n.readyState){var e=null;try{var r=n.getResponseHeader("Location");r&&(e="/"===r.substr(0,1)?location.origin+r:r)}catch(t){console.error(t.message)}a.call(o,!t.ok(n)&&n,n.response||n.responseText,e)}}),n.send(),n},loadDocument:function(e,t,r){this.load(e,t,r).responseType="document"}};e.xhr=t}),window.HTMLImports.addModule(function(e){var t=e.xhr,r=e.flags,a=function(e,t){this.cache={},this.onload=e,this.oncomplete=t,this.inflight=0,this.pending={}};a.prototype={addNodes:function(e){this.inflight+=e.length;for(var t,r=0,a=e.length;r<a&&(t=e[r]);r++)this.require(t);this.checkDone()},addNode:function(e){this.inflight++,this.require(e),this.checkDone()},require:function(e){var t=e.src||e.href;e.__nodeUrl=t,this.dedupe(t,e)||this.fetch(t,e)},dedupe:function(e,t){if(this.pending[e])return this.pending[e].push(t),!0;return this.cache[e]?(this.onload(e,t,this.cache[e]),this.tail(),!0):(this.pending[e]=[t],!1)},fetch:function(e,a){if(r.load&&console.log("fetch",e,a),!e)setTimeout(function(){this.receive(e,a,{error:"href must be specified"},null)}.bind(this),0);else if(e.match(/^data:/)){var o=e.split(","),n=o[0],s=o[1];s=-1<n.indexOf(";base64")?atob(s):decodeURIComponent(s),setTimeout(function(){this.receive(e,a,null,s)}.bind(this),0)}else{var i=function(t,r,o){this.receive(e,a,t,r,o)}.bind(this);t.load(e,i)}},receive:function(e,t,r,a,o){this.cache[e]=a;for(var n,s=this.pending[e],d=0,i=s.length;d<i&&(n=s[d]);d++)this.onload(e,n,a,r,o),this.tail();this.pending[e]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},e.Loader=a}),window.HTMLImports.addModule(function(e){var t=function(e){this.addCallback=e,this.mo=new MutationObserver(this.handler.bind(this))};t.prototype={handler:function(e){for(var t,r=0,a=e.length;r<a&&(t=e[r]);r++)"childList"===t.type&&t.addedNodes.length&&this.addedNodes(t.addedNodes)},addedNodes:function(e){this.addCallback&&this.addCallback(e);for(var t,r=0,a=e.length;r<a&&(t=e[r]);r++)t.children&&t.children.length&&this.addedNodes(t.children)},observe:function(e){this.mo.observe(e,{childList:!0,subtree:!0})}},e.Observer=t}),window.HTMLImports.addModule(function(e){function t(e){return"link"===e.localName&&e.rel===c}function r(e){var t=a(e);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(t)}function a(e){return e.textContent+o(e)}function o(e){var t=e.ownerDocument;t.__importedScripts=t.__importedScripts||0;var r=e.ownerDocument.baseURI,a=t.__importedScripts?"-"+t.__importedScripts:"";return t.__importedScripts++,"\n//# sourceURL="+r+a+".js\n"}function n(e){var t=e.ownerDocument.createElement("style");return t.textContent=e.textContent,s.resolveUrlsInStyle(t),t}var s=e.path,i=e.rootDocument,l=e.flags,d=e.isIE,c=e.IMPORT_LINK_TYPE,p="link[rel="+c+"]",m={documentSelectors:p,importsSelectors:[p,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])","script[type=\"application/javascript\"]","script[type=\"text/javascript\"]"].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var e=this.nextToParse();e&&this.parse(e)},parse:function(e){if(this.isParsed(e))return void(l.parse&&console.log("[%s] is already parsed",e.localName));var t=this[this.map[e.localName]];t&&(this.markParsing(e),t.call(this,e))},parseDynamic:function(e,t){this.dynamicElements.push(e),t||this.parseNext()},markParsing:function(e){l.parse&&console.log("parsing",e),this.parsingElement=e},markParsingComplete:function(e){e.__importParsed=!0,this.markDynamicParsingComplete(e),e.__importElement&&(e.__importElement.__importParsed=!0,this.markDynamicParsingComplete(e.__importElement)),this.parsingElement=null,l.parse&&console.log("completed",e)},markDynamicParsingComplete:function(e){var t=this.dynamicElements.indexOf(e);0<=t&&this.dynamicElements.splice(t,1)},parseImport:function(e){if(e.import=e.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(e),e.import&&(e.import.__importParsed=!0),this.markParsingComplete(e),e.__resource&&!e.__error?e.dispatchEvent(new CustomEvent("load",{bubbles:!1})):e.dispatchEvent(new CustomEvent("error",{bubbles:!1})),e.__pending)for(var t;e.__pending.length;)t=e.__pending.shift(),t&&t({target:e});this.parseNext()},parseLink:function(e){t(e)?this.parseImport(e):(e.href=e.href,this.parseGeneric(e))},parseStyle:function(e){var t=e;e=n(e),t.__appliedElement=e,e.__importElement=t,this.parseGeneric(e)},parseGeneric:function(e){this.trackElement(e),this.addElementToDocument(e)},rootImportForElement:function(e){for(var t=e;t.ownerDocument.__importLink;)t=t.ownerDocument.__importLink;return t},addElementToDocument:function(e){var t=this.rootImportForElement(e.__importElement||e);t.parentNode.insertBefore(e,t)},trackElement:function(t,a){var o=this,n=function(r){t.removeEventListener("load",n),t.removeEventListener("error",n),a&&a(r),o.markParsingComplete(t),o.parseNext()};if(t.addEventListener("load",n),t.addEventListener("error",n),d&&"style"===t.localName){var e=!1;if(-1==t.textContent.indexOf("@import"))e=!0;else if(t.sheet){e=!0;for(var s,r=t.sheet.cssRules,l=r?r.length:0,c=0;c<l&&(s=r[c]);c++)s.type===CSSRule.IMPORT_RULE&&(e=e&&!!s.styleSheet)}e&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(t){var a=document.createElement("script");a.__importElement=t,a.src=t.src?t.src:r(t),e.currentScript=t,this.trackElement(a,function(){a.parentNode&&a.parentNode.removeChild(a),e.currentScript=null}),this.addElementToDocument(a)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(i)||this.nextToParseDynamic())},nextToParseInDoc:function(e,r){if(e&&0>this._mayParse.indexOf(e)){this._mayParse.push(e);for(var a,o=e.querySelectorAll(this.parseSelectorsForNode(e)),n=0,s=o.length;n<s&&(a=o[n]);n++)if(!this.isParsed(a))return this.hasResource(a)?t(a)?this.nextToParseInDoc(a.__doc,a):a:void 0}return r},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===i?this.documentSelectors:this.importsSelectors},isParsed:function(e){return e.__importParsed},needsDynamicParsing:function(e){return 0<=this.dynamicElements.indexOf(e)},hasResource:function(e){return!(t(e)&&void 0===e.__doc)}};e.parser=m,e.IMPORT_SELECTOR=p}),window.HTMLImports.addModule(function(e){function t(e){return r(e,s)}function r(e,t){return"link"===e.localName&&e.getAttribute("rel")===t}function a(e){return!!Object.getOwnPropertyDescriptor(e,"baseURI")}function o(e,t){var r=document.implementation.createHTMLDocument(s);r._URL=t;var o=r.createElement("base");o.setAttribute("href",t),r.baseURI||a(r)||Object.defineProperty(r,"baseURI",{value:t});var n=r.createElement("meta");return n.setAttribute("charset","utf-8"),r.head.appendChild(n),r.head.appendChild(o),r.body.innerHTML=e,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(r),r}var n=e.flags,s=e.IMPORT_LINK_TYPE,i=e.IMPORT_SELECTOR,l=e.rootDocument,d=e.Loader,c=e.Observer,p=e.parser,m={documents:{},documentPreloadSelectors:i,importsPreloadSelectors:[i].join(","),loadNode:function(e){u.addNode(e)},loadSubtree:function(e){var t=this.marshalNodes(e);u.addNodes(t)},marshalNodes:function(e){return e.querySelectorAll(this.loadSelectorsForNode(e))},loadSelectorsForNode:function(e){var t=e.ownerDocument||e;return t===l?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(e,r,a,s,i){if(n.load&&console.log("loaded",e,r),r.__resource=a,r.__error=s,t(r)){var l=this.documents[e];void 0===l&&(l=s?null:o(a,i||e),l&&(l.__importLink=r,this.bootDocument(l)),this.documents[e]=l),r.__doc=l}p.parseNext()},bootDocument:function(e){this.loadSubtree(e),this.observer.observe(e),p.parseNext()},loadedAll:function(){p.parseNext()}},u=new d(m.loaded.bind(m),m.loadedAll.bind(m));if(m.observer=new c,!document.baseURI){var h={get:function(){var e=document.querySelector("base");return e?e.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",h),Object.defineProperty(l,"baseURI",h)}e.importer=m,e.importLoader=u}),window.HTMLImports.addModule(function(e){var t=e.parser,r=e.importer,a={added:function(e){for(var a,o,s,d,n=0,i=e.length;n<i&&(d=e[n]);n++)a||(a=d.ownerDocument,o=t.isParsed(a)),s=this.shouldLoadNode(d),s&&r.loadNode(d),this.shouldParseNode(d)&&o&&t.parseDynamic(d,s)},shouldLoadNode:function(e){return 1===e.nodeType&&o.call(e,r.loadSelectorsForNode(e))},shouldParseNode:function(e){return 1===e.nodeType&&o.call(e,t.parseSelectorsForNode(e))}};r.observer.addCallback=a.added.bind(a);var o=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(e){function t(){window.HTMLImports.importer.bootDocument(o)}var r=e.initializeModules,a=e.isIE;if(!e.useNative){r();var o=e.rootDocument;"complete"!==document.readyState&&("interactive"!==document.readyState||window.attachEvent)?document.addEventListener("DOMContentLoaded",t):t()}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,r=[];e.addModule=function(e){r.push(e)},e.initializeModules=function(){r.forEach(function(t){t(e)})},e.hasNative=!!document.registerElement,e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){r(e,function(r){return!!t(r)||void a(r,t)}),a(e,t)}function r(t,a,o){var n=t.firstElementChild;if(!n)for(n=t.firstChild;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.nextSibling;for(;n;)!0!==a(n,o)&&r(n,a,o),n=n.nextElementSibling;return null}function a(e,r){for(var a=e.shadowRoot;a;)t(a,r),a=a.olderShadowRoot}function o(e,t,r){if(e=window.wrap(e),!(0<=r.indexOf(e))){r.push(e);for(var a,n=e.querySelectorAll("link[rel="+s+"]"),d=0,i=n.length;d<i&&(a=n[d]);d++)a.import&&o(a.import,t,r);t(e)}}var s=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=function(e,t){o(e,t,[])},e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e,t){return r(e,t)||a(e,t)}function r(t,r){return!!e.upgrade(t,r)||void(r&&s(t))}function a(e,t){g(e,function(a){if(r(a,t))return!0})}function o(e){b.push(e),v||(v=!0,setTimeout(n))}function n(){v=!1;for(var e,t=b,r=0,a=t.length;r<a&&(e=t[r]);r++)e();b=[]}function s(e){f?o(function(){i(e)}):i(e)}function i(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function l(e){d(e),g(e,function(t){d(t)})}function d(e){f?o(function(){c(e)}):c(e)}function c(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function p(e){for(var t=e,r=window.wrap(document);t;){if(t==r)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function m(e,r){if(_.dom){var a=r[0];if(a&&"childList"===a.type&&a.addedNodes&&a.addedNodes){for(var o=a.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var n=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";n=n.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",r.length,n||"")}var s=p(e);r.forEach(function(e){"childList"===e.type&&(C(e.addedNodes,function(e){e.localName&&t(e,s)}),C(e.removedNodes,function(e){e.localName&&l(e)}))}),_.dom&&console.groupEnd()}function u(e){if(!e.__observer){var t=new MutationObserver(m.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function h(e){e=window.wrap(e),_.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop());var r=e===window.wrap(document);t(e,r),u(e),_.dom&&console.groupEnd()}var _=e.flags,g=e.forSubtree,y=e.forDocumentTree,f=window.MutationObserver._isPolyfilled&&_["throttle-attached"];e.hasPolyfillMutations=f,e.hasThrottledAttached=f;var v=!1,b=[],C=Array.prototype.forEach.call.bind(Array.prototype.forEach),E=Element.prototype.createShadowRoot;E&&(Element.prototype.createShadowRoot=function(){var e=E.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){_.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)u(t),t=t.olderShadowRoot}},e.upgradeDocumentTree=function(e){y(e,h)},e.upgradeDocument=h,e.upgradeSubtree=a,e.upgradeAll=t,e.attached=s,e.takeRecords=function(e){for(e=window.wrap(e),e||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(m(e,t.takeRecords()),n())}}),window.CustomElements.addModule(function(e){function t(t,a,s){return n.upgrade&&console.group("upgrade:",t.localName),a.is&&t.setAttribute("is",a.is),r(t,a),t.__upgraded__=!0,o(t),s&&e.attached(t),e.upgradeSubtree(t,s),n.upgrade&&console.groupEnd(),t}function r(e,t){Object.__proto__?e.__proto__=t.prototype:(a(e,t.prototype,t.native),e.__proto__=t.prototype)}function a(e,t,r){for(var a={},o=t;o!==r&&o!==HTMLElement.prototype;){for(var n,s=Object.getOwnPropertyNames(o),l=0;n=s[l];l++)a[n]||(Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n)),a[n]=1);o=Object.getPrototypeOf(o)}}function o(e){e.createdCallback&&e.createdCallback()}var n=e.flags;e.upgrade=function(r,a){if("template"===r.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(r),!r.__upgraded__&&r.nodeType===Node.ELEMENT_NODE){var o=r.getAttribute("is"),n=e.getRegisteredDefinition(r.localName)||e.getRegisteredDefinition(o);if(n&&(o&&n.tag==r.localName||!o&&!n.extends))return t(r,n,a)}},e.upgradeWithDefinition=t,e.implementPrototype=r}),window.CustomElements.addModule(function(e){function t(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,a){r.call(this,e,a,t)};var a=e.removeAttribute;e.removeAttribute=function(e){r.call(this,e,null,a)},e.setAttribute._polyfilled=!0}}function r(e,t,r){e=e.toLowerCase();var a=this.getAttribute(e);r.apply(this,arguments);var o=this.getAttribute(e);this.attributeChangedCallback&&o!==a&&this.attributeChangedCallback(e,a,o)}function a(e){for(var t=0;t<b.length;t++)if(e===b[t])return!0}function o(e){var t=l(e);return t?o(t.extends).concat([t]):[]}function n(e){for(var t,r=e.extends,a=0;t=e.ancestry[a];a++)r=t.is&&t.tag;e.tag=r||e.__name,r&&(e.is=e.__name)}function s(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var r=document.createElement(e.tag);t=Object.getPrototypeOf(r)}for(var a,o=e.prototype,n=!1;o;)o==t&&(n=!0),a=Object.getPrototypeOf(o),a&&(o.__proto__=a),o=a;n||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}function i(e){return y(E(e.tag),e)}function l(e){if(e)return C[e.toLowerCase()]}function d(e,t){C[e]=t}function c(e){return function(){return i(e)}}function p(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var r=l(t||e);if(r){if(e==r.tag&&t==r.is)return new r.ctor;if(!t&&!r.is)return new r.ctor}var a;return t?(a=p(e),a.setAttribute("is",t),a):(a=E(e),0<=e.indexOf("-")&&f(a,HTMLElement),a)}function m(e,t){var r=e[t];e[t]=function(){var e=r.apply(this,arguments);return g(e),e}}var u,h=e.isIE,_=e.upgradeDocumentTree,g=e.upgradeAll,y=e.upgradeWithDefinition,f=e.implementPrototype,v=e.useNative,b=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],C={},E=document.createElement.bind(document),S=document.createElementNS.bind(document);u=Object.__proto__||v?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var r=e;r;){if(r===t.prototype)return!0;r=r.__proto__}return!1},m(Node.prototype,"cloneNode"),m(document,"importNode"),document.registerElement=function(r,i){var p=i||{};if(!r)throw new Error("document.registerElement: first argument `name` must not be empty");if(0>r.indexOf("-"))throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+(r+"'."));if(a(r))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+(r+"'. The type name is invalid."));if(l(r))throw new Error("DuplicateDefinitionError: a type with name '"+(r+"' is already registered"));return p.prototype||(p.prototype=Object.create(HTMLElement.prototype)),p.__name=r.toLowerCase(),p.extends&&(p.extends=p.extends.toLowerCase()),p.lifecycle=p.lifecycle||{},p.ancestry=o(p.extends),n(p),s(p),t(p.prototype),d(p.__name,p),p.ctor=c(p),p.ctor.prototype=p.prototype,p.prototype.constructor=p.ctor,e.ready&&_(document),p.ctor},document.createElement=p,document.createElementNS=function(e,t,r){return e==="http://www.w3.org/1999/xhtml"?p(t,r):S(e,t)},e.registry=C,e.instanceof=u,e.reservedTagList=b,e.getRegisteredDefinition=l,document.register=document.registerElement}),function(e){function t(){s(window.wrap(document)),window.CustomElements.ready=!0;var e=window.requestAnimationFrame||function(e){setTimeout(e,16)};e(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var r=e.useNative,a=e.initializeModules,o=e.isIE;if(r){var n=function(){};e.watchShadow=n,e.upgrade=n,e.upgradeAll=n,e.upgradeDocumentTree=n,e.upgradeSubtree=n,e.takeRecords=n,e.instanceof=function(e,t){return e instanceof t}}else a();var s=e.upgradeDocumentTree,i=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&i(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"===document.readyState&&!window.attachEvent&&(!window.HTMLImports||window.HTMLImports.ready))t();else{var l=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(l,t)}}(window.CustomElements),function(){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var t=document.querySelector("head");t.insertBefore(e,t.firstChild)}(window.WebComponents)},{}],4:[function(e,t){"use strict";function r(){return cast.framework.CastContext.getInstance()}var a,o=e("class.extend"),n=e("underscore"),s=!1;a=o.extend({init:function(e){this.player=e,this._addCastContextEventListeners(),this.player.on("dispose",this._removeCastContextEventListeners.bind(this)),this._notifyPlayerOfDevicesAvailabilityChange(this.getCastContext().getCastState()),this.remotePlayer=new cast.framework.RemotePlayer,this.remotePlayerController=new cast.framework.RemotePlayerController(this.remotePlayer)},_addCastContextEventListeners:function(){var e=cast.framework.CastContextEventType.SESSION_STATE_CHANGED,t=cast.framework.CastContextEventType.CAST_STATE_CHANGED;this.getCastContext().addEventListener(e,this._onSessionStateChange.bind(this)),this.getCastContext().addEventListener(t,this._onCastStateChange.bind(this))},_removeCastContextEventListeners:function(){var e=cast.framework.CastContextEventType.SESSION_STATE_CHANGED,t=cast.framework.CastContextEventType.CAST_STATE_CHANGED;this.getCastContext().removeEventListener(e),this.getCastContext().removeEventListener(t)},_onSessionStateChange:function(e){e.sessionState===cast.framework.SessionState.SESSION_ENDED&&(this.player.trigger("chromecastDisconnected"),this._reloadTech())},_onCastStateChange:function(e){this._notifyPlayerOfDevicesAvailabilityChange(e.castState)},_notifyPlayerOfDevicesAvailabilityChange:function(e){this.hasAvailableDevices(e)?this.player.trigger("chromecastDevicesAvailable"):this.player.trigger("chromecastDevicesUnavailable")},hasAvailableDevices:function(e){return e=e||this.getCastContext().getCastState(),e===cast.framework.CastState.NOT_CONNECTED||e===cast.framework.CastState.CONNECTING||e===cast.framework.CastState.CONNECTED},openCastMenu:function(){var e;this.player.currentSource()&&(e=function(){s=!0,this.player.trigger("chromecastConnected"),this._reloadTech()}.bind(this),this.getCastContext().requestSession().then(e,n.noop))},_reloadTech:function(){var e=this.player,t=e.currentTime(),r=e.paused(),a=e.currentSources();e.src(a),e.ready(function(){r?e.pause():e.play(),e.currentTime(t||0)})},getCastContext:r,getRemotePlayer:function(){return this.remotePlayer},getRemotePlayerController:function(){return this.remotePlayerController}}),a.isChromecastAPIAvailable=function(){return window.chrome&&window.chrome.cast&&window.cast},a.isChromecastConnected=function(){return a.isChromecastAPIAvailable()&&r().getCastState()===cast.framework.CastState.CONNECTED&&s},t.exports=a},{"class.extend":1,underscore:2}],5:[function(e,t){"use strict";var r,a=videojs.getComponent("Button");r={constructor:function(e,t){a.call(this,e,t),e.on("chromecastConnected",this._onChromecastConnected.bind(this)),e.on("chromecastDisconnected",this._onChromecastDisconnected.bind(this)),e.on("chromecastDevicesAvailable",this._onChromecastDevicesAvailable.bind(this)),e.on("chromecastDevicesUnavailable",this._onChromecastDevicesUnavailable.bind(this)),this.controlText("Open Chromecast menu"),e.chromecastSessionManager&&e.chromecastSessionManager.hasAvailableDevices()?this._onChromecastDevicesAvailable():this._onChromecastDevicesUnavailable()},buildCSSClass:function(){return"vjs-chromecast-button "+(this._isChromecastConnected?"vjs-chromecast-casting-state ":"")+a.prototype.buildCSSClass.call(this)},handleClick:function(){this.player().trigger("chromecastRequested")},_onChromecastConnected:function(){this._isChromecastConnected=!0,this._reloadCSSClasses()},_onChromecastDisconnected:function(){this._isChromecastConnected=!1,this._reloadCSSClasses()},_onChromecastDevicesAvailable:function(){this.show()},_onChromecastDevicesUnavailable:function(){this.hide()},_reloadCSSClasses:function(){this.el_&&(this.el_.className=this.buildCSSClass())}},t.exports=function(e){var t;t=e.extend(a,r),e.registerComponent("chromecastButton",t)}},{}],6:[function(e,t){"use strict";function r(e){var t=cast.framework.CastContext.getInstance();t.setOptions({receiverApplicationId:e.receiverAppID||chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED})}function a(e){e.chromecastSessionManager.openCastMenu()}function o(e,t){var r;t.addButtonToControlBar&&!e.controlBar.getChild("chromecastButton")&&(r=e.controlBar.children().length,"undefined"!=typeof t.buttonPositionIndex&&(r=0<=t.buttonPositionIndex?t.buttonPositionIndex:e.controlBar.children().length+t.buttonPositionIndex),e.controlBar.addChild("chromecastButton",t,r)),e.on("chromecastRequested",a.bind(null,e))}function n(e){e.chromecastSessionManager||(e.chromecastSessionManager=new l(e))}function s(e,t){r(t),n(e),o(e,t)}function i(e,t){var r,a=1;r=setInterval(function(){return a>p/c?void clearInterval(r):void(l.isChromecastAPIAvailable()&&(clearInterval(r),s(e,t)),++a)},c)}var l=e("./chromecast/ChromecastSessionManager"),d=e("underscore"),c=1e3,p=30000;t.exports=function(e){e.registerPlugin("chromecast",function(e){var t=d.extend({addButtonToControlBar:!0},e||{});this.ready(function(){this.controlBar&&(l.isChromecastAPIAvailable()?s(this,t):i(this,t))}.bind(this))})}},{"./chromecast/ChromecastSessionManager":4,underscore:2}],7:[function(e,t){"use strict";var r=e("underscore"),a=e("./preloadWebComponents"),o=e("./components/ChromecastButton"),n=e("./tech/ChromecastTech"),s=e("./enableChromecast");t.exports=function(e,t){var i=r.defaults(r.extend({},t),{preloadWebComponents:!1});i.preloadWebComponents&&a(),e=e||window.videojs,o(e),n(e),s(e)}},{"./components/ChromecastButton":5,"./enableChromecast":6,"./preloadWebComponents":8,"./tech/ChromecastTech":10,underscore:2}],8:[function(e,t){"use strict";function r(e){return a.isString(window.navigator.userAgent)&&0<=window.navigator.userAgent.indexOf(e)}var a=e("underscore");t.exports=function(){var t,a=!document.registerElement,o=r("CriOS");t=r("Android")&&r("Chrome/")&&window.navigator.presentation,(t||o)&&a&&e("webcomponents.js/webcomponents-lite.js")}},{underscore:2,"webcomponents.js/webcomponents-lite.js":3}],9:[function(e){"use strict";e("./index")(void 0,window.SILVERMINE_VIDEOJS_CHROMECAST_CONFIG)},{"./index":7}],10:[function(e,t){"use strict";var r,a=e("../chromecast/ChromecastSessionManager"),o=e("./ChromecastTechUI"),n=e("underscore"),s=videojs.getComponent("Tech"),r={constructor:function(e){var t;return this._eventListeners=[],this.videojsPlayer=this.videojs(e.playerId),this._chromecastSessionManager=this.videojsPlayer.chromecastSessionManager,this._ui=new o,this._ui.updatePoster(this.videojsPlayer.poster()),t=s.call(this,arguments),this._remotePlayer=this._chromecastSessionManager.getRemotePlayer(),this._remotePlayerController=this._chromecastSessionManager.getRemotePlayerController(),this._listenToPlayerControllerEvents(),this.on("dispose",this._removeAllEventListeners.bind(this)),this._hasPlayedAnyItem=!1,this._requestTitle=e.requestTitleFn||n.noop,this._requestSubtitle=e.requestSubtitleFn||n.noop,this._requestCustomData=e.requestCustomDataFn||n.noop,this._initialStartTime=e.startTime||0,this._playSource(e.source,this._initialStartTime),this.ready(function(){this.setMuted(e.muted)}.bind(this)),t.name_="ChromecastSender",t},createEl:function(){return this._ui.getDOMElement()},play:function(){this.paused()&&(this.ended()&&!this._isMediaLoading?this._playSource({src:this.videojsPlayer.src()},0):this._remotePlayerController.playOrPause())},pause:function(){!this.paused()&&this._remotePlayer.canPause&&this._remotePlayerController.playOrPause()},paused:function(){return this._remotePlayer.isPaused||this.ended()||null===this._remotePlayer.playerState},setSource:function(e){this._currentSource&&this._currentSource.src===e.src&&this._currentSource.type===e.type||(this._currentSource=e,this._playSource(e,0))},_playSource:function(e,t){var r,a=this._getCastSession(),o=new chrome.cast.media.MediaInfo(e.src,e.type),n=this._requestTitle(e),s=this._requestSubtitle(e),i=this._requestCustomData(e);this.trigger("waiting"),this._clearSessionTimeout(),o.metadata=new chrome.cast.media.GenericMediaMetadata,o.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,o.metadata.title=n,o.metadata.subtitle=s,i&&(o.customData=i),this._ui.updateTitle(n),this._ui.updateSubtitle(s),r=new chrome.cast.media.LoadRequest(o),r.autoplay=!0,r.currentTime=t,this._isMediaLoading=!0,this._hasPlayedCurrentItem=!1,a.loadMedia(r).then(function(){this._hasPlayedAnyItem||this.triggerReady(),this.trigger("loadstart"),this.trigger("loadeddata"),this.trigger("play"),this.trigger("playing"),this._hasPlayedAnyItem=!0,this._isMediaLoading=!1}.bind(this),this._triggerErrorEvent.bind(this))},setCurrentTime:function(e){var t=this.duration();e>t||!this._remotePlayer.canSeek||(this._remotePlayer.currentTime=Math.min(t-1,e),this._remotePlayerController.seek(),this._triggerTimeUpdateEvent())},currentTime:function(){return this._hasPlayedAnyItem?this._remotePlayer.currentTime:this._initialStartTime},duration:function(){return this._hasPlayedAnyItem?this._remotePlayer.duration:this.videojsPlayer.duration()},ended:function(){var e=this._getMediaSession();return!!e&&e.idleReason===chrome.cast.media.IdleReason.FINISHED},volume:function(){return this._remotePlayer.volumeLevel},setVolume:function(e){this._remotePlayer.volumeLevel=e,this._remotePlayerController.setVolumeLevel(),this._triggerVolumeChangeEvent()},muted:function(){return this._remotePlayer.isMuted},setMuted:function(e){(this._remotePlayer.isMuted&&!e||!this._remotePlayer.isMuted&&e)&&this._remotePlayerController.muteOrUnmute()},poster:function(){return this._ui.getPoster()},setPoster:function(e){this._ui.updatePoster(e)},buffered:function(){},seekable:function(){return this.videojs.createTimeRange(0,this.duration())},controls:function(){return!1},playsinline:function(){return!0},supportsFullScreen:function(){return!0},setAutoplay:function(){},playbackRate:function(){var e=this._getMediaSession();return e?e.playbackRate:1},setPlaybackRate:function(){},load:function(){},readyState:function(){return"IDLE"===this._remotePlayer.playerState||"BUFFERING"===this._remotePlayer.playerState?0:4},_listenToPlayerControllerEvents:function(){var e=cast.framework.RemotePlayerEventType;this._addEventListener(this._remotePlayerController,e.PLAYER_STATE_CHANGED,this._onPlayerStateChanged,this),this._addEventListener(this._remotePlayerController,e.VOLUME_LEVEL_CHANGED,this._triggerVolumeChangeEvent,this),this._addEventListener(this._remotePlayerController,e.IS_MUTED_CHANGED,this._triggerVolumeChangeEvent,this),this._addEventListener(this._remotePlayerController,e.CURRENT_TIME_CHANGED,this._triggerTimeUpdateEvent,this),this._addEventListener(this._remotePlayerController,e.DURATION_CHANGED,this._triggerDurationChangeEvent,this)},_addEventListener:function(e,t,r,a){var o;o={target:e,type:t,callback:r,context:a,listener:r.bind(a)},e.addEventListener(t,o.listener),this._eventListeners.push(o)},_removeAllEventListeners:function(){for(;0<this._eventListeners.length;)this._removeEventListener(this._eventListeners[0]);this._eventListeners=[]},_removeEventListener:function(e){var t;e.target.removeEventListener(e.type,e.listener),t=n.findIndex(this._eventListeners,function(t){return t.target===e.target&&t.type===e.type&&t.callback===e.callback&&t.context===e.context}),-1!==t&&this._eventListeners.splice(t,1)},_onPlayerStateChanged:function(){var e=chrome.cast.media.PlayerState,t=this._remotePlayer.playerState;t===e.PLAYING?(this._hasPlayedCurrentItem=!0,this.trigger("play"),this.trigger("playing")):t===e.PAUSED?this.trigger("pause"):t===e.IDLE&&this.ended()||null===t&&this._hasPlayedCurrentItem?(this._hasPlayedCurrentItem=!1,this._closeSessionOnTimeout(),this.trigger("ended"),this._triggerTimeUpdateEvent()):t===e.BUFFERING&&this.trigger("waiting")},_closeSessionOnTimeout:function(){this._clearSessionTimeout(),this._sessionTimeoutID=setTimeout(function(){var e=this._getCastSession();e&&e.endSession(!0),this._clearSessionTimeout()}.bind(this),10000)},_clearSessionTimeout:function(){this._sessionTimeoutID&&(clearTimeout(this._sessionTimeoutID),this._sessionTimeoutID=!1)},_getCastContext:function(){return this._chromecastSessionManager.getCastContext()},_getCastSession:function(){return this._getCastContext().getCurrentSession()},_getMediaSession:function(){var e=this._getCastSession();return e?e.getMediaSession():null},_triggerVolumeChangeEvent:function(){this.trigger("volumechange")},_triggerTimeUpdateEvent:function(){this.trigger("timeupdate")},_triggerDurationChangeEvent:function(){this.trigger("durationchange")},_triggerErrorEvent:function(){this.trigger("error")}};t.exports=function(e){var t;t=e.extend(s,r),t.canPlaySource=a.isChromecastConnected.bind(a),t.isSupported=a.isChromecastConnected.bind(a),t.prototype.featuresVolumeControl=!0,t.prototype.featuresPlaybackRate=!1,t.prototype.movingMediaElementInDOM=!1,t.prototype.featuresFullscreenResize=!0,t.prototype.featuresTimeupdateEvents=!0,t.prototype.featuresProgressEvents=!1,t.prototype.featuresNativeTextTracks=!1,t.prototype.featuresNativeAudioTracks=!1,t.prototype.featuresNativeVideoTracks=!1,t.prototype.videojs=e,e.registerTech("chromecast",t)}},{"../chromecast/ChromecastSessionManager":4,"./ChromecastTechUI":11,underscore:2}],11:[function(e,t){"use strict";var r,a=e("class.extend");r=a.extend({init:function(){this._el=this._createDOMElement()},_createDOMElement:function(){var e=this._createElement("div","vjs-tech vjs-tech-chromecast"),t=this._createElement("div","vjs-tech-chromecast-poster"),r=this._createElement("img","vjs-tech-chromecast-poster-img"),a=this._createElement("div","vjs-tech-chromecast-title"),o=this._createElement("div","vjs-tech-chromecast-subtitle"),n=this._createElement("div","vjs-tech-chromecast-title-container");return t.appendChild(r),n.appendChild(a),n.appendChild(o),e.appendChild(n),e.appendChild(t),e},_createElement:function(e,t){var r=document.createElement(e);return r.className=t,r},getDOMElement:function(){return this._el},_findPosterEl:function(){return this._el.querySelector(".vjs-tech-chromecast-poster")},_findPosterImageEl:function(){return this._el.querySelector(".vjs-tech-chromecast-poster-img")},_findTitleEl:function(){return this._el.querySelector(".vjs-tech-chromecast-title")},_findSubtitleEl:function(){return this._el.querySelector(".vjs-tech-chromecast-subtitle")},updatePoster:function(e){var t=this._findPosterImageEl();this._poster=e?e:null,e?(t.setAttribute("src",e),t.classList.remove("vjs-tech-chromecast-poster-img-empty")):(t.removeAttribute("src"),t.classList.add("vjs-tech-chromecast-poster-img-empty"))},getPoster:function(){return this._poster},updateTitle:function(e){var t=this._findTitleEl();this._title=e,e?(t.innerHTML=e,t.classList.remove("vjs-tech-chromecast-title-empty")):t.classList.add("vjs-tech-chromecast-title-empty")},updateSubtitle:function(e){var t=this._findSubtitleEl();this._subtitle=e,e?(t.innerHTML=e,t.classList.remove("vjs-tech-chromecast-subtitle-empty")):t.classList.add("vjs-tech-chromecast-subtitle-empty")}}),t.exports=r},{"class.extend":1}]},{},[9]);