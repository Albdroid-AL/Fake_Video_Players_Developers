/*! @name videojs-pip @version 0.0.1 @license Apache-2.0 */
"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsPipPlugin=t(e.videojs)}(this,function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},n=function(n){function r(o,u){t(this,r);var c=i(this,n.call(this,o)),s=e.getComponent("Button"),l=e.extend(s,{constructor:function(e,t){s.call(this,e,t),this.addClass("vjs-picture-in-picture-control"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],this.handlePictureInPictureChange),document.pictureInPictureEnabled&&!e.el().querySelector("video").disablePictureInPicture||this.disable()},handlePictureInPictureChange:function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},handleClick:function(){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}});return r.prototype.controlText_="Picture-in-Picture",e.registerComponent("VideoJsPipButton",l),c.options=e.mergeOptions({},u),c.player.ready(function(){c.player.one("loadedmetadata",function(e){c.player.controlBar.addChild("VideoJsPipButton")}),c.player.one("emptied",function(e){this.player().removeChild("VideoJsPipButton")})}),c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(e.getPlugin("plugin"));return n.VERSION="0.0.1",e.registerPlugin("pip",n),n});
