/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/shaka-player/dist/shaka-player.compiled.js":
/*!*****************************************************************!*\
  !*** ./node_modules/shaka-player/dist/shaka-player.compiled.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {/*\n @license\n Shaka Player\n Copyright 2016 Google LLC\n SPDX-License-Identifier: Apache-2.0\n*/\n(function(){var innerGlobal=typeof window!=\"undefined\"?window:global;var exportTo={};(function(window,global,module){/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar p;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};\nfunction ca(a){a=[\"object\"==typeof globalThis&&globalThis,a,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error(\"Cannot find global object\");}var da=ca(this);function ea(a,b){if(b){for(var c=da,d=a.split(\".\"),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&ba(c,d,{configurable:!0,writable:!0,value:f})}}\nea(\"Symbol\",function(a){function b(e){if(this instanceof b)throw new TypeError(\"Symbol is not a constructor\");return new c(\"jscomp_symbol_\"+(e||\"\")+\"_\"+d++,e)}function c(e,f){this.a=e;ba(this,\"description\",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.a};var d=0;return b});\nea(\"Symbol.iterator\",function(a){if(a)return a;a=Symbol(\"Symbol.iterator\");for(var b=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),c=0;c<b.length;c++){var d=da[b[c]];\"function\"===typeof d&&\"function\"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return fa(aa(this))}})}return a});function fa(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}\nfunction q(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ha(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ia=\"function\"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ja;\nif(\"function\"==typeof Object.setPrototypeOf)ja=Object.setPrototypeOf;else{var la;a:{var ma={Wd:!0},na={};try{na.__proto__=ma;la=na.Wd;break a}catch(a){}la=!1}ja=la?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+\" is not extensible\");return a}:null}var oa=ja;\nfunction pa(a,b){a.prototype=ia(b.prototype);a.prototype.constructor=a;if(oa)oa(a,b);else for(var c in b)if(\"prototype\"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}function qa(){this.j=!1;this.g=null;this.b=void 0;this.a=1;this.f=this.h=0;this.v=this.c=null}function ra(a){if(a.j)throw new TypeError(\"Generator is already running\");a.j=!0}qa.prototype.m=function(a){this.b=a};function sa(a,b){a.c={vd:b,Bd:!0};a.a=a.h||a.f}\nqa.prototype[\"return\"]=function(a){this.c={\"return\":a};this.a=this.f};function t(a,b,c){a.a=c;return{value:b}}qa.prototype.u=function(a){this.a=a};function w(a){a.a=0}function x(a,b,c){a.h=b;void 0!=c&&(a.f=c)}function ta(a){a.h=0;a.f=2}function ua(a,b){a.a=b;a.h=0}function C(a){a.h=0;var b=a.c.vd;a.c=null;return b}function va(a){a.v=[a.c];a.h=0;a.f=0}function wa(a,b){var c=a.v.splice(0)[0];(c=a.c=a.c||c)?c.Bd?a.a=a.h||a.f:void 0!=c.u&&a.f<c.u?(a.a=c.u,a.c=null):a.a=a.f:a.a=b}\nfunction xa(a){this.a=new qa;this.b=a}function ya(a,b){ra(a.a);var c=a.a.g;if(c)return Ba(a,\"return\"in c?c[\"return\"]:function(d){return{value:d,done:!0}},b,a.a[\"return\"]);a.a[\"return\"](b);return Da(a)}function Ba(a,b,c,d){try{var e=b.call(a.a.g,c);if(!(e instanceof Object))throw new TypeError(\"Iterator result \"+e+\" is not an object\");if(!e.done)return a.a.j=!1,e;var f=e.value}catch(g){return a.a.g=null,sa(a.a,g),Da(a)}a.a.g=null;d.call(a.a,f);return Da(a)}\nfunction Da(a){for(;a.a.a;)try{var b=a.b(a.a);if(b)return a.a.j=!1,{value:b.value,done:!1}}catch(c){a.a.b=void 0,sa(a.a,c)}a.a.j=!1;if(a.a.c){b=a.a.c;a.a.c=null;if(b.Bd)throw b.vd;return{value:b[\"return\"],done:!0}}return{value:void 0,done:!0}}\nfunction Ea(a){this.next=function(b){ra(a.a);a.a.g?b=Ba(a,a.a.g.next,b,a.a.m):(a.a.m(b),b=Da(a));return b};this[\"throw\"]=function(b){ra(a.a);a.a.g?b=Ba(a,a.a.g[\"throw\"],b,a.a.m):(sa(a.a,b),b=Da(a));return b};this[\"return\"]=function(b){return ya(a,b)};this[Symbol.iterator]=function(){return this}}function Fa(a,b){var c=new Ea(new xa(b));oa&&oa(c,a.prototype);return c}\nea(\"Promise\",function(a){function b(g){this.b=0;this.g=void 0;this.a=[];var h=this.c();try{g(h.resolve,h.reject)}catch(k){h.reject(k)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.b=function(g){if(null==this.a){this.a=[];var h=this;this.c(function(){h.g()})}this.a.push(g)};var e=da.setTimeout;c.prototype.c=function(g){e(g,0)};c.prototype.g=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var k=\ng[h];g[h]=null;try{k()}catch(l){this.f(l)}}}this.a=null};c.prototype.f=function(g){this.c(function(){throw g;})};b.prototype.c=function(){function g(l){return function(m){k||(k=!0,l.call(h,m))}}var h=this,k=!1;return{resolve:g(this.w),reject:g(this.f)}};b.prototype.w=function(g){if(g===this)this.f(new TypeError(\"A Promise cannot resolve to itself\"));else if(g instanceof b)this.C(g);else{a:switch(typeof g){case \"object\":var h=null!=g;break a;case \"function\":h=!0;break a;default:h=!1}h?this.v(g):this.h(g)}};\nb.prototype.v=function(g){var h=void 0;try{h=g.then}catch(k){this.f(k);return}\"function\"==typeof h?this.G(h,g):this.h(g)};b.prototype.f=function(g){this.j(2,g)};b.prototype.h=function(g){this.j(1,g)};b.prototype.j=function(g,h){if(0!=this.b)throw Error(\"Cannot settle(\"+g+\", \"+h+\"): Promise already settled in state\"+this.b);this.b=g;this.g=h;this.m()};b.prototype.m=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.b(this.a[g]);this.a=null}};var f=new c;b.prototype.C=function(g){var h=this.c();\ng.$b(h.resolve,h.reject)};b.prototype.G=function(g,h){var k=this.c();try{g.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};b.prototype.then=function(g,h){function k(r,u){return\"function\"==typeof r?function(v){try{l(r(v))}catch(y){m(y)}}:u}var l,m,n=new b(function(r,u){l=r;m=u});this.$b(k(g,l),k(h,m));return n};b.prototype[\"catch\"]=function(g){return this.then(void 0,g)};b.prototype.$b=function(g,h){function k(){switch(l.b){case 1:g(l.g);break;case 2:h(l.g);break;default:throw Error(\"Unexpected state: \"+\nl.b);}}var l=this;null==this.a?f.b(k):this.a.push(k)};b.resolve=d;b.reject=function(g){return new b(function(h,k){k(g)})};b.race=function(g){return new b(function(h,k){for(var l=q(g),m=l.next();!m.done;m=l.next())d(m.value).$b(h,k)})};b.all=function(g){var h=q(g),k=h.next();return k.done?d([]):new b(function(l,m){function n(v){return function(y){r[v]=y;u--;0==u&&l(r)}}var r=[],u=0;do r.push(void 0),u++,d(k.value).$b(n(r.length-1),m),k=h.next();while(!k.done)})};return b});\nfunction Ga(a){function b(d){return a.next(d)}function c(d){return a[\"throw\"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})}function J(a){return Ga(new Ea(new xa(a)))}function Ia(a,b){return Object.prototype.hasOwnProperty.call(a,b)}\nea(\"WeakMap\",function(a){function b(k){this.a=(h+=Math.random()+1).toString();if(k){k=q(k);for(var l;!(l=k.next()).done;)l=l.value,this.set(l[0],l[1])}}function c(){}function d(k){var l=typeof k;return\"object\"===l&&null!==k||\"function\"===l}function e(k){if(!Ia(k,g)){var l=new c;ba(k,g,{value:l})}}function f(k){var l=Object[k];l&&(Object[k]=function(m){if(m instanceof c)return m;e(m);return l(m)})}if(function(){if(!a||!Object.seal)return!1;try{var k=Object.seal({}),l=Object.seal({}),m=new a([[k,2],\n[l,3]]);if(2!=m.get(k)||3!=m.get(l))return!1;m[\"delete\"](k);m.set(l,4);return!m.has(k)&&4==m.get(l)}catch(n){return!1}}())return a;var g=\"$jscomp_hidden_\"+Math.random();f(\"freeze\");f(\"preventExtensions\");f(\"seal\");var h=0;b.prototype.set=function(k,l){if(!d(k))throw Error(\"Invalid WeakMap key\");e(k);if(!Ia(k,g))throw Error(\"WeakMap key fail: \"+k);k[g][this.a]=l;return this};b.prototype.get=function(k){return d(k)&&Ia(k,g)?k[g][this.a]:void 0};b.prototype.has=function(k){return d(k)&&Ia(k,g)&&Ia(k[g],\nthis.a)};b.prototype[\"delete\"]=function(k){return d(k)&&Ia(k,g)&&Ia(k[g],this.a)?delete k[g][this.a]:!1};return b});\nea(\"Map\",function(a){function b(){var h={};return h.Fa=h.next=h.head=h}function c(h,k){var l=h.a;return fa(function(){if(l){for(;l.head!=h.a;)l=l.Fa;for(;l.next!=l.head;)return l=l.next,{done:!1,value:k(l)};l=null}return{done:!0,value:void 0}})}function d(h,k){var l=k&&typeof k;\"object\"==l||\"function\"==l?f.has(k)?l=f.get(k):(l=\"\"+ ++g,f.set(k,l)):l=\"p_\"+k;var m=h.b[l];if(m&&Ia(h.b,l))for(var n=0;n<m.length;n++){var r=m[n];if(k!==k&&r.key!==r.key||k===r.key)return{id:l,list:m,index:n,X:r}}return{id:l,\nlist:m,index:-1,X:void 0}}function e(h){this.b={};this.a=b();this.size=0;if(h){h=q(h);for(var k;!(k=h.next()).done;)k=k.value,this.set(k[0],k[1])}}if(function(){if(!a||\"function\"!=typeof a||!a.prototype.entries||\"function\"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),k=new a(q([[h,\"s\"]]));if(\"s\"!=k.get(h)||1!=k.size||k.get({x:4})||k.set({x:4},\"t\")!=k||2!=k.size)return!1;var l=k.entries(),m=l.next();if(m.done||m.value[0]!=h||\"s\"!=m.value[1])return!1;m=l.next();return m.done||4!=m.value[0].x||\n\"t\"!=m.value[1]||!l.next().done?!1:!0}catch(n){return!1}}())return a;var f=new WeakMap;e.prototype.set=function(h,k){h=0===h?0:h;var l=d(this,h);l.list||(l.list=this.b[l.id]=[]);l.X?l.X.value=k:(l.X={next:this.a,Fa:this.a.Fa,head:this.a,key:h,value:k},l.list.push(l.X),this.a.Fa.next=l.X,this.a.Fa=l.X,this.size++);return this};e.prototype[\"delete\"]=function(h){h=d(this,h);return h.X&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.b[h.id],h.X.Fa.next=h.X.next,h.X.next.Fa=h.X.Fa,h.X.head=\nnull,this.size--,!0):!1};e.prototype.clear=function(){this.b={};this.a=this.a.Fa=b();this.size=0};e.prototype.has=function(h){return!!d(this,h).X};e.prototype.get=function(h){return(h=d(this,h).X)&&h.value};e.prototype.entries=function(){return c(this,function(h){return[h.key,h.value]})};e.prototype.keys=function(){return c(this,function(h){return h.key})};e.prototype.values=function(){return c(this,function(h){return h.value})};e.prototype.forEach=function(h,k){for(var l=this.entries(),m;!(m=l.next()).done;)m=\nm.value,h.call(k,m[1],m[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var g=0;return e});\nea(\"Set\",function(a){function b(c){this.a=new Map;if(c){c=q(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.a.size}if(function(){if(!a||\"function\"!=typeof a||!a.prototype.entries||\"function\"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(q([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||\nf.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;b.prototype.add=function(c){c=0===c?0:c;this.a.set(c,c);this.size=this.a.size;return this};b.prototype[\"delete\"]=function(c){c=this.a[\"delete\"](c);this.size=this.a.size;return c};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(c){return this.a.has(c)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;\nb.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.a.forEach(function(f){return c.call(d,f,f,e)})};return b});function Ja(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{Y:e,Td:f}}return{Y:-1,Td:void 0}}ea(\"Array.prototype.findIndex\",function(a){return a?a:function(b,c){return Ja(this,b,c).Y}});\nea(\"Promise.prototype.finally\",function(a){return a?a:function(b){return this.then(function(c){return Promise.resolve(b()).then(function(){return c})},function(c){return Promise.resolve(b()).then(function(){throw c;})})}});ea(\"Object.is\",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});\nea(\"Array.prototype.includes\",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length,f=c||0;for(0>f&&(f=Math.max(f+e,0));f<e;f++){var g=d[f];if(g===b||Object.is(g,b))return!0}return!1}});function Ka(a,b,c){if(null==a)throw new TypeError(\"The 'this' value for String.prototype.\"+c+\" must not be null or undefined\");if(b instanceof RegExp)throw new TypeError(\"First argument to String.prototype.\"+c+\" must not be a regular expression\");return a+\"\"}\nea(\"String.prototype.includes\",function(a){return a?a:function(b,c){return-1!==Ka(this,b,\"includes\").indexOf(b,c||0)}});ea(\"Array.from\",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f=\"undefined\"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if(\"function\"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});\nea(\"Array.prototype.find\",function(a){return a?a:function(b,c){return Ja(this,b,c).Td}});ea(\"Math.log2\",function(a){return a?a:function(b){return Math.log(b)/Math.LN2}});var La=\"function\"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Ia(d,e)&&(a[e]=d[e])}return a};ea(\"Object.assign\",function(a){return a||La});ea(\"Object.values\",function(a){return a?a:function(b){var c=[],d;for(d in b)Ia(b,d)&&c.push(b[d]);return c}});\nea(\"String.prototype.startsWith\",function(a){return a?a:function(b,c){for(var d=Ka(this,b,\"startsWith\"),e=d.length,f=b.length,g=Math.max(0,Math.min(c|0,d.length)),h=0;h<f&&g<e;)if(d[g++]!=b[h++])return!1;return h>=f}});var Ma=this||self;function K(a,b){var c=a.split(\".\"),d=Ma;c[0]in d||\"undefined\"==typeof d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};/*\n @license\n Shaka Player\n Copyright 2016 Google LLC\n SPDX-License-Identifier: Apache-2.0\n*/\nfunction Na(a){this.c=Math.exp(Math.log(.5)/a);this.b=this.a=0}function Oa(a,b,c){var d=Math.pow(a.c,b);c=c*(1-d)+d*a.a;isNaN(c)||(a.a=c,a.b+=b)}function Pa(a){return a.a/(1-Math.pow(a.c,a.b))};function Ta(){this.b=new Na(2);this.c=new Na(5);this.a=0}Ta.prototype.getBandwidthEstimate=function(a){return 128E3>this.a?a:Math.min(Pa(this.b),Pa(this.c))};function Ua(){}function Va(){}function Wa(){}function Xa(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];Ya.has(a)||(Ya.add(a),Wa.apply(Ua,ha(c)))}function Za(){}function $a(){}var Ya=new Set;if(window.console&&window.console.log.bind){var ab={},bb=(ab[1]=console.error.bind(console),ab[2]=console.warn.bind(console),ab[3]=console.info.bind(console),ab[4]=console.log.bind(console),ab[5]=console.debug.bind(console),ab[6]=console.debug.bind(console),ab);Wa=bb[2];Va=bb[1]};function cb(a,b){for(var c=[],d=q(a),e=d.next();!e.done;e=d.next())c.push(b(e.value));return c}function db(a,b){for(var c=q(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0}\nvar fb=function eb(a){var c;return Fa(eb,function(d){1==d.a&&(c=0);if(3!=d.a)return c<a?t(d,c,3):d.u(0);c++;return d.u(2)})},hb=function gb(a){var c,d,e,f,g,h;return Fa(gb,function(k){1==k.a&&(c=-1,e=d=void 0,f=q(a),g=f.next());if(5!=k.a){if(g.done)return-1==c?k.u(0):t(k,{Y:c,Ie:d,item:e,next:void 0},0);h=g.value;return 0<=c?t(k,{Y:c,item:e,Ie:d,next:h},5):k.u(5)}c++;d=e;e=h;g=f.next();return k.u(2)})};/*\n @license\n Copyright 2008 The Closure Library Authors\n SPDX-License-Identifier: Apache-2.0\n*/\nvar ib=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$/;/*\n @license\n Copyright 2006 The Closure Library Authors\n SPDX-License-Identifier: Apache-2.0\n*/\nfunction jb(a){var b;a instanceof jb?(kb(this,a.sa),this.Za=a.Za,this.ra=a.ra,lb(this,a.ob),this.ia=a.ia,mb(this,a.a.clone()),this.Pa=a.Pa):a&&(b=String(a).match(ib))?(kb(this,b[1]||\"\",!0),this.Za=nb(b[2]||\"\"),this.ra=nb(b[3]||\"\",!0),lb(this,b[4]),this.ia=nb(b[5]||\"\",!0),mb(this,b[6]||\"\",!0),this.Pa=nb(b[7]||\"\")):this.a=new ob(null)}p=jb.prototype;p.sa=\"\";p.Za=\"\";p.ra=\"\";p.ob=null;p.ia=\"\";p.Pa=\"\";\np.toString=function(){var a=[],b=this.sa;b&&a.push(pb(b,qb,!0),\":\");if(b=this.ra){a.push(\"//\");var c=this.Za;c&&a.push(pb(c,qb,!0),\"@\");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\"));b=this.ob;null!=b&&a.push(\":\",String(b))}if(b=this.ia)this.ra&&\"/\"!=b.charAt(0)&&a.push(\"/\"),a.push(pb(b,\"/\"==b.charAt(0)?rb:sb,!0));(b=this.a.toString())&&a.push(\"?\",b);(b=this.Pa)&&a.push(\"#\",pb(b,tb));return a.join(\"\")};\np.resolve=function(a){var b=this.clone();\"data\"===b.sa&&(b=new jb);var c=!!a.sa;c?kb(b,a.sa):c=!!a.Za;c?b.Za=a.Za:c=!!a.ra;c?b.ra=a.ra:c=null!=a.ob;var d=a.ia;if(c)lb(b,a.ob);else if(c=!!a.ia){if(\"/\"!=d.charAt(0))if(this.ra&&!this.ia)d=\"/\"+d;else{var e=b.ia.lastIndexOf(\"/\");-1!=e&&(d=b.ia.substr(0,e+1)+d)}if(\"..\"==d||\".\"==d)d=\"\";else if(-1!=d.indexOf(\"./\")||-1!=d.indexOf(\"/.\")){e=0==d.lastIndexOf(\"/\",0);d=d.split(\"/\");for(var f=[],g=0;g<d.length;){var h=d[g++];\".\"==h?e&&g==d.length&&f.push(\"\"):\"..\"==\nh?((1<f.length||1==f.length&&\"\"!=f[0])&&f.pop(),e&&g==d.length&&f.push(\"\")):(f.push(h),e=!0)}d=f.join(\"/\")}}c?b.ia=d:c=\"\"!==a.a.toString();c?mb(b,a.a.clone()):c=!!a.Pa;c&&(b.Pa=a.Pa);return b};p.clone=function(){return new jb(this)};function kb(a,b,c){a.sa=c?nb(b,!0):b;a.sa&&(a.sa=a.sa.replace(/:$/,\"\"))}function lb(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error(\"Bad port number \"+b);a.ob=b}else a.ob=null}function mb(a,b,c){b instanceof ob?a.a=b:(c||(b=pb(b,ub)),a.a=new ob(b))}\nfunction nb(a,b){return a?b?decodeURI(a):decodeURIComponent(a):\"\"}function pb(a,b,c){return null!=a?(a=encodeURI(a).replace(b,vb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),a):null}function vb(a){a=a.charCodeAt(0);return\"%\"+(a>>4&15).toString(16)+(a&15).toString(16)}var qb=/[#\\/\\?@]/g,sb=/[#\\?:]/g,rb=/[#\\?]/g,ub=/[#\\?@]/g,tb=/#/g;function ob(a){this.a=a||null}p=ob.prototype;p.ga=null;p.bc=null;\np.add=function(a,b){if(!this.ga&&(this.ga={},this.bc=0,this.a))for(var c=this.a.split(\"&\"),d=0;d<c.length;d++){var e=c[d].indexOf(\"=\"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\\+/g,\" \"));f=f||\"\";this.add(g,decodeURIComponent(f.replace(/\\+/g,\" \")))}this.a=null;(c=this.ga.hasOwnProperty(a)&&this.ga[a])||(this.ga[a]=c=[]);c.push(b);this.bc++;return this};\np.toString=function(){if(this.a)return this.a;if(!this.ga)return\"\";var a=[],b;for(b in this.ga)for(var c=encodeURIComponent(b),d=this.ga[b],e=0;e<d.length;e++){var f=c;\"\"!==d[e]&&(f+=\"=\"+encodeURIComponent(d[e]));a.push(f)}return this.a=a.join(\"&\")};p.clone=function(){var a=new ob;a.a=this.a;if(this.ga){var b={},c;for(c in this.ga)b[c]=this.ga[c].concat();a.ga=b;a.bc=this.bc}return a};function L(a,b,c,d){for(var e=[],f=3;f<arguments.length;++f)e[f-3]=arguments[f];this.severity=a;this.category=b;this.code=c;this.data=e;this.handled=!1}L.prototype.toString=function(){return\"shaka.util.Error \"+JSON.stringify(this,null,\"  \")};K(\"shaka.util.Error\",L);L.Severity={RECOVERABLE:1,CRITICAL:2};L.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10};\nL.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,\nEBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,\nUNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,\nHLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,\nINCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,\nSERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8E3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9E3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,\nNO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1E4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004};function wb(a){this.b=a;this.a=null}wb.prototype.R=function(a){var b=this;this.stop();var c=!0,d=null;this.a=function(){window.clearTimeout(d);c=!1};d=window.setTimeout(function(){c&&b.b()},1E3*a);return this};wb.prototype.stop=function(){this.a&&(this.a(),this.a=null)};function M(a){this.b=a;this.a=null}M.prototype.Ob=function(){this.stop();this.b();return this};M.prototype.R=function(a){var b=this;this.stop();this.a=(new wb(function(){b.b()})).R(a);return this};M.prototype.oa=function(a){var b=this;this.stop();this.a=(new wb(function(){b.a.R(a);b.b()})).R(a);return this};M.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};K(\"shaka.util.Timer\",M);M.prototype.stop=M.prototype.stop;M.prototype.tickEvery=M.prototype.oa;M.prototype.tickAfter=M.prototype.R;\nM.prototype.tickNow=M.prototype.Ob;function xb(a,b){var c=yb();this.j=null==a.maxAttempts?c.maxAttempts:a.maxAttempts;this.f=null==a.baseDelay?c.baseDelay:a.baseDelay;this.h=null==a.fuzzFactor?c.fuzzFactor:a.fuzzFactor;this.g=null==a.backoffFactor?c.backoffFactor:a.backoffFactor;this.a=0;this.b=this.f;if(this.c=void 0===b?!1:b)this.a=1}\nfunction zb(a){var b,c;return J(function(d){if(1==d.a){if(a.a>=a.j)if(a.c)a.a=1,a.b=a.f;else throw new L(2,7,1010);b=a.a;a.a++;if(0==b)return d[\"return\"]();c=a.b*(1+(2*Math.random()-1)*a.h);return t(d,new Promise(function(e){(new M(e)).R(c/1E3)}),2)}a.b*=a.g;w(d)})}function yb(){return{maxAttempts:2,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0}};function Ab(){var a,b,c=new Promise(function(d,e){a=d;b=e});c.resolve=a;c.reject=b;return c}Ab.prototype.resolve=function(){};Ab.prototype.reject=function(){};function Bb(a,b){this.promise=a;this.c=b;this.a=!1}function Cb(a){return new Bb(Promise.reject(a),function(){return Promise.resolve()})}function Db(){var a=Promise.reject(new L(2,7,7001));a[\"catch\"](function(){});return new Bb(a,function(){return Promise.resolve()})}function Eb(a){return new Bb(Promise.resolve(a),function(){return Promise.resolve()})}function Fb(a){return new Bb(a,function(){return a[\"catch\"](function(){})})}Bb.prototype.abort=function(){this.a=!0;return this.c()};\nfunction Gb(a){return new Bb(Promise.all(a.map(function(b){return b.promise})),function(){return Promise.all(a.map(function(b){return b.abort()}))})}Bb.prototype[\"finally\"]=function(a){this.promise.then(function(){return a(!0)},function(){return a(!1)});return this};\nBb.prototype.U=function(a,b){function c(h){return function(k){if(e.a&&h)f.reject(g);else{var l=h?a:b;l?d=Hb(l,k,f):(h?f.resolve:f.reject)(k)}}}function d(){f.reject(g);return e.abort()}var e=this,f=new Ab,g=new L(2,7,7001);this.promise.then(c(!0),c(!1));return new Bb(f,function(){return d()})};\nfunction Hb(a,b,c){try{var d=a(b);if(d&&d.promise&&d.abort)return c.resolve(d.promise),function(){return d.abort()};c.resolve(d);return function(){return Promise.resolve(d).then(function(){},function(){})}}catch(e){return c.reject(e),function(){return Promise.resolve()}}}K(\"shaka.util.AbortableOperation\",Bb);Bb.prototype.chain=Bb.prototype.U;Bb.prototype[\"finally\"]=Bb.prototype[\"finally\"];Bb.all=Gb;Bb.prototype.abort=Bb.prototype.abort;Bb.notAbortable=Fb;Bb.completed=Eb;Bb.aborted=Db;Bb.failed=Cb;function Ib(){}function Jb(a,b){if(!a&&!b)return!0;if(!a||!b||a.byteLength!=b.byteLength)return!1;if(Kb(a)==Kb(b)&&(a.byteOffset||0)==(b.byteOffset||0))return!0;for(var c=N(a),d=N(b),e=q(fb(a.byteLength)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!=d[f])return!1;return!0}function Kb(a){return a instanceof ArrayBuffer?a:a.buffer}function Lb(a){return a instanceof ArrayBuffer?a:0==a.byteOffset&&a.byteLength==a.buffer.byteLength?a.buffer:(new Uint8Array(a)).buffer}\nfunction N(a,b,c){c=void 0===c?Infinity:c;return Mb(a,void 0===b?0:b,c,Uint8Array)}function Nb(a,b,c){c=void 0===c?Infinity:c;return Mb(a,void 0===b?0:b,c,DataView)}function Mb(a,b,c,d){var e=(a.byteOffset||0)+a.byteLength;b=Math.max(0,Math.min((a.byteOffset||0)+b,e));return new d(Kb(a),b,Math.min(b+Math.max(c,0),e)-b)}K(\"shaka.util.BufferUtils\",Ib);Ib.toDataView=Nb;Ib.toUint8=N;Ib.toArrayBuffer=Lb;Ib.equal=Jb;function Q(a,b){b=void 0===b?{}:b;for(var c in b)Object.defineProperty(this,c,{value:b[c],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.a=!1}Q.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};Q.prototype.stopImmediatePropagation=function(){this.a=!0};\nQ.prototype.stopPropagation=function(){};function Ob(){this.a={}}Ob.prototype.push=function(a,b){this.a.hasOwnProperty(a)?this.a[a].push(b):this.a[a]=[b]};Ob.prototype.get=function(a){return(a=this.a[a])?a.slice():null};Ob.prototype.remove=function(a,b){a in this.a&&(this.a[a]=this.a[a].filter(function(c){return c!=b}))};function Qb(a,b){for(var c in a.a)b(c,a.a[c])};function Rb(){this.Ec=new Ob;this.Vb=this}Rb.prototype.addEventListener=function(a,b){this.Ec.push(a,b)};Rb.prototype.removeEventListener=function(a,b){this.Ec.remove(a,b)};Rb.prototype.dispatchEvent=function(a){var b=this.Ec.get(a.type)||[];b=q(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;a.target=this.Vb;a.currentTarget=this.Vb;try{c.handleEvent?c.handleEvent(a):c.call(this,a)}catch(d){}if(a.a)break}return a.defaultPrevented};function Sb(a){function b(d){switch(typeof d){case \"undefined\":case \"boolean\":case \"number\":case \"string\":case \"symbol\":case \"function\":return d;default:if(!d||d.buffer&&d.buffer.constructor==ArrayBuffer)return d;if(c.has(d))return null;var e=d.constructor==Array;if(d.constructor!=Object&&!e)return null;c.add(d);var f=e?[]:{},g;for(g in d)f[g]=b(d[g]);e&&(f.length=d.length);return f}}var c=new Set;return b(a)}function Tb(a){var b={},c;for(c in a)b[c]=a[c];return b};function Ub(a,b){return\"number\"===typeof a&&\"number\"===typeof b&&isNaN(a)&&isNaN(b)?!0:a===b}function Vb(a,b){var c=a.indexOf(b);-1<c&&a.splice(c,1)}function Wb(a,b,c){c||(c=Ub);if(a.length!=b.length)return!1;b=b.slice();var d={};a=q(a);for(var e=a.next();!e.done;d={tc:d.tc},e=a.next()){d.tc=e.value;e=b.findIndex(function(f){return function(g){return c(f.tc,g)}}(d));if(-1==e)return!1;b[e]=b[b.length-1];b.pop()}return 0==b.length};function Xb(){this.a=[]}function Yb(a,b){a.a.push(b[\"finally\"](function(){Vb(a.a,b)}))}Xb.prototype.destroy=function(){for(var a=[],b=q(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.promise[\"catch\"](function(){}),a.push(c.abort());this.a=[];return Promise.all(a)};function Zb(a){Rb.call(this);this.f=!1;this.g=new Xb;this.a=new Set;this.b=new Set;this.c=a||null}pa(Zb,Rb);function $b(a,b,c){c=c||ac;var d=bc[a];if(!d||c>=d.priority)bc[a]={priority:c,He:b}}p=Zb.prototype;p.Je=function(a){this.a.add(a)};p.bf=function(a){this.a[\"delete\"](a)};p.be=function(){this.a.clear()};p.Ke=function(a){this.b.add(a)};p.cf=function(a){this.b[\"delete\"](a)};p.ce=function(){this.b.clear()};\nfunction cc(a,b){return{uris:a,method:\"GET\",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:b,licenseRequestType:null,sessionId:null}}p.destroy=function(){this.f=!0;this.a.clear();this.b.clear();return this.g.destroy()};\np.request=function(a,b){var c=this,d=new dc;if(this.f){var e=Promise.reject(new L(2,7,7001));e[\"catch\"](function(){});return new ec(e,function(){return Promise.resolve()},d)}b.method=b.method||\"GET\";b.headers=b.headers||{};b.retryParameters=b.retryParameters?Sb(b.retryParameters):yb();b.uris=Sb(b.uris);e=fc(this,a,b);var f=e.U(function(){return gc(c,a,b,new xb(b.retryParameters,!1),0,null,d)}),g=f.U(function(n){return hc(c,a,n)}),h=Date.now(),k=0;e.promise.then(function(){k=Date.now()-h},function(){});\nvar l=0;f.promise.then(function(){l=Date.now()},function(){});var m=g.U(function(n){var r=Date.now()-l,u=n.response;u.timeMs+=k;u.timeMs+=r;n.Ae||!c.c||u.fromCache||a!=ic||c.c(u.timeMs,u.data.byteLength);return u},function(n){n&&(n.severity=2);throw n;});e=new ec(m.promise,function(){return m.abort()},d);Yb(this.g,e);return e};\nfunction fc(a,b,c){var d=Eb(void 0),e={};a=q(a.a);for(var f=a.next();!f.done;e={wc:e.wc},f=a.next())e.wc=f.value,d=d.U(function(g){return function(){c.body&&(c.body=Lb(c.body));return g.wc(b,c)}}(e));return d.U(void 0,function(g){if(g instanceof L&&7001==g.code)throw g;throw new L(2,1,1006,g);})}\nfunction gc(a,b,c,d,e,f,g){var h=new jb(c.uris[e]),k=h.sa,l=!1;k||(k=location.protocol,k=k.slice(0,-1),kb(h,k),c.uris[e]=h.toString());k=k.toLowerCase();var m=(k=bc[k])?k.He:null;if(!m)return Cb(new L(2,1,1E3,h));var n;return Fb(zb(d)).U(function(){if(a.f)return Db();n=Date.now();return m(c.uris[e],c,b,function(r,u,v){a.c&&b==ic&&(a.c(r,u),l=!0,g.a=v)})}).U(function(r){void 0==r.timeMs&&(r.timeMs=Date.now()-n);return{response:r,Ae:l}},function(r){if(a.f)return Db();if(r instanceof L){if(7001==r.code)throw r;\nif(1010==r.code)throw f;if(1==r.severity){var u=new Q(\"retry\",{error:r});a.dispatchEvent(u);e=(e+1)%c.uris.length;return gc(a,b,c,d,e,r,g)}}throw r;})}\nfunction hc(a,b,c){var d=Eb(void 0),e={};a=q(a.b);for(var f=a.next();!f.done;e={xc:e.xc},f=a.next())e.xc=f.value,d=d.U(function(g){return function(){var h=c.response;h.data&&(h.data=Lb(h.data));return g.xc(b,h)}}(e));return d.U(function(){return c},function(g){var h=2;if(g instanceof L){if(7001==g.code)throw g;h=g.severity}throw new L(h,1,1007,g);})}K(\"shaka.net.NetworkingEngine\",Zb);Zb.prototype.request=Zb.prototype.request;Zb.prototype.destroy=Zb.prototype.destroy;Zb.makeRequest=cc;\nZb.defaultRetryParameters=function(){return yb()};Zb.prototype.clearAllResponseFilters=Zb.prototype.ce;Zb.prototype.unregisterResponseFilter=Zb.prototype.cf;Zb.prototype.registerResponseFilter=Zb.prototype.Ke;Zb.prototype.clearAllRequestFilters=Zb.prototype.be;Zb.prototype.unregisterRequestFilter=Zb.prototype.bf;Zb.prototype.registerRequestFilter=Zb.prototype.Je;Zb.unregisterScheme=function(a){delete bc[a]};Zb.registerScheme=$b;function dc(){this.a=0}Zb.NumBytesRemainingClass=dc;\nfunction ec(a,b,c){Bb.call(this,a,b);this.b=c}pa(ec,Bb);Zb.PendingRequest=ec;var ic=1;Zb.RequestType={MANIFEST:0,SEGMENT:ic,LICENSE:2,APP:3,TIMING:4};var ac=3;Zb.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:ac};var bc={};function jc(a){this.a=!1;this.b=new Ab;this.c=a}jc.prototype.destroy=function(){var a=this;if(this.a)return this.b;this.a=!0;return this.c().then(function(){a.b.resolve()},function(){a.b.resolve()})};function kc(a,b){if(a.a){if(b instanceof L&&7003==b.code)throw b;throw new L(2,7,7003,b);}};function lc(){this.a=new Ob}p=lc.prototype;p.release=function(){this.Xa();this.a=null};p.l=function(a,b,c,d){this.a&&(a=new mc(a,b,c,d),this.a.push(b,a))};p.ha=function(a,b,c,d){function e(g){f.pa(a,b,e);c(g)}var f=this;this.l(a,b,e,d)};p.pa=function(a,b,c){if(this.a){var d=this.a.get(b)||[];d=q(d);for(var e=d.next();!e.done;e=d.next())e=e.value,e.target!=a||c!=e.listener&&c||(e.pa(),this.a.remove(b,e))}};\np.Xa=function(){if(this.a){var a=this.a,b=[],c;for(c in a.a)b.push.apply(b,ha(a.a[c]));a=q(b);for(b=a.next();!b.done;b=a.next())b.value.pa();this.a.a={}}};K(\"shaka.util.EventManager\",lc);lc.prototype.removeAll=lc.prototype.Xa;lc.prototype.unlisten=lc.prototype.pa;lc.prototype.listenOnce=lc.prototype.ha;lc.prototype.listen=lc.prototype.l;lc.prototype.release=lc.prototype.release;function mc(a,b,c,d){this.target=a;this.type=b;this.listener=c;this.a=nc(a,d);this.target.addEventListener(b,c,this.a)}\nmc.prototype.pa=function(){this.target.removeEventListener(this.type,this.listener,this.a);this.listener=this.target=null;this.a=!1};function nc(a,b){if(void 0==b)return!1;if(\"boolean\"==typeof b)return b;var c=new Set([\"passive\",\"capture\"]);Object.keys(b).filter(function(d){return!c.has(d)});return oc(a)?b:b.capture||!1}\nfunction oc(a){var b=pc;if(void 0==b){b=!1;try{var c={},d={get:function(){b=!0;return!1}};Object.defineProperty(c,\"passive\",d);Object.defineProperty(c,\"capture\",d);d=function(){};a.addEventListener(\"test\",d,c);a.removeEventListener(\"test\",d,c)}catch(e){b=!1}pc=b}return b||!1}var pc=void 0;function qc(a){this.b=a;this.a=void 0}qc.prototype.value=function(){void 0==this.a&&(this.a=this.b());return this.a};function rc(){}function sc(a){if(!a)return\"\";a=N(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=tc(a);a=escape(a);try{return decodeURIComponent(a)}catch(b){throw new L(2,2,2004);}}function uc(a,b,c){if(!a)return\"\";if(!c&&0!=a.byteLength%2)throw new L(2,2,2004);var d=Math.floor(a.byteLength/2);c=new Uint16Array(d);a=Nb(a);d=q(fb(d));for(var e=d.next();!e.done;e=d.next())e=e.value,c[e]=a.getUint16(2*e,b);return tc(c)}\nfunction vc(a){function b(d){return c.byteLength<=d||32<=c[d]&&126>=c[d]}if(!a)return\"\";var c=N(a);if(239==c[0]&&187==c[1]&&191==c[2])return sc(c);if(254==c[0]&&255==c[1])return uc(c.subarray(2),!1);if(255==c[0]&&254==c[1])return uc(c.subarray(2),!0);if(0==c[0]&&0==c[2])return uc(a,!1);if(0==c[1]&&0==c[3])return uc(a,!0);if(b(0)&&b(1)&&b(2)&&b(3))return sc(a);throw new L(2,2,2003);}\nfunction wc(a){a=encodeURIComponent(a);var b=unescape(a);a=new Uint8Array(b.length);b=q(hb(b));for(var c=b.next();!c.done;c=b.next())c=c.value,a[c.Y]=c.item.charCodeAt(0);return Lb(a)}function xc(a,b){for(var c=new ArrayBuffer(2*a.length),d=new DataView(c),e=q(hb(a)),f=e.next();!f.done;f=e.next())f=f.value,d.setUint16(2*f.Y,f.item.charCodeAt(0),b);return c}function tc(a){return yc.value()(a)}K(\"shaka.util.StringUtils\",rc);rc.resetFromCharCode=function(){yc.a=void 0};rc.toUTF16=xc;rc.toUTF8=wc;\nrc.fromBytesAutoDetect=vc;rc.fromUTF16=uc;rc.fromUTF8=sc;var yc=new qc(function(){function a(c){try{var d=new Uint8Array(c);return 0<String.fromCharCode.apply(null,d).length}catch(e){return!1}}for(var b={Ia:65536};0<b.Ia;b={Ia:b.Ia},b.Ia/=2)if(a(b.Ia))return function(c){return function(d){for(var e=\"\",f=0;f<d.length;f+=c.Ia)e+=String.fromCharCode.apply(null,d.subarray(f,f+c.Ia));return e}}(b);return null});function zc(){}function Ac(a){a=vc(a);return(new jb(a)).ra}function Bc(a,b,c){function d(h){Nb(f).setUint32(g,h.byteLength,!0);g+=4;f.set(N(h),g);g+=h.byteLength}if(!c||!c.byteLength)throw new L(2,6,6015);var e;\"string\"==typeof b?e=xc(b,!0):e=b;a=vc(a);a=xc(a,!0);var f=new Uint8Array(12+a.byteLength+e.byteLength+c.byteLength),g=0;d(a);d(e);d(c);return f}K(\"shaka.util.FairPlayUtils\",zc);zc.initDataTransform=Bc;zc.defaultGetContentId=Ac;function Cc(a,b){this.a=a;this.b=b}Cc.prototype.toString=function(){return\"v\"+this.a+\".\"+this.b};function Dc(a,b){var c=new Cc(4,0),d=Ec,e=d.a,f=c.b-e.b;(0<(c.a-e.a||f)?d.c:d.b)(d.a,c,a,b)}function Fc(a,b,c,d){Wa([c,\"has been deprecated and will be removed in\",b,\". We are currently at version\",a,\". Additional information:\",d].join(\" \"))}function Gc(a,b,c,d){Va([c,\"has been deprecated and has been removed in\",b,\". We are now at version\",a,\". Additional information:\",d].join(\"\"))}var Ec=null;function Hc(a,b){return a.concat(b)}function Ic(){}function Jc(a){return null!=a}function Kc(a){var b=Object.create(a.prototype||Object.prototype);a=a.call(b);a||(Dc(\"Factories requiring new\",\"Factories should be plain functions\"),a=b);return a};function Lc(a,b){if(0==b.length)return a;var c=b.map(function(d){return new jb(d)});return a.map(function(d){return new jb(d)}).map(function(d){return c.map(function(e){return d.resolve(e)})}).reduce(Hc,[]).map(function(d){return d.toString()})}function Mc(a,b){return{keySystem:a,licenseServerUri:\"\",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:null,initData:b||[],keyIds:new Set}}\nvar Nc={Ba:\"video\",eb:\"audio\",$:\"text\",pf:\"image\",ff:\"application\"};function Oc(a){for(var b=new Map,c=q(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,a[d]);return b}function Pc(a){var b={};a.forEach(function(c,d){b[d]=c});return b}function Qc(a,b){if(a||b){if(a&&!b||b&&!a)return!1}else return!0;if(a.size!=b.size)return!1;for(var c=q(a),d=c.next();!d.done;d=c.next()){var e=q(d.value);d=e.next().value;e=e.next().value;if(!b.has(d))return!1;d=b.get(d);if(d!=e||void 0==d)return!1}return!0};function Rc(a,b){var c=a;b&&(c+='; codecs=\"'+b+'\"');return c}function Sc(a){var b=[a.mimeType];Tc.forEach(function(c,d){var e=a[d];e&&b.push(c+'=\"'+e+'\"')});return b.join(\";\")}function Uc(a){a=a.split(\".\");var b=a[0];a.pop();return[b,a.join(\".\")]}var Tc=(new Map).set(\"codecs\",\"codecs\").set(\"frameRate\",\"framerate\").set(\"bandwidth\",\"bitrate\").set(\"width\",\"width\").set(\"height\",\"height\").set(\"channelsCount\",\"channels\");function Vc(){return window.MediaSource&&MediaSource.isTypeSupported?!0:!1}function Wc(a){return\"\"!=Xc().canPlayType(a)}function Yc(){return!!navigator.vendor&&navigator.vendor.includes(\"Apple\")&&!Zc(\"Tizen\")}function $c(){if(!Yc())return null;var a=navigator.userAgent.match(/Version\\/(\\d+)/);return a?parseInt(a[1],10):(a=navigator.userAgent.match(/OS (\\d+)(?:_\\d+)?/))?parseInt(a[1],10):null}function Zc(a){return(navigator.userAgent||\"\").includes(a)}\nfunction Xc(){if(ad)return ad;bd||(bd=new M(function(){ad=null}));(ad=document.getElementsByTagName(\"video\")[0]||document.getElementsByTagName(\"audio\")[0])||(ad=document.createElement(\"video\"));bd.R(1);return ad}var bd=null,ad=null;function cd(){}function dd(a){a=tc(N(a));return btoa(a)}function ed(a,b){b=void 0==b?!0:b;var c=dd(a).replace(/\\+/g,\"-\").replace(/\\//g,\"_\");return b?c:c.replace(/[=]*$/,\"\")}function fd(a){var b=window.atob(a.replace(/-/g,\"+\").replace(/_/g,\"/\"));a=new Uint8Array(b.length);b=q(hb(b));for(var c=b.next();!c.done;c=b.next())c=c.value,a[c.Y]=c.item.charCodeAt(0);return a}\nfunction gd(a){var b=a.length/2,c=new Uint8Array(b);b=q(fb(b));for(var d=b.next();!d.done;d=b.next())d=d.value,c[d]=window.parseInt(a.substr(2*d,2),16);return c}function hd(a){var b=N(a);a=\"\";b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c=c.toString(16),1==c.length&&(c=\"0\"+c),a+=c;return a}\nfunction id(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];var d=0,e=q(b);for(c=e.next();!c.done;c=e.next())d+=c.value.byteLength;d=new Uint8Array(d);e=0;b=q(b);for(c=b.next();!c.done;c=b.next())c=c.value,d.set(N(c),e),e+=c.byteLength;return d}K(\"shaka.util.Uint8ArrayUtils\",cd);cd.concat=id;cd.toHex=hd;cd.fromHex=gd;cd.fromBase64=fd;cd.toBase64=ed;cd.toStandardBase64=dd;\ncd.equal=function(a,b){Dc(\"shaka.util.Uint8ArrayUtils.equal\",\"Please use shaka.util.BufferUtils.equal instead.\");return Jb(a,b)};function jd(a,b){var c=this;b=void 0===b?1:b;this.s=a;this.v=new Set;this.a=this.h=null;this.M=!1;this.G=0;this.c=null;this.b=new lc;this.f=new Map;this.m=[];this.j=new Ab;this.i=null;this.g=function(d){c.j.reject(d);a.onError(d)};this.ca=new Map;this.T=new Map;this.I=new M(function(){return kd(c)});this.w=!1;this.C=[];this.H=!1;this.W=(new M(function(){ld(c)})).oa(b);this.j[\"catch\"](function(){});this.D=new jc(function(){return md(c)})}jd.prototype.destroy=function(){return this.D.destroy()};\nfunction md(a){return J(function(b){switch(b.a){case 1:return a.b.release(),a.b=null,a.j.reject(),a.W.stop(),a.W=null,a.I.stop(),a.I=null,t(b,nd(a),2);case 2:if(!a.a){b.u(3);break}x(b,4);return t(b,a.a.setMediaKeys(null),6);case 6:ua(b,5);break;case 4:C(b);case 5:a.a=null;case 3:a.c=null,a.v.clear(),a.h=null,a.m=[],a.i=null,a.g=function(){},a.s=null,w(b)}})}jd.prototype.configure=function(a){this.i=a};function od(a,b,c){a.m=[];a.w=c;return pd(a,b)}\nfunction qd(a,b,c){a.m=c;a.w=0<c.length;return pd(a,b)}function rd(a,b,c,d,e,f){var g=new Map;e={audioCapabilities:e,videoCapabilities:f,distinctiveIdentifier:\"optional\",persistentState:\"required\",sessionTypes:[\"persistent-license\"],label:b};e.drmInfos=[{keySystem:b,licenseServerUri:c,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:d,initData:null,keyIds:null}];g.set(b,e);return sd(a,g)}\nfunction pd(a,b){var c=td(a);if(c)for(var d=q(b),e=d.next();!e.done;e=d.next())e=e.value,e.video&&e.video.encrypted&&(e.video.drmInfos=[c]),e.audio&&e.audio.encrypted&&(e.audio.drmInfos=[c]);c=b.some(function(g){return g.video&&g.video.drmInfos.length||g.audio&&g.audio.drmInfos.length?!0:!1});c||(d=Oc(a.i.servers),ud(b,d));d=q(b);for(e=d.next();!e.done;e=d.next()){e=e.value;e=q((e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]));for(var f=e.next();!f.done;f=e.next())vd(f.value,Oc(a.i.servers),\nOc(a.i.advanced||{}))}d=wd(a,b);if(!d.size)return a.M=!0,Promise.resolve();d=sd(a,d);return c?d:d[\"catch\"](function(){})}\njd.prototype.yb=function(a){var b=this,c,d,e;return J(function(f){if(1==f.a){if(!b.h)return b.b.ha(a,\"encrypted\",function(){b.g(new L(2,6,6010))}),f[\"return\"]();b.a=a;b.b.ha(b.a,\"play\",function(){for(var g=q(b.C),h=g.next();!h.done;h=g.next())xd(b,h.value);b.H=!0;b.C=[]});\"webkitCurrentPlaybackTargetIsWireless\"in b.a&&b.b.l(b.a,\"webkitcurrentplaybacktargetiswirelesschanged\",function(){return nd(b)});c=b.a.setMediaKeys(b.h);c=c[\"catch\"](function(g){return Promise.reject(new L(2,6,6003,g.message))});\nd=yd(b);return t(f,Promise.all([c,d]),2)}kc(b.D);zd(b);b.c.initData.length||b.m.length||(e=function(g){return Ad(b,g.initDataType,N(g.initData))},b.b.l(b.a,\"encrypted\",e));w(f)})};function yd(a){var b;return J(function(c){if(1==c.a){if(!(a.h&&a.c&&a.c.serverCertificate&&a.c.serverCertificate.length))return c.u(0);x(c,3);return t(c,a.h.setServerCertificate(a.c.serverCertificate),5)}if(3!=c.a)return ua(c,0);b=C(c);throw new L(2,6,6004,b.message);})}\nfunction Bd(a,b){var c,d,e;return J(function(f){if(1==f.a)return t(f,Cd(a,b),2);c=f.b;if(!c)return f[\"return\"]();d=[];if(e=a.f.get(c))e.ya=new Ab,d.push(e.ya);d.push(c.remove());return t(f,Promise.all(d),0)})}function zd(a){for(var b=(a.c?a.c.initData:[])||[],c=q(b),d=c.next();!d.done;d=c.next())d=d.value,Ad(a,d.initDataType,d.initData);c=q(a.m);for(d=c.next();!d.done;d=c.next())Cd(a,d.value);b.length||a.m.length||a.j.resolve();return a.j}\nfunction Ad(a,b,c){var d=a.f.values();d=q(d);for(var e=d.next();!e.done;e=d.next())if(Jb(c,e.value.initData)&&!Zc(\"Tizen 2\"))return;Dd(a,b,c)}function Ed(a){return a?a.keySystem:\"\"}function Fd(a,b){return Zc(\"Edge/\")?!0:a.v.has(b.toLowerCase())}function Gd(a){a=a.f.keys();a=cb(a,function(b){return b.sessionId});return Array.from(a)}jd.prototype.Cb=function(){var a=Infinity,b=this.f.keys();b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,isNaN(c.expiration)||(a=Math.min(a,c.expiration));return a};\nfunction wd(a,b){for(var c=new Set,d=q(b),e=d.next();!e.done;e=d.next()){e=e.value;var f=q((e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]));for(e=f.next();!e.done;e=f.next())c.add(e.value)}d=q(c);for(e=d.next();!e.done;e=d.next())vd(e.value,Oc(a.i.servers),Oc(a.i.advanced||{}));f=a.w?\"required\":\"optional\";var g=a.w?[\"persistent-license\"]:[\"temporary\"];d=new Map;c=q(c);for(e=c.next();!e.done;e=c.next())e=e.value,d.set(e.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:\"optional\",\npersistentState:f,sessionTypes:g,label:e.keySystem,drmInfos:[]});c=q(b);for(e=c.next();!e.done;e=c.next())for(e=e.value,f=q([e.audio,e.video]),e=f.next();!e.done;e=f.next())if(g=e.value){var h=Rc(g.mimeType,g.codecs),k=q(g.drmInfos);for(e=k.next();!e.done;e=k.next()){var l=e.value;e=d.get(l.keySystem);e.drmInfos.push(l);l.distinctiveIdentifierRequired&&(e.distinctiveIdentifier=\"required\");l.persistentStateRequired&&(e.persistentState=\"required\");l={robustness:(\"audio\"==g.type?l.audioRobustness:l.videoRobustness)||\n\"\",contentType:h};\"audio\"==g.type?e.audioCapabilities.push(l):e.videoCapabilities.push(l)}}return d}\nfunction sd(a,b){var c,d,e,f,g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G,F;return J(function(I){switch(I.a){case 1:if(1==b.size&&b.has(\"\"))throw new L(2,6,6E3);c=q(b.values());for(d=c.next();!d.done;d=c.next())e=d.value,0==e.audioCapabilities.length&&delete e.audioCapabilities,0==e.videoCapabilities.length&&delete e.videoCapabilities;g=q([!0,!1]);h=g.next();case 2:if(h.done){I.u(4);break}k=h.value;l=q(b.keys());m=l.next();case 5:if(m.done){I.u(7);break}n=m.value;r=b.get(n);u=r.drmInfos.some(function(O){return!!O.licenseServerUri});\nif(u!=k){I.u(6);break}x(I,8);return t(I,navigator.requestMediaKeySystemAccess(n,[r]),10);case 10:f=I.b;I.u(7);break;case 8:C(I);case 9:kc(a.D);case 6:m=l.next();I.u(5);break;case 7:if(f){I.u(4);break}h=g.next();I.u(2);break;case 4:if(!f)throw new L(2,6,6001);kc(a.D);x(I,11);a.v.clear();v=f.getConfiguration();y=v.audioCapabilities||[];z=v.videoCapabilities||[];A=q(y);for(D=A.next();!D.done;D=A.next())B=D.value,a.v.add(B.contentType.toLowerCase());E=q(z);for(D=E.next();!D.done;D=E.next())H=D.value,\na.v.add(H.contentType.toLowerCase());a.c=Hd(f.keySystem,b.get(f.keySystem));if(!a.c.licenseServerUri)throw new L(2,6,6012,a.c.keySystem);return t(I,f.createMediaKeys(),13);case 13:G=I.b;kc(a.D);a.h=G;a.M=!0;ua(I,0);break;case 11:F=C(I);kc(a.D,F);a.c=null;a.v.clear();if(F instanceof L)throw F;throw new L(2,6,6002,F.message);}})}\nfunction td(a){a=Oc(a.i.clearKeys);if(0==a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=gd(f),h=gd(e);g={kty:\"oct\",kid:ed(g,!1),k:ed(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:N(wc(d)),initDataType:\"keyids\"}];return{keySystem:\"org.w3.clearkey\",licenseServerUri:\"data:application/json;base64,\"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:null,\ninitData:d,keyIds:new Set(c)}}\nfunction Cd(a,b){var c,d,e,f,g;return J(function(h){switch(h.a){case 1:try{c=a.h.createSession(\"persistent-license\")}catch(k){return d=new L(2,6,6005,k.message),a.g(d),h[\"return\"](Promise.reject(d))}a.b.l(c,\"message\",function(k){a.a&&a.i.delayLicenseRequestUntilPlayed&&a.a.paused&&!a.H?a.C.push(k):xd(a,k)});a.b.l(c,\"keystatuseschange\",function(k){return Id(a,k)});e={initData:null,loaded:!1,Wc:Infinity,ya:null};a.f.set(c,e);x(h,2);return t(h,c.load(b),4);case 4:f=h.b;kc(a.D);if(!f)return a.f[\"delete\"](c),\na.g(new L(2,6,6013)),h[\"return\"](Promise.resolve());e.loaded=!0;Jd(a)&&a.j.resolve();return h[\"return\"](c);case 2:g=C(h),kc(a.D,g),a.f[\"delete\"](c),a.g(new L(2,6,6005,g.message));case 3:return h[\"return\"](Promise.resolve())}})}\nfunction Dd(a,b,c){try{var d=a.w?a.h.createSession(\"persistent-license\"):a.h.createSession()}catch(e){a.g(new L(2,6,6005,e.message));return}a.b.l(d,\"message\",function(e){a.a&&a.i.delayLicenseRequestUntilPlayed&&a.a.paused&&!a.H?a.C.push(e):xd(a,e)});a.b.l(d,\"keystatuseschange\",function(e){return Id(a,e)});a.f.set(d,{initData:c,loaded:!1,Wc:Infinity,ya:null});try{c=a.i.initDataTransform(c,b,a.c)}catch(e){b=e;e instanceof L||(b=new L(2,6,6016,e));a.g(b);return}a.i.logLicenseExchange&&ed(c);d.generateRequest(b,\nc)[\"catch\"](function(e){if(!a.D.a){a.f[\"delete\"](d);var f=e.errorCode;if(f&&f.systemCode){var g=f.systemCode;0>g&&(g+=Math.pow(2,32));g=\"0x\"+g.toString(16)}a.g(new L(2,6,6006,e.message,e,g))}})}function Kd(a,b,c){\"skd\"==b&&(b=c.serverCertificate,c=Ac(a),a=Bc(a,c,b));return a}\nfunction xd(a,b){var c,d,e,f,g,h,k,l,m,n,r,u,v,y;J(function(z){switch(z.a){case 1:return c=b.target,a.i.logLicenseExchange&&ed(b.message),d=a.f.get(c),e=a.c.licenseServerUri,f=a.i.advanced[a.c.keySystem],\"individualization-request\"==b.messageType&&f&&f.individualizationServer&&(e=f.individualizationServer),g=cc([e],a.i.retryParameters),g.body=b.message,g.method=\"POST\",g.licenseRequestType=b.messageType,g.sessionId=c.sessionId,\"com.microsoft.playready\"!=a.c.keySystem&&\"com.chromecast.playready\"!=a.c.keySystem||\nLd(g),h=Date.now(),x(z,2),l=a.s.lb.request(2,g),t(z,l.promise,4);case 4:k=z.b;ua(z,3);break;case 2:return m=C(z),n=new L(2,6,6007,m),a.g(n),d&&d.ya&&d.ya.reject(n),z[\"return\"]();case 3:if(a.D.a)return z[\"return\"]();a.G+=(Date.now()-h)/1E3;a.i.logLicenseExchange&&ed(k.data);x(z,5);return t(z,c.update(k.data),7);case 7:ua(z,6);break;case 5:return r=C(z),u=new L(2,6,6008,r.message),a.g(u),d&&d.ya&&d.ya.reject(u),z[\"return\"]();case 6:v=new Q(\"drmsessionupdate\"),a.s.onEvent(v),d&&(d.ya&&d.ya.resolve(),\ny=new M(function(){d.loaded=!0;Jd(a)&&a.j.resolve()}),y.R(Md)),w(z)}})}\nfunction Ld(a){var b=uc(a.body,!0,!0);if(b.includes(\"PlayReadyKeyMessage\")){b=(new DOMParser).parseFromString(b,\"application/xml\");for(var c=q(b.getElementsByTagName(\"HttpHeader\")),d=c.next();!d.done;d=c.next())d=d.value,a.headers[d.getElementsByTagName(\"name\")[0].textContent]=d.getElementsByTagName(\"value\")[0].textContent;a.body=fd(b.getElementsByTagName(\"Challenge\")[0].textContent)}else a.headers[\"Content-Type\"]=\"text/xml; charset=utf-8\"}\nfunction Id(a,b){var c=b.target,d=a.f.get(c),e=!1;c.keyStatuses.forEach(function(g,h){if(\"string\"==typeof h){var k=h;h=g;g=k}if(\"com.microsoft.playready\"==a.c.keySystem&&16==h.byteLength&&(Zc(\"Trident/\")||Zc(\"Edge/\"))){k=Nb(h);var l=k.getUint32(0,!0),m=k.getUint16(4,!0),n=k.getUint16(6,!0);k.setUint32(0,l,!1);k.setUint16(4,m,!1);k.setUint16(6,n,!1)}\"com.microsoft.playready\"==a.c.keySystem&&\"status-pending\"==g&&(g=\"usable\");\"status-pending\"!=g&&(d.loaded=!0);\"expired\"==g&&(e=!0);k=hd(h);a.ca.set(k,\ng)});var f=c.expiration-Date.now();(0>f||e&&1E3>f)&&d&&!d.ya&&(a.f[\"delete\"](c),c.close()[\"catch\"](function(){}));Jd(a)&&(a.j.resolve(),a.I.R(Nd))}function kd(a){var b=a.ca,c=a.T;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return\"expired\"==d})&&a.g(new L(2,6,6014));a.s.ic(Pc(c))}\nfunction Od(){var a,b,c,d,e,f,g,h;return J(function(k){return 1==k.a?(a=\"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime\".split(\" \"),b=[{contentType:'video/mp4; codecs=\"avc1.42E01E\"'},{contentType:'video/webm; codecs=\"vp8\"'}],c={videoCapabilities:b},d={videoCapabilities:b,persistentState:\"required\",sessionTypes:[\"persistent-license\"]},e=[d,c],f=new Map,g=function(l){var m,n,r;return J(function(u){switch(u.a){case 1:return x(u,\n2),t(u,navigator.requestMediaKeySystemAccess(l,e),4);case 4:return m=u.b,r=(n=m.getConfiguration().sessionTypes)?n.includes(\"persistent-license\"):!1,Zc(\"Tizen 3\")&&(r=!1),f.set(l,{persistentState:r}),t(u,m.createMediaKeys(),5);case 5:ua(u,0);break;case 2:C(u),f.set(l,null),w(u)}})},h=a.map(function(l){return g(l)}),t(k,Promise.all(h),2)):k[\"return\"](Pc(f))})}\nfunction Pd(a){var b;return J(function(c){if(1==c.a)return b=new Promise(function(d,e){(new M(e)).R(Qd)}),x(c,2),t(c,Promise.race([Promise.all([a.close(),a.closed]),b]),4);if(2!=c.a)return ua(c,0);C(c);w(c)})}function nd(a){var b;return J(function(c){b=Array.from(a.f.keys());a.f.clear();return t(c,Promise.all(b.map(function(d){return J(function(e){if(1==e.a)return x(e,2),t(e,Pd(d),4);if(2!=e.a)return ua(e,0);C(e);w(e)})})),0)})}\nfunction Rd(a,b){var c=b.audio,d=b.video;if(c&&c.encrypted&&!Fd(a,Rc(c.mimeType,c.codecs))||d&&d.encrypted&&!Fd(a,Rc(d.mimeType,d.codecs)))return!1;var e=Ed(a.c);c=(d?d.drmInfos:[]).concat(c?c.drmInfos:[]);return 0==c.length||c.some(function(f){return f.keySystem==e})}\nfunction Sd(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=q(a),e=d.next();!e.done;e=d.next()){e=e.value;for(var f=q(b),g=f.next();!g.done;g=f.next())if(g=g.value,e.keySystem==g.keySystem){f=[];f=f.concat(e.initData||[]);f=f.concat(g.initData||[]);var h=e.keyIds&&g.keyIds?new Set(ha(e.keyIds).concat(ha(g.keyIds))):e.keyIds||g.keyIds;c.push({keySystem:e.keySystem,licenseServerUri:e.licenseServerUri||g.licenseServerUri,distinctiveIdentifierRequired:e.distinctiveIdentifierRequired||\ng.distinctiveIdentifierRequired,persistentStateRequired:e.persistentStateRequired||g.persistentStateRequired,videoRobustness:e.videoRobustness||g.videoRobustness,audioRobustness:e.audioRobustness||g.audioRobustness,serverCertificate:e.serverCertificate||g.serverCertificate,initData:f,keyIds:h});break}}return c}function ld(a){a.f.forEach(function(b,c){var d=b.Wc,e=c.expiration;isNaN(e)&&(e=Infinity);e!=d&&(a.s.onExpirationUpdated(c.sessionId,e),b.Wc=e)})}\nfunction Jd(a){a=a.f.values();return db(a,function(b){return b.loaded})}function ud(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:\"\",videoRobustness:\"\",serverCertificate:null,initData:[],keyIds:new Set})});for(var d=q(a),e=d.next();!e.done;e=d.next())e=e.value,e.video&&e.video.encrypted&&(e.video.drmInfos=c),e.audio&&e.audio.encrypted&&(e.audio.drmInfos=c)}\nfunction Hd(a,b){var c=[],d=[],e=[],f=new Set;Td(b.drmInfos,c,d,e,f);return{keySystem:a,licenseServerUri:c[0],distinctiveIdentifierRequired:\"required\"==b.distinctiveIdentifier,persistentStateRequired:\"required\"==b.persistentState,audioRobustness:(b.audioCapabilities?b.audioCapabilities[0].robustness:\"\")||\"\",videoRobustness:(b.videoCapabilities?b.videoCapabilities[0].robustness:\"\")||\"\",serverCertificate:d[0],initData:e,keyIds:f}}\nfunction Td(a,b,c,d,e){var f={};a=q(a);for(var g=a.next();!g.done;f={la:f.la},g=a.next()){f.la=g.value;b.includes(f.la.licenseServerUri)||b.push(f.la.licenseServerUri);f.la.serverCertificate&&(c.some(function(l){return function(m){return Jb(m,l.la.serverCertificate)}}(f))||c.push(f.la.serverCertificate));if(f.la.initData){g={};for(var h=q(f.la.initData),k=h.next();!k.done;g={Qb:g.Qb},k=h.next())g.Qb=k.value,d.some(function(l){return function(m){var n=l.Qb;return m.keyId&&m.keyId==n.keyId?!0:m.initDataType==\nn.initDataType&&Jb(m.initData,n.initData)}}(g))||d.push(g.Qb)}if(f.la.keyIds)for(g=q(f.la.keyIds),h=g.next();!h.done;h=g.next())e.add(h.value)}}\nfunction vd(a,b,c){if(a.keySystem&&(\"org.w3.clearkey\"!=a.keySystem||!a.licenseServerUri)){b.size&&(b=b.get(a.keySystem)||\"\",a.licenseServerUri=b);a.keyIds||(a.keyIds=new Set);if(c=c.get(a.keySystem))a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=c.persistentStateRequired),a.videoRobustness||(a.videoRobustness=c.videoRobustness),a.audioRobustness||(a.audioRobustness=c.audioRobustness),a.serverCertificate||\n(a.serverCertificate=c.serverCertificate);window.cast&&window.cast.__platform__&&\"com.microsoft.playready\"==a.keySystem&&(a.keySystem=\"com.chromecast.playready\")}}var Qd=1,Md=5,Nd=.5,Ud=new qc(function(){return Lb(new Uint8Array([0]))});function Vd(){this.a=new muxjs.mp4.CaptionParser;this.g=[];this.f={}}Vd.prototype.init=function(a){var b=muxjs.mp4.probe;a=N(a);this.g=b.videoTrackIds(a);this.f=b.timescale(a);this.a.init()};Vd.prototype.b=function(a,b){var c=N(a);(c=this.a.parse(c,this.g,this.f))&&c.captions&&b(c.captions);this.a.clearParsedCaptions()};Vd.prototype.c=function(){this.a.resetCaptionStream()};function Wd(){}Wd.prototype.init=function(){};Wd.prototype.b=function(){};Wd.prototype.c=function(){};function Xd(a){return!a||1==a.length&&1E-6>a.end(0)-a.start(0)?null:a.length?a.end(a.length-1):null}function Yd(a,b,c){c=void 0===c?0:c;return!a||!a.length||1==a.length&&1E-6>a.end(0)-a.start(0)||b>a.end(a.length-1)?!1:b+c>=a.start(0)}function Zd(a,b){if(!a||!a.length||1==a.length&&1E-6>a.end(0)-a.start(0))return 0;for(var c=0,d=q($d(a)),e=d.next();!e.done;e=d.next()){var f=e.value;e=f.start;f=f.end;f>b&&(c+=f-Math.max(e,b))}return c}\nfunction ae(a,b){if(!a||!a.length||1==a.length&&1E-6>a.end(0)-a.start(0))return null;var c=Zc(\"Edge/\")||Zc(\"Trident/\")||Zc(\"Tizen\")||Zc(\"CrKey\")?.5:.1,d=$d(a).findIndex(function(e,f,g){return e.start>b&&(0==f||g[f-1].end-b<=c)});return 0<=d?d:null}function $d(a){if(!a)return[];for(var b=[],c=q(fb(a.length)),d=c.next();!d.done;d=c.next())d=d.value,b.push({start:a.start(d),end:a.end(d)});return b};function be(){var a=this;this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0});this.b=null;this.h=[];this.c=[];this.g=[];this.f=!1;this.a.on(\"data\",function(b){a.c=b.captions;a.g=b.metadata;a.h.push(id(b.initSegment,b.data))});this.a.on(\"done\",function(){var b={data:id.apply(cd,ha(a.h)),captions:a.c,metadata:a.g};a.b.resolve(b);a.f=!1})}be.prototype.destroy=function(){this.a.dispose();this.a=null;return Promise.resolve()};\nfunction ce(a,b){if(!window.muxjs||\"mp2t\"!=a.toLowerCase().split(\";\")[0].split(\"/\")[1])return!1;if(b)return MediaSource.isTypeSupported(de(b,a));var c=de(\"audio\",a),d=de(\"video\",a);return MediaSource.isTypeSupported(c)||MediaSource.isTypeSupported(d)}\nfunction de(a,b){var c=b.replace(/mp2t/i,\"mp4\");\"audio\"==a&&(c=c.replace(\"video\",\"audio\"));var d=/avc1\\.(66|77|100)\\.(\\d+)/.exec(c);if(d){var e=\"avc1.\",f=d[1],g=Number(d[2]);e=(\"66\"==f?e+\"4200\":\"77\"==f?e+\"4d00\":e+\"6400\")+(g>>4).toString(16);e+=(g&15).toString(16);c=c.replace(d[0],e)}return c}function ee(a,b){a.f=!0;a.b=new Ab;a.h=[];a.c=[];a.g=[];var c=N(b);a.a.push(c);a.a.flush();a.f&&a.b.reject(new L(2,3,3018));return a.b};function fe(a,b,c){this.startTime=a;this.direction=ge;this.endTime=b;this.payload=c;this.region=new he;this.position=null;this.positionAlign=ie;this.size=0;this.textAlign=je;this.writingMode=ke;this.lineInterpretation=le;this.line=null;this.lineHeight=\"\";this.lineAlign=me;this.displayAlign=ne;this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color=\"\";this.fontWeight=oe;this.fontStyle=pe;this.linePadding=this.letterSpacing=this.fontFamily=\"\";this.opacity=1;this.textDecoration=\n[];this.wrapLine=!0;this.id=\"\";this.nestedCues=[];this.spacer=!1;this.cellResolution={columns:32,rows:15}}fe.prototype.clone=function(){var a=new fe(0,0,\"\"),b;for(b in this)a[b]=this[b],a[b]&&a[b].constructor==Array&&(a[b]=a[b].slice());return a};K(\"shaka.text.Cue\",fe);var ie=\"auto\";fe.positionAlign={LEFT:\"line-left\",RIGHT:\"line-right\",CENTER:\"center\",AUTO:ie};var je=\"center\",qe={LEFT:\"left\",RIGHT:\"right\",CENTER:je,START:\"start\",END:\"end\"};fe.textAlign=qe;\nvar ne=\"after\",re={BEFORE:\"before\",CENTER:\"center\",AFTER:ne};fe.displayAlign=re;var ge=\"ltr\";fe.direction={HORIZONTAL_LEFT_TO_RIGHT:ge,HORIZONTAL_RIGHT_TO_LEFT:\"rtl\"};var ke=\"horizontal-tb\";fe.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ke,VERTICAL_LEFT_TO_RIGHT:\"vertical-lr\",VERTICAL_RIGHT_TO_LEFT:\"vertical-rl\"};var le=0;fe.lineInterpretation={LINE_NUMBER:le,PERCENTAGE:1};var me=\"start\",se={CENTER:\"center\",START:me,END:\"end\"};fe.lineAlign=se;var oe=400;fe.fontWeight={NORMAL:oe,BOLD:700};\nvar pe=\"normal\",te={NORMAL:pe,ITALIC:\"italic\",OBLIQUE:\"oblique\"};fe.fontStyle=te;fe.textDecoration={UNDERLINE:\"underline\",LINE_THROUGH:\"lineThrough\",OVERLINE:\"overline\"};function he(){this.id=\"\";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ue;this.scroll=ve}K(\"shaka.text.CueRegion\",he);var ue=1;he.units={PX:0,PERCENTAGE:ue,LINES:2};var ve=\"\";he.scrollMode={NONE:ve,UP:\"up\"};function we(a){this.m=null;this.c=a;this.f=this.v=0;this.g=Infinity;this.b=this.a=null;this.j=\"\";this.h=new Map}function xe(a){return ye[a]||window.muxjs&&\"application/cea-608\"==a?!0:!1}we.prototype.destroy=function(){this.c=this.m=null;this.h.clear();return Promise.resolve()};\nfunction ze(a,b,c,d){var e,f,g;return J(function(h){if(1==h.a)return t(h,Promise.resolve(),2);if(!a.m||!a.c)return h[\"return\"]();if(null==c||null==d)return a.m.parseInit(N(b)),h[\"return\"]();e={periodStart:a.v,segmentStart:c,segmentEnd:d};f=a.m.parseMedia(N(b),e);g=f.filter(function(k){return k.startTime>=a.f&&k.startTime<a.g});a.c.append(g);null==a.a&&(a.a=Math.max(c,a.f));a.b=Math.min(d,a.g);w(h)})}\nwe.prototype.remove=function(a,b){var c=this;return J(function(d){if(1==d.a)return t(d,Promise.resolve(),2);!c.c||!c.c.remove(a,b)||null==c.a||b<=c.a||a>=c.b||(a<=c.a&&b>=c.b?c.a=c.b=null:a<=c.a&&b<c.b?c.a=b:a>c.a&&b>=c.b&&(c.b=a));w(d)})};function Ae(a,b,c){a.f=b;a.g=c}function Be(a,b,c){a.j=b;if(b=a.h.get(b))for(var d=q(b.keys()),e=d.next();!e.done;e=d.next())(e=b.get(e.value).filter(function(f){return f.endTime<=c}))&&a.c.append(e)}\nfunction Ce(a,b,c,d,e){var f=c+\" \"+d,g=new Map;b=q(b);for(var h=b.next();!h.done;h=b.next()){var k=h.value;h=k.stream;g.has(h)||g.set(h,new Map);g.get(h).has(f)||g.get(h).set(f,[]);k.startTime+=e;k.endTime+=e;k.startTime>=a.f&&k.startTime<a.g&&(k=new fe(k.startTime,k.endTime,k.text),g.get(h).get(f).push(k),h==a.j&&a.c.append([k]))}e=q(g.keys());for(f=e.next();!f.done;f=e.next())for(f=f.value,a.h.has(f)||a.h.set(f,new Map),b=q(g.get(f).keys()),h=b.next();!h.done;h=b.next())h=h.value,k=g.get(f).get(h),\na.h.get(f).set(h,k);a.a=null==a.a?Math.max(c,a.f):Math.min(a.a,Math.max(c,a.f));a.b=Math.max(a.b,Math.min(d,a.g))}K(\"shaka.text.TextEngine\",we);we.prototype.destroy=we.prototype.destroy;we.unregisterParser=function(a){delete ye[a]};we.registerParser=function(a,b){ye[a]=b};var ye={};function De(a,b,c,d){var e=this;this.a=a;this.h=c;this.f={};this.c=null;this.C=d||function(){};this.g={};this.b=new lc;this.m={};this.v=b;this.w=new Ab;this.j=Ee(this,this.w);this.D=new jc(function(){return Fe(e)})}function Ee(a,b){var c=new MediaSource;a.b.ha(c,\"sourceopen\",b.resolve);a.a.src=Ge(c);return c}function He(a){var b=Rc(a.mimeType,a.codecs),c=Sc(a);return xe(b)||MediaSource.isTypeSupported(c)||ce(b,a.type)}p=De.prototype;p.destroy=function(){return this.D.destroy()};\nfunction Fe(a){var b,c,d,e,f,g,h,k;return J(function(l){if(1==l.a){b=[];for(c in a.g)for(d=a.g[c],e=d[0],a.g[c]=d.slice(0,1),e&&b.push(e.p[\"catch\"](Ic)),f=q(d.slice(1)),g=f.next();!g.done;g=f.next())h=g.value,h.p.reject(new L(2,7,7003,void 0));a.c&&b.push(a.c.destroy());a.h&&b.push(a.h.destroy());for(k in a.m)b.push(a.m[k].destroy());return t(l,Promise.all(b),2)}a.b&&(a.b.release(),a.b=null);a.a&&(a.a.removeAttribute(\"src\"),a.a.load(),a.a=null);a.j=null;a.c=null;a.h=null;a.f={};a.m={};a.v=null;a.g=\n{};w(l)})}\np.init=function(a,b){var c=this,d,e,f,g,h,k,l;return J(function(m){if(1==m.a)return d=Nc,t(m,c.w,2);e={};f=q(a.keys());for(g=f.next();!g.done;e={ka:e.ka},g=f.next())e.ka=g.value,h=a.get(e.ka),k=Rc(h.mimeType,h.codecs),e.ka==d.$?Ie(c,k):(!b&&MediaSource.isTypeSupported(k)||!ce(k,e.ka)||(c.m[e.ka]=new be,k=de(e.ka,k)),l=c.j.addSourceBuffer(k),c.b.l(l,\"error\",function(n){return function(){c.g[n.ka][0].p.reject(new L(2,3,3014,c.a.error?c.a.error.code:0))}}(e)),c.b.l(l,\"updateend\",function(n){return function(){return Je(c,n.ka)}}(e)),\nc.f[e.ka]=l,c.g[e.ka]=[]);w(m)})};function Ie(a,b){a.c||(a.c=new we(a.h));\"application/cea-608\"!=b&&(a.c.m=Kc(ye[b]))}function Ke(a){return a.j?\"ended\"==a.j.readyState:!0}function Le(a,b){if(\"text\"==b)var c=a.c.a;else c=Me(a,b),c=!c||1==c.length&&1E-6>c.end(0)-c.start(0)?null:1==c.length&&0>c.start(0)?0:c.length?c.start(0):null;return c}function Ne(a,b){return\"text\"==b?a.c.b:Xd(Me(a,b))}function Oe(a,b,c){if(\"text\"==b)return a=a.c,null==a.b||a.b<c?0:a.b-Math.max(c,a.a);a=Me(a,b);return Zd(a,c)}\np.cc=function(){var a={total:$d(this.a.buffered),audio:$d(Me(this,\"audio\")),video:$d(Me(this,\"video\")),text:[]};if(this.c){var b=this.c.a,c=this.c.b;null!=b&&null!=c&&a.text.push({start:b,end:c})}return a};function Me(a,b){try{return a.f[b].buffered}catch(c){return null}}\nfunction Pe(a,b,c,d,e,f){var g,h,k,l;return J(function(m){if(1==m.a){g=Nc;if(b==g.$)return t(m,ze(a.c,c,d,e),0);if(a.m[b])return t(m,ee(a.m[b],c),10);f&&window.muxjs&&(a.c||Ie(a,\"text/vtt\"),null==d&&null==e?a.v.init(c):a.v.b(c,function(n){n.length&&Ce(a.c,n,d,e,a.f[g.Ba].timestampOffset)}));return t(m,Qe(a,b,function(){a.f[b].appendBuffer(c)}),0)}h=m.b;a.c||Ie(a,\"text/vtt\");h.metadata&&(k=a.f[b].timestampOffset,a.C(h.metadata,k,e));h.captions&&h.captions.length&&(l=a.f[g.Ba].timestampOffset,Ce(a.c,\nh.captions,d,e,l));return t(m,Qe(a,b,function(){a.f[b].appendBuffer(h.data)}),0)})}function Re(a,b){var c=Ne(a,\"video\")||0;Be(a.c,b,c)}p.remove=function(a,b,c){var d=this,e;return J(function(f){e=Nc;return a==e.$?t(f,d.c.remove(b,c),0):t(f,Qe(d,a,function(){c<=b?Je(d,a):d.f[a].remove(b,c)}),0)})};function Se(a,b){var c;return J(function(d){c=Nc;return b==c.$?a.c?t(d,a.c.remove(0,Infinity),0):d[\"return\"]():t(d,Qe(a,b,function(){var e=a.j.duration;0>=e?Je(a,b):a.f[b].remove(0,e)}),0)})}\np.flush=function(a){var b=this,c;return J(function(d){c=Nc;return a==c.$?d[\"return\"]():t(d,Qe(b,a,function(){b.a.currentTime-=.001;Je(b,a)}),0)})};\nfunction Te(a,b,c,d,e){var f;return J(function(g){f=Nc;return b==f.$?(a.c.v=c,Ae(a.c,d,e),g[\"return\"]()):t(g,Promise.all([Qe(a,b,function(){var h=a.f[b].appendWindowStart,k=a.f[b].appendWindowEnd;a.f[b].abort();a.f[b].appendWindowStart=h;a.f[b].appendWindowEnd=k;Je(a,b)}),Qe(a,b,function(){var h=c;0>h&&(h+=.001);a.f[b].timestampOffset=h;Je(a,b)}),Qe(a,b,function(){a.f[b].appendWindowStart=0;a.f[b].appendWindowEnd=e;a.f[b].appendWindowStart=d;Je(a,b)})]),0)})}\np.endOfStream=function(a){var b=this;return J(function(c){return t(c,Ue(b,function(){Ke(b)||(a?b.j.endOfStream(a):b.j.endOfStream())}),0)})};p.xa=function(a){var b=this;return J(function(c){return t(c,Ue(b,function(){b.j.duration=a}),0)})};p.getDuration=function(){return this.j.duration};function Je(a,b){var c=a.g[b][0];c&&(c.p.resolve(),Ve(a,b))}function Qe(a,b,c){kc(a.D);c={start:c,p:new Ab};a.g[b].push(c);1==a.g[b].length&&We(a,b);return c.p}\nfunction Ue(a,b){var c,d,e,f,g,h;return J(function(k){switch(k.a){case 1:kc(a.D);c=[];d={};for(e in a.f)d.ub=new Ab,f={start:function(l){return function(){return l.ub.resolve()}}(d),p:d.ub},a.g[e].push(f),c.push(d.ub),1==a.g[e].length&&f.start(),d={ub:d.ub};x(k,2);return t(k,Promise.all(c),4);case 4:ua(k,3);break;case 2:throw g=C(k),g;case 3:try{b()}catch(l){throw new L(2,3,3015,l);}finally{for(h in a.f)Ve(a,h)}w(k)}})}function Ve(a,b){a.g[b].shift();We(a,b)}\nfunction We(a,b){var c=a.g[b][0];if(c)try{c.start()}catch(d){\"QuotaExceededError\"==d.name?c.p.reject(new L(2,3,3017,b)):c.p.reject(new L(2,3,3015,d)),Ve(a,b)}}var Ge=window.URL.createObjectURL;function Xe(a,b){a=R(a);b=R(b);return a.split(\"-\")[0]==b.split(\"-\")[0]}function Ye(a,b){a=R(a);b=R(b);var c=a.split(\"-\"),d=b.split(\"-\");return c[0]==d[0]&&1==c.length&&2==d.length}function Ze(a,b){a=R(a);b=R(b);var c=a.split(\"-\"),d=b.split(\"-\");return 2==c.length&&2==d.length&&c[0]==d[0]}function R(a){var b=a.split(\"-\");a=b[0]||\"\";b=b[1]||\"\";a=a.toLowerCase();a=$e.get(a)||a;return(b=b.toUpperCase())?a+\"-\"+b:a}function af(a,b){a=R(a);b=R(b);return b==a?4:Ye(b,a)?3:Ze(b,a)?2:Ye(a,b)?1:0}\nfunction bf(a){return a.language?R(a.language):a.audio&&a.audio.language?R(a.audio.language):a.video&&a.video.language?R(a.video.language):\"und\"}\nfunction cf(a,b){for(var c=R(a),d=new Set,e=q(b),f=e.next();!f.done;f=e.next())d.add(R(f.value));e=q(d);for(f=e.next();!f.done;f=e.next())if(f=f.value,f==c)return f;e=q(d);for(f=e.next();!f.done;f=e.next())if(f=f.value,Ye(f,c))return f;e=q(d);for(f=e.next();!f.done;f=e.next())if(f=f.value,Ze(f,c))return f;d=q(d);for(f=d.next();!f.done;f=d.next())if(f=f.value,Ye(c,f))return f;return null}\nvar $e=new Map([[\"aar\",\"aa\"],[\"abk\",\"ab\"],[\"afr\",\"af\"],[\"aka\",\"ak\"],[\"alb\",\"sq\"],[\"amh\",\"am\"],[\"ara\",\"ar\"],[\"arg\",\"an\"],[\"arm\",\"hy\"],[\"asm\",\"as\"],[\"ava\",\"av\"],[\"ave\",\"ae\"],[\"aym\",\"ay\"],[\"aze\",\"az\"],[\"bak\",\"ba\"],[\"bam\",\"bm\"],[\"baq\",\"eu\"],[\"bel\",\"be\"],[\"ben\",\"bn\"],[\"bih\",\"bh\"],[\"bis\",\"bi\"],[\"bod\",\"bo\"],[\"bos\",\"bs\"],[\"bre\",\"br\"],[\"bul\",\"bg\"],[\"bur\",\"my\"],[\"cat\",\"ca\"],[\"ces\",\"cs\"],[\"cha\",\"ch\"],[\"che\",\"ce\"],[\"chi\",\"zh\"],[\"chu\",\"cu\"],[\"chv\",\"cv\"],[\"cor\",\"kw\"],[\"cos\",\"co\"],[\"cre\",\"cr\"],[\"cym\",\"cy\"],[\"cze\",\n\"cs\"],[\"dan\",\"da\"],[\"deu\",\"de\"],[\"div\",\"dv\"],[\"dut\",\"nl\"],[\"dzo\",\"dz\"],[\"ell\",\"el\"],[\"eng\",\"en\"],[\"epo\",\"eo\"],[\"est\",\"et\"],[\"eus\",\"eu\"],[\"ewe\",\"ee\"],[\"fao\",\"fo\"],[\"fas\",\"fa\"],[\"fij\",\"fj\"],[\"fin\",\"fi\"],[\"fra\",\"fr\"],[\"fre\",\"fr\"],[\"fry\",\"fy\"],[\"ful\",\"ff\"],[\"geo\",\"ka\"],[\"ger\",\"de\"],[\"gla\",\"gd\"],[\"gle\",\"ga\"],[\"glg\",\"gl\"],[\"glv\",\"gv\"],[\"gre\",\"el\"],[\"grn\",\"gn\"],[\"guj\",\"gu\"],[\"hat\",\"ht\"],[\"hau\",\"ha\"],[\"heb\",\"he\"],[\"her\",\"hz\"],[\"hin\",\"hi\"],[\"hmo\",\"ho\"],[\"hrv\",\"hr\"],[\"hun\",\"hu\"],[\"hye\",\"hy\"],[\"ibo\",\"ig\"],[\"ice\",\n\"is\"],[\"ido\",\"io\"],[\"iii\",\"ii\"],[\"iku\",\"iu\"],[\"ile\",\"ie\"],[\"ina\",\"ia\"],[\"ind\",\"id\"],[\"ipk\",\"ik\"],[\"isl\",\"is\"],[\"ita\",\"it\"],[\"jav\",\"jv\"],[\"jpn\",\"ja\"],[\"kal\",\"kl\"],[\"kan\",\"kn\"],[\"kas\",\"ks\"],[\"kat\",\"ka\"],[\"kau\",\"kr\"],[\"kaz\",\"kk\"],[\"khm\",\"km\"],[\"kik\",\"ki\"],[\"kin\",\"rw\"],[\"kir\",\"ky\"],[\"kom\",\"kv\"],[\"kon\",\"kg\"],[\"kor\",\"ko\"],[\"kua\",\"kj\"],[\"kur\",\"ku\"],[\"lao\",\"lo\"],[\"lat\",\"la\"],[\"lav\",\"lv\"],[\"lim\",\"li\"],[\"lin\",\"ln\"],[\"lit\",\"lt\"],[\"ltz\",\"lb\"],[\"lub\",\"lu\"],[\"lug\",\"lg\"],[\"mac\",\"mk\"],[\"mah\",\"mh\"],[\"mal\",\"ml\"],[\"mao\",\n\"mi\"],[\"mar\",\"mr\"],[\"may\",\"ms\"],[\"mkd\",\"mk\"],[\"mlg\",\"mg\"],[\"mlt\",\"mt\"],[\"mon\",\"mn\"],[\"mri\",\"mi\"],[\"msa\",\"ms\"],[\"mya\",\"my\"],[\"nau\",\"na\"],[\"nav\",\"nv\"],[\"nbl\",\"nr\"],[\"nde\",\"nd\"],[\"ndo\",\"ng\"],[\"nep\",\"ne\"],[\"nld\",\"nl\"],[\"nno\",\"nn\"],[\"nob\",\"nb\"],[\"nor\",\"no\"],[\"nya\",\"ny\"],[\"oci\",\"oc\"],[\"oji\",\"oj\"],[\"ori\",\"or\"],[\"orm\",\"om\"],[\"oss\",\"os\"],[\"pan\",\"pa\"],[\"per\",\"fa\"],[\"pli\",\"pi\"],[\"pol\",\"pl\"],[\"por\",\"pt\"],[\"pus\",\"ps\"],[\"que\",\"qu\"],[\"roh\",\"rm\"],[\"ron\",\"ro\"],[\"rum\",\"ro\"],[\"run\",\"rn\"],[\"rus\",\"ru\"],[\"sag\",\"sg\"],[\"san\",\n\"sa\"],[\"sin\",\"si\"],[\"slk\",\"sk\"],[\"slo\",\"sk\"],[\"slv\",\"sl\"],[\"sme\",\"se\"],[\"smo\",\"sm\"],[\"sna\",\"sn\"],[\"snd\",\"sd\"],[\"som\",\"so\"],[\"sot\",\"st\"],[\"spa\",\"es\"],[\"sqi\",\"sq\"],[\"srd\",\"sc\"],[\"srp\",\"sr\"],[\"ssw\",\"ss\"],[\"sun\",\"su\"],[\"swa\",\"sw\"],[\"swe\",\"sv\"],[\"tah\",\"ty\"],[\"tam\",\"ta\"],[\"tat\",\"tt\"],[\"tel\",\"te\"],[\"tgk\",\"tg\"],[\"tgl\",\"tl\"],[\"tha\",\"th\"],[\"tib\",\"bo\"],[\"tir\",\"ti\"],[\"ton\",\"to\"],[\"tsn\",\"tn\"],[\"tso\",\"ts\"],[\"tuk\",\"tk\"],[\"tur\",\"tr\"],[\"twi\",\"tw\"],[\"uig\",\"ug\"],[\"ukr\",\"uk\"],[\"urd\",\"ur\"],[\"uzb\",\"uz\"],[\"ven\",\"ve\"],[\"vie\",\n\"vi\"],[\"vol\",\"vo\"],[\"wel\",\"cy\"],[\"wln\",\"wa\"],[\"wol\",\"wo\"],[\"xho\",\"xh\"],[\"yid\",\"yi\"],[\"yor\",\"yo\"],[\"zha\",\"za\"],[\"zho\",\"zh\"],[\"zul\",\"zu\"]]);function df(a,b){function c(l){var m=\"\";l.video&&(m=Uc(l.video.codecs)[0]);var n=\"\";l.audio&&(n=Uc(l.audio.codecs)[0]);return m+\"-\"+n}var d=ef(a.variants,b),e=new Ob;d=q(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=c(f);e.push(g,f)}var h=null,k=Infinity;Qb(e,function(l,m){for(var n=0,r=0,u=q(m),v=u.next();!v.done;v=u.next())n+=v.value.bandwidth||0,++r;n/=r;n<k&&(h=l,k=n)});a.variants=a.variants.filter(function(l){return c(l)==h?!0:!1})}\nfunction ff(a,b,c){function d(f,g,h){return f>=g&&f<=h}var e=a.video;return e&&e.width&&e.height&&(!d(e.width,b.minWidth,Math.min(b.maxWidth,c.width))||!d(e.height,b.minHeight,Math.min(b.maxHeight,c.height))||!d(e.width*e.height,b.minPixels,b.maxPixels))||a&&a.video&&a.video.frameRate&&!d(a.video.frameRate,b.minFrameRate,b.maxFrameRate)||!d(a.bandwidth,b.minBandwidth,b.maxBandwidth)?!1:!0}\nfunction gf(a,b,c){c.variants=c.variants.filter(function(d){if(a&&a.M&&!Rd(a,d))return!1;var e=d.audio;d=d.video;return e&&!He(e)||d&&!He(d)||e&&b&&b.audio&&!hf(e,b.audio)||d&&b&&b.video&&!hf(d,b.video)?!1:!0});c.textStreams=c.textStreams.filter(function(d){return xe(Rc(d.mimeType,d.codecs))})}function hf(a,b){return a.mimeType!=b.mimeType||a.codecs.split(\".\")[0]!=b.codecs.split(\".\")[0]?!1:!0}\nfunction jf(a){var b=a.audio,c=a.video,d=b?b.codecs:null,e=c?c.codecs:null,f=[];e&&f.push(e);d&&f.push(d);var g=[];c&&g.push(c.mimeType);b&&g.push(b.mimeType);g=g[0]||null;var h=[];b&&h.push(b.kind);c&&h.push(c.kind);h=h[0]||null;var k=new Set;if(b)for(var l=q(b.roles),m=l.next();!m.done;m=l.next())k.add(m.value);if(c)for(l=q(c.roles),m=l.next();!m.done;m=l.next())k.add(m.value);a={id:a.id,active:!1,type:\"variant\",bandwidth:a.bandwidth,language:a.language,label:null,kind:h,width:null,height:null,\nframeRate:null,pixelAspectRatio:null,mimeType:g,codecs:f.join(\", \"),audioCodec:d,videoCodec:e,primary:a.primary,roles:Array.from(k),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null};c&&(a.videoId=c.id,a.originalVideoId=c.originalId,a.width=c.width||null,a.height=c.height||null,a.frameRate=c.frameRate||null,a.pixelAspectRatio=c.pixelAspectRatio||null,a.videoBandwidth=\nc.bandwidth||null);b&&(a.audioId=b.id,a.originalAudioId=b.originalId,a.channelsCount=b.channelsCount,a.audioSamplingRate=b.audioSamplingRate,a.audioBandwidth=b.bandwidth||null,a.label=b.label,a.audioRoles=b.roles);return a}\nfunction kf(a){return{id:a.id,active:!1,type:\"text\",bandwidth:0,language:a.language,label:a.label,kind:a.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:a.mimeType,codecs:a.codecs||null,audioCodec:null,videoCodec:null,primary:a.primary,roles:a.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:a.originalId}}\nfunction lf(a){a.__shaka_id||(a.__shaka_id=mf++);return a.__shaka_id}function nf(a){var b=of(a);b.active=a.enabled;b.type=\"variant\";b.originalAudioId=a.id;\"main\"==a.kind&&(b.primary=!0);a.kind&&(b.roles=[a.kind],b.audioRoles=[a.kind]);return b}\nfunction of(a){return{id:lf(a),active:!1,type:\"\",bandwidth:0,language:R(a.language),label:a.label,kind:a.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}\nfunction pf(a){return a.allowedByApplication&&a.allowedByKeySystem}function qf(a){return a.filter(function(b){return pf(b)})}\nfunction ef(a,b){var c=a.filter(function(g){return g.audio&&g.audio.channelsCount}),d=new Map;c=q(c);for(var e=c.next();!e.done;e=c.next()){e=e.value;var f=e.audio.channelsCount;d.has(f)||d.set(f,[]);d.get(f).push(e)}c=Array.from(d.keys());if(0==c.length)return a;e=c.filter(function(g){return g<=b});return e.length?d.get(Math.max.apply(Math,ha(e))):d.get(Math.min.apply(Math,ha(c)))}\nfunction rf(a,b,c){var d=a,e=a.filter(function(h){return h.primary});e.length&&(d=e);var f=d.length?d[0].language:\"\";d=d.filter(function(h){return h.language==f});if(b){var g=cf(R(b),a.map(function(h){return h.language}));g&&(d=a.filter(function(h){return R(h.language)==g}))}if(c){if(a=sf(d,c),a.length)return a}else if(a=d.filter(function(h){return 0==h.roles.length}),a.length)return a;a=d.map(function(h){return h.roles}).reduce(Hc,[]);return a.length?sf(d,a[0]):d}\nfunction sf(a,b){return a.filter(function(c){return c.roles.includes(b)})}var mf=0;function tf(){this.h=null;this.c=!1;this.a=new Ta;this.b=[];this.g=1;this.j=!1;this.i=this.f=null}p=tf.prototype;p.stop=function(){this.h=null;this.c=!1;this.b=[];this.g=1;this.f=null};p.init=function(a){this.h=a};\np.chooseVariant=function(){var a=uf(this.i.restrictions,this.b),b=this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate);this.b.length&&!a.length&&(a=uf(null,this.b),a=[a[0]]);var c=a[0]||null;a=q(hb(a));for(var d=a.next();!d.done;d=a.next()){var e=d.value;d=e.item;var f=isNaN(this.g)?1:Math.abs(this.g);e=f*(e.next||{bandwidth:Infinity}).bandwidth/this.i.bandwidthUpgradeTarget;b>=f*d.bandwidth/this.i.bandwidthDowngradeTarget&&b<=e&&(c=d)}this.f=Date.now();return c};\np.enable=function(){this.c=!0};p.disable=function(){this.c=!1};p.segmentDownloaded=function(a,b){var c=this.a;if(!(16E3>b)){var d=8E3*b/a,e=a/1E3;c.a+=b;Oa(c.b,e,d);Oa(c.c,e,d)}if(null!=this.f&&this.c)a:{if(!this.j){if(!(128E3<=this.a.a))break a;this.j=!0}else if(Date.now()-this.f<1E3*this.i.switchInterval)break a;c=this.chooseVariant();this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate);c&&this.h(c)}};p.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)};\np.setVariants=function(a){this.b=a};p.playbackRateChanged=function(a){this.g=a};p.configure=function(a){this.i=a};function uf(a,b){a&&(b=b.filter(function(c){return ff(c,a,{width:Infinity,height:Infinity})}));return b.sort(function(c,d){return c.bandwidth-d.bandwidth})}K(\"shaka.abr.SimpleAbrManager\",tf);tf.prototype.configure=tf.prototype.configure;tf.prototype.playbackRateChanged=tf.prototype.playbackRateChanged;tf.prototype.setVariants=tf.prototype.setVariants;\ntf.prototype.getBandwidthEstimate=tf.prototype.getBandwidthEstimate;tf.prototype.segmentDownloaded=tf.prototype.segmentDownloaded;tf.prototype.disable=tf.prototype.disable;tf.prototype.enable=tf.prototype.enable;tf.prototype.chooseVariant=tf.prototype.chooseVariant;tf.prototype.init=tf.prototype.init;tf.prototype.stop=tf.prototype.stop;function vf(a,b){this.a=a;this.b=new Set([a]);b=b||[];for(var c=q(b),d=c.next();!d.done;d=c.next())this.add(d.value)}vf.prototype.add=function(a){return wf(this.a,a)?(this.b.add(a),!0):!1};function wf(a,b){var c;if(!(c=!!a.audio!=!!b.audio||!!a.video!=!!b.video||a.language!=b.language)&&(c=a.audio&&b.audio)){c=a.audio;var d=b.audio;c=!(c.channelsCount==d.channelsCount&&xf(c,d)&&yf(c.roles,d.roles))}!c&&(c=a.video&&b.video)&&(c=a.video,d=b.video,c=!(xf(c,d)&&yf(c.roles,d.roles)));return c?!1:!0}\nvf.prototype.values=function(){return this.b.values()};function xf(a,b){if(a.mimeType!=b.mimeType)return!1;var c=a.codecs.split(\",\").map(function(g){return Uc(g)[0]}),d=b.codecs.split(\",\").map(function(g){return Uc(g)[0]});if(c.length!=d.length)return!1;c.sort();d.sort();for(var e=q(fb(c.length)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!=d[f])return!1;return!0}\nfunction yf(a,b){var c=new Set(a),d=new Set(b);c[\"delete\"](\"main\");d[\"delete\"](\"main\");if(c.size!=d.size)return!1;c=q(c);for(var e=c.next();!e.done;e=c.next())if(!d.has(e.value))return!1;return!0};function zf(a){this.a=a;this.b=new Af(a.language,\"\",a.audio&&a.audio.channelsCount?a.audio.channelsCount:0,\"\")}zf.prototype.create=function(a){var b=this,c=a.filter(function(d){return wf(b.a,d)});return c.length?new vf(c[0],c):this.b.create(a)};function Af(a,b,c,d,e){this.f=a;this.c=b;this.a=c;this.b=void 0===d?\"\":d;this.g=void 0===e?\"\":e}\nAf.prototype.create=function(a){var b=[];b=Bf(a,this.f);var c=a.filter(function(d){return d.primary});b=b.length?b:c.length?c:a;this.c&&(a=Cf(b,this.c,this.g),a.length&&(b=a));this.a&&(a=ef(b,this.a),a.length&&(b=a));this.b&&(a=Df(b,this.b),a.length&&(b=a));a=new vf(b[0]);b=q(b);for(c=b.next();!c.done;c=b.next())c=c.value,wf(a.a,c)&&a.add(c);return a};function Bf(a,b){var c=R(b),d=cf(c,a.map(function(e){return bf(e)}));return d?a.filter(function(e){return d==bf(e)}):[]}\nfunction Cf(a,b,c){return a.filter(function(d){if(c){var e=d[c];return e&&e.roles.includes(b)}e=d.audio;d=d.video;return e&&e.roles.includes(b)||d&&d.roles.includes(b)})}function Df(a,b){return a.filter(function(c){return c.audio?c.audio.label.toLowerCase()==b.toLowerCase():!1})};function Ef(){this.a=Ff;this.b=(new Map).set(Ff,2).set(Gf,1)}function Hf(a,b,c){a.b.set(Ff,c).set(Gf,b)}var Gf=0,Ff=1;function If(){}function Jf(a,b,c,d){var e,f,g,h;return J(function(k){if(1==k.a){if(d&&(e=Kf[d.toLowerCase()]))return k[\"return\"](e);if(f=Lf(a))if(g=Mf[f])return k[\"return\"](g);return d?k.u(2):t(k,Nf(a,b,c),3)}if(2!=k.a&&(d=k.b)&&(h=Kf[d]))return k[\"return\"](h);throw new L(2,4,4E3,a);})}\nfunction Nf(a,b,c){var d,e,f;return J(function(g){if(1==g.a)return d=cc([a],c),d.method=\"HEAD\",t(g,b.request(0,d).promise,2);e=g.b;f=e.headers[\"content-type\"];return g[\"return\"](f?f.toLowerCase().split(\";\").shift():\"\")})}function Lf(a){a=(new jb(a)).ia.split(\"/\").pop().split(\".\");return 1==a.length?\"\":a.pop().toLowerCase()}K(\"shaka.media.ManifestParser\",If);If.unregisterParserByMime=function(a){delete Kf[a]};If.registerParserByMime=function(a,b){Kf[a]=b};\nIf.registerParserByExtension=function(a,b){Mf[a]=b};var Kf={},Mf={};function Of(a,b,c){this.c=a;this.b=b;this.a=c}Of.prototype.Kc=function(){return this.b};Of.prototype.Jc=function(){return this.a};K(\"shaka.media.InitSegmentReference\",Of);Of.prototype.getEndByte=Of.prototype.Jc;Of.prototype.getStartByte=Of.prototype.Kc;function Pf(a,b,c,d,e,f,g,h,k){this.startTime=a;this.endTime=b;this.c=c;this.b=d;this.a=e;this.f=f;this.timestampOffset=g;this.appendWindowStart=h;this.appendWindowEnd=k}Pf.prototype.ve=function(){return this.startTime};Pf.prototype.ie=function(){return this.endTime};\nPf.prototype.Kc=function(){return this.b};Pf.prototype.Jc=function(){return this.a};K(\"shaka.media.SegmentReference\",Pf);Pf.prototype.getEndByte=Pf.prototype.Jc;Pf.prototype.getStartByte=Pf.prototype.Kc;Pf.prototype.getEndTime=Pf.prototype.ie;Pf.prototype.getStartTime=Pf.prototype.ve;function S(a,b,c){this.f=a;this.lc=b;this.h=this.g=Infinity;this.a=1;this.b=this.c=null;this.j=0;this.m=!0;this.v=0;this.w=void 0===c?!0:c}p=S.prototype;p.getDuration=function(){return this.g};p.ne=function(){return this.a};p.xa=function(a){this.g=a};p.ue=function(){return this.f};p.Od=function(a){this.j=a};p.Nb=function(a){this.m=a};p.kd=function(a){this.h=a};p.We=function(a){this.lc=a};p.he=function(){return this.lc};\np.mb=function(a){if(0!=a.length){var b=a[a.length-1].endTime;this.Uc(a[0].startTime);this.a=a.reduce(function(c,d){return Math.max(c,d.endTime-d.startTime)},this.a);this.b=Math.max(this.b,b);null!=this.f&&this.w&&(this.f=(Date.now()+this.j)/1E3-this.b-this.a)}};p.Uc=function(a){this.c=null==this.c?a:Math.min(this.c,a)};p.Tc=function(a){this.a=Math.max(this.a,a)};p.offset=function(a){null!=this.c&&(this.c+=a);null!=this.b&&(this.b+=a)};p.S=function(){return Infinity==this.g&&!this.m};\np.Ta=function(){return Infinity!=this.g&&!this.m};p.Qa=function(){return Math.max(this.v,this.Ka()-this.h)};p.Pd=function(a){this.v=a};p.Ka=function(){return this.S()||this.Ta()?Math.min(Math.max(0,(Date.now()+this.j)/1E3-this.a-this.f),this.g):this.g};p.Eb=function(a){var b=Math.max(this.c,this.v);return Infinity==this.h?b:Math.max(b,Math.min(this.Ka()-this.h+a,this.Da()))};p.ib=function(){return this.Eb(0)};p.Da=function(){return Math.max(0,this.Ka()-(this.S()||this.Ta()?this.lc:0))};\np.Sd=function(){return null==this.f||null!=this.b&&this.w?!1:!0};K(\"shaka.media.PresentationTimeline\",S);S.prototype.usingPresentationStartTime=S.prototype.Sd;S.prototype.getSeekRangeEnd=S.prototype.Da;S.prototype.getSeekRangeStart=S.prototype.ib;S.prototype.getSafeSeekRangeStart=S.prototype.Eb;S.prototype.getSegmentAvailabilityEnd=S.prototype.Ka;S.prototype.setUserSeekStart=S.prototype.Pd;S.prototype.getSegmentAvailabilityStart=S.prototype.Qa;S.prototype.isInProgress=S.prototype.Ta;\nS.prototype.isLive=S.prototype.S;S.prototype.offset=S.prototype.offset;S.prototype.notifyMaxSegmentDuration=S.prototype.Tc;S.prototype.notifyMinSegmentStartTime=S.prototype.Uc;S.prototype.notifySegments=S.prototype.mb;S.prototype.getDelay=S.prototype.he;S.prototype.setDelay=S.prototype.We;S.prototype.setSegmentAvailabilityDuration=S.prototype.kd;S.prototype.setStatic=S.prototype.Nb;S.prototype.setClockOffset=S.prototype.Od;S.prototype.getPresentationStartTime=S.prototype.ue;\nS.prototype.setDuration=S.prototype.xa;S.prototype.getMaxSegmentDuration=S.prototype.ne;S.prototype.getDuration=S.prototype.getDuration;function Qf(a,b){this.g=a;this.h=Rf(a);this.a=a.a.currentTime;this.f=Date.now()/1E3;this.b=!1;this.j=b;this.c=function(){}}Qf.prototype.release=function(){this.g=null;this.c=function(){}};function Sf(a,b){a.c=b}function Tf(a){this.a=a}function Rf(a){if(a.a.paused||0==a.a.playbackRate||0==a.a.buffered.length)var b=!1;else a:{b=a.a.currentTime;a=q($d(a.a.buffered));for(var c=a.next();!c.done;c=a.next())if(c=c.value,!(b<c.start-.1||b>c.end-.5)){b=!0;break a}b=!1}return b};function Uf(a,b,c,d,e){var f=this;this.a=a;this.w=b;this.i=c;this.v=e;this.b=new lc;this.j=!1;this.m=a.readyState;this.f=!1;this.c=d;this.h=!1;this.b.l(a,\"waiting\",function(){return Vf(f)});this.g=(new M(function(){Vf(f)})).oa(.25)}Uf.prototype.release=function(){this.b&&(this.b.release(),this.b=null);null!=this.g&&(this.g.stop(),this.g=null);this.c&&(this.c.release(),this.c=null);this.a=this.w=this.v=null};Uf.prototype.Xc=function(){this.h=!0;Vf(this)};\nfunction Vf(a){if(0!=a.a.readyState){if(a.a.seeking){if(!a.j)return}else a.j=!1;if(!a.a.paused){a.a.readyState!=a.m&&(a.f=!1,a.m=a.a.readyState);var b;if(!(b=!a.c)){b=a.c;var c=b.g,d=Rf(c),e=c.a.currentTime,f=Date.now()/1E3;if(b.a!=e||b.h!=d)b.f=f,b.a=e,b.h=d,b.b=!1;e=f-b.f;if(d=e>=b.j&&d&&!b.b)b.c(b.a,e),b.b=!0,b.a=c.a.currentTime;b=!d}if(b){var g=a.i.smallGapLimit;e=a.a.currentTime;b=a.a.buffered;c=ae(b,e);if(!(null==c||0==c&&!a.h||(d=b.start(c),d>=a.w.Da()))){f=d-e;g=f<=g;var h=!1;.001>f||(g||\na.f||(a.f=!0,e=new Q(\"largegap\",{currentTime:e,gapSize:f}),e.cancelable=!0,a.v(e),a.i.jumpLargeGaps&&!e.defaultPrevented&&(h=!0)),!g&&!h)||(0!=c&&b.end(c-1),a.a.currentTime=d)}}}}};function Wf(a,b,c,d){b==HTMLMediaElement.HAVE_NOTHING||a.readyState>=b?d():(b=Xf.get(b),c.ha(a,b,d))}var Xf=new Map([[HTMLMediaElement.HAVE_METADATA,\"loadedmetadata\"],[HTMLMediaElement.HAVE_CURRENT_DATA,\"loadeddata\"],[HTMLMediaElement.HAVE_FUTURE_DATA,\"canplay\"],[HTMLMediaElement.HAVE_ENOUGH_DATA,\"canplaythrough\"]]);function Yf(a,b,c){var d=this;this.a=a;this.g=b;this.f=c;this.h=!1;this.b=new lc;this.c=new Zf(a);Wf(this.a,HTMLMediaElement.HAVE_METADATA,this.b,function(){$f(d,d.f)})}Yf.prototype.release=function(){this.b&&(this.b.release(),this.b=null);null!=this.c&&(this.c.release(),this.c=null);this.g=function(){};this.a=null};function ag(a){return a.h?a.a.currentTime:a.f}function bg(a,b){0<a.a.readyState?cg(a.c,b):Wf(a.a,HTMLMediaElement.HAVE_METADATA,a.b,function(){$f(a,a.f)})}\nfunction $f(a,b){.001>Math.abs(a.a.currentTime-b)?dg(a):(a.b.ha(a.a,\"seeking\",function(){dg(a)}),cg(a.c,0==a.a.currentTime?b:a.a.currentTime))}function dg(a){a.h=!0;a.b.l(a.a,\"seeking\",function(){return a.g()})}function Zf(a){var b=this;this.b=a;this.h=10;this.g=this.f=this.c=0;this.a=new M(function(){0>=b.c?b.a.stop():b.b.currentTime!=b.f?b.a.stop():(b.b.currentTime=b.g,b.c--)})}Zf.prototype.release=function(){this.a&&(this.a.stop(),this.a=null);this.b=null};\nfunction cg(a,b){a.f=a.b.currentTime;a.g=b;a.c=a.h;a.b.currentTime=b;a.a.oa(.1)};function eg(a){function b(){null==c.c?c.f=!0:(c.b.ha(c.a,\"seeking\",function(){c.f=!0}),c.a.currentTime=Math.max(0,c.a.currentTime+c.c))}var c=this;this.a=a;this.f=!1;this.c=null;this.b=new lc;Wf(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,function(){b()})}eg.prototype.release=function(){this.b&&(this.b.release(),this.b=null);this.a=null};eg.prototype.m=function(a){this.c=this.f?this.c:a};eg.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0};eg.prototype.v=function(){};\nfunction fg(a,b,c,d,e,f){var g=this;this.b=a;this.a=b.presentationTimeline;this.C=b.minBufferTime||0;this.i=c;this.w=e;this.j=null;this.f=new Uf(a,b.presentationTimeline,c,gg(a,c),f);this.c=new Yf(a,function(){a:{var h=g.f;h.j=!0;h.h=!1;h.f=!1;var k=ag(g.c);h=hg(g,k);if(.001<Math.abs(h-k)&&(k=(new Date).getTime()/1E3,!g.j||g.j<k-1)){g.j=k;bg(g.c,h);h=void 0;break a}g.w();h=void 0}return h},ig(this,d));this.h=(new M(function(){if(0!=g.b.readyState&&!g.b.paused){var h=g.b.currentTime,k=g.a.ib(),l=g.a.Da();\n3>l-k&&(k=l-3);h<k&&(h=hg(g,h),g.b.currentTime=h)}})).oa(.25)}fg.prototype.release=function(){this.c&&(this.c.release(),this.c=null);this.f&&(this.f.release(),this.f=null);this.h&&(this.h.stop(),this.h=null);this.b=this.c=this.a=this.i=null;this.w=function(){}};fg.prototype.m=function(a){bg(this.c,a)};fg.prototype.g=function(){var a=ag(this.c);return 0<this.b.readyState&&!this.b.paused?jg(this,a):a};\nfunction ig(a,b){null==b?b=Infinity>a.a.getDuration()?a.a.ib():a.a.Da():0>b&&(b=a.a.Da()+b);return kg(a,jg(a,b))}fg.prototype.v=function(){this.f.Xc()};function kg(a,b){var c=a.a.getDuration();return b>=c?c-a.i.durationBackoff:b}function hg(a,b){var c=Math.max(a.C,a.i.rebufferingGoal),d=a.i.safeSeekOffset,e=a.a.ib(),f=a.a.Da(),g=a.a.getDuration();3>f-e&&(e=f-3);var h=a.a.Eb(c),k=a.a.Eb(d);c=a.a.Eb(c+d);return b>=g?kg(a,b):b>f?f:b<e?Yd(a.b.buffered,k)?k:c:b>=h||Yd(a.b.buffered,b)?b:c}\nfunction jg(a,b){var c=a.a.ib();if(b<c)return c;c=a.a.Da();return b>c?c:b}function gg(a,b){if(!b.stallEnabled)return null;var c=b.stallSkip,d=new Qf(new Tf(a),b.stallThreshold);Sf(d,function(){c?a.currentTime+=c:(a.pause(),a.play())});return d};function lg(a){var b=this;this.a=a;this.f=!1;this.b=this.a.ec();this.c=new M(function(){b.a.Fd(.25*b.b)})}lg.prototype.release=function(){this.c&&(this.c.stop(),this.c=null);this.a=null};lg.prototype.set=function(a){this.b=a;mg(this)};function mg(a){a.c.stop();var b=a.f?0:a.b;if(0<=b)try{a.a.ec()!=b&&a.a.jd(b);return}catch(c){}a.c.oa(.25);0!=a.a.ec()&&a.a.jd(0)};function ng(a){var b=this;this.c=a;this.a=new Set;this.b=(new M(function(){og(b,!1)})).oa(.25)}ng.prototype.release=function(){this.b.stop();for(var a=q(this.a),b=a.next();!b.done;b=a.next())b.value.release();this.a.clear()};\nfunction og(a,b){for(var c=q(a.a),d=c.next();!d.done;d=c.next()){d=d.value;for(var e=a.c.currentTime,f=b,g=q(d.g.a),h=g.next();!h.done;h=g.next()){h=h.value;var k=d.f.get(h),l=e<h.startTime?pg:e>h.endTime?qg:rg;d.f.set(h,l);for(var m=q(d.h),n=m.next();!n.done;n=m.next())n=n.value,n.ab==k&&n.$a==l&&n.Sa(h,f)}}};function sg(a){var b=this;this.b=function(){};this.a=new Set;this.f=a;this.c=(new M(function(){for(var c=b.f(),d=q(b.a),e=d.next();!e.done;e=d.next())e=e.value,e.endTime<c.start&&b.a[\"delete\"](e)})).oa(2)}sg.prototype.release=function(){this.b=function(){};this.a.clear();this.c.stop()};function tg(a,b){a.b=b};function ug(a){var b=this;this.g=a;this.f=new Map;this.a=function(){};this.b=function(){};this.c=function(){};this.h=[{ab:null,$a:rg,Sa:function(c,d){return b.a(c,d)}},{ab:pg,$a:rg,Sa:function(c,d){return b.a(c,d)}},{ab:qg,$a:rg,Sa:function(c,d){return b.a(c,d)}},{ab:rg,$a:pg,Sa:function(c,d){return b.b(c,d)}},{ab:rg,$a:qg,Sa:function(c,d){return b.b(c,d)}},{ab:pg,$a:qg,Sa:function(c,d){return b.c(c,d)}},{ab:qg,$a:pg,Sa:function(c,d){return b.c(c,d)}}]}\nug.prototype.release=function(){this.g=null;this.f.clear();this.a=function(){};this.b=function(){};this.c=function(){}};function vg(a,b,c,d){a.a=b;a.b=c;a.c=d}var pg=1,rg=2,qg=3;function T(a){this.a=a;this.b=null;this.c=0}p=T.prototype;p.destroy=function(){Dc(\"shaka.media.SegmentIndex\",\"Please use release() instead of destroy().\");this.release();return Promise.resolve()};p.release=function(){this.a=[];this.b&&this.b.stop();this.b=null};p.find=function(a){for(var b=this.a.length-1;0<=b;--b){var c=this.a[b];if(a>=c.startTime&&a<c.endTime)return b+this.c}return this.a.length&&a<this.a[0].startTime?this.c:null};\np.get=function(a){if(0==this.a.length)return null;a-=this.c;return 0>a||a>=this.a.length?null:this.a[a]};p.offset=function(a){for(var b=q(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.startTime+=a,c.endTime+=a,c.timestampOffset+=a};p.kb=function(a){var b=this.a[this.a.length-1],c=[];c=this.a.length?a.filter(function(d){return d.startTime>=b.startTime}):a;b&&c.length&&c[0].startTime==b.startTime&&this.a.pop();this.a.push.apply(this.a,ha(c))};\np.Oa=function(a){var b=this.a.length;this.a=this.a.filter(function(c){return c.endTime>a});this.c+=b-this.a.length};p.Ja=function(a,b){for(;this.a.length;)if(this.a[this.a.length-1].startTime>=b)this.a.pop();else break;for(;this.a.length;)if(this.a[0].endTime<=a)this.a.shift(),this.c++;else break;if(0!=this.a.length){var c=this.a[this.a.length-1];this.a[this.a.length-1]=new Pf(c.startTime,b,c.c,c.b,c.a,c.f,c.timestampOffset,c.appendWindowStart,c.appendWindowEnd)}};\np.nc=function(a,b){var c=this;this.b&&this.b.stop();this.b=new M(function(){var d=b();c.a.push.apply(c.a,ha(d));0==c.a.length&&(c.b.stop(),c.b=null)});this.b.oa(a)};T.prototype[Symbol.iterator]=function(){return new wg(this)};function xg(a,b,c){return new T([new Pf(a,a+b,function(){return c},0,null,null,a,a,a+b)])}K(\"shaka.media.SegmentIndex\",T);T.forSingleSegment=xg;T.prototype.updateEvery=T.prototype.nc;T.prototype.fit=T.prototype.Ja;T.prototype.evict=T.prototype.Oa;T.prototype.merge=T.prototype.kb;\nT.prototype.offset=T.prototype.offset;T.prototype.get=T.prototype.get;T.prototype.find=T.prototype.find;T.prototype.release=T.prototype.release;T.prototype.destroy=T.prototype.destroy;function wg(a){this.b=a;this.a=this.b.find(0)||0}wg.prototype.seek=function(a){a=this.b.find(a);if(null==a)return this.a=Math.pow(2,31),null;this.a=a;return this.b.get(this.a++)};wg.prototype.current=function(){return this.b.get(this.a-1)};wg.prototype.next=function(){var a=this.b.get(this.a++);return{value:a,done:!a}};\nK(\"shaka.media.SegmentIterator\",wg);wg.prototype.next=wg.prototype.next;wg.prototype.current=wg.prototype.current;wg.prototype.seek=wg.prototype.seek;function Ag(){T.call(this,[]);this.f=[]}pa(Ag,T);p=Ag.prototype;p.clone=function(){var a=new Ag;a.f=this.f.slice();return a};p.release=function(){for(var a=q(this.f),b=a.next();!b.done;b=a.next())b.value.release();this.f=[]};\np.find=function(a){for(var b=0,c=q(this.f),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.find(a);if(null!=e)return e+b;b+=d.c+d.a.length}return null};p.get=function(a){for(var b=0,c=q(this.f),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.get(a-b);if(e)return e;b+=d.c+d.a.length}return null};p.offset=function(){};p.kb=function(){};p.Oa=function(){};p.Ja=function(){};p.nc=function(){};K(\"shaka.media.MetaSegmentIndex\",Ag);Ag.prototype.updateEvery=Ag.prototype.nc;Ag.prototype.fit=Ag.prototype.Ja;\nAg.prototype.evict=Ag.prototype.Oa;Ag.prototype.merge=Ag.prototype.kb;Ag.prototype.offset=Ag.prototype.offset;Ag.prototype.get=Ag.prototype.get;Ag.prototype.find=Ag.prototype.find;Ag.prototype.release=Ag.prototype.release;function U(a,b){this.P=Nb(a);this.a=b==Bg;this.B=0}p=U.prototype;p.ta=function(){return this.B<this.P.byteLength};p.te=function(){return this.B};p.je=function(){return this.P.byteLength};p.na=function(){try{var a=this.P.getUint8(this.B);this.B+=1;return a}catch(b){throw Cg();}};p.Kb=function(){try{var a=this.P.getUint16(this.B,this.a);this.B+=2;return a}catch(b){throw Cg();}};p.J=function(){try{var a=this.P.getUint32(this.B,this.a);this.B+=4;return a}catch(b){throw Cg();}};\np.Jd=function(){try{var a=this.P.getInt32(this.B,this.a);this.B+=4;return a}catch(b){throw Cg();}};p.pb=function(){try{if(this.a){var a=this.P.getUint32(this.B,!0);var b=this.P.getUint32(this.B+4,!0)}else b=this.P.getUint32(this.B,!1),a=this.P.getUint32(this.B+4,!1)}catch(c){throw Cg();}if(2097151<b)throw new L(2,3,3001);this.B+=8;return b*Math.pow(2,32)+a};p.Wa=function(a){if(this.B+a>this.P.byteLength)throw Cg();var b=N(this.P,this.B,a);this.B+=a;return b};\np.skip=function(a){if(this.B+a>this.P.byteLength)throw Cg();this.B+=a};p.Ld=function(a){if(this.B<a)throw Cg();this.B-=a};p.seek=function(a){if(0>a||a>this.P.byteLength)throw Cg();this.B=a};p.Zc=function(){for(var a=this.B;this.ta()&&0!=this.P.getUint8(this.B);)this.B+=1;a=N(this.P,a,this.B-a);this.B+=1;return sc(a)};function Cg(){return new L(2,3,3E3)}K(\"shaka.util.DataViewReader\",U);U.prototype.readTerminatedString=U.prototype.Zc;U.prototype.seek=U.prototype.seek;U.prototype.rewind=U.prototype.Ld;\nU.prototype.skip=U.prototype.skip;U.prototype.readBytes=U.prototype.Wa;U.prototype.readUint64=U.prototype.pb;U.prototype.readInt32=U.prototype.Jd;U.prototype.readUint32=U.prototype.J;U.prototype.readUint16=U.prototype.Kb;U.prototype.readUint8=U.prototype.na;U.prototype.getLength=U.prototype.je;U.prototype.getPosition=U.prototype.te;U.prototype.hasMoreData=U.prototype.ta;var Bg=1;U.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Bg};function Dg(){this.c=[];this.b=[];this.a=!1}p=Dg.prototype;p.L=function(a,b){var c=Eg(a);this.c[c]=Fg;this.b[c]=b;return this};p.ea=function(a,b){var c=Eg(a);this.c[c]=Gg;this.b[c]=b;return this};p.stop=function(){this.a=!0};p.parse=function(a,b){var c=new U(a,0);for(this.a=!1;c.ta()&&!this.a;)this.kc(0,c,b)};\np.kc=function(a,b,c){var d=b.B,e=b.J(),f=b.J();switch(e){case 0:e=b.P.byteLength-d;break;case 1:e=b.pb()}var g=this.b[f];if(g){var h=null,k=null;this.c[f]==Gg&&(k=b.J(),h=k>>>24,k&=16777215);f=d+e;c&&f>b.P.byteLength&&(f=b.P.byteLength);f-=b.B;b=0<f?b.Wa(f):new Uint8Array(0);b=new U(b,0);g({parser:this,partialOkay:c||!1,version:h,flags:k,reader:b,size:e,start:d+a})}else b.skip(Math.min(d+e-b.B,b.P.byteLength-b.B))};\nfunction Hg(a){for(var b=null!=a.flags?12:8;a.reader.ta()&&!a.parser.a;)a.parser.kc(a.start+b,a.reader,a.partialOkay)}function Ig(a){var b=null!=a.flags?12:8,c=a.reader.J();c=q(fb(c));for(var d=c.next();!d.done&&(a.parser.kc(a.start+b,a.reader,a.partialOkay),!a.parser.a);d=c.next());}function Jg(a){return function(b){a(b.reader.Wa(b.reader.P.byteLength-b.reader.B))}}function Eg(a){var b=0;a=q(a);for(var c=a.next();!c.done;c=a.next())b=b<<8|c.value.charCodeAt(0);return b}\nfunction Kg(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}K(\"shaka.util.Mp4Parser\",Dg);Dg.typeToString=Kg;Dg.allData=Jg;Dg.sampleDescription=Ig;Dg.children=Hg;Dg.prototype.parseNext=Dg.prototype.kc;Dg.prototype.parse=Dg.prototype.parse;Dg.prototype.stop=Dg.prototype.stop;Dg.prototype.fullBox=Dg.prototype.ea;Dg.prototype.box=Dg.prototype.L;var Fg=0,Gg=1;function Lg(a,b,c,d){a=cc(a,d);if(0!=b||null!=c)a.headers.Range=c?\"bytes=\"+b+\"-\"+c:\"bytes=\"+b+\"-\";return a};function Mg(a,b){var c=this;this.s=b;this.o=a;this.i=null;this.f=1;this.c=this.b=null;this.a=new Map;this.h=!1;this.j=null;this.g=!1;this.D=new jc(function(){return Ng(c)})}Mg.prototype.destroy=function(){return this.D.destroy()};function Ng(a){var b,c,d,e;return J(function(f){if(1==f.a){b=[];c=q(a.a.values());for(d=c.next();!d.done;d=c.next())e=d.value,Og(e),b.push(Pg(e));return t(f,Promise.all(b),2)}a.a.clear();a.s=null;a.o=null;a.i=null;w(f)})}\nMg.prototype.configure=function(a){this.i=a;this.j=new xb({maxAttempts:Math.max(a.retryParameters.maxAttempts,2),baseDelay:a.retryParameters.baseDelay,backoffFactor:a.retryParameters.backoffFactor,fuzzFactor:a.retryParameters.fuzzFactor,timeout:0},!0)};Mg.prototype.start=function(){var a=this;return J(function(b){if(1==b.a)return t(b,Qg(a),2);kc(a.D);a.h=!0;w(b)})};\nfunction Rg(a,b){var c,d,e,f,g,h;J(function(k){switch(k.a){case 1:return c=Nc,x(k,2),t(k,Se(a.s.K,c.$),4);case 4:ua(k,3);break;case 2:if(d=C(k),a.s)a.s.onError(d);case 3:e=Rc(b.mimeType,b.codecs);Ie(a.s.K,e);f=a.s.K.h;if(g=f.isTextVisible()||a.i.alwaysStreamText)h=Sg(b),a.a.set(c.$,h),Tg(a,h,0);w(k)}})}function Ug(a){var b=a.a.get(\"text\");b&&(Og(b),Pg(b)[\"catch\"](function(){}),a.a[\"delete\"](\"text\"));a.c=null}\nfunction Vg(a,b){var c=a.a.get(\"video\");if(c){var d=c.stream;if(d)if(b){var e=d.trickModeVideo;e&&!c.Ya&&(Wg(a,e,!1,0,!1),c.Ya=d)}else if(d=c.Ya)c.Ya=null,Wg(a,d,!0,0,!1)}}function Xg(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?0:d;a.b=b;a.h&&(b.video&&Wg(a,b.video,c,d,!1),b.audio&&Wg(a,b.audio,c,d,!1))}function Yg(a,b){a.c=b;a.h&&Wg(a,b,!0,0,!1)}\nfunction Wg(a,b,c,d,e){var f=a.a.get(b.type);f||\"text\"!=b.type?f&&(f.Ya&&(b.trickModeVideo?(f.Ya=b,b=b.trickModeVideo):f.Ya=null),f.stream!=b||e)&&(\"text\"==b.type&&Ie(a.s.K,Rc(b.mimeType,b.codecs)),f.stream=b,f.stream.segmentIndex?f.wa=f.stream.segmentIndex[Symbol.iterator]():f.wa=null,c&&(f.zb?f.qc=!0:f.Va?(f.rb=!0,f.ac=d,f.qc=!0):(Og(f),Zg(a,f,!0,d)[\"catch\"](function(g){if(a.s)a.s.onError(g)}))),$g(a,f)[\"catch\"](function(g){if(a.s)a.s.onError(g)})):Rg(a,b)}\nfunction $g(a,b){var c,d;return J(function(e){if(1==e.a){if(!b.Ea)return e[\"return\"]();c=b.stream;d=b.Ea;return c.segmentIndex?e.u(2):t(e,c.createSegmentIndex(),2)}if(b.Ea!=d||b.stream!=c)return e[\"return\"]();b.wa=b.stream.segmentIndex[Symbol.iterator]();var f=a.s.dc();var g=Ne(a.s.K,b.type),h=ah(a,b,f,g),k=h?h.a?h.a-h.b:null:null;h&&!k&&(k=(h.endTime-h.startTime)*(b.stream.bandwidth||0)/8);k?((h=h.f)&&(k+=(h.a?h.a-h.b:null)||0),h=a.s.getBandwidthEstimate(),f=8*k/h<(g||0)-f-Math.max(a.o.minBufferTime||\n0,a.i.rebufferingGoal)||b.Ea.b.a>k?!0:!1):f=!1;f&&b.Ea.abort();w(e)})}function bh(a,b){b.zb||b.rb||(b.Va?(b.rb=!0,b.ac=0):null==Le(a.s.K,b.type)?null==b.Ha&&Tg(a,b,0):(Og(b),Zg(a,b,!1,0)[\"catch\"](function(c){if(a.s)a.s.onError(c)})))}\nfunction Qg(a){var b,c,d,e,f,g,h,k,l,m;return J(function(n){if(1==n.a){b=Nc;if(!a.b)throw new L(2,5,5006);c=new Map;d=new Set;a.b.audio&&(c.set(b.eb,a.b.audio),d.add(a.b.audio));a.b.video&&(c.set(b.Ba,a.b.video),d.add(a.b.video));a.c&&(c.set(b.$,a.c),d.add(a.c));e=a.s.K;f=a.i.forceTransmuxTS;return t(n,e.init(c,f),2)}kc(a.D);var r=a.o.presentationTimeline.getDuration();Infinity>r?a.s.K.xa(r):a.s.K.xa(Math.pow(2,32));g=q(c.keys());for(h=g.next();!h.done;h=g.next())k=h.value,l=c.get(k),a.a.has(k)||\n(m=Sg(l),a.a.set(k,m),Tg(a,m,0));w(n)})}function Sg(a){var b=a.segmentIndex?a.segmentIndex[Symbol.iterator]():null;return{stream:a,type:a.type,Hb:null,wa:b,La:null,Qc:null,Rc:null,Pc:null,Oc:null,Ya:null,endOfStream:!1,Va:!1,Ha:null,rb:!1,ac:0,qc:!1,zb:!1,bd:!1,Fb:!1,Ea:null}}\nMg.prototype.Ib=function(a){var b=this,c,d,e,f;return J(function(g){switch(g.a){case 1:kc(b.D);if(a.Va||null==a.Ha||a.zb)return g[\"return\"]();a.Ha=null;if(!a.rb){g.u(2);break}return t(g,Zg(b,a,a.qc,a.ac),3);case 3:return g[\"return\"]();case 2:if(a.stream.segmentIndex){g.u(4);break}c=a.stream;return t(g,a.stream.createSegmentIndex(),5);case 5:if(c!=a.stream)return null==a.Ha&&Tg(b,a,0),g[\"return\"]();ch(a)||(a.wa=a.stream.segmentIndex[Symbol.iterator]());case 4:try{d=dh(b,a),null!=d&&(Tg(b,a,d),a.Fb=\n!1)}catch(h){return eh(b,h),g[\"return\"]()}e=Array.from(b.a.values());if(!b.h||!e.every(function(h){return h.endOfStream})){g.u(0);break}return t(g,b.s.K.endOfStream(),7);case 7:kc(b.D),f=b.s.K.getDuration(),0!=f&&f<b.o.presentationTimeline.getDuration()&&b.o.presentationTimeline.xa(f),w(g)}})};\nfunction dh(a,b){if(ch(b))return Re(a.s.K,b.stream.originalId||\"\"),null;var c=a.s.dc(),d=b.Hb&&b.La?b.La.endTime:c,e=Oe(a.s.K,b.type,c),f=Math.max(a.o.minBufferTime||0,a.i.rebufferingGoal,a.i.bufferingGoal)*a.f;if(d>=a.o.presentationTimeline.getDuration())return b.endOfStream=!0,\"video\"==b.type&&(c=a.a.get(\"text\"))&&ch(c)&&(c.endOfStream=!0),null;b.endOfStream=!1;if(e>=f)return.5;e=Ne(a.s.K,b.type);e=ah(a,b,c,e);if(!e||!fh(a,e))return 1;f=Infinity;var g=Array.from(a.a.values());g=q(g);for(var h=g.next();!h.done;h=\ng.next())h=h.value,ch(h)||(f=Math.min(f,h.Hb&&h.La?h.La.endTime:c));if(d>=f+a.o.presentationTimeline.a)return 1;gh(a,b,c,e)[\"catch\"](function(){});return null}function ah(a,b,c,d){if(b.stream==b.Hb)return b.wa.current();if(b.La)return b.wa.seek(b.La.endTime);if(d)return b.wa.seek(d);(d=b.wa.seek(Math.max(c-a.i.inaccurateManifestTolerance,0)))&&fh(a,d)||(d=b.wa.seek(c));return d}function fh(a,b){var c=a.o.presentationTimeline,d=c.Ka();return b.endTime<c.Qa()||b.startTime>d?!1:!0}\nfunction gh(a,b,c,d){var e,f,g,h,k,l,m,n;return J(function(r){switch(r.a){case 1:return e=Nc,f=b.stream,b.Va=!0,g=hh(a,b,d),h=ih(a,b,d),x(r,2),t(r,Promise.all([g,h]),4);case 4:return k=r.b,kc(a.D),a.g?r[\"return\"]():t(r,jh(a,b,c,f,d,k[1]),5);case 5:kc(a.D);if(a.g)return r[\"return\"]();b.Va=!1;b.bd=!1;l=a.s.K.cc();m=l[b.type];JSON.stringify(m);b.rb||a.s.Xc();Tg(a,b,0);ua(r,0);break;case 2:n=C(r);kc(a.D,n);if(a.g)return r[\"return\"]();b.Va=!1;b.type==e.$&&a.i.ignoreTextStreamFailures?a.a[\"delete\"](e.$):\n7001==n.code?(b.Va=!1,b.Ha=null,Tg(a,b,0)):3017==n.code?kh(a,b,n):(b.Fb=!0,n.severity=2,eh(a,n));w(r)}})}function kh(a,b,c){if(!Array.from(a.a.values()).some(function(e){return e!=b&&e.bd})){var d=Math.round(100*a.f);if(20<d)a.f-=.2;else if(4<d)a.f-=.04;else{b.Fb=!0;a.g=!0;a.s.onError(c);return}b.bd=!0}Tg(a,b,4)}\nfunction hh(a,b,c){var d,e,f,g,h,k,l;return J(function(m){d=[];e=Math.max(0,c.appendWindowStart-.1);f=c.appendWindowEnd+.01;g=c.timestampOffset;if(g!=b.Rc||e!=b.Pc||f!=b.Oc)h=function(){var n;return J(function(r){if(1==r.a)return x(r,2),b.Pc=e,b.Oc=f,b.Rc=g,t(r,Te(a.s.K,b.type,g,e,f),4);if(2!=r.a)return ua(r,0);n=C(r);b.Pc=null;b.Oc=null;b.Rc=null;throw n;})},d.push(h());c.f!=b.Qc&&(b.Qc=c.f)&&(k=ih(a,b,c.f),l=function(){var n,r,u;return J(function(v){switch(v.a){case 1:return x(v,2),t(v,k,4);case 4:return n=\nv.b,kc(a.D),r=b.stream.closedCaptions&&0<b.stream.closedCaptions.size,t(v,Pe(a.s.K,b.type,n,null,null,r),5);case 5:ua(v,0);break;case 2:throw u=C(v),b.Qc=null,u;}})},d.push(l()));return t(m,Promise.all(d),0)})}\nfunction jh(a,b,c,d,e,f){var g;return J(function(h){if(1==h.a)return g=d.closedCaptions&&0<d.closedCaptions.size,null!=d.emsgSchemeIdUris&&0<d.emsgSchemeIdUris.length&&(new Dg).ea(\"emsg\",function(k){var l=d.emsgSchemeIdUris,m=k.reader.Zc(),n=k.reader.Zc(),r=k.reader.J(),u=k.reader.J(),v=k.reader.J(),y=k.reader.J();k=k.reader.Wa(k.reader.P.byteLength-k.reader.B);var z=e.startTime+u/r;l.includes(m)&&(\"urn:mpeg:dash:event:2012\"==m?a.s.Ge():(l=new Q(lh,{detail:{startTime:z,endTime:z+v/r,schemeIdUri:m,\nvalue:n,timescale:r,presentationTimeDelta:u,eventDuration:v,id:y,messageData:k}}),a.s.onEvent(l)))}).parse(f),t(h,mh(a,b,c),2);if(3!=h.a)return kc(a.D),t(h,Pe(a.s.K,b.type,f,e.startTime,e.endTime,g),3);kc(a.D);b.Hb=d;b.La=e;b.stream==d&&b.wa.next();w(h)})}\nfunction mh(a,b,c){var d,e,f,g;return J(function(h){if(1==h.a){d=Math.max(a.i.bufferBehind,a.o.presentationTimeline.a);e=Le(a.s.K,b.type);if(null==e)return h[\"return\"]();f=c-e;g=f-d;return 0>=g?h[\"return\"]():t(h,a.s.K.remove(b.type,e,e+g),2)}kc(a.D);w(h)})}function ch(a){return a&&\"text\"==a.type&&\"application/cea-608\"==a.stream.mimeType}\nfunction ih(a,b,c){var d,e,f,g;return J(function(h){if(1==h.a)return d=ic,e=Lg(c.c(),c.b,c.a,a.i.retryParameters),f=a.s.lb.request(d,e),b.Ea=f,t(h,f.promise,2);g=h.b;b.Ea=null;return h[\"return\"](g.data)})}\nfunction Zg(a,b,c,d){var e,f;return J(function(g){if(1==g.a)return b.rb=!1,b.qc=!1,b.ac=0,b.zb=!0,d?(e=a.s.dc(),f=a.s.K.getDuration(),t(g,a.s.K.remove(b.type,e+d,f),3)):t(g,Se(a.s.K,b.type),4);if(3!=g.a)return kc(a.D),c?t(g,a.s.K.flush(b.type),3):g.u(3);kc(a.D);b.Hb=null;b.La=null;b.zb=!1;b.endOfStream=!1;Tg(a,b,0);w(g)})}\nfunction Tg(a,b,c){b.Ha=(new wb(function(){var d;return J(function(e){if(1==e.a)return x(e,2),t(e,a.Ib(b),4);if(2!=e.a)return ua(e,0);d=C(e);if(a.s)a.s.onError(d);w(e)})})).R(c)}function Og(a){null!=a.Ha&&(a.Ha.stop(),a.Ha=null)}function Pg(a){return J(function(b){return a.Ea?t(b,a.Ea.abort(),0):b.u(0)})}function eh(a,b){J(function(c){if(1==c.a)return t(c,zb(a.j),2);kc(a.D);a.s.onError(b);b.handled||a.i.failureCallback(b);w(c)})};function nh(a,b){var c=oh(),d=this;this.h=b;this.c=a;this.f=c;this.j=null;this.g=[];this.b=this.a=null;this.m=Promise.resolve().then(function(){return ph(d)});this.D=new jc(function(){return qh(d)})}nh.prototype.destroy=function(){return this.D.destroy()};function qh(a){var b,c,d;return J(function(e){if(1==e.a)return a.b&&a.b.abort(),rh(a),t(e,a.m,2);a.a&&a.a.ua.Ua();b=q(a.g);for(c=b.next();!c.done;c=b.next())d=c.value,d.ua.Ua();a.a=null;a.g=[];a.h=null;w(e)})}\nfunction sh(a,b){var c={nb:function(){},hc:function(){},Ua:function(){},onError:function(){},jc:function(){},Kf:function(){}};a.g.push({create:b,ua:c});a.b&&a.b.abort();rh(a);return c}\nfunction ph(a){return J(function(b){if(a.D.a)b=b.u(0);else{if(0==a.g.length||a.a&&!a.a.Ra)var c=!1;else{a.a&&(a.a.ua.Ua(),a.a=null);c=a.g.shift();var d=c.create(a.f);d?(c.ua.nb(),a.a={node:d.node,payload:d.payload,Ra:d.Ra,ua:c.ua}):c.ua.jc();c=!0}c?c=Promise.resolve():a.a?c=th(a):(a.h.Fe(a.c),a.j=new Ab,c=a.j);b=t(b,c,1)}return b})}\nfunction th(a){var b,c;return J(function(d){switch(d.a){case 1:return a.c=a.h.pe(a.c,a.f,a.a.node,a.a.payload),x(d,2),a.b=a.h.ee(a.c,a.f,a.a.payload),t(d,a.b.promise,4);case 4:a.b=null;a.c==a.a.node&&(a.a.ua.hc(),a.a=null);ua(d,0);break;case 2:b=C(d);if(7001==b.code)a.a.ua.Ua();else a.a.ua.onError(b);a.a=null;a.b=null;c=a;return t(d,a.h.handleError(a.f,b),5);case 5:c.c=d.b,w(d)}})}function rh(a){a.j&&(a.j.resolve(),a.j=null)};function uh(a){this.a=null;for(var b=q(Array.from(a.textTracks)),c=b.next();!c.done;c=b.next())c=c.value,c.mode=\"disabled\",\"Shaka Player TextTrack\"==c.label&&(this.a=c);this.a||(this.a=a.addTextTrack(\"subtitles\",\"Shaka Player TextTrack\"));this.a.mode=\"hidden\"}p=uh.prototype;p.remove=function(a,b){if(!this.a)return!1;vh(this.a,function(c){return c.startTime<b&&c.endTime>a});return!0};\np.append=function(a){var b=a.map(function(f){if(f.nestedCues.length){var g=f.nestedCues.map(function(h){return h.spacer?\"\\n\":h.payload+\" \"}).join(\"\").replace(/ $/m,\"\");f=f.clone();f.nestedCues=[];f.payload=g;return f}return f}),c=[];a=this.a.cues?Array.from(this.a.cues):[];var d={};b=q(b);for(var e=b.next();!e.done;d={cb:d.cb},e=b.next())d.cb=e.value,a.some(function(f){return function(g){return g.startTime==f.cb.startTime&&g.endTime==f.cb.endTime&&g.text==f.cb.payload?!0:!1}}(d))||(e=wh(d.cb))&&c.push(e);\na=c.slice().sort(function(f,g){return f.startTime!=g.startTime?f.startTime-g.startTime:f.endTime!=g.endTime?f.endTime-g.startTime:\"line\"in VTTCue.prototype?c.indexOf(g)-c.indexOf(f):c.indexOf(f)-c.indexOf(g)});a=q(a);for(d=a.next();!d.done;d=a.next())this.a.addCue(d.value)};p.destroy=function(){this.a&&(vh(this.a,function(){return!0}),this.a.mode=\"disabled\");this.a=null;return Promise.resolve()};p.isTextVisible=function(){return\"showing\"==this.a.mode};\np.setTextVisibility=function(a){this.a.mode=a?\"showing\":\"hidden\"};\nfunction wh(a){if(a.startTime>=a.endTime)return null;var b=new VTTCue(a.startTime,a.endTime,a.payload);b.lineAlign=a.lineAlign;b.positionAlign=a.positionAlign;a.size&&(b.size=a.size);try{b.align=a.textAlign}catch(c){}\"center\"==a.textAlign&&\"center\"!=b.align&&(b.align=\"middle\");\"vertical-lr\"==a.writingMode?b.vertical=\"lr\":\"vertical-rl\"==a.writingMode&&(b.vertical=\"rl\");1==a.lineInterpretation&&(b.snapToLines=!1);null!=a.line&&(b.line=a.line);null!=a.position&&(b.position=a.position);return b}\nfunction vh(a,b){var c=a.mode;a.mode=\"showing\"==c?\"showing\":\"hidden\";for(var d=q(Array.from(a.cues)),e=d.next();!e.done;e=d.next())(e=e.value)&&b(e)&&a.removeCue(e);a.mode=c}K(\"shaka.text.SimpleTextDisplayer\",uh);uh.prototype.setTextVisibility=uh.prototype.setTextVisibility;uh.prototype.isTextVisible=uh.prototype.isTextVisible;uh.prototype.destroy=uh.prototype.destroy;uh.prototype.append=uh.prototype.append;uh.prototype.remove=uh.prototype.remove;function xh(){}K(\"shaka.util.Dom\",xh);xh.removeAllChildren=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)};function yh(a,b){var c=this;this.h=!1;this.f=[];this.a=a;this.g=b;this.b=document.createElement(\"div\");this.b.classList.add(\"shaka-text-container\");this.g.appendChild(this.b);this.j=(new M(function(){zh(c)})).oa(.25);this.c=new Map}p=yh.prototype;\np.append=function(a){var b={};a=q(a);for(var c=a.next();!c.done;b={bb:b.bb},c=a.next())b.bb=c.value,this.f.some(function(d){return function(e){return e.payload==d.bb.payload&&e.startTime==d.bb.startTime&&e.endTime==d.bb.endTime?!0:!1}}(b))||this.f.push(b.bb);zh(this)};p.destroy=function(){this.g.removeChild(this.b);this.b=null;this.h=!1;this.f=[];this.j&&this.j.stop();this.c.clear()};\np.remove=function(a,b){if(!this.b)return!1;this.f=this.f.filter(function(c){return c.startTime<a||c.endTime>=b});zh(this);return!0};p.isTextVisible=function(){return this.h};p.setTextVisibility=function(a){this.h=a};\nfunction zh(a){function b(g){return a.f.includes(g)&&a.h&&g.startTime<=c&&g.endTime>=c}for(var c=a.a.currentTime,d=q(a.c.keys()),e=d.next();!e.done;e=d.next())if(e=e.value,!b(e)){var f=a.c.get(e);a.b.removeChild(f);a.c[\"delete\"](e)}d=new Set(a.c.values());e=q(Array.from(a.b.childNodes));for(f=e.next();!f.done;f=e.next())f=f.value,d.has(f)||a.b.removeChild(f);d=a.f.filter(function(g){return b(g)&&!a.c.has(g)}).sort(function(g,h){return g.startTime!=h.startTime?g.startTime-h.startTime:g.endTime-h.endTime});\nd=q(d);for(e=d.next();!e.done;e=d.next())Ah(a,a.b,e.value)}function Bh(a,b,c,d){var e=document.createElement(\"span\");d&&e.classList.add(\"shaka-nested-cue\");c.spacer?e.style.display=\"block\":Ch(a,e,c,!0);b.appendChild(e);return e}function Ah(a,b,c){if(c.nestedCues.length){var d=document.createElement(\"p\");d.style.width=\"100%\";Ch(a,d,c,!1);for(var e=0;e<c.nestedCues.length;e++)Bh(a,d,c.nestedCues[e],!0);b.appendChild(d);a.c.set(c,d)}else a.c.set(c,Bh(a,b,c,!1))}\nfunction Ch(a,b,c,d){var e=b.style;e.whiteSpace=\"pre-line\";b.textContent=c.payload;d&&(e.backgroundColor=c.backgroundColor);e.border=c.border;e.color=c.color;e.direction=c.direction;e.opacity=c.opacity;e.paddingLeft=Dh(c.linePadding,c,a.g);e.paddingRight=Dh(c.linePadding,c,a.g);c.backgroundImage&&(e.backgroundImage=\"url('\"+c.backgroundImage+\"')\",e.backgroundRepeat=\"no-repeat\",e.backgroundSize=\"contain\",e.backgroundPosition=\"center\",\"\"==c.backgroundColor&&(e.backgroundColor=\"transparent\"));c.backgroundImage&&\nc.region&&(b=c.region.widthUnits==ue?\"%\":\"px\",e.height=c.region.height+(c.region.heightUnits==ue?\"%\":\"px\"),e.width=c.region.width+b);e.justifyContent=\"before\"==c.displayAlign?\"flex-start\":\"center\"==c.displayAlign?\"center\":\"flex-end\";c.nestedCues.length&&(e.display=\"flex\",e.flexDirection=\"row\",e.margin=\"0\",e.alignItems=e.justifyContent,e.justifyContent=\"center\");d&&(e.maxWidth=\"100%\");e.fontFamily=c.fontFamily;e.fontWeight=c.fontWeight.toString();e.fontStyle=c.fontStyle;e.letterSpacing=c.letterSpacing;\ne.fontSize=Dh(c.fontSize,c,a.g);c.line?1==c.lineInterpretation&&(e.position=\"absolute\",c.writingMode==ke?c.lineAlign==me?e.top=c.line+\"%\":\"end\"==c.lineAlign&&(e.bottom=c.line+\"%\"):\"vertical-lr\"==c.writingMode?c.lineAlign==me?e.left=c.line+\"%\":\"end\"==c.lineAlign&&(e.right=c.line+\"%\"):c.lineAlign==me?e.right=c.line+\"%\":\"end\"==c.lineAlign&&(e.left=c.line+\"%\")):c.region&&c.region.id&&!d&&(a=c.region.widthUnits==ue?\"%\":\"px\",d=c.region.viewportAnchorUnits==ue?\"%\":\"px\",e.height=c.region.height+(c.region.heightUnits==\nue?\"%\":\"px\"),e.width=c.region.width+a,e.position=\"absolute\",e.top=c.region.viewportAnchorY+d,e.left=c.region.viewportAnchorX+d);e.lineHeight=c.lineHeight;c.position&&(c.writingMode==ke?e.paddingLeft=c.position:e.paddingTop=c.position);\"line-left\"==c.positionAlign?e.cssFloat=\"left\":\"line-right\"==c.positionAlign&&(e.cssFloat=\"right\");e.textAlign=c.textAlign;e.textDecoration=c.textDecoration.join(\" \");e.writingMode=c.writingMode;c.size&&(c.writingMode==ke?e.width=c.size+\"%\":e.height=c.size+\"%\")}\nfunction Dh(a,b,c){var d=(d=(new RegExp(/(\\d*\\.?\\d+)([a-z]+|%+)/)).exec(a))?{value:Number(d[1]),af:d[2]}:null;if(!d)return a;var e=d.value;switch(d.af){case \"%\":return e/100*c.clientHeight/b.cellResolution.rows+\"px\";case \"c\":return c.clientHeight*e/b.cellResolution.rows+\"px\";default:return a}}K(\"shaka.text.UITextDisplayer\",yh);yh.prototype.setTextVisibility=yh.prototype.setTextVisibility;yh.prototype.isTextVisible=yh.prototype.isTextVisible;yh.prototype.remove=yh.prototype.remove;\nyh.prototype.destroy=yh.prototype.destroy;yh.prototype.append=yh.prototype.append;function Eh(){}\nfunction Fh(a,b,c,d,e){var f=e in d,g=!0,h;for(h in b){var k=e+\".\"+h,l=f?d[e]:c[h];f||h in c?void 0===b[h]?void 0===l||f?delete a[h]:a[h]=Sb(l):l.constructor==Object&&b[h]&&b[h].constructor==Object?(a[h]||(a[h]=Sb(l)),k=Fh(a[h],b[h],l,d,k),g=g&&k):typeof b[h]!=typeof l||null==b[h]||\"function\"!=typeof b[h]&&b[h].constructor!=l.constructor?(Va(\"Invalid config, wrong type for \"+k),g=!1):(\"function\"==typeof c[h]&&c[h].length!=b[h].length&&Wa(\"Unexpected number of arguments for \"+k),a[h]=b[h]):(Va(\"Invalid config, unrecognized key \"+\nk),g=!1)}return g}function Gh(a,b){for(var c={},d=c,e=0,f=0;;){e=a.indexOf(\".\",e);if(0>e)break;if(0==e||\"\\\\\"!=a[e-1])f=a.substring(f,e).replace(/\\\\\\./g,\".\"),d[f]={},d=d[f],f=e+1;e+=1}d[a.substring(f).replace(/\\\\\\./g,\".\")]=b;return c}K(\"shaka.util.ConfigUtils\",Eh);Eh.convertToConfigObject=Gh;Eh.mergeConfigObjects=Fh;function Hh(){}\nfunction Ih(){var a=1E6,b=Infinity;navigator.connection&&(navigator.connection.downlink&&(a=1E6*navigator.connection.downlink),navigator.connection.saveData&&(b=360));var c={retryParameters:yb(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Kd,logLicenseExchange:!1,updateExpirationTime:1},d={retryParameters:yb(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:\"\",ignoreDrmInfo:!1,xlinkFailGracefully:!1,\nignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1E3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},e={retryParameters:yb(),failureCallback:function(h){return[h]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,\nstallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2};if(Zc(\"Web0S\")||Zc(\"Tizen\")||Zc(\"CrKey\"))e.stallSkip=0;var f={trackSelectionCallback:function(h){return J(function(k){return k[\"return\"](h)})},progressCallback:function(h,k){return[h,k]},usePersistentLicense:!0},g={drm:c,manifest:d,streaming:e,offline:f,abrFactory:function(){return new tf},abr:{enabled:!0,defaultBandwidthEstimate:a,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:Infinity,\nminHeight:0,maxHeight:b,minPixels:0,maxPixels:Infinity,minFrameRate:0,maxFrameRate:Infinity,minBandwidth:0,maxBandwidth:Infinity}},preferredAudioLanguage:\"\",preferredTextLanguage:\"\",preferredVariantRole:\"\",preferredTextRole:\"\",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:Infinity,minPixels:0,maxPixels:Infinity,minFrameRate:0,maxFrameRate:Infinity,minBandwidth:0,maxBandwidth:Infinity},playRangeStart:0,playRangeEnd:Infinity,textDisplayFactory:function(){return null}};\nf.trackSelectionCallback=function(h){return J(function(k){return k[\"return\"](Jh(h,g.preferredAudioLanguage))})};return g}function Kh(a,b,c){var d={\".drm.servers\":\"\",\".drm.clearKeys\":\"\",\".drm.advanced\":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:\"\",audioRobustness:\"\",serverCertificate:new Uint8Array(0),individualizationServer:\"\"}};return Fh(a,b,c||Ih(),d,\"\")}\nfunction Jh(a,b){var c=a.filter(function(h){return\"variant\"==h.type}),d=[],e=cf(b,c.map(function(h){return h.language}));e&&(d=c.filter(function(h){return R(h.language)==e}));0==d.length&&(d=c.filter(function(h){return h.primary}));0==d.length&&(c.map(function(h){return h.language}),d=c);var f=d.filter(function(h){return h.height&&480>=h.height});f.length&&(f.sort(function(h,k){return k.height-h.height}),d=f.filter(function(h){return h.height==f[0].height}));c=[];if(d.length){var g=Math.floor(d.length/\n2);d.sort(function(h,k){return h.bandwidth-k.bandwidth});c.push(d[g])}d=q(a);for(g=d.next();!g.done;g=d.next())g=g.value,\"text\"==g.type&&c.push(g);return c}K(\"shaka.util.PlayerConfiguration\",Hh);Hh.mergeConfigObjects=Kh;function Lh(){this.a=null;this.b=[]}function Mh(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!=b&&(a.b.push(a.a),a.a={timestamp:c,state:b,duration:0})}}function Nh(a,b){var c=0;a.a&&a.a.state==b&&(c+=a.a.duration);for(var d=q(a.b),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state==b?e.duration:0;return c}\nfunction Oh(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=q(a.b),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};function Ph(){this.b=this.c=null;this.a=[]}function Qh(a,b,c){a.c!=b&&(a.c=b,a.a.push({timestamp:Date.now()/1E3,id:b.id,type:\"variant\",fromAdaptation:c,bandwidth:b.bandwidth}))}function Rh(a,b,c){a.b!=b&&(a.b=b,a.a.push({timestamp:Date.now()/1E3,id:b.id,type:\"text\",fromAdaptation:c,bandwidth:null}))};function Sh(){this.g=this.h=this.w=this.m=this.C=this.c=this.v=this.f=this.G=this.H=this.I=this.j=this.M=NaN;this.b=new Lh;this.a=new Ph};function V(a,b){Rb.call(this);var c=this;this.g=Th;this.Yb=this.a=null;this.T=!1;this.b=new lc;this.Ac=this.j=this.wb=this.o=this.Wb=this.m=this.c=this.Xb=this.C=this.Tb=this.w=this.za=this.v=this.G=this.h=this.N=null;this.qd=1E9;this.i=Uh(this);this.Gc={width:Infinity,height:Infinity};this.f=null;this.xb=new Af(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount);this.ca=this.i.preferredTextLanguage;this.Ub=this.i.preferredTextRole;this.Bc=[];b&&b(this);this.N=\nVh(this);this.H=null;Wh&&(this.H=Kc(Wh));this.b.l(window,\"online\",function(){c.cd()});this.da={name:\"detach\"};this.Ca={name:\"attach\"};this.M={name:\"unload\"};this.rc={name:\"manifest-parser\"};this.Fc={name:\"manifest\"};this.qa={name:\"media-source\"};this.Cc={name:\"drm-engine\"};this.I={name:\"load\"};this.Hc={name:\"src-equals-drm-engine\"};this.Aa={name:\"src-equals\"};var d=new Map;d.set(this.Ca,function(e,f){return Fb(Xh(c,e,f))});d.set(this.da,function(e){e.A&&(c.b.pa(e.A,\"error\"),e.A=null);c.a=null;e=Promise.resolve();\nreturn Fb(e)});d.set(this.M,function(e){return Fb(Yh(c,e))});d.set(this.qa,function(e){e=Zh(c,e);return Fb(e)});d.set(this.rc,function(e,f){var g=$h(c,e,f);return Fb(g)});d.set(this.Fc,function(e){return ai(c,e)});d.set(this.Cc,function(){var e=bi(c);return Fb(e)});d.set(this.I,function(e,f){return Fb(ci(c,e,f))});d.set(this.Hc,function(e){e=di(c,e);return Fb(e)});d.set(this.Aa,function(e,f){return ei(c,e,f)});this.W=new nh(this.da,{pe:function(e,f,g,h){var k=null;e==c.da&&(k=g==c.da?c.da:c.Ca);e==\nc.Ca&&(k=g==c.da||f.A!=h.A?c.da:g==c.Ca?c.Ca:g==c.qa||g==c.I?c.qa:g==c.Aa?c.Hc:null);e==c.qa&&(k=g==c.I&&f.A==h.A?c.rc:c.M);e==c.rc&&(k=fi(c.I,c.Fc,c.M,g,f,h));e==c.Fc&&(k=fi(c.I,c.Cc,c.M,g,f,h));e==c.Cc&&(k=fi(c.I,c.I,c.M,g,f,h));e==c.Hc&&(k=g==c.Aa&&f.A==h.A?c.Aa:c.M);if(e==c.I||e==c.Aa)k=c.M;e==c.M&&(k=h.A&&f.A==h.A?c.Ca:c.da);return k},ee:function(e,f,g){c.dispatchEvent(gi(hi,{state:e.name}));return d.get(e)(f,g)},handleError:function(e){return J(function(f){return 1==f.a?t(f,Yh(c,e),2):f[\"return\"](e.A?\nc.Ca:c.da)})},Fe:function(e){c.dispatchEvent(gi(ii,{state:e.name}))}});a&&this.yb(a,!0)}pa(V,Rb);function gi(a,b){return new Q(a,b)}p=V.prototype;\np.destroy=function(){var a=this,b;return J(function(c){switch(c.a){case 1:if(a.g==ji)return c[\"return\"]();a.g=ji;b=sh(a.W,function(){return{node:a.da,payload:oh(),Ra:!1}});return t(c,new Promise(function(d){b.nb=function(){};b.hc=function(){d()};b.Ua=function(){d()};b.onError=function(){d()};b.jc=function(){d()}}),2);case 2:return t(c,a.W.destroy(),3);case 3:a.b&&(a.b.release(),a.b=null);a.Ac=null;a.j=null;a.i=null;a.f=null;a.Yb=null;if(!a.N){c.u(0);break}return t(c,a.N.destroy(),5);case 5:a.N=null,\nw(c)}})};p.yb=function(a,b){b=void 0===b?!0:b;if(this.g==ji)return Promise.reject(ki());var c=oh();c.A=a;Vc()||(b=!1);var d=b?this.qa:this.Ca,e=sh(this.W,function(){return{node:d,payload:c,Ra:!1}});e.nb=function(){};return li(e)};p.detach=function(){var a=this;if(this.g==ji)return Promise.reject(ki());var b=sh(this.W,function(){return{node:a.da,payload:oh(),Ra:!1}});b.nb=function(){};return li(b)};\np.od=function(a){var b=this;a=void 0===a?!0:a;if(this.g==ji)return Promise.reject(ki());Vc()||(a=!1);var c=oh(),d=sh(this.W,function(e){var f=e.A&&a?b.qa:e.A?b.Ca:b.da;c.A=e.A;return{node:f,payload:c,Ra:!1}});d.nb=function(){};return li(d)};\np.load=function(a,b,c){var d=this;if(this.g==ji)return Promise.reject(ki());this.dispatchEvent(gi(mi));var e=oh();e.uri=a;e.ld=Date.now()/1E3;c&&(e.mimeType=c);void 0!==b&&(e.startTime=b);var f=ni(this,e)?this.Aa:this.I,g=sh(this.W,function(h){if(null==h.A)return null;e.A=h.A;return{node:f,payload:e,Ra:!0}});this.f=new Sh;g.nb=function(){};return new Promise(function(h,k){g.jc=function(){return k(new L(2,7,7002))};g.hc=function(){h();d.dispatchEvent(gi(oi))};g.Ua=function(){return k(ki())};g.onError=\nfunction(l){return k(l)}})};\nfunction ni(a,b){if(!Vc())return!0;var c=b.mimeType,d=b.uri||\"\";c||(c={mp4:\"video/mp4\",m4v:\"video/mp4\",m4a:\"audio/mp4\",webm:\"video/webm\",weba:\"audio/webm\",mkv:\"video/webm\",ts:\"video/mp2t\",ogv:\"video/ogg\",ogg:\"audio/ogg\",mpg:\"video/mpeg\",mpeg:\"video/mpeg\",m3u8:\"application/x-mpegurl\",mp3:\"audio/mpeg\",aac:\"audio/aac\",flac:\"audio/flac\",wav:\"audio/wav\"}[Lf(d)]);return c?\"\"==(b.A||Xc()).canPlayType(c)?!1:Vc()&&(c in Kf||Lf(d)in Mf)?Yc()&&a.i.streaming.useNativeHlsOnSafari:!0:!1}\nfunction Xh(a,b,c){null==b.A&&(b.A=c.A,a.b.l(b.A,\"error\",function(){var d=pi(a);d&&qi(a,d)}));a.a=b.A;return Promise.resolve()}\nfunction Yh(a,b){var c,d,e,f,g,h,k,l,m;return J(function(n){switch(n.a){case 1:return a.g!=ji&&(a.g=Th),c=a.Bc.map(function(r){return r()}),a.Bc=[],t(n,Promise.all(c),2);case 2:a.dispatchEvent(gi(ri));b.mimeType=null;b.startTime=null;b.uri=null;b.A&&(a.b.pa(b.A,\"loadedmetadata\"),a.b.pa(b.A,\"playing\"),a.b.pa(b.A,\"pause\"),a.b.pa(b.A,\"ended\"),a.b.pa(b.A,\"ratechange\"));a.za&&(a.za.release(),a.za=null);a.Tb&&(a.Tb.stop(),a.Tb=null);if(!a.m){n.u(3);break}return t(n,a.m.stop(),4);case 4:a.m=null,a.Wb=null;\ncase 3:if(!a.j){n.u(5);break}return t(n,a.j.stop(),5);case 5:if(!a.c){n.u(7);break}return t(n,a.c.destroy(),8);case 8:a.c=null;case 7:a.w&&(a.w.release(),a.w=null);a.v&&(a.v.release(),a.v=null);if(!a.G){n.u(9);break}return t(n,a.G.destroy(),10);case 10:a.G=null;case 9:if(a.H)a.H.onAssetUnload();if(!b.A||!b.A.src){n.u(11);break}return t(n,new Promise(function(r){return(new M(r)).R(.1)}),12);case 12:b.A.removeAttribute(\"src\"),b.A.load();case 11:if(!a.h){n.u(13);break}return t(n,a.h.destroy(),14);case 14:a.h=\nnull;case 13:a.wb=null;a.C=null;if(a.o){d=q(a.o.variants);for(e=d.next();!e.done;e=d.next())for(f=e.value,g=q([f.audio,f.video]),h=g.next();!h.done;h=g.next())(k=h.value)&&k.segmentIndex&&k.segmentIndex.release();l=q(a.o.textStreams);for(h=l.next();!h.done;h=l.next())m=h.value,m.segmentIndex&&m.segmentIndex.release()}a.o=null;a.f=new Sh;a.Dc=null;si(a);w(n)}})}\nfunction Zh(a,b){var c,d,e,f;return J(function(g){if(1==g.a)return c=window.muxjs?new Vd:new Wd,d=a.i.textDisplayFactory,e=Kc(d),a.Dc=d,f=ti(b.A,c,e,function(h,k,l){h=q(h);for(var m=h.next();!m.done;m=h.next())if(m=m.value,m.data&&m.cueTime&&m.frames){for(var n=m.cueTime+k,r=l,u=q(m.frames),v=u.next();!v.done;v=u.next())ui(a,n,r,\"ID3\",v.value);if(a.H)a.H.onHlsTimedMetadata(m,n)}}),t(g,f.w,2);a.G=f;w(g)})}\nfunction $h(a,b,c){var d,e,f,g;return J(function(h){if(1==h.a)return b.mimeType=c.mimeType,b.uri=c.uri,d=b.uri,e=a.N,a.wb=d,f=a,t(h,Jf(d,e,a.i.manifest.retryParameters,b.mimeType),2);f.Wb=h.b;a.m=Kc(a.Wb);g=Sb(a.i.manifest);c.A&&\"AUDIO\"===c.A.nodeName&&(g.disableVideo=!0);a.m.configure(g);w(h)})}\nfunction ai(a,b){var c=b.uri,d=a.N;a.Xb=new sg(function(){return a.dd()});tg(a.Xb,function(g){vi(a,wi,g);if(a.H)a.H.onDashTimedMetadata(g)});var e={networkingEngine:d,filter:function(g){return J(function(h){return h[\"return\"](a.fb(g))})},onTimelineRegionAdded:function(g){var h=a.Xb;a:{var k=q(h.a);for(var l=k.next();!l.done;l=k.next())if(l=l.value,l.schemeIdUri==g.schemeIdUri&&l.id==g.id&&l.startTime==g.startTime&&l.endTime==g.endTime){k=l;break a}k=null}null==k&&(h.a.add(g),h.b(g))},onEvent:function(g){return a.dispatchEvent(g)},\nonError:function(g){return qi(a,g)}},f=Date.now()/1E3;return new Bb(function(){var g,h,k,l;return J(function(m){if(1==m.a)return g=a,t(m,a.m.start(c,e),2);g.o=m.b;h=gi(xi);a.dispatchEvent(h);if(0==a.o.variants.length)throw new L(2,4,4036);yi(a.o);k=Date.now()/1E3;l=k-f;a.f.v=l;w(m)})}(),function(){return a.m.stop()})}\nfunction bi(a){var b,c;return J(function(d){if(1==d.a)return b=Date.now()/1E3,c=!0,a.h=zi(a,{lb:a.N,onError:function(e){qi(a,e)},ic:function(e){Ai(a,e)},onExpirationUpdated:function(e,f){Bi(a,e,f)},onEvent:function(e){a.dispatchEvent(e);e.type==Ci&&c&&(c=!1,a.f.c=Date.now()/1E3-b)}}),a.h.configure(a.i.drm),t(d,qd(a.h,a.o.variants,a.o.offlineSessionIds),2);a.fb(a.o);w(d)})}\nfunction ci(a,b,c){var d,e,f,g,h,k,l,m,n,r;return J(function(u){switch(u.a){case 1:return b.startTime=c.startTime,d=b.A,e=b.uri,a.wb=e,a.w=new lg({ec:function(){return b.A.playbackRate},jd:function(v){b.A.playbackRate=v},Fd:function(v){b.A.currentTime+=v}}),f=function(){return Di(a)},g=function(){return Ei(a)},a.b.l(d,\"playing\",f),a.b.l(d,\"pause\",f),a.b.l(d,\"ended\",f),a.b.l(d,\"ratechange\",g),h=a.i.abrFactory,a.j&&a.Ac==h||(a.Ac=h,a.j=Kc(h),\"function\"!=typeof a.j.playbackRateChanged&&(Dc(\"AbrManager\",\n\"Please use an AbrManager with playbackRateChanged function.\"),a.j.playbackRateChanged=function(){}),a.j.configure(a.i.abr)),Fi(a),a.xb=new Af(a.i.preferredAudioLanguage,a.i.preferredVariantRole,a.i.preferredAudioChannelCount),a.ca=a.i.preferredTextLanguage,Gi(a.o.presentationTimeline,a.i.playRangeStart,a.i.playRangeEnd),t(u,a.h.yb(d),2);case 2:a.j.init(function(v,y,z){y=void 0===y?!1:y;z=void 0===z?0:z;a.c&&v!=a.c.b&&(Qh(a.f.a,v,!0),Xg(a.c,v,y,z),Hi(a))});a.v=Ii(a,b.startTime);a.za=Ji(a);k=Math.max(a.o.minBufferTime,\na.i.streaming.rebufferingGoal);Ki(a,k);df(a.o,a.i.preferredAudioChannelCount);a.c=Li(a);a.c.configure(a.i.streaming);a.g=Mi;a.dispatchEvent(gi(Ni));l=Oi(a)?a.j.chooseVariant():null;Qh(a.f.a,l,!0);Xg(a.c,l,!1,0);(m=rf(a.o.textStreams,a.ca,a.Ub)[0]||null)&&Rh(a.f.a,m,!0);m?(l.audio&&Pi(a,l.audio,m)&&(a.T=!0),a.T&&a.G.h.setTextVisibility(!0),Qi(a)):a.T=!1;m&&(a.i.streaming.alwaysStreamText||a.Nc())&&Yg(a.c,m);if(!a.i.streaming.startAtSegmentBoundary){u.u(3);break}n=a.v.g();return t(u,Ri(l,n),4);case 4:r=\nu.b,a.v.m(r);case 3:return t(u,a.c.start(),5);case 5:a.i.abr.enabled&&(a.j.enable(),Si(a)),a.fb(a.o),Ti(a),Hi(a),Oi(a),a.o.variants.some(function(v){return v.primary}),a.b.ha(d,\"loadedmetadata\",function(){a.f.f=Date.now()/1E3-c.ld}),w(u)}})}\nfunction di(a,b){var c,d,e,f;return J(function(g){return 1==g.a?(c=Nc,d=Date.now()/1E3,e=!0,a.h=zi(a,{lb:a.N,onError:function(h){qi(a,h)},ic:function(h){Ai(a,h)},onExpirationUpdated:function(h,k){Bi(a,h,k)},onEvent:function(h){a.dispatchEvent(h);h.type==Ci&&e&&(e=!1,a.f.c=Date.now()/1E3-d)}}),a.h.configure(a.i.drm),f={id:0,language:\"und\",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:\"video/mp4\",codecs:\"\",encrypted:!0,\ndrmInfos:[],keyIds:new Set,language:\"und\",label:null,type:c.Ba,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},t(g,qd(a.h,[f],[]),2)):t(g,a.h.yb(b.A),0)})}\nfunction ei(a,b,c){function d(){return Di(a)}b.uri=c.uri;b.startTime=c.startTime;a.wb=b.uri;a.v=new eg(b.A);null!=b.startTime&&a.v.m(b.startTime);a.w=new lg({ec:function(){return b.A.playbackRate},jd:function(g){b.A.playbackRate=g},Fd:function(g){b.A.currentTime+=g}});Ki(a,a.i.streaming.rebufferingGoal);a.b.l(b.A,\"playing\",d);a.b.l(b.A,\"pause\",d);a.b.l(b.A,\"ended\",d);a.b.l(b.A,\"ratechange\",function(){return Ei(a)});\"none\"!=a.a.preload&&a.b.ha(a.a,\"loadedmetadata\",function(){a.f.f=Date.now()/1E3-c.ld});\na.a.audioTracks&&(a.b.l(a.a.audioTracks,\"addtrack\",function(){return Ti(a)}),a.b.l(a.a.audioTracks,\"removetrack\",function(){return Ti(a)}),a.b.l(a.a.audioTracks,\"change\",function(){return Ti(a)}));a.a.textTracks&&(a.b.l(a.a.textTracks,\"addtrack\",function(g){Ti(a);Ui(a,g)}),a.b.l(a.a.textTracks,\"removetrack\",function(){return Ti(a)}),a.b.l(a.a.textTracks,\"change\",function(){return Ti(a)}));b.A.src=b.uri;(Zc(\"Tizen\")||Zc(\"Web0S\"))&&b.A.load();a.g=Vi;a.dispatchEvent(gi(Ni));var e=new Ab;Wf(a.a,HTMLMediaElement.HAVE_METADATA,\na.b,function(){e.resolve()});var f=!1;a.Bc.push(function(){f=!0});Wf(a.a,HTMLMediaElement.HAVE_CURRENT_DATA,a.b,function(){var g;return J(function(h){if(1==h.a){if(f)return h[\"return\"]();Wi(a);g=Xi(a);return g.find(function(k){return\"disabled\"!=k.mode})?h.u(2):t(h,new Promise(function(k){a.b.ha(a.a.textTracks,\"change\",k);(new M(k)).R(1)}),2)}if(f)return h[\"return\"]();Yi(a);w(h)})});a.a.error?e.reject(pi(a)):\"none\"==a.a.preload&&(Wa('With <video preload=\"none\">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload=\"none\" with Shaka Player.'),\ne.resolve());a.b.ha(a.a,\"error\",function(){e.reject(pi(a))});return new Bb(e,function(){e.reject(new L(2,7,7001));return Promise.resolve()})}function Wi(a){var b=a.i.preferredAudioLanguage;if(\"\"!=b){a.ed(b);var c=a.i.preferredVariantRole;\"\"!=c&&a.ed(b,c)}}function Yi(a){var b=a.i.preferredTextLanguage;if(\"\"!=b){a.fd(b);var c=a.i.preferredTextRole;\"\"!=c&&a.fd(b,c)}}\nfunction Ui(a,b){var c=b.track;\"metadata\"==c.kind&&(c.mode=\"hidden\",a.b.l(c,\"cuechange\",function(){if(c.activeCues)for(var d=q(c.activeCues),e=d.next();!e.done;e=d.next())if(e=e.value,ui(a,e.startTime,e.endTime,e.type,e.value),a.H)a.H.onCueMetadataChange(e.value)}),(new M(function(){var d=Xi(a);d=q(d);for(var e=d.next();!e.done;e=d.next())e.value.mode=\"hidden\"})).Ob().R(.5))}function ui(a,b,c,d,e){a.dispatchEvent(gi(Zi,{startTime:b,endTime:c,If:d,payload:e}))}\nfunction yi(a){function b(c){return c.video&&c.audio||c.video&&c.video.codecs.includes(\",\")}a.variants.some(b)&&(a.variants=a.variants.filter(b))}function zi(a,b){return new jd(b,a.i.drm.updateExpirationTime)}function Vh(a){return new Zb(function(b,c){a.j&&a.j.segmentDownloaded(b,c)})}\nfunction Ii(a,b){return new fg(a.a,a.o,a.i.streaming,b,function(){a.za&&og(a.za,!0);if(a.c)for(var c=a.c,d=c.s.dc(),e=c.i.smallGapLimit,f=q(c.a.keys()),g=f.next();!g.done;g=f.next()){g=g.value;var h;if(h=null!=Ne(c.s.K,g))h=c.s.K,\"text\"==g?(h=h.c,h=null==h.a||null==h.b?!1:d>=h.a&&d<h.b):(h=Me(h,g),h=Yd(h,d,e)),h=!h;h&&(bh(c,c.a.get(g)),\"text\"===g&&c.s.K.v.c())}a.C&&$i(a)},function(c){return a.dispatchEvent(c)})}\nfunction Ji(a){var b=new ug(a.Xb);vg(b,function(d){vi(a,aj,d)},function(d){vi(a,bj,d)},function(d,e){e||(vi(a,aj,d),vi(a,bj,d))});var c=new ng(a.a);c.a.add(b);return c}function Ki(a,b){a.C=new Ef;a.C.a=Gf;Hf(a.C,b,Math.min(.5,b/2));si(a);a.Tb=(new M(function(){$i(a)})).oa(.25)}\nfunction $i(a){switch(a.g){case Vi:if(a.a.ended)var b=!0;else{var c=Xd(a.a.buffered);b=null!=c&&c>=a.a.duration-1}break;case Mi:a:if(a.a.ended||Ke(a.G))b=!0;else{if(a.o.presentationTimeline.S()){c=a.o.presentationTimeline.Ka();var d=Xd(a.a.buffered);if(null!=d&&d>=c){b=!0;break a}}b=!1}break;default:b=!1}d=Zd(a.a.buffered,a.a.currentTime);c=a.C;var e=b,f=c.b.get(c.a);b=c.a;d=e||d>=f?Ff:Gf;c.a=d;b!=d&&si(a)}function ti(a,b,c,d){return new De(a,b,c,d)}\nfunction Li(a){return new Mg(a.o,{dc:function(){return a.v.g()},getBandwidthEstimate:function(){return a.j.getBandwidthEstimate()},K:a.G,lb:a.N,onError:function(b){return qi(a,b)},onEvent:function(b){return a.dispatchEvent(b)},Ge:function(){a.m&&a.m.update&&a.m.update()},Xc:function(){a.v&&a.v.v();$i(a)}})}\np.configure=function(a,b){2==arguments.length&&\"string\"==typeof a&&(a=Gh(a,b));a.manifest&&a.manifest.dash&&\"defaultPresentationDelay\"in a.manifest.dash&&(Dc(\"manifest.dash.defaultPresentationDelay configuration\",\"Please Use manifest.defaultPresentationDelay instead.\"),a.manifest.defaultPresentationDelay=a.manifest.dash.defaultPresentationDelay,delete a.manifest.dash.defaultPresentationDelay);var c=Kh(this.i,a,Uh(this));cj(this);return c};\nfunction cj(a){if(a.m){var b=Sb(a.i.manifest);a.a&&\"AUDIO\"===a.a.nodeName&&(b.disableVideo=!0);a.m.configure(b)}a.h&&a.h.configure(a.i.drm);if(a.c){a.c.configure(a.i.streaming);try{a.fb(a.o)}catch(f){qi(a,f)}a.j&&Oi(a);b=a.c.b;!b||b.allowedByApplication&&b.allowedByKeySystem||dj(a)}if(a.G&&(b=a.i.textDisplayFactory,a.Dc!=b)){var c=Kc(b),d=a.G,e=d.h;d.h=c;e&&(c.setTextVisibility(e.isTextVisible()),e.destroy());d.c&&(d.c.c=c);a.Dc=b;a.c&&(b=a.c,(c=b.a.get(\"text\"))&&Wg(b,c.stream,!0,0,!0))}a.j&&(a.j.configure(a.i.abr),\na.i.abr.enabled?a.j.enable():a.j.disable(),Si(a));a.C&&(b=a.i.streaming.rebufferingGoal,a.o&&(b=Math.max(b,a.o.minBufferTime)),Hf(a.C,b,Math.min(.5,b/2)))}p.getConfiguration=function(){var a=Uh(this);Kh(a,this.i,Uh(this));return a};p.Pe=function(){for(var a in this.i)delete this.i[a];Kh(this.i,Uh(this),Uh(this));cj(this)};p.ke=function(){return this.g};p.oe=function(){return this.a};p.Db=function(){return this.N};p.Ic=function(){return this.wb};\np.xd=function(){Xa(\"getAdManager\",\"Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!\");return this.H};p.S=function(){return this.o?this.o.presentationTimeline.S():this.a&&this.a.src?Infinity==this.a.duration:!1};p.Ta=function(){return this.o?this.o.presentationTimeline.Ta():!1};\np.Be=function(){if(this.o){var a=this.o.variants;return a.length?!a[0].video:!1}return this.a&&this.a.src?this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight:!1};p.dd=function(){if(this.o){var a=this.o.presentationTimeline;return{start:a.ib(),end:a.Da()}}return this.a&&this.a.src&&(a=this.a.seekable,a.length)?{start:a.start(0),end:a.end(a.length-1)}:{start:0,end:0}};p.keySystem=function(){return Ed(this.drmInfo())};p.drmInfo=function(){return this.h?this.h.c:null};\np.Cb=function(){return this.h?this.h.Cb():Infinity};p.Mc=function(){return this.C?this.C.a==Gf:!1};p.qe=function(){return this.a?this.w?this.w.b:1:0};p.$e=function(a){0==a?Wa(\"A trick play rate of 0 is unsupported!\"):(this.a.paused&&this.a.play(),this.w.set(a),this.g==Mi&&(this.j.playbackRateChanged(a),Vg(this.c,1<Math.abs(a))))};p.$d=function(){this.g==Vi&&this.w.set(1);this.g==Mi&&(this.w.set(1),this.j.playbackRateChanged(1),Vg(this.c,!1))};\np.Lc=function(){if(this.o){for(var a=this.c?this.c.b:null,b=[],c=q(this.o.variants),d=c.next();!d.done;d=c.next())if(d=d.value,pf(d)){var e=jf(d);e.active=d==a;b.push(e)}return b}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map(function(f){return nf(f)}):[]};\np.fc=function(){if(this.o){for(var a=this.c?this.c.c:null,b=[],c=q(this.o.textStreams),d=c.next();!d.done;d=c.next()){d=d.value;var e=kf(d);e.active=d==a;b.push(e)}return b}return this.a&&this.a.src&&this.a.textTracks?Xi(this).map(function(f){var g=of(f);g.active=\"disabled\"!=f.mode;g.type=\"text\";g.originalTextId=f.id;\"captions\"==f.kind&&(g.mimeType=\"application/cea-608\");f.kind&&(g.roles=[f.kind]);return g}):[]};\np.Nd=function(a){if(this.o&&this.c){var b=this.o.textStreams.find(function(d){return d.id==a.id});b&&b!=this.c.c&&(Rh(this.f.a,b,!1),Yg(this.c,b),ej(this),this.ca=b.language)}else if(this.a&&this.a.src&&this.a.textTracks){b=Xi(this);b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,lf(c)==a.id?c.mode=this.T?\"showing\":\"hidden\":c.mode=\"disabled\";ej(this)}};\np.Qe=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?0:c;if(this.o&&this.c){this.i.abr.enabled&&Wa(\"Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().\");var d=this.o.variants.find(function(e){return e.id==a.id});d&&pf(d)&&d!=this.c.b&&(Qh(this.f.a,d,!1),Xg(this.c,d,b,c),fj(this),this.xb=new zf(d),Oi(this))}else if(this.a&&this.a.audioTracks){b=Array.from(this.a.audioTracks);b=q(b);for(c=\nb.next();!c.done;c=b.next())c=c.value,lf(c)==a.id&&(c.enabled=!0);fj(this)}};p.ge=function(){return gj(this.Lc())};p.ye=function(){return gj(this.fc())};p.fe=function(){return Array.from(hj(this.Lc()))};p.xe=function(){return Array.from(hj(this.fc()))};\np.ed=function(a,b){if(this.o&&this.v)this.xb=new Af(a,b||\"\",0,\"\",\"audio\"),dj(this);else if(this.a&&this.a.audioTracks){var c=Array.from(this.a.audioTracks),d=R(a);c=q(c);for(var e=c.next();!e.done;e=c.next()){e=e.value;var f=nf(e);R(f.language)!=d||b&&!f.roles.includes(b)||(e.enabled=!0)}fj(this)}};\np.fd=function(a,b){if(this.o&&this.v){this.ca=a;this.Ub=b||\"\";var c=rf(this.o.textStreams,this.ca,this.Ub)[0]||null;c&&c!=this.c.c&&(Rh(this.f.a,c,!1),this.i.streaming.alwaysStreamText||this.Nc())&&(Yg(this.c,c),ej(this))}else{var d=R(a);(c=this.fc().find(function(e){return R(e.language)==d&&(!b||e.roles.includes(b))}))&&this.Nd(c)}};\np.Re=function(a){if(this.o&&this.v){for(var b=null,c=q(this.o.variants),d=c.next();!d.done;d=c.next())if(d=d.value,d.audio.label==a){b=d;break}null!=b&&(this.xb=new Af(b.language,\"\",0,a),dj(this))}};p.Nc=function(){var a=this.T;return this.G?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Xi(this).some(function(b){return\"showing\"==b.mode}):a};function Xi(a){return Array.from(a.a.textTracks).filter(function(b){return\"metadata\"!=b.kind&&\"Shaka Player TextTrack\"!=b.label})}\np.Xe=function(a){a=!!a;if(this.T!=a){this.T=a;if(this.g==Mi)this.G.h.setTextVisibility(a),this.i.streaming.alwaysStreamText||(a?this.c.c||(a=rf(this.o.textStreams,this.ca,this.Ub),0<a.length&&(Yg(this.c,a[0]),ej(this))):Ug(this.c));else if(this.a&&this.a.src&&this.a.textTracks){var b=Xi(this);b=q(b);for(var c=b.next();!c.done;c=b.next())c=c.value,\"disabled\"!=c.mode&&(c.mode=a?\"showing\":\"hidden\")}Qi(this)}};\np.se=function(){if(!this.S())return null;var a=this.W.f,b=0;if(this.v)b=this.v.g();else if(a){if(null==a.startTime)return new Date;b=a.startTime}return this.o?new Date(1E3*(this.o.presentationTimeline.f+b)):this.a&&this.a.getStartDate?(a=this.a.getStartDate(),isNaN(a.getTime())?null:new Date(a.getTime()+1E3*b)):null};\np.yd=function(){if(!this.S())return null;if(this.o)return new Date(1E3*this.o.presentationTimeline.f);if(this.a&&this.a.getStartDate){var a=this.a.getStartDate();return isNaN(a.getTime())?null:a}return null};p.cc=function(){if(this.g==Mi)return this.G.cc();var a={total:[],audio:[],video:[],text:[]};this.g==Vi&&(a.total=$d(this.a.buffered));return a};\np.getStats=function(){if(this.g!=Mi&&this.g!=Vi)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Di(this);var a=this.a;if(a.getVideoPlaybackQuality){a=a.getVideoPlaybackQuality();var b=this.f,c=Number(a.totalVideoFrames);b.I=Number(a.droppedVideoFrames);\nb.H=c;this.f.G=Number(a.corruptedVideoFrames)}this.h?(a=this.h,a=a.G?a.G:NaN):a=NaN;this.f.C=a;if(this.g==Mi){if(a=this.c.b)this.f.h=(this.w?this.w.b:1)*a.bandwidth;a&&a.video&&(b=this.f,c=a.video.height||NaN,b.M=a.video.width||NaN,b.j=c);this.S()&&(a=this.yd().valueOf()+1E3*this.dd().end,this.f.m=(Date.now()-a)/1E3);this.o&&this.o.presentationTimeline&&(this.f.w=this.o.presentationTimeline.a);a=this.j.getBandwidthEstimate();this.f.g=a}var d=this.f;a=d.M;b=d.j;c=d.h;var e=d.H,f=d.I,g=d.G,h=d.g,k=\nd.f,l=d.v,m=d.c,n=Nh(d.b,\"playing\"),r=Nh(d.b,\"paused\"),u=Nh(d.b,\"buffering\"),v=d.C,y=d.m,z=d.w,A=Oh(d.b),D=[];d=q(d.a.a);for(var B=d.next();!B.done;B=d.next())B=B.value,D.push({timestamp:B.timestamp,id:B.id,type:B.type,fromAdaptation:B.fromAdaptation,bandwidth:B.bandwidth});return{width:a,height:b,streamBandwidth:c,decodedFrames:e,droppedFrames:f,corruptedFrames:g,estimatedBandwidth:h,loadLatency:k,manifestTimeSeconds:l,drmTimeSeconds:m,playTime:n,pauseTime:r,bufferingTime:u,licenseTime:v,liveLatency:y,\nmaxSegmentDuration:z,stateHistory:A,switchHistory:D}};\np.addTextTrack=function(a,b,c,d,e,f){if(this.g==Vi)throw Error(\"State error!\");if(this.g!=Mi)throw Error(\"State error!\");var g=this.o.presentationTimeline.getDuration();if(Infinity==g)throw new L(1,4,4033);a={id:this.qd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:xg(0,g,[a]),mimeType:d,codecs:e||\"\",kind:c,encrypted:!1,drmInfos:[],keyIds:new Set,language:b,label:f||null,type:\"text\",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,\naudioSamplingRate:null,closedCaptions:null};this.o.textStreams.push(a);Ti(this);return kf(a)};p.hd=function(a,b){this.Gc.width=a;this.Gc.height=b};p.cd=function(){if(this.g==Mi){var a=this.c;if(a.D.a)a=!1;else if(a.g)a=!1;else{for(var b=q(a.a.values()),c=b.next();!c.done;c=b.next())c=c.value,c.Fb&&(c.Fb=!1,Tg(a,c,.1));a=!0}}else a=!1;return a};\np.le=function(){Wa(\"Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for.\");return this.o};p.me=function(){return this.Wb};\nfunction Uh(a){var b=Ih();b.streaming.failureCallback=function(c){var d=[1001,1002,1003];a.S()&&d.includes(c.code)&&(c.severity=1,a.cd())};b.textDisplayFactory=function(){return a.Yb?new yh(a.a,a.Yb):new uh(a.a)};return b}p.Qd=function(a){this.Yb=a};\nfunction Fi(a){for(var b=new Map,c=q(a.o.variants),d=c.next();!d.done;d=c.next())if(d=d.value,d.video&&d.video.closedCaptions){d=d.video;for(var e=q(d.closedCaptions.keys()),f=e.next();!f.done;f=e.next())if(f=f.value,!b.has(f)){var g={id:a.qd++,originalId:f,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:\"application/cea-608\",codecs:\"\",kind:\"caption\",encrypted:!1,drmInfos:[],keyIds:new Set,language:d.closedCaptions.get(f),label:null,type:\"text\",primary:!1,trickModeVideo:null,\nemsgSchemeIdUris:null,roles:d.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null};b.set(f,g)}}b=q(b.values());for(c=b.next();!c.done;c=b.next())a.o.textStreams.push(c.value)}\np.fb=function(a){gf(this.h,this.c?this.c.b:null,a);if(!a.variants.some(pf))throw new L(2,4,4032);for(var b=this.i.restrictions,c=this.Gc,d=!1,e=q(a.variants),f=e.next();!f.done;f=e.next()){f=f.value;var g=f.allowedByApplication;f.allowedByApplication=ff(f,b,c);g!=f.allowedByApplication&&(d=!0)}d&&this.c&&Ti(this);if(b=this.h?this.h.c:null)for(c=q(a.variants),d=c.next();!d.done;d=c.next())for(d=d.value,d=q((d.video?d.video.drmInfos:[]).concat(d.audio?d.audio.drmInfos:[])),e=d.next();!e.done;e=d.next())if(e=\ne.value,e.keySystem==b.keySystem)for(e=q(e.initData||[]),f=e.next();!f.done;f=e.next())f=f.value,Ad(this.h,f.initDataType,f.initData);ij(this,a)};\nfunction Ri(a,b){var c,d,e,f,g;return J(function(h){if(1==h.a)return c=a.audio,d=a.video,e=function(k,l){var m,n;return J(function(r){if(1==r.a)return k?t(r,k.createSegmentIndex(),2):r[\"return\"](null);m=k.segmentIndex[Symbol.iterator]().seek(l);if(!m)return r[\"return\"](null);n=m.startTime;return r[\"return\"](n)})},t(h,e(c,b),2);if(3!=h.a)return f=h.b,t(h,e(d,b),3);g=h.b;return null!=g&&null!=f?h[\"return\"](Math.max(g,f)):null!=g?h[\"return\"](g):null!=f?h[\"return\"](f):h[\"return\"](b)})}\nfunction si(a){var b=a.Mc();if(a.f&&a.C&&a.v){var c=a.w;c.f=b;mg(c);Di(a)}a.dispatchEvent(gi(jj,{buffering:b}))}function Ei(a){var b=a.a.playbackRate;0!=b&&(a.w&&a.w.set(b),b=gi(kj),a.dispatchEvent(b))}function Di(a){if(a.f&&a.C){var b=a.f.b;a.C.a==Gf?Mh(b,\"buffering\"):a.a.paused?Mh(b,\"paused\"):a.a.ended?Mh(b,\"ended\"):Mh(b,\"playing\")}}\nfunction Oi(a){try{ij(a,a.o)}catch(c){return qi(a,c),!1}var b=a.o.variants.filter(function(c){return pf(c)});b=a.xb.create(b);a.j.setVariants(Array.from(b.values()));return!0}function dj(a){var b;if(b=Oi(a)?a.j.chooseVariant():null){if(b==a.c.b)return;Qh(a.f.a,b,!0);Xg(a.c,b,!0,0);fj(a)}Hi(a)}function Pi(a,b,c){a=R(a.i.preferredTextLanguage);b=R(b.language);c=R(c.language);return Xe(c,a)&&!Xe(b,c)}function Hi(a){var b=gi(lj);mj(a,b)}function Ti(a){var b=gi(nj);mj(a,b)}\nfunction fj(a){var b=gi(oj);mj(a,b)}function ej(a){var b=gi(pj);mj(a,b)}function Qi(a){var b=gi(qj);mj(a,b)}function Si(a){var b=gi(rj,{Jf:a.i.abr.enabled});mj(a,b)}function qi(a,b){if(a.g!=ji){var c=gi(sj,{detail:b});a.dispatchEvent(c);c.defaultPrevented&&(b.handled=!0)}}function vi(a,b,c){a.dispatchEvent(gi(b,{detail:{schemeIdUri:c.schemeIdUri,value:c.value,startTime:c.startTime,endTime:c.endTime,id:c.id,eventElement:c.eventElement}}))}\nfunction pi(a){if(!a.a.error)return null;var b=a.a.error.code;if(1==b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new L(2,3,3016,b,c,a.a.error.message)}\nfunction Ai(a,b){if(a.c){var c=Object.keys(b),d=1==c.length&&\"00\"==c[0],e=!1;if(c.length){c=q(a.o.variants);for(var f=c.next();!f.done;f=c.next()){f=f.value;var g=[];f.audio&&g.push(f.audio);f.video&&g.push(f.video);g=q(g);for(var h=g.next();!h.done;h=g.next()){var k=h.value;h=f.allowedByKeySystem;if(k.keyIds.size){f.allowedByKeySystem=!0;k=q(k.keyIds);for(var l=k.next();!l.done;l=k.next())l=l.value,l=b[d?\"00\":l],f.allowedByKeySystem=f.allowedByKeySystem&&!!l&&!tj.includes(l)}h!=f.allowedByKeySystem&&\n(e=!0)}}}e&&Oi(a);(d=a.c.b)&&!d.allowedByKeySystem&&dj(a);e&&Ti(a)}}function Bi(a,b,c){if(a.m&&a.m.onExpirationUpdated)a.m.onExpirationUpdated(b,c);b=gi(uj);a.dispatchEvent(b)}function Gi(a,b,c){0<b&&(a.S()||a.Pd(b));b=a.getDuration();c<b&&(a.S()||a.xa(c))}\nfunction ij(a,b){var c=a.h?Pc(a.h.T):{},d=Object.keys(c);d=d.length&&\"00\"==d[0];for(var e=!1,f=!1,g=new Set,h=new Set,k=q(b.variants),l=k.next();!l.done;l=k.next()){l=l.value;var m=[];l.audio&&m.push(l.audio);l.video&&m.push(l.video);m=q(m);for(var n=m.next();!n.done;n=m.next())if(n=n.value,n.keyIds.size){n=q(n.keyIds);for(var r=n.next();!r.done;r=n.next()){r=r.value;var u=c[d?\"00\":r];u?tj.includes(u)&&h.add(u):g.add(r)}}l.allowedByApplication?l.allowedByKeySystem&&(e=!0):f=!0}if(!e)throw c={hasAppRestrictions:f,\nmissingKeys:Array.from(g),restrictedKeyStatuses:Array.from(h)},new L(2,4,4012,c);}function mj(a,b){J(function(c){if(1==c.a)return t(c,Promise.resolve(),2);a.g!=ji&&a.dispatchEvent(b);w(c)})}function hj(a){var b=new Set;a=q(a);for(var c=a.next();!c.done;c=a.next())c=c.value,c.language?b.add(R(c.language)):b.add(\"und\");return b}\nfunction gj(a){var b=new Map;a=q(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=\"und\";var e=[];d.language&&(c=R(d.language));\"variant\"==d.type?e=d.audioRoles:e=d.roles;e&&e.length||(e=[\"\"]);b.has(c)||b.set(c,new Set);d=q(e);for(e=d.next();!e.done;e=d.next())e=e.value,b.get(c).add(e)}var f=[];b.forEach(function(g,h){for(var k=q(g),l=k.next();!l.done;l=k.next())f.push({language:h,role:l.value})});return f}function ki(){return new L(2,7,7E3)}\nfunction fi(a,b,c,d,e,f){return d==a&&e.A==f.A&&e.uri==f.uri&&e.mimeType==f.mimeType?b:c}function oh(){return{A:null,mimeType:null,startTime:null,ld:NaN,uri:null}}function li(a){return new Promise(function(b,c){a.Ua=function(){return c(ki())};a.hc=function(){return b()};a.onError=function(d){return c(d)};a.jc=function(){return c(ki())}})}K(\"shaka.Player\",V);V.prototype.setVideoContainer=V.prototype.Qd;V.prototype.getManifestParserFactory=V.prototype.me;V.prototype.getManifest=V.prototype.le;\nV.prototype.retryStreaming=V.prototype.cd;V.prototype.setMaxHardwareResolution=V.prototype.hd;V.prototype.addTextTrack=V.prototype.addTextTrack;V.prototype.getStats=V.prototype.getStats;V.prototype.getBufferedInfo=V.prototype.cc;V.prototype.getPresentationStartTimeAsDate=V.prototype.yd;V.prototype.getPlayheadTimeAsDate=V.prototype.se;V.prototype.setTextTrackVisibility=V.prototype.Xe;V.prototype.isTextTrackVisible=V.prototype.Nc;V.prototype.selectVariantsByLabel=V.prototype.Re;\nV.prototype.selectTextLanguage=V.prototype.fd;V.prototype.selectAudioLanguage=V.prototype.ed;V.prototype.getTextLanguages=V.prototype.xe;V.prototype.getAudioLanguages=V.prototype.fe;V.prototype.getTextLanguagesAndRoles=V.prototype.ye;V.prototype.getAudioLanguagesAndRoles=V.prototype.ge;V.prototype.selectVariantTrack=V.prototype.Qe;V.prototype.selectTextTrack=V.prototype.Nd;V.prototype.getTextTracks=V.prototype.fc;V.prototype.getVariantTracks=V.prototype.Lc;V.prototype.cancelTrickPlay=V.prototype.$d;\nV.prototype.trickPlay=V.prototype.$e;V.prototype.getPlaybackRate=V.prototype.qe;V.prototype.isBuffering=V.prototype.Mc;V.prototype.getExpiration=V.prototype.Cb;V.prototype.drmInfo=V.prototype.drmInfo;V.prototype.keySystem=V.prototype.keySystem;V.prototype.seekRange=V.prototype.dd;V.prototype.isAudioOnly=V.prototype.Be;V.prototype.isInProgress=V.prototype.Ta;V.prototype.isLive=V.prototype.S;V.prototype.getAdManager=V.prototype.xd;V.prototype.getAssetUri=V.prototype.Ic;\nV.prototype.getNetworkingEngine=V.prototype.Db;V.prototype.getMediaElement=V.prototype.oe;V.prototype.getLoadMode=V.prototype.ke;V.prototype.resetConfiguration=V.prototype.Pe;V.prototype.getConfiguration=V.prototype.getConfiguration;V.prototype.configure=V.prototype.configure;V.prototype.load=V.prototype.load;V.prototype.unload=V.prototype.od;V.prototype.detach=V.prototype.detach;V.prototype.attach=V.prototype.yb;\nV.probeSupport=function(){var a,b,c,d,e,f;return J(function(g){if(1==g.a)return t(g,Od(),2);a=g.b;var h={};if(Vc()){for(var k in Kf)h[k]=!0;for(var l in Mf)h[l]=!0}k={mpd:\"application/dash+xml\",m3u8:\"application/x-mpegurl\",ism:\"application/vnd.ms-sstr+xml\"};l=q([\"application/dash+xml\",\"application/x-mpegurl\",\"application/vnd.apple.mpegurl\",\"application/vnd.ms-sstr+xml\"]);for(var m=l.next();!m.done;m=l.next())m=m.value,h[m]=Vc()?!!Kf[m]:Wc(m);for(var n in k)h[n]=Vc()?!!Mf[n]:Wc(k[n]);b=h;h={};n=q('video/mp4; codecs=\"avc1.42E01E\",video/mp4; codecs=\"avc3.42E01E\",video/mp4; codecs=\"hev1.1.6.L93.90\",video/mp4; codecs=\"hvc1.1.6.L93.90\",video/mp4; codecs=\"hev1.2.4.L153.B0\"; eotf=\"smpte2084\",video/mp4; codecs=\"hvc1.2.4.L153.B0\"; eotf=\"smpte2084\",video/mp4; codecs=\"vp9\",video/mp4; codecs=\"vp09.00.10.08\",video/mp4; codecs=\"av01.0.01M.08\",audio/mp4; codecs=\"mp4a.40.2\",audio/mp4; codecs=\"ac-3\",audio/mp4; codecs=\"ec-3\",audio/mp4; codecs=\"opus\",audio/mp4; codecs=\"flac\",video/webm; codecs=\"vp8\",video/webm; codecs=\"vp9\",video/webm; codecs=\"vp09.00.10.08\",audio/webm; codecs=\"vorbis\",audio/webm; codecs=\"opus\",video/mp2t; codecs=\"avc1.42E01E\",video/mp2t; codecs=\"avc3.42E01E\",video/mp2t; codecs=\"hvc1.1.6.L93.90\",video/mp2t; codecs=\"mp4a.40.2\",video/mp2t; codecs=\"ac-3\",video/mp2t; codecs=\"ec-3\",text/vtt,application/mp4; codecs=\"wvtt\",application/ttml+xml,application/mp4; codecs=\"stpp\"'.split(\",\"));\nfor(k=n.next();!k.done;k=n.next())k=k.value,h[k]=Vc()?xe(k)?!0:MediaSource.isTypeSupported(k)||ce(k):Wc(k),l=k.split(\";\")[0],h[l]=h[l]||h[k];c=h;d={manifest:b,media:c,drm:a};e=vj;for(f in e)d[f]=e[f]();return g[\"return\"](d)})};\nV.isBrowserSupported=function(){if(!(window.Promise&&window.Uint8Array&&Array.prototype.forEach))return!1;var a=$c();return a&&12>a||!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)?!1:Vc()?!0:Wc(\"application/x-mpegurl\")};V.setAdManagerFactory=function(a){Wh=a};V.registerSupportPlugin=function(a,b){vj[a]=b};V.prototype.destroy=V.prototype.destroy;\nvar rj=\"abrstatuschanged\",lj=\"adaptation\",jj=\"buffering\",Ci=\"drmsessionupdate\",lh=\"emsg\",sj=\"error\",uj=\"expirationupdated\",oi=\"loaded\",mi=\"loading\",xi=\"manifestparsed\",Zi=\"metadata\",hi=\"onstatechange\",ii=\"onstateidle\",kj=\"ratechange\",Ni=\"streaming\",pj=\"textchanged\",qj=\"texttrackvisibility\",wi=\"timelineregionadded\",aj=\"timelineregionenter\",bj=\"timelineregionexit\",nj=\"trackschanged\",ri=\"unloading\",oj=\"variantchanged\",wj={gf:rj,hf:lj,jf:jj,kf:Ci,mf:lh,Error:sj,nf:uj,qf:\"largegap\",rf:oi,sf:mi,tf:xi,Metadata:Zi,\nuf:hi,vf:ii,wf:kj,xf:Ni,yf:pj,zf:qj,Af:wi,Bf:aj,Cf:bj,Df:nj,Ef:ri,Ff:oj},ji=0,Th=1,Mi=2,Vi=3;V.LoadMode={DESTROYED:ji,NOT_LOADED:Th,MEDIA_SOURCE:Mi,SRC_EQUALS:Vi};V.version=\"v3.0.4\";var xj=[\"3\",\"0\"];Ec=new function(a){this.a=a;this.c=Fc;this.b=Gc}(new Cc(Number(xj[0]),Number(xj[1])));var tj=[\"output-restricted\",\"internal-error\"],vj={},Wh=null;function yj(){this.a=[];this.f=this.b=this.c=0};function W(a,b){var c=this;this.c=a;this.a=b;this.f=!1;this.g=this.a.getVolume();this.b=new lc;this.b.l(this.a,google.ima.AdEvent.Type.PAUSED,function(){c.f=!0});this.b.l(this.a,google.ima.AdEvent.Type.RESUMED,function(){c.f=!1})}p=W.prototype;p.getDuration=function(){return this.c.getDuration()};p.getRemainingTime=function(){return this.a.getRemainingTime()};p.isPaused=function(){return this.f};p.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()};\np.getTimeUntilSkippable=function(){var a=this.c.getSkipTimeOffset();a=this.getRemainingTime()-a;return Math.max(a,0)};p.canSkipNow=function(){return this.a.getAdSkippableState()};p.skip=function(){return this.a.skip()};p.pause=function(){return this.a.pause()};p.play=function(){return this.a.resume()};p.getVolume=function(){return this.a.getVolume()};p.setVolume=function(a){return this.a.setVolume(a)};p.isMuted=function(){return 0==this.a.getVolume()};\np.resize=function(a,b){this.a.resize(a,b,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)};p.setMuted=function(a){a?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)};p.getSequenceLength=function(){var a=this.c.getAdPodInfo();return null==a?1:a.getTotalAds()};p.getPositionInSequence=function(){var a=this.c.getAdPodInfo();return null==a?1:a.getAdPosition()};p.release=function(){this.a=this.c=null};K(\"shaka.ads.ClientSideAd\",W);\nW.prototype.release=W.prototype.release;W.prototype.getPositionInSequence=W.prototype.getPositionInSequence;W.prototype.getSequenceLength=W.prototype.getSequenceLength;W.prototype.setMuted=W.prototype.setMuted;W.prototype.resize=W.prototype.resize;W.prototype.isMuted=W.prototype.isMuted;W.prototype.setVolume=W.prototype.setVolume;W.prototype.getVolume=W.prototype.getVolume;W.prototype.play=W.prototype.play;W.prototype.pause=W.prototype.pause;W.prototype.skip=W.prototype.skip;\nW.prototype.canSkipNow=W.prototype.canSkipNow;W.prototype.getTimeUntilSkippable=W.prototype.getTimeUntilSkippable;W.prototype.isSkippable=W.prototype.isSkippable;W.prototype.isPaused=W.prototype.isPaused;W.prototype.getRemainingTime=W.prototype.getRemainingTime;W.prototype.getDuration=W.prototype.getDuration;function zj(a,b,c,d){var e=this;this.j=a;this.a=b;this.m=NaN;this.f=d;this.h=null;this.b=new lc;google.ima.settings.setLocale(c);a=new google.ima.AdDisplayContainer(this.j,this.a);a.initialize();this.g=new google.ima.AdsLoader(a);this.g.getSettings().setPlayerType(\"shaka-player\");this.g.getSettings().setPlayerVersion(\"v3.0.4\");this.c=null;this.b.ha(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(f){Aj(e,f)});this.b.l(this.g,google.ima.AdEvent.Type.AD_ERROR,function(f){Bj(e,\nf)});this.a.onended=function(){e.g.contentComplete()}}zj.prototype.stop=function(){this.c.stop()};function Bj(a,b){b.getError();Cj(a,null);a.f(new Q(\"ad-cue-points-changed\",{cuepoints:[]}))}\nfunction Aj(a,b){a.f(new Q(\"ads-loaded\",{loadTime:Date.now()/1E3-a.m}));a.c=b.getAdsManager(a.a);a.f(new Q(\"ima-ad-manager-loaded\",{imaAdsManager:a.c}));var c=a.c.getCuePoints();if(c.length){var d=[];c=q(c);for(var e=c.next();!e.done;e=c.next())d.push(new Dj(e.value));a.f(new Q(\"ad-cue-points-changed\",{cuepoints:d}))}Ej(a);try{a.c.init(a.a.offsetWidth,a.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),a.b.l(a.a,\"loadeddata\",function(){a.c.resize(a.a.offsetWidth,\na.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}),a.c.start()}catch(f){Cj(a,null)}}\nfunction Ej(a){a.b.l(a.c,google.ima.AdErrorEvent.Type.AD_ERROR,function(b){Bj(a,b)});a.b.l(a.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(b){Fj(a,b)});a.b.l(a.c,google.ima.AdEvent.Type.STARTED,function(b){Fj(a,b)});a.b.l(a.c,google.ima.AdEvent.Type.FIRST_QUARTILE,function(b){a.f(new Q(\"ad-first-quartile\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.MIDPOINT,function(b){a.f(new Q(\"ad-midpoint\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.THIRD_QUARTILE,function(b){a.f(new Q(\"ad-third-quartile\",\n{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.COMPLETE,function(b){a.f(new Q(\"ad-complete\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(b){Cj(a,b)});a.b.l(a.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(b){Cj(a,b)});a.b.l(a.c,google.ima.AdEvent.Type.SKIPPED,function(b){a.f(new Q(\"ad-skipped\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.VOLUME_CHANGED,function(b){a.f(new Q(\"ad-volume-changed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.VOLUME_MUTED,\nfunction(b){a.f(new Q(\"ad-muted\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.PAUSED,function(b){a.h.f=!0;a.f(new Q(\"ad-paused\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.RESUMED,function(b){a.h.f=!1;a.f(new Q(\"ad-resumed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,function(b){a.f(new Q(\"ad-skip-state-changed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.CLICK,function(){a.f(new Q(\"ad-clicked\"))});a.b.l(a.c,google.ima.AdEvent.Type.AD_PROGRESS,\nfunction(b){a.f(new Q(\"ad-progress\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.AD_BUFFERING,function(b){a.f(new Q(\"ad-buffering\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.IMPRESSION,function(b){a.f(new Q(\"ad-impression\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.DURATION_CHANGE,function(b){a.f(new Q(\"ad-duration-changed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.USER_CLOSE,function(b){a.f(new Q(\"ad-closed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.LOADED,\nfunction(b){a.f(new Q(\"ad-loaded\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(b){a.f(new Q(\"all-ads-completed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.LINEAR_CHANGED,function(b){a.f(new Q(\"ad-linear-changed\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.AD_METADATA,function(b){a.f(new Q(\"ad-metadata\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.LOG,function(b){a.f(new Q(\"ad-recoverable-error\",{originalEvent:b}))});a.b.l(a.c,\ngoogle.ima.AdEvent.Type.AD_BREAK_READY,function(b){a.f(new Q(\"ad-break-ready\",{originalEvent:b}))});a.b.l(a.c,google.ima.AdEvent.Type.INTERACTION,function(b){a.f(new Q(\"ad-interaction\",{originalEvent:b}))})}function Fj(a,b){var c=b.getAd();a.h=new W(c,a.c);a.f(new Q(\"ad-started\",{ad:a.h,sdkAdObject:c,originalEvent:b}));a.j.setAttribute(\"ad-active\",\"true\");a.a.pause()}function Cj(a,b){a.f(new Q(\"ad-stopped\",{originalEvent:b}));a.j.removeAttribute(\"ad-active\");a.a.play()};function Y(a,b){this.c=a;this.b=null;this.a=b}p=Y.prototype;p.getDuration=function(){return this.b?this.b.duration:-1};p.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1};p.isPaused=function(){return this.a.paused};p.isSkippable=function(){return this.c.isSkippable()};p.getTimeUntilSkippable=function(){var a=this.c.getSkipTimeOffset();a=this.getRemainingTime()-a;return Math.max(a,0)};p.canSkipNow=function(){return 0==this.getTimeUntilSkippable()};\np.skip=function(){this.a.currentTime+=this.getRemainingTime()};p.pause=function(){return this.a.pause()};p.play=function(){return this.a.play()};p.getVolume=function(){return this.a.volume};p.setVolume=function(a){this.a.volume=a};p.isMuted=function(){return this.a.muted};p.resize=function(){};p.setMuted=function(a){this.a.muted=a};p.getSequenceLength=function(){var a=this.c.getAdPodInfo();return null==a?1:a.getTotalAds()};\np.getPositionInSequence=function(){var a=this.c.getAdPodInfo();return null==a?1:a.getAdPosition()};p.release=function(){this.a=this.b=this.c=null};K(\"shaka.ads.ServerSideAd\",Y);Y.prototype.release=Y.prototype.release;Y.prototype.getPositionInSequence=Y.prototype.getPositionInSequence;Y.prototype.getSequenceLength=Y.prototype.getSequenceLength;Y.prototype.setMuted=Y.prototype.setMuted;Y.prototype.resize=Y.prototype.resize;Y.prototype.isMuted=Y.prototype.isMuted;Y.prototype.setVolume=Y.prototype.setVolume;\nY.prototype.getVolume=Y.prototype.getVolume;Y.prototype.play=Y.prototype.play;Y.prototype.pause=Y.prototype.pause;Y.prototype.skip=Y.prototype.skip;Y.prototype.canSkipNow=Y.prototype.canSkipNow;Y.prototype.getTimeUntilSkippable=Y.prototype.getTimeUntilSkippable;Y.prototype.isSkippable=Y.prototype.isSkippable;Y.prototype.isPaused=Y.prototype.isPaused;Y.prototype.getRemainingTime=Y.prototype.getRemainingTime;Y.prototype.getDuration=Y.prototype.getDuration;function Gj(a,b,c,d){var e=this;this.v=a;this.a=b;this.g=null;this.G=NaN;this.f=d;this.C=!1;this.w=this.h=this.j=null;this.m=\"\";this.b=new lc;a=new google.ima.dai.api.UiSettings;a.setLocale(c);this.c=new google.ima.dai.api.StreamManager(this.a,this.v,a);this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,function(f){Hj(e,f)});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,function(){e.m.length?e.g.resolve(e.m):e.g.reject(\"IMA Stream request returned an error and there was no backup asset uri provided.\");\ne.g=null});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,function(){});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,function(f){f=f.getAd();e.h=new Y(f,e.a);e.w&&(e.h.b=e.w);e.f(new Q(\"ad-started\",{ad:e.h}));e.v.setAttribute(\"ad-active\",\"true\")});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,function(){e.v.removeAttribute(\"ad-active\");var f=e.a.currentTime;e.j&&e.j>f&&(e.a.currentTime=e.j,e.j=null)});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,\nfunction(f){e.w=f.getStreamData().adProgressData;e.h&&(e.h.b=e.w)});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,function(){e.f(new Q(\"ad-first-quartile\"))});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,function(){e.f(new Q(\"ad-midpoint\"))});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,function(){e.f(new Q(\"ad-third-quartile\"))});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,function(){e.f(new Q(\"ad-complete\"));e.f(new Q(\"ad-stopped\"));\ne.v.removeAttribute(\"ad-active\");e.h=null});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,function(){e.f(new Q(\"ad-skipped\"));e.f(new Q(\"ad-stopped\"))});this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,function(f){var g=f.getStreamData();f=[];g=q(g.cuepoints);for(var h=g.next();!h.done;h=g.next())h=h.value,f.push(new Dj(h.start,h.end));e.f(new Q(\"ad-cue-points-changed\",{cuepoints:f}))})}Gj.prototype.stop=function(){this.c.reset();this.m=\"\";this.j=null};\nGj.prototype.onCueMetadataChange=function(a){if(a.key&&a.data){var b={};b[a.key]=a.data;this.c.onTimedMetadata(b)}};function Hj(a,b){a.f(new Q(\"ads-loaded\",{loadTime:Date.now()/1E3-a.G}));var c=b.getStreamData().url;a.g.resolve(c);a.g=null;a.C||a.b.l(a.a,\"seeked\",function(){var d=a.a.currentTime;if(0!=d){a.c.streamTimeForContentTime(d);var e=a.c.previousCuePointForStreamTime(d);e&&!e.played&&(a.j=d,a.a.currentTime=e.start)}})};function Z(){Rb.call(this);this.a=this.b=null;this.f=new yj;this.c=navigator.language}pa(Z,Rb);p=Z.prototype;p.setLocale=function(a){this.c=a};p.initClientSide=function(a,b){var c=this;if(!window.google||!google.ima||!google.ima.AdsLoader)throw new L(2,10,1E4);this.b=new zj(a,b,this.c,function(d){if(d&&d.type)switch(d.type){case \"ads-loaded\":c.f.a.push(d.loadTime);break;case \"ad-started\":c.f.c++;break;case \"ad-complete\":c.f.b++;break;case \"ad-skipped\":c.f.f++}c.dispatchEvent(d)})};\np.onAssetUnload=function(){this.b&&this.b.stop();this.dispatchEvent(new Q(\"ad-stopped\"));this.f=new yj};p.requestClientSideAds=function(a){if(!this.b)throw new L(1,10,10001);var b=this.b;b.m=Date.now()/1E3;b.g.requestAds(a)};\np.initServerSide=function(a,b){var c=this;if(!window.google||!google.ima||!google.ima.dai)throw new L(2,10,10002);this.a=new Gj(a,b,this.c,function(d){if(d&&d.type)switch(d.type){case \"ads-loaded\":c.f.a.push(d.loadTime);break;case \"ad-started\":c.f.c++;break;case \"ad-complete\":c.f.b++;break;case \"ad-skipped\":c.f.f++}c.dispatchEvent(d)})};\np.requestServerSideStream=function(a,b){b=void 0===b?\"\":b;if(!this.a)throw new L(1,10,10003);a.adTagParameters||(a.adTagParameters={});var c=a.adTagParameters;(c.mpt||c.mpv)&&Wa('You have attempted to set \"mpt\" and/or \"mpv\" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.');a.adTagParameters.mpt=\"Shaka Player\";a.adTagParameters.mpv=\"v3.0.4\";c=this.a;var d=b;c.g?c=Promise.reject(new L(1,10,10004)):(a instanceof google.ima.dai.api.LiveStreamRequest&&\n(c.C=!0),c.g=new Ab,c.c.requestStream(a),c.m=d||\"\",c.G=Date.now()/1E3,c=c.g);return c};p.replaceServerSideAdTagParameters=function(a){if(!this.a)throw new L(1,10,10003);(a.mpt||a.mpv)&&Wa('You have attempted to set \"mpt\" and/or \"mpv\" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.');a.mpt=\"Shaka Player\";a.mpv=\"v3.0.4\";this.a.c.replaceAdTagParameters(a)};\np.getStats=function(){var a=this.f;return{loadTimes:a.a,started:a.c,playedCompletely:a.b,skipped:a.f}};p.onDashTimedMetadata=function(a){if(this.a&&\"urn:google:dai:2018\"==a.schemeIdUri){var b=a.schemeIdUri,c=a.eventElement?a.eventElement.getAttribute(\"messageData\"):null;this.a.c.processMetadata(b,c,a.startTime)}};p.onHlsTimedMetadata=function(a,b){this.a&&this.a.c.processMetadata(\"ID3\",a.data,b)};p.onCueMetadataChange=function(a){if(this.a)this.a.onCueMetadataChange(a)};K(\"shaka.ads.AdManager\",Z);\nZ.prototype.onCueMetadataChange=Z.prototype.onCueMetadataChange;Z.prototype.onHlsTimedMetadata=Z.prototype.onHlsTimedMetadata;Z.prototype.onDashTimedMetadata=Z.prototype.onDashTimedMetadata;Z.prototype.getStats=Z.prototype.getStats;Z.prototype.replaceServerSideAdTagParameters=Z.prototype.replaceServerSideAdTagParameters;Z.prototype.requestServerSideStream=Z.prototype.requestServerSideStream;Z.prototype.initServerSide=Z.prototype.initServerSide;Z.prototype.requestClientSideAds=Z.prototype.requestClientSideAds;\nZ.prototype.onAssetUnload=Z.prototype.onAssetUnload;Z.prototype.initClientSide=Z.prototype.initClientSide;Z.prototype.setLocale=Z.prototype.setLocale;function Dj(a,b){this.start=a;this.end=void 0===b?null:b}Z.ADS_LOADED=\"ads-loaded\";Z.AD_STARTED=\"ad-started\";Z.AD_FIRST_QUARTILE=\"ad-first-quartile\";Z.AD_MIDPOINT=\"ad-midpoint\";Z.AD_THIRD_QUARTILE=\"ad-third-quartile\";Z.AD_COMPLETE=\"ad-complete\";Z.AD_STOPPED=\"ad-stopped\";Z.AD_SKIPPED=\"ad-skipped\";Z.AD_VOLUME_CHANGED=\"ad-volume-changed\";Z.AD_MUTED=\"ad-muted\";\nZ.AD_PAUSED=\"ad-paused\";Z.AD_RESUMED=\"ad-resumed\";Z.AD_SKIP_STATE_CHANGED=\"ad-skip-state-changed\";Z.CUEPOINTS_CHANGED=\"ad-cue-points-changed\";Z.IMA_AD_MANAGER_LOADED=\"ima-ad-manager-loaded\";Z.AD_CLICKED=\"ad-clicked\";Z.AD_PROGRESS=\"ad-progress\";Z.AD_BUFFERING=\"ad-buffering\";Z.AD_IMPRESSION=\"ad-impression\";Z.AD_DURATION_CHANGED=\"ad-duration-changed\";Z.AD_CLOSED=\"ad-closed\";Z.AD_LOADED=\"ad-loaded\";Z.ALL_ADS_COMPLETED=\"all-ads-completed\";Z.AD_LINEAR_CHANGED=\"ad-linear-changed\";Z.AD_METADATA=\"ad-metadata\";\nZ.AD_RECOVERABLE_ERROR=\"ad-recoverable-error\";Z.AD_BREAK_READY=\"ad-break-ready\";Z.AD_INTERACTION=\"ad-interaction\";Wh=function(){return new Z};function Ij(a){return JSON.stringify(a,function(b,c){if(\"function\"!=typeof c){if(c instanceof Event||c instanceof Q){var d={};for(f in c){var e=c[f];e&&\"object\"==typeof e?\"detail\"==f&&(d[f]=e):f in Event||(d[f]=e)}return d}if(c instanceof Error){var f=new Set([\"name\",\"message\",\"stack\"]);for(d in c)f.add(d);e=q(Object.getOwnPropertyNames(c));for(d=e.next();!d.done;d=e.next())f.add(d.value);e={};f=q(f);for(d=f.next();!d.done;d=f.next())d=d.value,e[d]=c[d];f={__type__:\"Error\",contents:e}}else if(c instanceof\nTimeRanges)for(f={__type__:\"TimeRanges\",length:c.length,start:[],end:[]},d=q($d(c)),e=d.next();!e.done;e=d.next()){e=e.value;var g=e.end;f.start.push(e.start);f.end.push(g)}else f=c instanceof Uint8Array?{__type__:\"Uint8Array\",entries:Array.from(c)}:\"number\"==typeof c?isNaN(c)?\"NaN\":isFinite(c)?c:0>c?\"-Infinity\":\"Infinity\":c;return f}})}\nfunction Jj(a){return JSON.parse(a,function(b,c){if(\"NaN\"==c)var d=NaN;else if(\"-Infinity\"==c)d=-Infinity;else if(\"Infinity\"==c)d=Infinity;else if(c&&\"object\"==typeof c&&\"TimeRanges\"==c.__type__)d=Kj(c);else if(c&&\"object\"==typeof c&&\"Uint8Array\"==c.__type__)d=new Uint8Array(c.entries);else if(c&&\"object\"==typeof c&&\"Error\"==c.__type__){d=c.contents;var e=Error(d.message),f;for(f in d)e[f]=d[f];d=e}else d=c;return d})}\nfunction Kj(a){return{length:a.length,start:function(b){return a.start[b]},end:function(b){return a.end[b]}}}\nvar Lj=\"ended play playing pause pausing ratechange seeked seeking timeupdate volumechange\".split(\" \"),Mj=\"buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume\".split(\" \"),Nj=[\"loop\",\"playbackRate\"],Oj=[\"pause\",\"play\"],Pj={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,\nisBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},Qj={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Rj=[[\"getConfiguration\",\"configure\"]],Sj=[[\"isTextTrackVisible\",\"setTextTrackVisibility\"]],Tj=\"addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay\".split(\" \"),Uj=[\"attach\",\"detach\",\"load\",\n\"unload\"];function Vj(a,b,c,d,e,f){var g=this;this.T=a;this.f=new M(b);this.W=c;this.m=!1;this.C=d;this.M=e;this.H=f;this.b=this.h=!1;this.I=\"\";this.j=null;this.v=function(){return Wj(g)};this.w=function(h,k){var l=Jj(k);switch(l.type){case \"event\":var m=l.targetName;l=l.event;l=new Q(l.type,l);g.C(m,l);break;case \"update\":m=l.update;for(var n in m){l=g.a[n]||{};for(var r in m[n])l[r]=m[n][r]}g.m&&(g.W(),g.m=!1);break;case \"asyncComplete\":if(n=l.id,l=l.error,r=g.c[n],delete g.c[n],r)if(l){n=new L(l.severity,\nl.category,l.code);for(m in l)n[m]=l[m];r.reject(n)}else r.resolve()}};this.a={video:{},player:{}};this.G=0;this.c={};this.g=null;Xj.add(this)}p=Vj.prototype;p.destroy=function(){Xj[\"delete\"](this);Yj(this);Zj&&ak(this);this.f&&(this.f.stop(),this.f=null);this.M=this.C=null;this.b=this.h=!1;this.w=this.v=this.g=this.c=this.a=this.j=null;return Promise.resolve()};p.fa=function(){return this.b};p.$c=function(){return this.I};\np.init=function(){if(window.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.T.length){this.h=!0;this.f.Ob();var a=new chrome.cast.SessionRequest(this.T);a=new chrome.cast.ApiConfig(a,function(b){for(var c=q(Xj),d=c.next();!d.done;d=c.next())bk(d.value,b)},function(b){for(var c=q(Xj),d=c.next();!d.done;d=c.next())d=d.value,ck=\"available\"==b,d.f.Ob()},\"origin_scoped\");chrome.cast.initialize(a,function(){},function(){});ck&&this.f.R(dk);(a=Zj)&&a.status!=chrome.cast.SessionStatus.STOPPED?bk(this,\na):Zj=null}};p.gd=function(a){this.j=a;this.b&&ek(this,{type:\"appData\",appData:this.j})};p.cast=function(a){var b=this;return J(function(c){if(!b.h)throw new L(1,8,8E3);if(!ck)throw new L(1,8,8001);if(b.b)throw new L(1,8,8002);b.g=new Ab;chrome.cast.requestSession(function(d){return fk(b,a,d)},function(d){return gk(b,d)});return t(c,b.g,0)})};function hk(a){if(a.b){var b=a.H();chrome.cast.requestSession(function(c){return fk(a,b,c)},function(c){return gk(a,c)})}}\np.gb=function(){if(this.b){Yj(this);if(Zj){ak(this);try{Zj.stop(function(){},function(){})}catch(a){}Zj=null}Wj(this)}};\np.get=function(a,b){var c=this;if(\"video\"==a){if(Oj.includes(b))return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f]=arguments[f];return c.Kd.apply(c,[a,b].concat(ha(e)))}}else if(\"player\"==a){if(Qj[b]&&!this.get(\"player\",\"isLive\")())return function(){};if(Tj.includes(b))return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f]=arguments[f];return c.Kd.apply(c,[a,b].concat(ha(e)))};if(Uj.includes(b))return function(d){for(var e=[],f=0;f<arguments.length;++f)e[f]=arguments[f];return c.Me.apply(c,\n[a,b].concat(ha(e)))};if(Pj[b])return function(){return c.a[a][b]}}return this.a[a][b]};p.set=function(a,b,c){this.a[a][b]=c;ek(this,{type:\"set\",targetName:a,property:b,value:c})};function fk(a,b,c){Zj=c;c.addUpdateListener(a.v);c.addMessageListener(\"urn:x-cast:com.google.shaka.v2\",a.w);Wj(a);ek(a,{type:\"init\",initState:b,appData:a.j});a.g.resolve()}\nfunction gk(a,b){var c=8003;switch(b.code){case \"cancel\":c=8004;break;case \"timeout\":c=8005;break;case \"receiver_unavailable\":c=8006}a.g.reject(new L(2,8,c,b))}p.Kd=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];ek(this,{type:\"call\",targetName:a,methodName:b,args:d})};p.Me=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];e=new Ab;var f=this.G.toString();this.G++;this.c[f]=e;try{ek(this,{type:\"asyncCall\",targetName:a,methodName:b,args:d,id:f})}catch(g){e.reject(g)}return e};\nfunction bk(a,b){var c=a.H();a.g=new Ab;a.m=!0;fk(a,c,b)}function ak(a){var b=Zj;b.removeUpdateListener(a.v);b.removeMessageListener(\"urn:x-cast:com.google.shaka.v2\",a.w)}function Wj(a){var b=Zj?\"connected\"==Zj.status:!1;if(a.b&&!b){a.M();for(var c in a.a)a.a[c]={};Yj(a)}a.b=b;a.I=b?Zj.receiver.friendlyName:\"\";a.f.Ob()}function Yj(a){for(var b in a.c){var c=a.c[b];delete a.c[b];c.reject(new L(1,7,7E3))}}\nfunction ek(a,b){var c=Ij(b),d=Zj;try{d.sendMessage(\"urn:x-cast:com.google.shaka.v2\",c,function(){},Za)}catch(e){throw c=new L(2,8,8005,e),d=new Q(\"error\",{detail:c}),a.C(\"player\",d),a.gb(),c;}}var dk=.02,ck=!1,Zj=null,Xj=new Set;window.__onGCastApiAvailable=function(a){if(a){a=q(Xj);for(var b=a.next();!b.done;b=a.next())b.value.init()}};function ik(a,b,c){Rb.call(this);var d=this;this.f=a;this.c=b;this.b=this.j=this.g=this.m=this.h=null;this.w=c;this.v=new Map;this.a=new Vj(c,function(){return jk(d)},function(){return kk(d)},function(e,f){return lk(d,e,f)},function(){return mk(d)},function(){return nk(d)});ok(this)}pa(ik,Rb);p=ik.prototype;\np.destroy=function(a){a&&this.a.gb();this.b&&(this.b.release(),this.b=null);a=[];this.c&&(a.push(this.c.destroy()),this.c=null);this.a&&(a.push(this.a.destroy()),this.a=null);this.m=this.h=this.f=null;return Promise.all(a)};p.ze=function(){return this.h};p.re=function(){return this.m};p.Zd=function(){return this.a.h&&ck};p.fa=function(){return this.a.fa()};p.$c=function(){return this.a.$c()};\np.cast=function(){var a=this,b;return J(function(c){return 1==c.a?(b=nk(a),t(c,a.a.cast(b),2)):a.c?t(c,a.c.od(),0):c[\"return\"]()})};p.gd=function(a){this.a.gd(a)};p.Ye=function(){hk(this.a)};p.gb=function(){this.a.gb()};\np.ae=function(a){var b=this;return J(function(c){if(1==c.a){if(a==b.w)return c[\"return\"]();b.w=a;b.a.gb();return t(c,b.a.destroy(),2)}b.a=null;b.a=new Vj(a,function(){return jk(b)},function(){return kk(b)},function(d,e){return lk(b,d,e)},function(){return mk(b)},function(){return nk(b)});b.a.init();w(c)})};\nfunction ok(a){a.a.init();a.b=new lc;for(var b=q(Lj),c=b.next();!c.done;c=b.next())a.b.l(a.f,c.value,function(f){a.a.fa()||(f=new Q(f.type,f),a.g.dispatchEvent(f))});for(var d in wj)a.b.l(a.c,wj[d],function(f){a.a.fa()||a.j.dispatchEvent(f)});a.h={};b={};for(var e in a.f)b.sb=e,Object.defineProperty(a.h,b.sb,{configurable:!1,enumerable:!0,get:function(f){return function(){return pk(a,f.sb)}}(b),set:function(f){return function(g){var h=f.sb;a.a.fa()?a.a.set(\"video\",h,g):a.f[h]=g}}(b)}),b={sb:b.sb};\na.m={};qk(a,function(f){Object.defineProperty(a.m,f,{configurable:!1,enumerable:!0,get:function(){return rk(a,f)}})});sk(a);a.g=new Rb;a.g.Vb=a.h;a.j=new Rb;a.j.Vb=a.m}function sk(a){var b=new Map;qk(a,function(c,d){if(b.has(d)){var e=b.get(d);c.length<e.length?a.v.set(c,e):a.v.set(e,c)}else b.set(d,c)})}\nfunction qk(a,b){function c(l){return\"constructor\"==l||\"function\"!=typeof d[l]?!1:!e.has(l)}var d=a.c,e=new Set;for(f in d)c(f)&&(e.add(f),b(f,d[f]));var f=Object.getPrototypeOf(d);for(var g=Object.getPrototypeOf({});f&&f!=g;){for(var h=q(Object.getOwnPropertyNames(f)),k=h.next();!k.done;k=h.next())k=k.value,c(k)&&(e.add(k),b(k,d[k]));f=Object.getPrototypeOf(f)}}\nfunction nk(a){var b={video:{},player:{},playerAfterLoad:{},manifest:a.c.Ic(),startTime:null};a.f.pause();for(var c=q(Nj),d=c.next();!d.done;d=c.next())d=d.value,b.video[d]=a.f[d];a.f.ended||(b.startTime=a.f.currentTime);c=q(Rj);for(d=c.next();!d.done;d=c.next()){var e=d.value;d=e[1];e=a.c[e[0]]();b.player[d]=e}c=q(Sj);for(d=c.next();!d.done;d=c.next())e=d.value,d=e[1],e=a.c[e[0]](),b.playerAfterLoad[d]=e;return b}function jk(a){var b=new Q(\"caststatuschanged\");a.dispatchEvent(b)}\nfunction kk(a){var b=new Q(a.h.paused?\"pause\":\"play\");a.g.dispatchEvent(b)}\nfunction mk(a){for(var b=q(Rj),c=b.next();!c.done;c=b.next()){var d=c.value;c=d[1];d=a.a.get(\"player\",d[0])();a.c[c](d)}var e=a.a.get(\"player\",\"getAssetUri\")();c=a.a.get(\"video\",\"ended\");b=Promise.resolve();var f=a.f.autoplay;d=null;c||(d=a.a.get(\"video\",\"currentTime\"));e&&(a.f.autoplay=!1,b=a.c.load(e,d));var g={};c=q(Nj);for(d=c.next();!d.done;d=c.next())d=d.value,g[d]=a.a.get(\"video\",d);b.then(function(){if(a.f){for(var h=q(Nj),k=h.next();!k.done;k=h.next())k=k.value,a.f[k]=g[k];h=q(Sj);for(k=\nh.next();!k.done;k=h.next()){var l=k.value;k=l[1];l=a.a.get(\"player\",l[0])();a.c[k](l)}a.f.autoplay=f;e&&a.f.play()}},function(h){h=new Q(sj,{detail:h});a.c.dispatchEvent(h)})}\nfunction pk(a,b){if(\"addEventListener\"==b)return function(d,e,f){return a.g.addEventListener(d,e,f)};if(\"removeEventListener\"==b)return function(d,e,f){return a.g.removeEventListener(d,e,f)};if(a.a.fa()&&0==Object.keys(a.a.a.video).length){var c=a.f[b];if(\"function\"!=typeof c)return c}return a.a.fa()?a.a.get(\"video\",b):(c=a.f[b],\"function\"==typeof c&&(c=c.bind(a.f)),c)}\nfunction rk(a,b){a.v.has(b)&&(b=a.v.get(b));if(\"addEventListener\"==b)return function(c,d,e){return a.j.addEventListener(c,d,e)};if(\"removeEventListener\"==b)return function(c,d,e){return a.j.removeEventListener(c,d,e)};if(\"getMediaElement\"==b)return function(){return a.h};if(\"getSharedConfiguration\"==b)return a.a.get(\"player\",\"getConfiguration\");if(\"getNetworkingEngine\"==b)return function(){return a.c.Db()};if(\"getAdManager\"==b)return function(){return a.c.xd()};if(\"setVideoContainer\"==b)return function(c){return a.c.Qd(c)};\nif(a.a.fa()){if(\"getManifest\"==b||\"drmInfo\"==b)return function(){Wa(b+\"() does not work while casting!\");return null};if(\"attach\"==b||\"detach\"==b)return function(){Wa(b+\"() does not work while casting!\");return Promise.resolve()}}return a.a.fa()&&0==Object.keys(a.a.a.video).length&&Pj[b]||!a.a.fa()?a.c[b].bind(a.c):a.a.get(\"player\",b)}function lk(a,b,c){a.a.fa()&&(\"video\"==b?a.g.dispatchEvent(c):\"player\"==b&&a.j.dispatchEvent(c))}K(\"shaka.cast.CastProxy\",ik);ik.prototype.changeReceiverId=ik.prototype.ae;\nik.prototype.forceDisconnect=ik.prototype.gb;ik.prototype.suggestDisconnect=ik.prototype.Ye;ik.prototype.setAppData=ik.prototype.gd;ik.prototype.cast=ik.prototype.cast;ik.prototype.receiverName=ik.prototype.$c;ik.prototype.isCasting=ik.prototype.fa;ik.prototype.canCast=ik.prototype.Zd;ik.prototype.getPlayer=ik.prototype.re;ik.prototype.getVideo=ik.prototype.ze;ik.prototype.destroy=ik.prototype.destroy;function tk(a,b,c,d){Rb.call(this);var e=this;this.a=a;this.c=b;this.b=new lc;this.I={video:a,player:b};this.C=c||function(){};this.M=d||function(f){return f};this.f=null;this.G=!1;this.j=!0;this.h=0;this.w=!1;this.v=!0;this.m=this.g=null;this.H=new M(function(){uk(e)});vk(this)}pa(tk,Rb);p=tk.prototype;p.isConnected=function(){return this.G};p.Ce=function(){return this.j};p.Ue=function(a){this.f=a};p.de=function(){this.f=null};\np.Ve=function(a){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC});this.f.title=a};p.Te=function(a){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC});this.f.images=[{url:a}]};p.Se=function(a){this.f||(this.f={});this.f.artist=a;this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK};\np.destroy=function(){var a=this,b,c;return J(function(d){if(1==d.a)return a.b&&(a.b.release(),a.b=null),b=[],a.c&&(b.push(a.c.destroy()),a.c=null),a.H&&(a.H.stop(),a.H=null),a.a=null,a.I=null,a.C=null,a.G=!1,a.j=!0,a.g=null,a.m=null,t(d,Promise.all(b),2);c=cast.receiver.CastReceiverManager.getInstance();c.stop();w(d)})};\nfunction vk(a){var b=cast.receiver.CastReceiverManager.getInstance();b.onSenderConnected=function(){return wk(a)};b.onSenderDisconnected=function(){return wk(a)};b.onSystemVolumeChanged=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&xk(a,{type:\"update\",update:{video:{volume:e.level,muted:e.muted}}},a.g);xk(a,{type:\"event\",targetName:\"video\",event:{type:\"volumechange\"}},a.g)};a.m=b.getCastMessageBus(\"urn:x-cast:com.google.cast.media\");a.m.onMessage=function(e){return yk(a,\ne)};a.g=b.getCastMessageBus(\"urn:x-cast:com.google.shaka.v2\");a.g.onMessage=function(e){return zk(a,e)};b.start();b=q(Lj);for(var c=b.next();!c.done;c=b.next())a.b.l(a.a,c.value,function(e){return Ak(a,\"video\",e)});for(var d in wj)a.b.l(a.c,wj[d],function(e){return Ak(a,\"player\",e)});cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs=\"avc1.640028\"; width=3840; height=2160')?a.c.hd(3840,2160):a.c.hd(1920,1080);a.b.l(a.a,\"loadeddata\",function(){a.w=!0});a.b.l(a.c,\"loading\",function(){a.j=\n!1;Bk(a)});a.b.l(a.a,\"playing\",function(){a.j=!1;Bk(a)});a.b.l(a.a,\"pause\",function(){Bk(a)});a.b.l(a.c,\"unloading\",function(){a.j=!0;Bk(a)});a.b.l(a.a,\"ended\",function(){(new M(function(){a.a&&a.a.ended&&(a.j=!0,Bk(a))})).R(Ck)})}function wk(a){a.h=0;a.v=!0;a.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length;Bk(a)}\nfunction Bk(a){var b;J(function(c){if(1==c.a)return t(c,Promise.resolve(),2);if(!a.c)return c[\"return\"]();b=new Q(\"caststatuschanged\");a.dispatchEvent(b);Dk(a)||Ek(a);w(c)})}\nfunction Fk(a,b,c){var d,e,f,g,h,k,l,m,n,r;J(function(u){switch(u.a){case 1:for(d in b.player)e=b.player[d],a.c[d](e);a.C(c);f=a.a.autoplay;return b.manifest?(a.a.autoplay=!1,x(u,5),t(u,a.c.load(b.manifest,b.startTime),7)):t(u,Promise.resolve(),3);case 7:ua(u,3);break;case 5:return g=C(u),h=sj,k=new Q(h,{detail:g}),a.c.dispatchEvent(k),u[\"return\"]();case 3:if(!a.c)return u[\"return\"]();for(l in b.video)m=b.video[l],a.a[l]=m;for(n in b.playerAfterLoad)r=b.playerAfterLoad[n],a.c[n](r);a.a.autoplay=f;\nb.manifest&&(a.a.play(),Ek(a));w(u)}})}function Ak(a,b,c){a.c&&(uk(a),xk(a,{type:\"event\",targetName:b,event:c},a.g))}\nfunction uk(a){a.H.R(Gk);for(var b={video:{},player:{}},c=q(Mj),d=c.next();!d.done;d=c.next())d=d.value,b.video[d]=a.a[d];if(a.c.S())for(var e in Qj)0==a.h%Qj[e]&&(b.player[e]=a.c[e]());for(var f in Pj)0==a.h%Pj[f]&&(b.player[f]=a.c[f]());if(c=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())b.video.volume=c.level,b.video.muted=c.muted;a.w&&(a.h+=1);xk(a,{type:\"update\",update:b},a.g);Dk(a)}function Dk(a){return a.v&&(a.a.duration||a.c.S())?(Hk(a),a.v=!1,!0):!1}\nfunction Hk(a,b){var c={contentId:a.c.Ic(),streamType:a.c.S()?\"LIVE\":\"BUFFERED\",contentType:\"\"};a.c.S()||(c.duration=a.a.duration);a.f&&(c.metadata=a.f);Ek(a,void 0===b?0:b,c)}\nfunction zk(a,b){var c=Jj(b.data);switch(c.type){case \"init\":a.h=0;a.w=!1;a.v=!0;Fk(a,c.initState,c.appData);uk(a);break;case \"appData\":a.C(c.appData);break;case \"set\":var d=c.targetName,e=c.property;c=c.value;if(\"video\"==d){var f=cast.receiver.CastReceiverManager.getInstance();if(\"volume\"==e){f.setSystemVolumeLevel(c);break}else if(\"muted\"==e){f.setSystemVolumeMuted(c);break}}a.I[d][e]=c;break;case \"call\":d=a.I[c.targetName];d[c.methodName].apply(d,c.args);break;case \"asyncCall\":d=c.targetName;e=\nc.methodName;\"player\"==d&&\"load\"==e&&(a.h=0,a.w=!1);var g=c.id,h=b.senderId;f=a.I[d];c=f[e].apply(f,c.args);\"player\"==d&&\"load\"==e&&(c=c.then(function(){a.v=!0}));c.then(function(){return Ik(a,h,g,null)},function(k){return Ik(a,h,g,k)})}}\nfunction yk(a,b){var c=Jj(b.data);switch(c.type){case \"PLAY\":a.a.play();Ek(a);break;case \"PAUSE\":a.a.pause();Ek(a);break;case \"SEEK\":var d=c.currentTime,e=c.resumeState;null!=d&&(a.a.currentTime=Number(d));e&&\"PLAYBACK_START\"==e?(a.a.play(),Ek(a)):e&&\"PLAYBACK_PAUSE\"==e&&(a.a.pause(),Ek(a));break;case \"STOP\":a.c.od().then(function(){a.c&&Ek(a)});break;case \"GET_STATUS\":Hk(a,Number(c.requestId));break;case \"VOLUME\":e=c.volume;d=e.level;e=e.muted;var f=a.a.volume,g=a.a.muted;null!=d&&(a.a.volume=Number(d));\nnull!=e&&(a.a.muted=e);f==a.a.volume&&g==a.a.muted||Ek(a);break;case \"LOAD\":a.h=0;a.w=!1;a.v=!1;d=c.media;e=c.currentTime;f=a.M(d.contentId);g=c.autoplay||!0;a.C(d.customData);g&&(a.a.autoplay=!0);a.c.load(f,e).then(function(){a.c&&Hk(a)})[\"catch\"](function(h){var k=\"LOAD_FAILED\";7==h.category&&7E3==h.code&&(k=\"LOAD_CANCELLED\");xk(a,{requestId:Number(c.requestId),type:k},a.m)});break;default:xk(a,{requestId:Number(c.requestId),type:\"INVALID_REQUEST\",reason:\"INVALID_COMMAND\"},a.m)}}\nfunction Ik(a,b,c,d){a.c&&xk(a,{type:\"asyncComplete\",id:c,error:d},a.g,b)}function xk(a,b,c,d){a.G&&(a=Ij(b),d?c.getCastChannel(d).send(a):c.broadcast(a))}function Ek(a,b,c){c=void 0===c?null:c;var d={mediaSessionId:0,playbackRate:a.a.playbackRate,playerState:a.j?Jk:a.c.Mc()?Kk:a.a.paused?Lk:Mk,currentTime:a.a.currentTime,supportedMediaCommands:63,volume:{level:a.a.volume,muted:a.a.muted}};c&&(d.media=c);xk(a,{requestId:void 0===b?0:b,type:\"MEDIA_STATUS\",status:[d]},a.m)}\nK(\"shaka.cast.CastReceiver\",tk);tk.prototype.destroy=tk.prototype.destroy;tk.prototype.setContentArtist=tk.prototype.Se;tk.prototype.setContentImage=tk.prototype.Te;tk.prototype.setContentTitle=tk.prototype.Ve;tk.prototype.clearContentMetadata=tk.prototype.de;tk.prototype.setContentMetadata=tk.prototype.Ue;tk.prototype.isIdle=tk.prototype.Ce;tk.prototype.isConnected=tk.prototype.isConnected;var Gk=.5,Ck=5,Jk=\"IDLE\",Mk=\"PLAYING\",Kk=\"BUFFERING\",Lk=\"PAUSED\";function Nk(a){var b=this;this.a=[];this.b=[];this.data=[];(new Dg).L(\"moov\",Hg).ea(\"pssh\",function(c){if(!(1<c.version)){var d=N(c.reader.P,-12,c.size);b.data.push(d);b.a.push(hd(c.reader.Wa(16)));if(0<c.version){d=c.reader.J();d=q(fb(d));for(var e=d.next();!e.done;e=d.next())e=hd(c.reader.Wa(16)),b.b.push(e)}}}).parse(a)}\nfunction Ok(a){if(!a)return a;var b=new Nk(a);if(1>=b.data.length)return a;a=[];var c={};b=q(b.data);for(var d=b.next();!d.done;c={Pb:c.Pb},d=b.next())c.Pb=d.value,a.some(function(e){return function(f){return Jb(f,e.Pb)}}(c))||a.push(c.Pb);return id.apply(cd,ha(a))};function Pk(a,b){var c=Qk(a,b);return 1!=c.length?null:c[0]}function Rk(a,b,c){a=Sk(a,b,c);return 1!=a.length?null:a[0]}function Qk(a,b){return Array.from(a.childNodes).filter(function(c){return c instanceof Element&&c.tagName==b})}function Sk(a,b,c){return Array.from(a.childNodes).filter(function(d){return d instanceof Element&&d.localName==c&&d.namespaceURI==b})}function Tk(a,b,c){return a.hasAttributeNS(b,c)?a.getAttributeNS(b,c):null}\nfunction Uk(a){return Array.from(a.childNodes).every(function(b){return b.nodeType==Node.TEXT_NODE||b.nodeType==Node.CDATA_SECTION_NODE})?a.textContent.trim():null}function Vk(a,b,c,d){d=void 0===d?null:d;var e=null;a=a.getAttribute(b);null!=a&&(e=c(a));return null==e?d:e}function Wk(a){if(!a)return null;/^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/.test(a)&&(a+=\"Z\");a=Date.parse(a);return isNaN(a)?null:Math.floor(a/1E3)}\nfunction bl(a){if(!a)return null;a=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(a);if(!a)return null;a=31536E3*Number(a[1]||null)+2592E3*Number(a[2]||null)+86400*Number(a[3]||null)+3600*Number(a[4]||null)+60*Number(a[5]||null)+Number(a[6]||null);return isFinite(a)?a:null}function cl(a){var b=/([0-9]+)-([0-9]+)/.exec(a);if(!b)return null;a=Number(b[1]);if(!isFinite(a))return null;b=Number(b[2]);return isFinite(b)?{start:a,end:b}:null}\nfunction dl(a){a=Number(a);return 0===a%1?a:null}function el(a){a=Number(a);return 0===a%1&&0<a?a:null}function fl(a){a=Number(a);return 0===a%1&&0<=a?a:null}function gl(a){var b;a=(b=a.match(/^(\\d+)\\/(\\d+)$/))?Number(b[1])/Number(b[2]):Number(a);return isNaN(a)?null:a}function hl(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,\"text/xml\")}catch(f){}e&&e.documentElement.tagName==b&&(d=e.documentElement);return d&&0<d.getElementsByTagName(\"parsererror\").length?null:d}\nfunction il(a,b){try{var c=sc(a);return hl(c,b)}catch(d){return null}};function jl(a,b){var c=kl(a),d=null,e=[],f=[],g=new Set(c.map(function(k){return k.keyId}));g[\"delete\"](null);if(1<g.size)throw new L(2,4,4010);b||(f=c.filter(function(k){return\"urn:mpeg:dash:mp4protection:2011\"==k.Md?(d=k.init||d,!1):!0}),f.length&&(e=ll(d,f),0==e.length&&(e=[Mc(\"\",d)])));if(c.length&&(b||!f.length))for(e=[],c=q(ml.values()),f=c.next();!f.done;f=c.next())f=f.value,\"org.w3.clearkey\"!=f&&e.push(Mc(f,d));if(g=Array.from(g)[0]||null)for(c=q(e),f=c.next();!f.done;f=c.next()){f=q(f.value.initData);\nfor(var h=f.next();!h.done;h=f.next())h.value.keyId=g}return{td:g,Gf:d,drmInfos:e,wd:!0}}function nl(a,b,c){var d=jl(a,c);if(b.wd){a=1==b.drmInfos.length&&!b.drmInfos[0].keySystem;c=0==d.drmInfos.length;if(0==b.drmInfos.length||a&&!c)b.drmInfos=d.drmInfos;b.wd=!1}else if(0<d.drmInfos.length&&(b.drmInfos=b.drmInfos.filter(function(e){return d.drmInfos.some(function(f){return f.keySystem==e.keySystem})}),0==b.drmInfos.length))throw new L(2,4,4008);return d.td||b.td}\nfunction ol(a){var b=0,c=Nb(a),d=c.getUint32(b,!0);if(d!=a.byteLength)return[];a:{a=b+6;for(b=[];a<c.byteLength-1;){d=c.getUint16(a,!0);a+=2;var e=c.getUint16(a,!0);a+=2;if(0!=(e&1)||e+a>c.byteLength){c=[];break a}var f=N(c,a,e);b.push({type:d,value:f});a+=e}c=b}return c}\nfunction pl(a){a=q(a.getElementsByTagName(\"DATA\"));for(var b=a.next();!b.done;b=a.next()){b=q(b.value.childNodes);for(var c=b.next();!c.done;c=b.next())if(c=c.value,c instanceof Element&&\"LA_URL\"==c.tagName)return c.textContent}return\"\"}\nfunction ll(a,b){for(var c=[],d=q(b),e=d.next();!e.done;e=d.next()){e=e.value;var f=ml.get(e.Md);if(f){var g;if(g=Rk(e.node,\"urn:microsoft:playready\",\"pro\")){g=fd(g.textContent);var h=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),k=g.length,l=h.length+16+k,m=new Uint8Array(l),n=Nb(m),r=0;n.setUint32(r,l);r+=4;n.setUint32(r,1886614376);r+=4;n.setUint32(r,0);r+=4;m.set(h,r);r+=h.length;n.setUint32(r,k);r+=4;m.set(g,r);g=[{initData:m,initDataType:\"cenc\",keyId:e.keyId}]}else g=\nnull;g=Mc(f,e.init||a||g);if(f=ql.get(f))g.licenseServerUri=f(e);c.push(g)}}return c}function kl(a){var b=[];a=q(a);for(var c=a.next();!c.done;c=a.next())(c=rl(c.value))&&b.push(c);return b}\nfunction rl(a){var b=a.getAttribute(\"schemeIdUri\"),c=Tk(a,\"urn:mpeg:cenc:2013\",\"default_KID\"),d=Sk(a,\"urn:mpeg:cenc:2013\",\"pssh\").map(Uk);if(!b)return null;b=b.toLowerCase();if(c&&(c=c.replace(/-/g,\"\").toLowerCase(),c.includes(\" \")))throw new L(2,4,4009);var e=[];try{e=d.map(function(f){return{initDataType:\"cenc\",initData:fd(f),keyId:null}})}catch(f){throw new L(2,4,4007);}return{node:a,Md:b,keyId:c,init:0<e.length?e:null}}\nvar ml=(new Map).set(\"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b\",\"org.w3.clearkey\").set(\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\",\"com.widevine.alpha\").set(\"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95\",\"com.microsoft.playready\").set(\"urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95\",\"com.microsoft.playready\").set(\"urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb\",\"com.adobe.primetime\"),ql=(new Map).set(\"com.widevine.alpha\",function(a){return(a=Rk(a.node,\"urn:microsoft\",\"laurl\"))?a.getAttribute(\"licenseUrl\")||\n\"\":\"\"}).set(\"com.microsoft.playready\",function(a){a=Rk(a.node,\"urn:microsoft:playready\",\"pro\");if(!a)return\"\";a=fd(a.textContent);a=ol(a).filter(function(b){return 1===b.type})[0];if(!a)return\"\";a=uc(a.value,!0);return(a=hl(a,\"WRMHEADER\"))?pl(a):\"\"});function sl(a,b,c,d,e){var f={RepresentationID:b,Number:c,Bandwidth:d,Time:e};return a.replace(/\\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\\$/g,function(g,h,k,l){if(\"$$\"==g)return\"$\";var m=f[h];if(null==m)return g;\"RepresentationID\"==h&&k&&(k=void 0);\"Time\"==h&&(m=Math.round(m));switch(l){case void 0:case \"d\":case \"i\":case \"u\":g=m.toString();break;case \"o\":g=m.toString(8);break;case \"x\":g=m.toString(16);break;case \"X\":g=m.toString(16).toUpperCase();break;default:g=m.toString()}k=\nwindow.parseInt(k,10)||1;return Array(Math.max(0,k-g.length)+1).join(\"0\")+g})}\nfunction tl(a,b){var c=ul(a,b,\"timescale\"),d=1;c&&(d=el(c)||1);c=ul(a,b,\"duration\");(c=el(c||\"\"))&&(c/=d);var e=ul(a,b,\"startNumber\"),f=Number(ul(a,b,\"presentationTimeOffset\"))||0,g=fl(e||\"\");if(null==e||null==g)g=1;var h=vl(a,b,\"SegmentTimeline\");e=null;if(h){e=d;var k=a.O.duration||Infinity,l=Qk(h,\"S\");h=[];var m=-f;l=q(hb(l));for(var n=l.next();!n.done;n=l.next()){n=n.value;var r=n.item,u=n.next,v=Vk(r,\"t\",fl);n=Vk(r,\"d\",fl);var y=Vk(r,\"r\",dl);null!=v&&(v-=f);if(!n)break;r=null!=v?v:m;v=y||0;if(0>\nv)if(u){u=Vk(u,\"t\",fl);if(null==u)break;else if(r>=u)break;v=Math.ceil((u-r)/n)-1}else{if(Infinity==k)break;else if(r/e>=k)break;v=Math.ceil((k*e-r)/n)-1}0<h.length&&r!=m&&(h[h.length-1].end=r/e);u=q(fb(v+1));for(v=u.next();!v.done;v=u.next())m=r+n,h.push({start:r/e,end:m/e,df:r}),r=m}e=h}return{timescale:d,Z:c,qb:g,Ga:f/d||0,pd:f,timeline:e}}function ul(a,b,c){return[b(a.F),b(a.aa),b(a.ja)].filter(Jc).map(function(d){return d.getAttribute(c)}).reduce(function(d,e){return d||e})}\nfunction vl(a,b,c){return[b(a.F),b(a.aa),b(a.ja)].filter(Jc).map(function(d){return Pk(d,c)}).reduce(function(d,e){return d||e})}\nfunction wl(a,b,c,d,e,f){for(var g=Tk(a,\"http://www.w3.org/1999/xlink\",\"href\"),h=Tk(a,\"http://www.w3.org/1999/xlink\",\"actuate\")||\"onRequest\",k=q(Array.from(a.attributes)),l=k.next();!l.done;l=k.next())l=l.value,\"http://www.w3.org/1999/xlink\"==l.namespaceURI&&a.removeAttributeNS(l.namespaceURI,l.localName);if(5<=f)return Cb(new L(2,4,4028));if(\"onLoad\"!=h)return Cb(new L(2,4,4027));var m=Lc([d],[g]);return e.request(0,cc(m,b)).U(function(n){n=il(n.data,a.tagName);if(!n)return Cb(new L(2,4,4001,g));\nfor(;a.childNodes.length;)a.removeChild(a.childNodes[0]);for(;n.childNodes.length;){var r=n.childNodes[0];n.removeChild(r);a.appendChild(r)}n=q(Array.from(n.attributes));for(r=n.next();!r.done;r=n.next())a.setAttributeNode(r.value.cloneNode(!1));return xl(a,b,c,m[0],e,f+1)})}\nfunction xl(a,b,c,d,e,f){f=void 0===f?0:f;if(Tk(a,\"http://www.w3.org/1999/xlink\",\"href\")){var g=wl(a,b,c,d,e,f);c&&(g=g.U(void 0,function(){return xl(a,b,c,d,e,f)}));return g}g=[];for(var h=q(Array.from(a.childNodes)),k=h.next();!k.done;k=h.next())k=k.value,k instanceof Element&&(\"urn:mpeg:dash:resolve-to-zero:2013\"==Tk(k,\"http://www.w3.org/1999/xlink\",\"href\")?a.removeChild(k):\"SegmentTimeline\"!=k.tagName&&g.push(xl(k,b,c,d,e,f)));return Gb(g).U(function(){return a})};function yl(a,b,c,d,e,f,g){var h,k=(new Dg).ea(\"sidx\",function(l){h=zl(b,d,e,f,g,c,l)});a&&k.parse(a);if(h)return h;throw new L(2,3,3004);}\nfunction zl(a,b,c,d,e,f,g){var h=[];g.reader.skip(4);var k=g.reader.J();if(0==k)throw new L(2,3,3005);if(0==g.version){var l=g.reader.J();var m=g.reader.J()}else l=g.reader.pb(),m=g.reader.pb();g.reader.skip(2);var n=g.reader.Kb();a=a+g.size+m;n=q(fb(n));for(m=n.next();!m.done;m=n.next()){var r=g.reader.J();m=(r&2147483648)>>>31;r&=2147483647;var u=g.reader.J();g.reader.skip(4);if(1==m)throw new L(2,3,3006);h.push(new Pf(l/k+c,(l+u)/k+c,function(){return f},a,a+r-1,b,c,d,e));l+=u;a+=r}g.parser.stop();\nreturn h};function Al(a){this.b=Nb(a);this.a=new U(this.b,0)}Al.prototype.ta=function(){return this.a.ta()};\nfunction Bl(a){var b=Cl(a);if(7<b.length)throw new L(2,3,3002);var c=0;b=q(b);for(var d=b.next();!d.done;d=b.next())c=256*c+d.value;b=Cl(a);a:{d=q(Dl);for(var e=d.next();!e.done;e=d.next())if(Jb(b,new Uint8Array(e.value))){d=!0;break a}d=!1}if(d)b=a.b.byteLength-a.a.B;else{if(8==b.length&&b[1]&224)throw new L(2,3,3001);d=0;e=q(hb(b));for(var f=e.next();!f.done;f=e.next()){f=f.value;var g=f.item;d=0==f.Y?g&(1<<8-b.length)-1:256*d+g}b=d}b=a.a.B+b<=a.b.byteLength?b:a.b.byteLength-a.a.B;d=Nb(a.b,a.a.B,\nb);a.a.skip(b);return new El(c,d)}function Cl(a){var b=a.a.B,c=a.a.na();if(0==c)throw new L(2,3,3002);c=8-Math.floor(Math.log2(c));a.a.skip(c-1);return N(a.b,b,c)}var Dl=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function El(a,b){this.id=a;this.a=b}\nfunction Fl(a){if(8<a.a.byteLength)throw new L(2,3,3002);if(8==a.a.byteLength&&a.a.getUint8(0)&224)throw new L(2,3,3001);for(var b=0,c=q(fb(a.a.byteLength)),d=c.next();!d.done;d=c.next())d=a.a.getUint8(d.value),b=256*b+d;return b};function Gl(a,b,c,d,e,f,g,h,k){function l(){return e}var m=[];a=new Al(a.a);for(var n=null,r=null;a.ta();){var u=Bl(a);if(187==u.id){var v=Hl(u);v&&(u=c*v.ef,v=b+v.Le,null!=n&&m.push(new Pf(n+g,u+g,l,r,v-1,f,g,h,k)),n=u,r=v)}}null!=n&&m.push(new Pf(n+g,d+g,l,r,null,f,g,h,k));return m}\nfunction Hl(a){var b=new Al(a.a);a=Bl(b);if(179!=a.id)throw new L(2,3,3013);a=Fl(a);b=Bl(b);if(183!=b.id)throw new L(2,3,3012);b=new Al(b.a);for(var c=0;b.ta();){var d=Bl(b);if(241==d.id){c=Fl(d);break}}return{ef:a,Le:c}};function Il(a,b){var c=vl(a,b,\"Initialization\");if(!c)return null;var d=a.F.ma,e=c.getAttribute(\"sourceURL\");e&&(d=Lc(a.F.ma,[e]));e=0;var f=null;if(c=Vk(c,\"range\",cl))e=c.start,f=c.end;return new Of(function(){return d},e,f)}\nfunction Jl(a,b){var c=Number(ul(a,Kl,\"presentationTimeOffset\"))||0,d=ul(a,Kl,\"timescale\"),e=1;d&&(e=el(d)||1);var f=c/e||0,g=Il(a,Kl);Ll(a,g);var h=Tb(a);return{hb:function(){var k=vl(h,Kl,\"RepresentationIndex\"),l=h.F.ma;k&&(k=k.getAttribute(\"sourceURL\"))&&(l=Lc(h.F.ma,[k]));k=Ml(h);return Nl(h,b,g,l,k.start,k.end,f)}}}\nfunction Nl(a,b,c,d,e,f,g){var h,k,l,m,n,r,u,v,y,z,A,D,B,E,H;return J(function(G){var F;if(1==G.a)return h=a.presentationTimeline,k=!a.Na||!a.O.Cd,l=a.O.start,m=a.O.duration,n=a.F.mimeType.split(\"/\")[1],r=b,u=null,v=[r(d,e,f),\"webm\"==n?r(c.c(),c.b,c.a):null],r=null,t(G,Promise.all(v),2);y=G.b;z=y[0];A=y[1]||null;D=null;B=l-g;E=l;H=m?l+m:Infinity;if(\"mp4\"==n)var I=yl(z,e,d,c,B,E,H);else{I=new Al(A);if(440786851!=Bl(I).id)throw new L(2,3,3008);var O=Bl(I);if(408125543!=O.id)throw new L(2,3,3009);I=\nO.a.byteOffset;O=new Al(O.a);for(F=null;O.ta();){var X=Bl(O);if(357149030==X.id){F=X;break}}if(!F)throw new L(2,3,3010);F=new Al(F.a);X=1E6;for(O=null;F.ta();){var P=Bl(F);if(2807729==P.id)X=Fl(P);else if(17545==P.id)if(4==P.a.byteLength)O=P.a.getFloat32(0);else if(8==P.a.byteLength)O=P.a.getFloat64(0);else throw new L(2,3,3003);}if(null==O)throw new L(2,3,3011);F=X/1E9;F={Ze:F,duration:O*F};O=F.Ze;F=F.duration;X=Bl(new Al(z));if(475249515!=X.id)throw new L(2,3,3007);I=Gl(X,I,O,F,d,c,B,E,H)}D=I;h.mb(D);\nu=new T(D);k&&u.Ja(E,H);return G[\"return\"](u)})}function Kl(a){return a.Lb}function Ml(a){var b=vl(a,Kl,\"RepresentationIndex\");a=ul(a,Kl,\"indexRange\");a=cl(a||\"\");b&&(a=Vk(b,\"range\",cl,a));return a}function Ll(a,b){Ol(a,b);if(!Ml(a))throw new L(2,4,4002);}function Ol(a,b){var c=a.F.mimeType.split(\"/\")[1];if(\"text\"!=a.F.contentType&&\"mp4\"!=c&&\"webm\"!=c)throw new L(2,4,4006);if(\"webm\"==c&&!b)throw new L(2,4,4005);};function Pl(a,b){var c=Il(a,Ql),d=Rl(a);if(!d.Z&&!d.timeline&&1<d.jb.length)throw new L(2,4,4002);if(!d.Z&&!a.O.duration&&!d.timeline&&1==d.jb.length)throw new L(2,4,4002);if(d.timeline&&0==d.timeline.length)throw new L(2,4,4002);var e=null,f=null;a.ja.id&&a.F.id&&(f=a.ja.id+\",\"+a.F.id,e=b[f]);c=Sl(a.O.start,a.O.duration,a.F.ma,d,c);e?(e.kb(c),e.Oa(a.presentationTimeline.Qa())):(a.presentationTimeline.mb(c),e=new T(c),f&&a.Na&&(b[f]=e));a.Na&&a.O.Cd||e.Ja(a.O.start,a.O.duration?a.O.start+a.O.duration:\nInfinity);return{hb:function(){return Promise.resolve(e)}}}function Ql(a){return a.Ma}function Rl(a){var b=Tl(a);a=tl(a,Ql);var c=a.qb;0==c&&(c=1);var d=0;a.Z?d=a.Z*(c-1):a.timeline&&0<a.timeline.length&&(d=a.timeline[0].start);return{Z:a.Z,startTime:d,qb:c,Ga:a.Ga,timeline:a.timeline,jb:b}}\nfunction Sl(a,b,c,d,e){var f=d.jb.length;d.timeline&&d.timeline.length!=d.jb.length&&(f=Math.min(d.timeline.length,d.jb.length));var g=a-d.Ga,h=b?a+b:Infinity,k=[],l=d.startTime,m={};f=q(fb(f));for(var n=f.next();!n.done;m={uc:m.uc},n=f.next()){n=n.value;var r=d.jb[n];m.uc=Lc(c,[r.Ee]);var u=void 0;u=null!=d.Z?l+d.Z:d.timeline?d.timeline[n].end:l+b;k.push(new Pf(a+l,a+u,function(v){return function(){return v.uc}}(m),r.start,r.end,e,g,a,h));l=u}return k}\nfunction Tl(a){return[a.F.Ma,a.aa.Ma,a.ja.Ma].filter(Jc).map(function(b){return Qk(b,\"SegmentURL\")}).reduce(function(b,c){return 0<b.length?b:c}).map(function(b){b.getAttribute(\"indexRange\")&&!a.zd&&(a.zd=!0);var c=b.getAttribute(\"media\");b=Vk(b,\"mediaRange\",cl,{start:0,end:null});return{Ee:c,start:b.start,end:b.end}})};function Ul(a,b,c,d,e){var f=Vl(a),g=Wl(a);Xl(g);var h=Tb(a);if(g.Gb)return Ol(a,f),{hb:function(){var u=sl(g.Gb,h.F.id,null,h.bandwidth||null,null);u=Lc(h.F.ma,[u]);return Nl(h,b,f,u,0,null,g.Ga)}};if(g.Z)return d||(a.presentationTimeline.Tc(g.Z),a.presentationTimeline.Uc(a.O.start)),{hb:function(){return Yl(h,g,e,f)}};var k=null;d=null;a.ja.id&&a.F.id&&(d=a.ja.id+\",\"+a.F.id,k=c[d]);var l=Zl(h,g,f),m=a.O.start,n=a.O.duration?a.O.start+a.O.duration:Infinity,r=Infinity!=n;k?(r&&(new T(l)).Ja(m,n),\nk.kb(l),k.Oa(a.presentationTimeline.Qa())):(a.presentationTimeline.mb(l),k=new T(l),d&&a.Na&&(c[d]=k));r&&k.Ja(m,n);return{hb:function(){return Promise.resolve(k)}}}function $l(a){return a.Mb}function Wl(a){var b=tl(a,$l),c=ul(a,$l,\"media\");a=ul(a,$l,\"index\");return{Z:b.Z,timescale:b.timescale,qb:b.qb,Ga:b.Ga,pd:b.pd,timeline:b.timeline,Sc:c,Gb:a}}\nfunction Xl(a){var b=a.Gb?1:0;b+=a.timeline?1:0;b+=a.Z?1:0;if(0==b)throw new L(2,4,4002);1!=b&&(a.Gb&&(a.timeline=null),a.Z=null);if(!a.Gb&&!a.Sc)throw new L(2,4,4002);}\nfunction Yl(a,b,c,d){function e(G){var F=(G-n)*m,I=F+b.Ga;F+=h;return new Pf(F,Math.min(F+m,l),function(){var O=sl(u,y,G,v,I*r);return Lc(z,[O])},0,null,d,A,h,l)}function f(){var G=[Math.max(g.Qa(),h),Math.min(g.Ka(),l)].map(function(F){return F-h});return[Math.ceil(G[0]/m),Math.ceil(G[1]/m)-1].map(function(F){return F+n})}var g=a.presentationTimeline,h=a.O.start,k=a.O.duration,l=k?h+k:Infinity,m=b.Z,n=b.qb,r=b.timescale,u=b.Sc,v=a.bandwidth||null,y=a.F.id,z=a.F.ma,A=h-b.Ga,D=f();k=D[1];var B=[];\nfor(a=a.Na?Math.max(D[0],D[1]-c+1):D[0];a<=k;++a)c=e(a),B.push(c);var E=new T(B);if(g.Ka()<l){var H=k+1;E.nc(m,function(){E.Oa(g.Qa());var G=q(f());G.next();G=G.next().value;for(var F=[];H<=G;){var I=e(H);F.push(I);H++}return F})}return Promise.resolve(E)}\nfunction Zl(a,b,c){var d=a.O.start,e=a.O.duration,f=d-b.Ga;e=e?d+e:Infinity;for(var g=[],h={},k=q(hb(b.timeline)),l=k.next();!l.done;h={vc:h.vc,yc:h.yc,sc:h.sc,zc:h.zc},l=k.next()){l=l.value;var m=l.item,n=m.start,r=m.df;m=m.end;h.yc=l.Y+b.qb;h.zc=r+b.pd;h.vc=a.F.id;h.sc=a.bandwidth||null;g.push(new Pf(d+n,d+m,function(u){return function(){var v=sl(b.Sc,u.vc,u.yc,u.sc||null,u.zc);return Lc(a.F.ma,[v]).map(function(y){return y.toString()})}}(h),0,null,c,f,d,e))}return g}\nfunction Vl(a){var b=ul(a,$l,\"initialization\");if(!b)return null;var c=a.F.id,d=a.bandwidth||null,e=a.F.ma;return new Of(function(){var f=sl(b,c,null,d,null);return Lc(e,[f])},0,null)};function am(){this.f=[];this.a=[];this.b=[];this.c=[];this.g=new Set}am.prototype.release=function(){for(var a=q(this.a.concat(this.b,this.c)),b=a.next();!b.done;b=a.next())b=b.value,b.segmentIndex&&b.segmentIndex.release();this.a=[];this.b=[];this.c=[];this.f=[]};\nfunction bm(a,b,c){var d,e,f,g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G,F,I,O,X,P,ka,za,Qa,Ca,Ra;return J(function(Ha){switch(Ha.a){case 1:d=Nc;cm(b);dm(b);if(!c&&1==b.length){e=b[0];a.a=e.Zb;a.b=e.pc;a.c=e.textStreams;Ha.u(2);break}f=-1;g=q(hb(b));for(h=g.next();!h.done;h=g.next())l=k=h.value,m=l.Y,n=l.item,a.g.has(n.id)||(a.g.add(n.id),-1==f&&(f=m));if(-1==f)return Ha[\"return\"]();r=b.map(function(Aa){return Aa.Zb});u=b.map(function(Aa){return Aa.pc});v=b.map(function(Aa){return Aa.textStreams});y=q(v);for(z=\ny.next();!z.done;z=y.next())A=z.value,A.push(em());return t(Ha,fm(a.a,r,f,gm,hm),3);case 3:return t(Ha,fm(a.b,u,f,gm,hm),4);case 4:return t(Ha,fm(a.c,v,f,gm,hm),2);case 2:D=0;B=[];if(a.b.length&&a.a.length)for(O=q(a.a),X=O.next();!X.done;X=O.next())for(P=X.value,ka=q(a.b),za=ka.next();!za.done;za=ka.next())Qa=za.value,Ca=Sd(P.drmInfos,Qa.drmInfos),P.drmInfos.length&&Qa.drmInfos.length&&!Ca.length||(Ra=D++,B.push({id:Ra,language:P.language,primary:P.primary,audio:P,video:Qa,bandwidth:(P.bandwidth||\n0)+(Qa.bandwidth||0),drmInfos:Ca,allowedByApplication:!0,allowedByKeySystem:!0}));else for(E=a.b.concat(a.a),H=q(E),G=H.next();!G.done;G=H.next())F=G.value,I=D++,B.push({id:I,language:F.language,primary:F.primary,audio:F.type==d.eb?F:null,video:F.type==d.Ba?F:null,bandwidth:F.bandwidth||0,drmInfos:F.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});a.f=B;w(Ha)}})}\nfunction cm(a){a=q(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;for(var c=[],d=q(b.Zb),e=d.next();!e.done;e=d.next()){e=e.value;for(var f=!1,g=q(c),h=g.next();!h.done;h=g.next())h=h.value,e.id!=h.id&&e.channelsCount==h.channelsCount&&e.language==h.language&&e.bandwidth==h.bandwidth&&Wb(e.roles,h.roles)&&e.audioSamplingRate==h.audioSamplingRate&&e.primary==h.primary&&(f=!0);f||c.push(e)}b.Zb=c}}\nfunction dm(a){a=q(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;for(var c=[],d=q(b.pc),e=d.next();!e.done;e=d.next()){e=e.value;for(var f=!1,g=q(c),h=g.next();!h.done;h=g.next())h=h.value,e.id!=h.id&&e.width==h.width&&e.frameRate==h.frameRate&&Wb(e.roles,h.roles)&&Qc(e.closedCaptions,h.closedCaptions)&&e.bandwidth==h.bandwidth&&(f=!0);f||c.push(e)}b.pc=c}}\nfunction im(a){var b,c,d,e,f,g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G;return J(function(F){switch(F.a){case 1:b=Nc;if(1==a.length)return F[\"return\"](a[0]);c=a.map(function(I){return I.filter(function(O){return O.type==b.eb})});d=a.map(function(I){return I.filter(function(O){return O.type==b.Ba})});e=a.map(function(I){return I.filter(function(O){return O.type==b.$})});f=q(e);for(g=f.next();!g.done;g=f.next())h=g.value,h.push({id:0,originalId:\"\",primary:!1,type:\"text\",mimeType:\"\",codecs:\"\",language:\"\",label:null,\nwidth:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return t(F,fm([],c,0,jm,km),2);case 2:return k=F.b,t(F,fm([],d,0,jm,km),3);case 3:return l=F.b,t(F,fm([],e,0,jm,km),4);case 4:m=F.b;n=0;if(l.length&&k.length)for(z=q(k),A=z.next();!A.done;A=z.next())for(D=A.value,B=q(l),E=B.next();!E.done;E=B.next())H=E.value,G=n++,H.variantIds.push(G),D.variantIds.push(G);else for(r=l.concat(k),u=q(r),v=u.next();!v.done;v=\nu.next())y=v.value,y.variantIds=[n++];return F[\"return\"](l.concat(k,m))}})}\nfunction fm(a,b,c,d,e){var f,g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G,F,I,O,X,P;return J(function(ka){switch(ka.a){case 1:f=Nc;g=[];h=q(hb(b));for(k=h.next();!k.done;k=h.next())m=l=k.value,n=m.Y,r=m.item,n>=c?g.push(new Set(r)):g.push(new Set);u=q(a);v=u.next();case 2:if(v.done){ka.u(4);break}y=v.value;return t(ka,lm(y,b,c,e,g),5);case 5:z=ka.b;if(!z)throw new L(2,4,4037);v=u.next();ka.u(2);break;case 4:A=q(g),D=A.next();case 6:if(D.done){ka.u(8);break}B=D.value;E=q(B);H=E.next();case 9:if(H.done){D=A.next();\nka.u(6);break}G=H.value;return t(ka,mm(G,b,d,e,g),12);case 12:(F=ka.b)&&a.push(F);H=E.next();ka.u(9);break;case 8:I=q(g);for(D=I.next();!D.done;D=I.next())for(O=D.value,X=q(O),H=X.next();!H.done;H=X.next())if(P=H.value,P.type!=f.$||P.language)throw new L(2,4,4037);return ka[\"return\"](a)}})}function lm(a,b,c,d,e){var f;return J(function(g){if(1==g.a)return(f=nm(b,a))?t(g,Promise.all(f.map(function(h){return h.createSegmentIndex()})),2):g[\"return\"](!1);om(a,f,c,d,e);return g[\"return\"](!0)})}\nfunction mm(a,b,c,d,e){var f,g;return J(function(h){if(1==h.a)return f=c(a),(g=nm(b,f))?f.createSegmentIndex?t(h,Promise.all(g.map(function(k){return k.createSegmentIndex()})),2):h.u(2):h[\"return\"](null);om(f,g,0,d,e);return h[\"return\"](f)})}function om(a,b,c,d,e){b=q(hb(b));for(var f=b.next();!f.done;f=b.next()){var g=f.value;f=g.Y;g=g.item;if(f>=c){d(a,g);var h=!0;\"audio\"==a.type&&0==af(a.language,g.language)&&(h=!1);h&&e[f][\"delete\"](g)}}}\nfunction gm(a){a=Object.assign({},a);a.originalId=null;a.createSegmentIndex=function(){return Promise.resolve()};a.segmentIndex=new Ag;a.emsgSchemeIdUris=[];a.keyIds=new Set;a.closedCaptions=null;a.trickModeVideo=null;return a}function jm(a){a=Object.assign({},a);a.keyIds=new Set;a.segments=[];a.variantIds=[];a.closedCaptions=null;return a}\nfunction hm(a,b){a.roles=Array.from(new Set(a.roles.concat(b.roles)));b.emsgSchemeIdUris&&(a.emsgSchemeIdUris=Array.from(new Set(a.emsgSchemeIdUris.concat(b.emsgSchemeIdUris))));var c=b.keyIds;c=new Set(ha(a.keyIds).concat(ha(c)));a.keyIds=c;null==a.originalId?a.originalId=b.originalId:a.originalId+=\",\"+(b.originalId||\"\");c=Sd(a.drmInfos,b.drmInfos);if(b.drmInfos.length&&a.drmInfos.length&&!c.length)throw new L(2,4,4038);a.drmInfos=c;a.encrypted=a.encrypted||b.encrypted;if(b.closedCaptions){a.closedCaptions||\n(a.closedCaptions=new Map);c=q(b.closedCaptions);for(var d=c.next();!d.done;d=c.next()){var e=q(d.value);d=e.next().value;e=e.next().value;a.closedCaptions.set(d,e)}}a.segmentIndex.f.push(b.segmentIndex);b.trickModeVideo?(a.trickModeVideo||(a.trickModeVideo=gm(b.trickModeVideo),a.trickModeVideo.segmentIndex=a.segmentIndex.clone()),hm(a.trickModeVideo,b.trickModeVideo)):a.trickModeVideo&&hm(a.trickModeVideo,b)}\nfunction km(a,b){a.roles=Array.from(new Set(a.roles.concat(b.roles)));var c=b.keyIds;c=new Set(ha(a.keyIds).concat(ha(c)));a.keyIds=c;a.encrypted=a.encrypted&&b.encrypted;a.segments.push.apply(a.segments,ha(b.segments));if(b.closedCaptions){a.closedCaptions||(a.closedCaptions=new Map);c=q(b.closedCaptions);for(var d=c.next();!d.done;d=c.next()){var e=q(d.value);d=e.next().value;e=e.next().value;a.closedCaptions.set(d,e)}}}\nfunction nm(a,b){for(var c=[],d=q(a),e=d.next();!e.done;e=d.next()){var f=b,g={audio:pm,video:pm,text:qm}[f.type],h={audio:rm,video:sm,text:tm}[f.type],k=null;e=q(e.value);for(var l=e.next();!l.done;l=e.next())l=l.value,!g(f,l)||k&&!h(f,k,l)||(k=l);f=k;if(!f)return null;c.push(f)}return c}function pm(a,b){var c;if(!(c=b.mimeType!=a.mimeType||Uc(b.codecs)[0]!=Uc(a.codecs)[0])&&(c=a.drmInfos)){c=a.drmInfos;var d=b.drmInfos;c=!(c.length&&d.length?0<Sd(c,d).length:1)}return c?!1:!0}\nfunction qm(a,b){return a.language?b.language?0==af(a.language,b.language)||b.kind!=a.kind?!1:!0:!0:!1}\nfunction rm(a,b,c){if(a.id==c.id)return!0;var d=af(a.language,b.language),e=af(a.language,c.language);if(e>d)return!0;if(e<d)return!1;if(!b.primary&&c.primary)return!0;if(b.primary&&!c.primary)return!1;if(a.roles.length)return d=b.roles.filter(function(f){return a.roles.includes(f)}),e=c.roles.filter(function(f){return a.roles.includes(f)}),e.length>d.length?!0:e.length<d.length?!1:c.roles.length<b.roles.length;d=um(a.channelsCount,b.channelsCount,c.channelsCount);if(d==vm)return!0;if(d==wm)return!1;\nd=um(a.audioSamplingRate,b.audioSamplingRate,c.audioSamplingRate);return d==vm?!0:d==wm?!1:a.bandwidth&&xm(a.bandwidth,b.bandwidth,c.bandwidth)==vm?!0:!1}function sm(a,b,c){if(a.id==c.id)return!0;var d=um(a.width*a.height,b.width*b.height,c.width*c.height);if(d==vm)return!0;if(d==wm)return!1;if(a.frameRate){d=um(a.frameRate,b.frameRate,c.frameRate);if(d==vm)return!0;if(d==wm)return!1}return a.bandwidth&&xm(a.bandwidth,b.bandwidth,c.bandwidth)==vm?!0:!1}\nfunction tm(a,b,c){if(a.id==c.id)return!0;var d=af(a.language,b.language),e=af(a.language,c.language);if(e>d)return!0;if(e<d)return!1;if(!b.primary&&c.primary)return!0;if(b.primary&&!c.primary)return!1;if(a.roles.length){d=b.roles.filter(function(f){return a.roles.includes(f)});e=c.roles.filter(function(f){return a.roles.includes(f)});if(e.length>d.length)return!0;if(e.length<d.length)return!1}return c.mimeType!=a.mimeType||c.codecs!=a.codecs||b.mimeType==a.mimeType&&b.codecs==a.codecs?!1:!0}\nfunction em(){return{id:0,originalId:\"\",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new T([]),mimeType:\"\",codecs:\"\",encrypted:!1,drmInfos:[],keyIds:new Set,language:\"\",label:null,type:\"text\",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null}}\nfunction um(a,b,c){if(b==a&&a!=c)return wm;if(c==a&&a!=b)return vm;if(b>a){if(c<=a||c-a<b-a)return vm;if(c-a>b-a)return wm}else{if(c>a)return wm;if(a-c<a-b)return vm;if(a-c>a-b)return wm}return ym}function xm(a,b,c){b=Math.abs(a-b);a=Math.abs(a-c);return a<b?vm:b<a?wm:ym}var vm=1,ym=0,wm=-1;function zm(){var a=this;this.s=this.i=null;this.b=[];this.o=null;this.m=1;this.f={};this.a=new am;this.h=0;this.j=new Na(5);this.g=new M(function(){a.Ib()});this.c=new Xb}p=zm.prototype;p.configure=function(a){this.i=a};p.start=function(a,b){var c=this,d;return J(function(e){if(1==e.a)return c.b=[a],c.s=b,t(e,Am(c),2);d=e.b;c.s&&Bm(c,d);if(!c.s)throw new L(2,7,7001);return e[\"return\"](c.o)})};\np.stop=function(){for(var a=q(Object.values(this.f)),b=a.next();!b.done;b=a.next())b.value.release();this.a&&this.a.release();this.i=this.s=null;this.b=[];this.o=null;this.f={};this.a=null;null!=this.g&&(this.g.stop(),this.g=null);return this.c.destroy()};p.update=function(){var a=this,b;return J(function(c){if(1==c.a)return x(c,2),t(c,Am(a),4);if(2!=c.a)return ua(c,0);b=C(c);if(!a.s||!b)return c[\"return\"]();a.s.onError(b);w(c)})};p.onExpirationUpdated=function(){};\nfunction Am(a){var b,c,d,e,f,g,h;return J(function(k){if(1==k.a)return b=cc(a.b,a.i.retryParameters),c=a.s.networkingEngine,d=Date.now(),e=c.request(0,b),Yb(a.c,e),t(k,e.promise,2);if(3!=k.a){f=k.b;if(!a.s)return k[\"return\"](0);f.uri&&!a.b.includes(f.uri)&&a.b.unshift(f.uri);return t(k,Cm(a,f.data,f.uri),3)}g=Date.now();h=(g-d)/1E3;Oa(a.j,1,h);return k[\"return\"](h)})}\nfunction Cm(a,b,c){var d,e,f,g;return J(function(h){if(1==h.a){d=il(b,\"MPD\");if(!d)throw new L(2,4,4001,c);e=a.i.dash.xlinkFailGracefully;f=xl(d,a.i.retryParameters,e,c,a.s.networkingEngine);Yb(a.c,f);return t(h,f.promise,2)}g=h.b;return h[\"return\"](Dm(a,g,c))})}\nfunction Dm(a,b,c){var d,e,f,g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G,F,I,O;return J(function(X){switch(X.a){case 1:d=[c];e=Qk(b,\"Location\").map(Uk).filter(Jc);0<e.length&&(f=Lc(d,e),d=a.b=f);g=Qk(b,\"BaseURL\").map(Uk);h=Lc(d,g);k=a.i.dash.ignoreMinBufferTime;l=0;k||(l=Vk(b,\"minBufferTime\",bl)||0);a.h=Vk(b,\"minimumUpdatePeriod\",bl,-1);m=Vk(b,\"availabilityStartTime\",Wk);n=Vk(b,\"timeShiftBufferDepth\",bl);r=a.i.dash.ignoreSuggestedPresentationDelay;u=null;r||(u=Vk(b,\"suggestedPresentationDelay\",bl));v=Vk(b,\n\"maxSegmentDuration\",bl);y=b.getAttribute(\"type\")||\"static\";a.o?z=a.o.presentationTimeline:(A=a.i.defaultPresentationDelay||1.5*l,D=null!=u?u:A,z=new S(m,D,a.i.dash.autoCorrectDrift));B={Na:\"static\"!=y,presentationTimeline:z,ja:null,O:null,aa:null,F:null,bandwidth:0,zd:!1};var P=Vk(b,\"mediaPresentationDuration\",bl),ka=[],za=0,Qa=Qk(b,\"Period\");Qa=q(hb(Qa));for(var Ca=Qa.next();!Ca.done;Ca=Qa.next()){var Ra=Ca.value;Ca=Ra.item;Ra=Ra.next;za=Vk(Ca,\"start\",bl,za);var Ha=Vk(Ca,\"duration\",bl),Aa=null;\nif(Ra){var Pb=Vk(Ra,\"start\",bl);null!=Pb&&(Aa=Pb-za)}else null!=P&&(Aa=P-za);null==Aa&&(Aa=Ha);Ca=Em(a,B,h,{start:za,duration:Aa,node:Ca,Cd:null==Aa||!Ra});ka.push(Ca);if(null==Aa){za=null;break}za+=Aa}E=null!=P?{periods:ka,duration:P,ud:!1}:{periods:ka,duration:za,ud:!0};H=E.duration;G=E.periods;z.Nb(\"static\"==y);\"static\"!=y&&E.ud||z.xa(H||Infinity);(F=z.S())&&!isNaN(a.i.availabilityWindowOverride)&&(n=a.i.availabilityWindowOverride);null==n&&(n=Infinity);z.kd(n);z.Tc(v||1);return t(X,bm(a.a,G,B.Na),\n2);case 2:if(a.o){a.o.variants=a.a.f;a.o.textStreams=a.a.c;X.u(3);break}a.o={presentationTimeline:z,variants:a.a.f,textStreams:a.a.c,offlineSessionIds:[],minBufferTime:l||0};if(!z.Sd()){X.u(3);break}I=Qk(b,\"UTCTiming\");return t(X,Fm(a,h,I),5);case 5:O=X.b;if(!a.s)return X[\"return\"]();z.Od(O);case 3:return t(X,a.s.filter(a.o),0)}})}\nfunction Em(a,b,c,d){b.ja=Gm(d.node,null,c);b.O=d;b.ja.id||(b.ja.id=\"__shaka_period_\"+d.start);c=Qk(d.node,\"EventStream\");c=q(c);for(var e=c.next();!e.done;e=c.next())Hm(a,d.start,d.duration,e.value);c=Qk(d.node,\"AdaptationSet\").map(function(l){return Im(a,b,l)}).filter(Jc);if(b.Na){d=[];e=q(c);for(var f=e.next();!f.done;f=e.next()){f=q(f.value.Oe);for(var g=f.next();!g.done;g=f.next())d.push(g.value)}if(d.length!=(new Set(d)).size)throw new L(2,4,4018);}d=c.filter(function(l){return!l.nd});c=c.filter(function(l){return l.nd});\nc=q(c);for(e=c.next();!e.done;e=c.next()){f=e.value;e=f.streams[0];f=f.nd;g=q(d);for(var h=g.next();!h.done;h=g.next())if(h=h.value,h.id==f){h=q(h.streams);for(var k=h.next();!k.done;k=h.next())k.value.trickModeVideo=e}}e=a.i.disableAudio?[]:Jm(d,\"audio\");f=a.i.disableVideo?[]:Jm(d,\"video\");c=a.i.disableText?[]:Jm(d,\"text\");if(!f.length&&!e.length)throw new L(2,4,4004);d=[];e=q(e);for(g=e.next();!g.done;g=e.next())d.push.apply(d,ha(g.value.streams));e=[];f=q(f);for(g=f.next();!g.done;g=f.next())e.push.apply(e,\nha(g.value.streams));f=[];c=q(c);for(g=c.next();!g.done;g=c.next())f.push.apply(f,ha(g.value.streams));return{id:b.ja.id,Zb:d,pc:e,textStreams:f}}function Jm(a,b){return a.filter(function(c){return c.contentType==b})}\nfunction Im(a,b,c){b.aa=Gm(c,b.ja,null);if(\"image\"==b.aa.contentType)return null;var d=!1,e=Qk(c,\"Role\"),f=e.map(function(B){return B.getAttribute(\"value\")}).filter(Jc),g=void 0,h=\"text\"==b.aa.contentType;h&&(g=\"subtitle\");e=q(e);for(var k=e.next();!k.done;k=e.next()){k=k.value;var l=k.getAttribute(\"schemeIdUri\");if(null==l||\"urn:mpeg:dash:role:2011\"==l)switch(k=k.getAttribute(\"value\"),k){case \"main\":d=!0;break;case \"caption\":case \"subtitle\":g=k}}l=Qk(c,\"EssentialProperty\");e=null;k=!1;l=q(l);for(var m=\nl.next();!m.done;m=l.next())m=m.value,\"http://dashif.org/guidelines/trickmode\"==m.getAttribute(\"schemeIdUri\")?e=m.getAttribute(\"value\"):k=!0;l=Qk(c,\"Accessibility\");var n=new Map;l=q(l);for(m=l.next();!m.done;m=l.next()){var r=m.value;m=r.getAttribute(\"schemeIdUri\");r=r.getAttribute(\"value\");if(\"urn:scte:dash:cc:cea-608:2015\"==m||\"urn:scte:dash:cc:cea-708:2015\"==m)if(m=1,null!=r){r=q(r.split(\";\"));for(var u=r.next();!u.done;u=r.next()){var v=u.value,y=u=void 0;v.includes(\"=\")?(v=v.split(\"=\"),u=v[0].startsWith(\"CC\")?\nv[0]:\"CC\"+v[0],y=v[1].split(\",\")[0].split(\":\").pop()):(u=\"CC\"+m,m+=2,y=v);n.set(u,R(y))}}else n.set(\"CC1\",\"und\");else\"urn:mpeg:dash:role:2011\"==m&&null!=r&&(f.push(r),\"captions\"==r&&(g=\"caption\"))}if(k)return null;k=Qk(c,\"ContentProtection\");var z=jl(k,a.i.dash.ignoreDrmInfo),A=R(c.getAttribute(\"lang\")||\"und\"),D=c.getAttribute(\"label\");(k=Qk(c,\"Label\"))&&k.length&&(k=k[0],k.textContent&&(D=k.textContent));k=Qk(c,\"Representation\");c=k.map(function(B){return Km(a,b,z,g,A,D,d,f,n,B)}).filter(function(B){return!!B});\nif(0==c.length){if(a.i.dash.ignoreEmptyAdaptationSet||h)return null;throw new L(2,4,4003);}if(!b.aa.contentType||\"application\"==b.aa.contentType)for(b.aa.contentType=Lm(c[0].mimeType,c[0].codecs),h=q(c),l=h.next();!l.done;l=h.next())l.value.type=b.aa.contentType;h=q(c);for(l=h.next();!l.done;l=h.next())for(l=l.value,m=q(z.drmInfos),r=m.next();!r.done;r=m.next())r=r.value,r.keyIds=r.keyIds&&l.keyIds?new Set(ha(r.keyIds).concat(ha(l.keyIds))):r.keyIds||l.keyIds;h=k.map(function(B){return B.getAttribute(\"id\")}).filter(Jc);\nreturn{id:b.aa.id||\"__fake__\"+a.m++,contentType:b.aa.contentType,language:A,Hf:d,streams:c,drmInfos:z.drmInfos,nd:e,Oe:h}}\nfunction Km(a,b,c,d,e,f,g,h,k,l){b.F=Gm(l,b.aa,null);if(!Mm(b.F))return null;var m=b.O.start;b.bandwidth=Vk(l,\"bandwidth\",el)||0;var n=b.F.contentType;n=\"text\"==n||\"application\"==n;try{var r=function(A,D,B){return Nm(a,A,D,B)};if(b.F.Lb)var u=Jl(b,r);else if(b.F.Ma)u=Pl(b,a.f);else if(b.F.Mb)u=Ul(b,r,a.f,!!a.o,a.i.dash.initialSegmentLimit);else{var v=b.F.ma,y=b.O.duration||0;u={hb:function(){return Promise.resolve(xg(m,y,v))}}}}catch(A){if(n&&4002==A.code)return null;throw A;}n=Qk(l,\"ContentProtection\");\nn=nl(n,c,a.i.dash.ignoreDrmInfo);n=new Set(n?[n]:[]);Qk(l,\"SupplementalProperty\").some(function(A){return\"tag:dolby.com,2018:dash:EC3_ExtensionType:2018\"==A.getAttribute(\"schemeIdUri\")&&\"JOC\"==A.getAttribute(\"value\")})&&(b.F.mimeType=\"audio/eac3-joc\");var z={id:a.m++,originalId:b.F.id,createSegmentIndex:function(){var A;return J(function(D){if(1==D.a){if(z.segmentIndex)return D.u(0);A=z;return t(D,u.hb(),3)}A.segmentIndex=D.b;w(D)})},segmentIndex:null,mimeType:b.F.mimeType,codecs:b.F.codecs,frameRate:b.F.frameRate,\npixelAspectRatio:b.F.pixelAspectRatio,bandwidth:b.bandwidth,width:b.F.width,height:b.F.height,kind:d,encrypted:0<c.drmInfos.length,drmInfos:c.drmInfos,keyIds:n,language:e,label:f,type:b.aa.contentType,primary:g,trickModeVideo:null,emsgSchemeIdUris:b.F.emsgSchemeIdUris,roles:h,channelsCount:b.F.Vc,audioSamplingRate:b.F.audioSamplingRate,closedCaptions:k};return z}\np.Ib=function(){var a=this,b,c;return J(function(d){switch(d.a){case 1:return b=0,x(d,2),t(d,Am(a),4);case 4:b=d.b;ua(d,3);break;case 2:c=C(d),a.s&&(c.severity=1,a.s.onError(c));case 3:if(!a.s)return d[\"return\"]();Bm(a,b);w(d)}})};function Bm(a,b){0>a.h||a.g.R(Math.max(3,a.h-b,Pa(a.j)))}\nfunction Gm(a,b,c){b=b||{contentType:\"\",mimeType:\"\",codecs:\"\",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Vc:null,audioSamplingRate:null};c=c||b.ma;var d=Qk(a,\"BaseURL\").map(Uk),e=a.getAttribute(\"contentType\")||b.contentType,f=a.getAttribute(\"mimeType\")||b.mimeType,g=a.getAttribute(\"codecs\")||b.codecs,h=Vk(a,\"frameRate\",gl)||b.frameRate,k=a.getAttribute(\"sar\")||b.pixelAspectRatio,l=Qk(a,\"InbandEventStream\"),m=b.emsgSchemeIdUris.slice();l=q(l);for(var n=l.next();!n.done;n=l.next())n=\nn.value.getAttribute(\"schemeIdUri\"),m.includes(n)||m.push(n);l=Qk(a,\"AudioChannelConfiguration\");l=Om(l)||b.Vc;n=Vk(a,\"audioSamplingRate\",fl)||b.audioSamplingRate;e||(e=Lm(f,g));return{ma:Lc(c,d),Lb:Pk(a,\"SegmentBase\")||b.Lb,Ma:Pk(a,\"SegmentList\")||b.Ma,Mb:Pk(a,\"SegmentTemplate\")||b.Mb,width:Vk(a,\"width\",fl)||b.width,height:Vk(a,\"height\",fl)||b.height,contentType:e,mimeType:f,codecs:g,frameRate:h,pixelAspectRatio:k,emsgSchemeIdUris:m,id:a.getAttribute(\"id\"),Vc:l,audioSamplingRate:n}}\nfunction Om(a){a=q(a);for(var b=a.next();!b.done;b=a.next()){var c=b.value;if(b=c.getAttribute(\"schemeIdUri\"))if(c=c.getAttribute(\"value\"))switch(b){case \"urn:mpeg:dash:outputChannelPositionList:2012\":return c.trim().split(/ +/).length;case \"urn:mpeg:dash:23003:3:audio_channel_configuration:2011\":case \"urn:dts:dash:audio_channel_configuration:2012\":b=parseInt(c,10);if(!b)continue;return b;case \"tag:dolby.com,2014:dash:audio_channel_configuration:2011\":case \"urn:dolby:dash:audio_channel_configuration:2011\":if(b=\nparseInt(c,16)){for(a=0;b;)b&1&&++a,b>>=1;return a}}}return null}function Mm(a){var b=a.Lb?1:0;b+=a.Ma?1:0;b+=a.Mb?1:0;if(0==b)return\"text\"==a.contentType||\"application\"==a.contentType?!0:!1;1!=b&&(a.Lb&&(a.Ma=null),a.Mb=null);return!0}\nfunction Pm(a,b,c,d){var e,f,g,h,k,l;return J(function(m){if(1==m.a)return e=Lc(b,[c]),f=cc(e,a.i.retryParameters),f.method=d,g=a.s.networkingEngine.request(4,f),Yb(a.c,g),t(m,g.promise,2);h=m.b;if(\"HEAD\"==d){if(!h.headers||!h.headers.date)return m[\"return\"](0);k=h.headers.date}else k=sc(h.data);l=Date.parse(k);return isNaN(l)?m[\"return\"](0):m[\"return\"](l-Date.now())})}\nfunction Fm(a,b,c){var d,e,f,g,h,k,l,m;return J(function(n){switch(n.a){case 1:d=c.map(function(r){return{scheme:r.getAttribute(\"schemeIdUri\"),value:r.getAttribute(\"value\")}}),e=a.i.dash.clockSyncUri,!d.length&&e&&d.push({scheme:\"urn:mpeg:dash:utc:http-head:2014\",value:e}),f=q(d),g=f.next();case 2:if(g.done){n.u(4);break}h=g.value;x(n,5);k=h.scheme;l=h.value;switch(k){case \"urn:mpeg:dash:utc:http-head:2014\":case \"urn:mpeg:dash:utc:http-head:2012\":return n.u(7);case \"urn:mpeg:dash:utc:http-xsdate:2014\":case \"urn:mpeg:dash:utc:http-iso:2014\":case \"urn:mpeg:dash:utc:http-xsdate:2012\":case \"urn:mpeg:dash:utc:http-iso:2012\":return n.u(8);\ncase \"urn:mpeg:dash:utc:direct:2014\":case \"urn:mpeg:dash:utc:direct:2012\":return m=Date.parse(l),n[\"return\"](isNaN(m)?0:m-Date.now());case \"urn:mpeg:dash:utc:http-ntp:2014\":case \"urn:mpeg:dash:utc:ntp:2014\":case \"urn:mpeg:dash:utc:sntp:2014\":Wa(\"NTP UTCTiming scheme is not supported\");break;default:Wa(\"Unrecognized scheme in UTCTiming element\",k)}n.u(9);break;case 7:return t(n,Pm(a,b,l,\"HEAD\"),10);case 10:return n[\"return\"](n.b);case 8:return t(n,Pm(a,b,l,\"GET\"),11);case 11:return n[\"return\"](n.b);\ncase 9:ua(n,3);break;case 5:C(n);case 3:g=f.next();n.u(2);break;case 4:return Wa(\"A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!\"),n[\"return\"](0)}})}\nfunction Hm(a,b,c,d){var e=d.getAttribute(\"schemeIdUri\")||\"\",f=d.getAttribute(\"value\")||\"\",g=Vk(d,\"timescale\",fl)||1;d=q(Qk(d,\"Event\"));for(var h=d.next();!h.done;h=d.next()){h=h.value;var k=Vk(h,\"presentationTime\",fl)||0,l=Vk(h,\"duration\",fl)||0;k=k/g+b;l=k+l/g;null!=c&&(k=Math.min(k,b+c),l=Math.min(l,b+c));h={schemeIdUri:e,value:f,startTime:k,endTime:l,id:h.getAttribute(\"id\")||\"\",eventElement:h};a.s.onTimelineRegionAdded(h)}}\nfunction Nm(a,b,c,d){var e,f,g,h,k;return J(function(l){if(1==l.a)return e=ic,f=Lg(b,c,d,a.i.retryParameters),g=a.s.networkingEngine,h=g.request(e,f),Yb(a.c,h),t(l,h.promise,2);k=l.b;return l[\"return\"](k.data)})}function Lm(a,b){return xe(Rc(a,b))?\"text\":a.split(\"/\")[0]}K(\"shaka.dash.DashParser\",zm);Mf.mpd=function(){return new zm};Kf[\"application/dash+xml\"]=function(){return new zm};Kf[\"video/vnd.mpeg.dash.mpd\"]=function(){return new zm};function Qm(a,b,c,d){this.a=a;this.type=b;this.V=c;this.segments=d||null}function Rm(a,b,c,d){this.id=a;this.name=b;this.a=c;this.value=void 0===d?null:d}Rm.prototype.toString=function(){function a(d){return d.name+\"=\"+(isNaN(Number(d.value))?'\"'+d.value+'\"':d.value)}var b=\"#\"+this.name,c=this.a?this.a.map(a):[];this.value&&c.unshift(this.value);0<c.length&&(b+=\":\"+c.join(\",\"));return b};\nRm.prototype.getAttribute=function(a){var b=this.a.filter(function(c){return c.name==a});return b.length?b[0]:null};function Sm(a,b,c){return(a=a.getAttribute(b))?a.value:c||null}function Tm(a,b){var c=a.getAttribute(b);if(!c)throw new L(2,4,4023,b);return c.value}function Um(a,b){this.V=b;this.a=a}function Vm(a,b){this.name=a;this.value=b};function Wm(a,b){return a.filter(function(c){return c.name==b})}function Xm(a,b){return a.filter(function(c){return Tm(c,\"TYPE\")==b})}function Ym(a,b){var c=Wm(a,b);return c.length?c[0]:null}function Zm(a,b,c){c=void 0===c?0:c;return(a=Ym(a,b))?Number(a.value):c};function $m(a){this.b=a;this.a=0}function an(a){bn(a,/[ \\t]+/gm)}function bn(a,b){b.lastIndex=a.a;var c=b.exec(a.b);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a==a.b.length||null==c||c.position!=a.a)return null;a.a+=c.length;return c.results}function cn(a){return a.a==a.b.length?null:(a=bn(a,/[^ \\t\\n]*/gm))?a[0]:null};function dn(){this.a=0}\nfunction en(a,b,c){b=sc(b);b=b.replace(/\\r\\n|\\r(?=[^\\n]|$)/gm,\"\\n\").trim();var d=b.split(/\\n+/m);if(!/^#EXTM3U($|[ \\t\\n])/m.test(d[0]))throw new L(2,4,4015);b=0;for(var e=!0,f=q(d),g=f.next();!g.done;g=f.next())if(g=g.value,/^#(?!EXT)/m.test(g)||e)e=!1;else if(g=fn(a.a++,g),--a.a,gn.includes(g.name)){b=1;break}else\"EXT-X-STREAM-INF\"==g.name&&(e=!0);f=[];e=!0;g=q(hb(d));for(var h=g.next();!h.done;h=g.next()){var k=h.value;h=k.Y;var l=k.item;k=k.next;if(/^#(?!EXT)/m.test(l)||e)e=!1;else{l=fn(a.a++,\nl);if(hn.includes(l.name)){if(1!=b)throw new L(2,4,4017);l=d.splice(h,d.length-h);d=c;e=[];g=[];h=null;l=q(l);for(k=l.next();!k.done;k=l.next())k=k.value,/^(#EXT)/.test(k)?(k=fn(a.a++,k),gn.includes(k.name)?f.push(k):\"EXT-X-MAP\"==k.name?h=k:g.push(k)):/^#(?!EXT)/m.test(k)||(k=Lc([d],[k.trim()])[0],h&&g.push(h),e.push(new Um(k,g)),g=[]);return new Qm(c,b,f,e)}f.push(l);\"EXT-X-STREAM-INF\"==l.name&&(l.a.push(new Vm(\"URI\",k)),e=!0)}}return new Qm(c,b,f)}\nfunction fn(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new L(2,4,4016,b);var d=c[1],e=c[2];c=[];var f;if(e){e=new $m(e);var g;(g=bn(e,/^([^,=]+)(?:,|$)/g))&&(f=g[1]);for(var h=/([^=]+)=(?:\"([^\"]*)\"|([^\",]*))(?:,|$)/g;g=bn(e,h);)c.push(new Vm(g[1],g[2]||g[3]))}return new Rm(a,d,c,f)}var gn=\"EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST\".split(\" \"),hn=\"EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP\".split(\" \");function jn(){}function kn(a){try{var b=ln(a);return Eb({uri:a,Id:a,data:b.data,headers:{\"content-type\":b.contentType}})}catch(c){return Cb(c)}}function ln(a){var b=a.split(\":\");if(2>b.length||\"data\"!=b[0])throw new L(2,1,1004,a);b=b.slice(1).join(\":\").split(\",\");if(2>b.length)throw new L(2,1,1004,a);var c=b[0];a=window.decodeURIComponent(b.slice(1).join(\",\"));b=c.split(\";\");c=b[0];var d=!1;1<b.length&&\"base64\"==b[b.length-1]&&(d=!0,b.pop());var e;d?e=fd(a):e=wc(a);return{data:e,contentType:c}}\nK(\"shaka.net.DataUriPlugin\",jn);jn.parse=kn;$b(\"data\",kn);function mn(){var a=this;this.i=this.s=null;this.Aa=1;this.j=new Map;this.g=new Map;this.qa=new Set;this.a=new Map;this.b=null;this.I=\"\";this.G=new dn;this.ca=0;this.h=new M(function(){a.Ib()});this.c=nn;this.o=null;this.M=0;this.T=Infinity;this.m=new Xb;this.W=[];this.w=new Map;this.za=!1;this.f=new Map;this.C=null;this.H=new Map;this.v=new Map}p=mn.prototype;p.configure=function(a){this.i=a};\np.start=function(a,b){var c=this,d,e;return J(function(f){if(1==f.a)return c.s=b,t(f,on(c,cc([a],c.i.retryParameters),0),2);if(3!=f.a)return d=f.b,c.I=d.uri,t(f,pn(c,d.data),3);e=c.ca;0<e&&c.h.R(e);return f[\"return\"](c.o)})};p.stop=function(){this.h&&(this.h.stop(),this.h=null);var a=[];this.m&&(a.push(this.m.destroy()),this.m=null);this.i=this.s=null;this.qa.clear();this.o=null;this.a.clear();this.g.clear();this.f.clear();this.j.clear();return Promise.all(a)};\np.update=function(){var a=this,b,c,d;return J(function(e){if(1==e.a){if(a.c==nn)return e[\"return\"]();b=[];a.C=null;c=Array.from(a.a.values());return c.length?t(e,qn(a,c[0]),2):e.u(2)}for(d=1;d<c.length;d++)b.push(qn(a,c[d]));return t(e,Promise.all(b),0)})};\nfunction qn(a,b){var c,d,e,f,g,h,k,l,m,n;return J(function(r){if(1==r.a)return c=rn,d=b.Xd,t(r,on(a,cc([d],a.i.retryParameters),0),2);if(3!=r.a){e=r.b;f=en(a.G,e.data,e.uri);if(1!=f.type)throw new L(2,4,4017);g=Wm(f.V,\"EXT-X-DEFINE\");h=sn(a,g);k=b.stream;return t(r,tn(a,b.oc,f,k.mimeType,b.Dd,h),3)}l=r.b;k.segmentIndex.kb(l);l.length&&k.segmentIndex.Oa(l[0].startTime);m=l[l.length-1];if(n=Ym(f.V,\"EXT-X-ENDLIST\"))un(a,c.Vd),a.b.xa(m.endTime);w(r)})}p.onExpirationUpdated=function(){};\nfunction pn(a,b){var c,d,e,f,g,h,k,l,m,n,r,u,v,y,z;return J(function(A){switch(A.a){case 1:c=en(a.G,b,a.I);if(0!=c.type)throw new L(2,4,4022);d=Wm(c.V,\"EXT-X-DEFINE\");for(var D=q(d),B=D.next();!B.done;B=D.next()){var E=B.value;B=Sm(E,\"NAME\");E=Sm(E,\"VALUE\");B&&E&&(a.j.has(B)||a.j.set(B,E))}e=Wm(c.V,\"EXT-X-MEDIA\");f=Wm(c.V,\"EXT-X-STREAM-INF\");D=q(f);for(B=D.next();!B.done;B=D.next()){var H=B.value;E=Sm(H,\"AUDIO\");B=Sm(H,\"VIDEO\");var G=Sm(H,\"SUBTITLES\");H=vn(H);if(G){var F=wn(\"text\",H);a.f.set(G,F);\nVb(H,F)}E&&(G=xn(\"audio\",H),a.f.set(E,G));B&&(E=xn(\"video\",H),a.f.set(B,E))}return t(A,yn(a,e),2);case 2:D=Xm(e,\"CLOSED-CAPTIONS\");D=q(D);for(B=D.next();!B.done;B=D.next())G=B.value,B=zn(G),E=Tm(G,\"GROUP-ID\"),G=Tm(G,\"INSTREAM-ID\"),a.w.get(E)||a.w.set(E,new Map),a.w.get(E).set(G,B);return t(A,An(a,f),3);case 3:return g=A.b,t(A,Bn(a,e),4);case 4:h=A.b;if(!a.s)throw new L(2,7,7001);if(a.za&&0==g.length)throw new L(2,4,4034);l=k=Infinity;m=q(a.a.values());for(n=m.next();!n.done;n=m.next())r=n.value,k=\nMath.min(k,r.Ed),\"text\"!=r.stream.type&&(l=Math.min(l,r.De-r.Ed));a.c!=nn?(a.b=new S(0,a.i.defaultPresentationDelay||3*a.M),a.b.Nb(!1)):(a.b=new S(null,0),a.b.Nb(!0));Cn(a);if(a.c!=nn)a.ca=a.T,u=rn,a.c==u.Ud&&(v=a.b.lc,isNaN(a.i.availabilityWindowOverride)||(v=a.i.availabilityWindowOverride),a.b.kd(v));else for(a.b.xa(l),a.b.offset(-k),y=q(a.a.values()),n=y.next();!n.done;n=y.next())z=n.value,z.stream.segmentIndex.offset(-k),z.stream.segmentIndex.Ja(0,l);a.o={presentationTimeline:a.b,variants:g,textStreams:h,\nofflineSessionIds:[],minBufferTime:0};return t(A,a.s.filter(a.o),0)}})}function sn(a,b){for(var c=new Map,d=q(b),e=d.next();!e.done;e=d.next()){var f=e.value;e=Sm(f,\"NAME\");var g=Sm(f,\"VALUE\");f=Sm(f,\"IMPORT\");e&&g&&c.set(e,g);f&&(e=a.j.get(f))&&c.set(f,e)}return c}\nfunction Bn(a,b){var c,d,e,f,g,h,k,l,m,n,r,u;return J(function(v){if(1==v.a)return c=Xm(b,\"SUBTITLES\"),d=c.map(function(y){var z,A,D;return J(function(B){if(1==B.a){if(z=a.i.disableText)return B[\"return\"](null);x(B,2);return t(B,Dn(a,y),4)}if(2!=B.a)return A=B.b,B[\"return\"](A.stream);D=C(B);if(a.i.hls.ignoreTextStreamFailures)return B[\"return\"](null);throw D;})}),t(v,Promise.all(d),2);e=v.b;f=q(c);for(g=f.next();!g.done;g=f.next())if(h=g.value,k=Tm(h,\"GROUP-ID\"),l=a.f.get(k))if(m=a.g.get(k))for(n=\nq(m),r=n.next();!r.done;r=n.next())u=r.value,u.stream.codecs=l;return v[\"return\"](e.filter(function(y){return y}))})}function yn(a,b){var c;return J(function(d){if(1==d.a)return b=b.filter(function(e){var f=Sm(e,\"URI\")||\"\";return\"SUBTITLES\"!=Sm(e,\"TYPE\")&&\"\"!=f}),b.length?t(d,Dn(a,b[0]),2):d.u(2);c=b.slice(1).map(function(e){return Dn(a,e)});return t(d,Promise.all(c),0)})}\nfunction An(a,b){var c,d,e;return J(function(f){if(1==f.a)return c=b.map(function(g){var h,k,l,m,n,r,u;return J(function(v){return 1==v.a?(h=Sm(g,\"FRAME-RATE\"),k=Number(Tm(g,\"BANDWIDTH\")),l=Sm(g,\"RESOLUTION\"),m=q(l?l.split(\"x\"):[null,null]),n=m.next().value,r=m.next().value,t(v,En(a,g,l,h),2)):(u=v.b)?v[\"return\"](Fn(a,u.audio,u.video,k,n,r,h)):v[\"return\"]([])})}),t(f,Promise.all(c),2);d=f.b;e=d.reduce(Hc,[]);e=e.filter(function(g){return null!=g});return f[\"return\"](e)})}\nfunction En(a,b,c,d){var e,f,g,h,k,l,m,n,r,u,v,y,z,A;return J(function(D){if(1==D.a)return e=Nc,f=vn(b),g=Sm(b,\"AUDIO\"),h=Sm(b,\"VIDEO\"),l=(k=g||h)&&a.g.has(k)?a.g.get(k):[],m={audio:g?l:[],video:h?l:[]},r=!1,u=Tm(b,\"URI\"),v=m.audio.find(function(B){return B&&B.oc==u}),y=wn(e.Ba,f),z=c||d||y,1!=f.length||z?!l.length&&1<f.length?(n=e.Ba,f=[f.join(\",\")]):m.audio.length&&v?(n=e.eb,r=!0):n=m.video.length?e.eb:e.Ba:n=e.eb,r?D.u(2):t(D,Gn(a,b,f,n),3);2!=D.a&&(A=D.b);if(A)m[A.stream.type]=[A];else if(null===\nA)return D[\"return\"](null);Hn(m);return D[\"return\"](m)})}function vn(a){var b=Sm(a,\"CODECS\",\"avc1.42E01E,mp4a.40.2\").split(/\\s*,\\s*/);a=new Set;var c=[];b=q(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=Uc(d)[0];a.has(e)||(c.push(d),a.add(e))}return c}function zn(a){a=Sm(a,\"LANGUAGE\")||\"und\";return R(a)}\nfunction Hn(a){a=q(a.audio.concat(a.video));for(var b=a.next();!b.done;b=a.next())if(b=b.value){var c=b.stream.codecs.split(\",\");c=c.filter(function(d){return\"mp4a.40.34\"!=d});b.stream.codecs=c.join(\",\")}}\nfunction Fn(a,b,c,d,e,f,g){for(var h=q(c),k=h.next();!k.done;k=h.next()){k=k.value.stream;var l=f,m=g;k&&(k.width=Number(e)||void 0,k.height=Number(l)||void 0,k.frameRate=Number(m)||void 0)}e=a.i.disableAudio;if(!b.length||e)b=[null];e=a.i.disableVideo;if(!c.length||e)c=[null];e=[];b=q(b);for(f=b.next();!f.done;f=b.next())for(f=f.value,g=q(c),h=g.next();!h.done;h=g.next()){var n=h.value;h=f?f.stream:null;k=n?n.stream:null;l=f?f.stream.drmInfos:null;m=n?n.stream.drmInfos:null;n=(n?n.oc:\"\")+\" - \"+(f?\nf.oc:\"\");h&&k&&!(l.length&&m.length?0<Sd(l,m).length:1)||a.qa.has(n)||(h={id:a.Aa++,language:h?h.language:\"und\",primary:!!h&&h.primary||!!k&&k.primary,audio:h,video:k,bandwidth:d,allowedByApplication:!0,allowedByKeySystem:!0},e.push(h),a.qa.add(n))}return e}\nfunction Dn(a,b){var c,d,e,f,g,h,k,l,m,n,r,u;return J(function(v){if(1==v.a){c=Tm(b,\"GROUP-ID\");d=\"\";var y=Tm(b,\"TYPE\").toLowerCase();\"subtitles\"==y&&(y=\"text\");e=y;\"text\"!=e&&c&&a.f.has(c)&&(d=a.f.get(c));f=In(Tm(b,\"URI\"),a.j);if(a.a.has(f))return v[\"return\"](a.a.get(f));g=zn(b);h=Sm(b,\"NAME\");k=b.getAttribute(\"DEFAULT\");l=b.getAttribute(\"AUTOSELECT\");m=!!k||!!l;\"audio\"==e?y=(y=Sm(b,\"CHANNELS\"))?parseInt(y.split(\"/\")[0],10):null:y=null;n=y;r=Sm(b,\"CHARACTERISTICS\");return t(v,Jn(a,f,d,e,g,m,h,n,\nnull,r),2)}u=v.b;a.g.has(c)?a.g.get(c).push(u):a.g.set(c,[u]);if(null==u)return v[\"return\"](null);if(a.a.has(f))return v[\"return\"](a.a.get(f));a.a.set(f,u);return v[\"return\"](u)})}\nfunction Gn(a,b,c,d){var e,f,g,h;return J(function(k){if(1==k.a){e=In(Tm(b,\"URI\"),a.j);if(a.a.has(e))return k[\"return\"](a.a.get(e));var l=Sm(b,\"CLOSED-CAPTIONS\");f=\"video\"==d&&l&&\"NONE\"!=l?a.w.get(l):null;g=xn(d,c);return t(k,Jn(a,e,g,d,\"und\",!1,null,null,f,null),2)}h=k.b;if(null==h)return k[\"return\"](null);if(a.a.has(e))return k[\"return\"](a.a.get(e));a.a.set(e,h);return k[\"return\"](h)})}\nfunction Jn(a,b,c,d,e,f,g,h,k,l){var m,n,r,u,v,y,z,A,D,B,E,H,G,F,I,O,X,P,ka,za,Qa,Ca,Ra,Ha,Aa,Pb,yg,Xk,Yk,Zk,$k,zg,al;return J(function(Sa){switch(Sa.a){case 1:return m=Lc([a.I],[b])[0],t(Sa,on(a,cc([m],a.i.retryParameters),0),2);case 2:n=Sa.b;m=n.uri;r=en(a.G,n.data,m);if(1!=r.type)throw new L(2,4,4017);u=[];if(r.segments)for(v=q(r.segments),y=v.next();!y.done;y=v.next())z=y.value,A=Wm(z.V,\"EXT-X-KEY\"),u.push.apply(u,ha(A));D=!1;B=[];E=new Set;H=q(u);for(G=H.next();!G.done;G=H.next())if(F=G.value,\nI=Tm(F,\"METHOD\"),\"NONE\"!=I){D=!0;if(\"AES-128\"==I)return a.za=!0,Sa[\"return\"](null);O=Tm(F,\"KEYFORMAT\");if(P=(X=Kn[O])?X(F):null){if(P.keyIds)for(ka=q(P.keyIds),za=ka.next();!za.done;za=ka.next())Qa=za.value,E.add(Qa);B.push(P)}}if(D&&!B.length)throw new L(2,4,4026);Ca=Wm(r.V,\"EXT-X-DEFINE\");Ra=sn(a,Ca);Ln(a,r);return t(Sa,Mn(a,d,c,r,Ra),3);case 3:return Ha=Sa.b,Nn.includes(Ha)&&(c=\"\"),Aa=new Map,x(Sa,4),t(Sa,tn(a,b,r,Ha,Aa,Ra),6);case 6:Pb=Sa.b;ua(Sa,5);break;case 4:yg=C(Sa);if(4035==yg.code)return Wa(\"Skipping unsupported HLS stream\",\nHa,b),Sa[\"return\"](null);throw yg;case 5:return Xk=Pb[0].startTime,Yk=Pb[Pb.length-1].endTime,Zk=new T(Pb),$k=\"text\"==d?\"subtitle\":void 0,zg=[],l&&zg.push(l),al={id:a.Aa++,originalId:g,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Zk,mimeType:Ha,codecs:c,kind:$k,encrypted:D,drmInfos:B,keyIds:E,language:e,label:g,type:d,primary:f,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:zg,channelsCount:h,\naudioSamplingRate:null,closedCaptions:k},Sa[\"return\"]({stream:al,oc:b,Xd:m,Ed:Xk,De:Yk,Dd:Aa})}})}function Ln(a,b){var c=Ym(b.V,\"EXT-X-PLAYLIST-TYPE\"),d=Ym(b.V,\"EXT-X-ENDLIST\");d=c&&\"VOD\"==c.value||d;c=c&&\"EVENT\"==c.value&&!d;c=!d&&!c;d?un(a,nn):(c?un(a,On):un(a,Pn),d=Qn(b.V,\"EXT-X-TARGETDURATION\"),d=Number(d.value),a.M=Math.max(d,a.M),a.T=Math.min(d,a.T))}\nfunction Rn(a,b,c,d){c=Ym(c,\"EXT-X-MAP\");if(!c)return null;var e=Tm(c,\"URI\");d=In(Lc([b],[e])[0],d);b=[d,Sm(c,\"BYTERANGE\",\"\")].join(\"-\");a.H.has(b)||(c=Sn(d,c),a.H.set(b,c));return a.H.get(b)}function Sn(a,b){var c=0,d=null,e=Sm(b,\"BYTERANGE\");e&&(c=e.split(\"@\"),d=Number(c[0]),c=Number(c[1]),d=c+d-1);return new Of(function(){return[a]},c,d)}\nfunction Tn(a,b,c,d,e,f){var g=c.V,h=In(c.a,f);c=Qn(g,\"EXTINF\").value.split(\",\");c=d+Number(c[0]);f=0;var k=null;if(g=Ym(g,\"EXT-X-BYTERANGE\"))f=g.value.split(\"@\"),g=Number(f[0]),f=f[1]?Number(f[1]):b.a+1,k=f+g-1;return new Pf(d,c,function(){return[h]},f,k,a,e,0,Infinity)}function Cn(a){if(a.b){for(var b=q(a.W),c=b.next();!c.done;c=b.next())a.b.mb(c.value);a.W=[]}}\nfunction tn(a,b,c,d,e,f){var g,h,k,l,m,n,r,u,v,y,z,A,D,B,E,H,G,F,I,O,X;return J(function(P){switch(P.a){case 1:g=c.segments;k=Zm(c.V,\"EXT-X-MEDIA-SEQUENCE\",0);if(a.c!=nn&&e.has(k)){l=e.get(k);P.u(2);break}if(null!=a.C){P.u(3);break}h=Rn(a,c.a,g[0].V,f);m=a;return t(P,Un(a,b,h,d,k,!1,g[0],f),4);case 4:m.C=P.b;case 3:l=a.C;case 2:n=g[0].a,$a(n.split(\"/\").pop()),r=Zm(c.V,\"EXT-X-DISCONTINUITY-SEQUENCE\"),u=a.v.get(r)||0,v=[],y=function(ka){return hb(ka)},z=q(y(g)),A=z.next();case 5:if(A.done){P.u(7);break}B=\nD=A.value;E=B.Y;H=B.item;G=v[v.length-1];F=0==E?l:G.endTime;I=k+E;e.set(I,F);h=Rn(a,c.a,H.V,f);O=Ym(H.V,\"EXT-X-DISCONTINUITY\");if(!O){P.u(8);break}r++;return t(P,Vn(a,r,b,h,d,I,H,f,F),9);case 9:u=P.b;case 8:X=Tn(h,G,H,F,u,f);v.push(X);A=z.next();P.u(5);break;case 7:return a.W.push(v),Cn(a),P[\"return\"](v)}})}\nfunction Vn(a,b,c,d,e,f,g,h,k){var l,m;return J(function(n){if(1==n.a)return l=0,a.v.has(b)?(l=a.v.get(b),n.u(2)):t(n,Un(a,c,d,e,f,!0,g,h),3);2!=n.a&&(m=n.b,l=k-m,a.v.set(b,l));return n[\"return\"](l)})}\nfunction Wn(a,b){var c,d,e,f,g,h;return J(function(k){switch(k.a){case 1:c=ic;d=Lg(b.c(),b.b,b.a,a.i.retryParameters);if(a.i.hls.useFullSegmentsForStartTime)return k[\"return\"](on(a,d,c));e=Lg(b.c(),b.b,b.b+2048-1,a.i.retryParameters);x(k,2);return t(k,on(a,e,c),4);case 4:return f=k.b,k[\"return\"](f);case 2:g=C(k);if(7001==g.code)throw g;Wa(\"Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.\",\ne.uris[0]);return t(k,on(a,d,c),5);case 5:return h=k.b,k[\"return\"](h)}})}\nfunction Un(a,b,c,d,e,f,g,h){var k,l,m,n,r,u,v,y;return J(function(z){switch(z.a){case 1:k=Tn(c,null,g,0,0,h);if(a.o&&!f&&(l=a.a.get(b),m=l.Dd.get(e),void 0!=m))return z[\"return\"](m);d=d.toLowerCase();if(Nn.includes(d))throw Wa(\"Raw formats are not yet supported.  Skipping \"+d),new L(1,4,4035);if(\"video/webm\"==d)throw Wa(\"WebM in HLS is not yet supported.  Skipping.\"),new L(1,4,4035);if(\"video/mp4\"!=d&&\"audio/mp4\"!=d){z.u(2);break}n=[Wn(a,k)];c&&n.push(Wn(a,c));return t(z,Promise.all(n),3);case 3:return r=\nz.b,u=r[0],v=r[1]||r[0],z[\"return\"](Xn(b,u.uri,u.data,v.data));case 2:if(\"video/mp2t\"!=d){z.u(4);break}return t(z,Wn(a,k),5);case 5:return y=z.b,z[\"return\"](Yn(b,y.uri,y.data));case 4:throw new L(2,4,4030,b);}})}\nfunction Xn(a,b,c,d){var e=0;(new Dg).L(\"moov\",Hg).L(\"trak\",Hg).L(\"mdia\",Hg).ea(\"mdhd\",function(h){h.reader.skip(0==h.version?8:16);e=h.reader.J();h.parser.stop()}).parse(d,!0);if(!e)throw new L(2,4,4030,a,b);var f=0,g=!1;(new Dg).L(\"moof\",Hg).L(\"traf\",Hg).ea(\"tfdt\",function(h){f=(0==h.version?h.reader.J():h.reader.pb())/e;g=!0;h.parser.stop()}).parse(c,!0);if(!g)throw new L(2,4,4030,a,b);return f}\nfunction Yn(a,b,c){function d(){f.seek(g+188);h=f.na();71!=h&&(f.seek(g+192),h=f.na());71!=h&&(f.seek(g+204),h=f.na());71!=h&&e();f.Ld(1)}function e(){throw new L(2,4,4030,a,b);}for(var f=new U(c,0),g=0,h=0;;)if(g=f.B,h=f.na(),71!=h&&e(),c=f.Kb(),8191==(c&8191))d();else if(c&16384)if(c=(f.na()&48)>>4,0!=c&&2!=c||e(),3==c&&(c=f.na(),f.skip(c)),1!=f.J()>>8)d();else{f.skip(3);c=f.na()>>6;0!=c&&1!=c||e();0==f.na()&&e();c=f.na();var k=f.Kb(),l=f.Kb();return(1073741824*((c&14)>>1)+((k&65534)<<14|(l&65534)>>\n1))/9E4}else d()}function xn(a,b){if(1==b.length)return b[0];var c=wn(a,b);if(null!=c)return c;throw new L(2,4,4025,b);}function wn(a,b){for(var c=q(Zn[a]),d=c.next();!d.done;d=c.next()){d=d.value;for(var e=q(b),f=e.next();!f.done;f=e.next())if(f=f.value,d.test(f.trim()))return f.trim()}return\"text\"==a?\"\":null}\nfunction In(a,b){var c=String(a).replace(/%7B/g,\"{\").replace(/%7D/g,\"}\"),d=c.match(/{\\$\\w*}/g);if(d){d=q(d);for(var e=d.next();!e.done;e=d.next()){e=e.value;var f=e.slice(2,e.length-1),g=b.get(f);if(g)c=c.replace(e,g);else throw new L(2,4,4039,f);}}return c}\nfunction Mn(a,b,c,d,e){var f,g,h,k,l,m,n,r,u,v;return J(function(y){if(1==y.a){f=Nc;g=ic;h=In(d.segments[0].a,e);k=new jb(h);l=k.ia.split(\".\").pop();m=$n[b];if(n=m[l])return y[\"return\"](n);if(b==f.$)return c&&\"vtt\"!=c&&\"wvtt\"!=c?y[\"return\"](\"application/mp4\"):y[\"return\"](\"text/vtt\");r=cc([h],a.i.retryParameters);r.method=\"HEAD\";return t(y,on(a,r,g),2)}u=y.b;v=u.headers[\"content-type\"];if(!v)throw new L(2,4,4021,l);return y[\"return\"](v.split(\";\")[0])})}\nfunction Qn(a,b){var c=Ym(a,b);if(!c)throw new L(2,4,4024,b);return c}p.Ib=function(){var a=this,b,c;return J(function(d){if(1==d.a){if(!a.s)return d[\"return\"]();x(d,2);return t(d,a.update(),4)}if(2!=d.a)return b=a.ca,a.h.R(b),ua(d,0);c=C(d);if(!a.s)return d[\"return\"]();c.severity=1;a.s.onError(c);a.h.R(.1);w(d)})};function un(a,b){a.c=b;a.b&&a.b.Nb(a.c==nn);a.c!=nn||a.h.stop()}function on(a,b,c){if(!a.m)throw new L(2,7,7001);b=a.s.networkingEngine.request(c,b);Yb(a.m,b);return b.promise}\nK(\"shaka.hls.HlsParser\",mn);\nvar Zn={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Nn=[\"audio/aac\",\"audio/ac3\",\"audio/ec3\",\"audio/mpeg\"],$n={audio:{mp4:\"audio/mp4\",m4s:\"audio/mp4\",m4i:\"audio/mp4\",m4a:\"audio/mp4\",cmfa:\"audio/mp4\",ts:\"video/mp2t\",aac:\"audio/aac\",ac3:\"audio/ac3\",ec3:\"audio/ec3\",mp3:\"audio/mpeg\"},video:{mp4:\"video/mp4\",m4s:\"video/mp4\",m4i:\"video/mp4\",m4v:\"video/mp4\",cmfv:\"video/mp4\",ts:\"video/mp2t\"},text:{mp4:\"application/mp4\",\nm4s:\"application/mp4\",m4i:\"application/mp4\",cmft:\"application/mp4\",vtt:\"text/vtt\",ttml:\"application/ttml+xml\"}},Kn={\"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed\":function(a){var b=Tm(a,\"METHOD\");if(![\"SAMPLE-AES\",\"SAMPLE-AES-CTR\"].includes(b))return null;b=Tm(a,\"URI\");b=ln(b);b=N(b.data);b=Mc(\"com.widevine.alpha\",[{initDataType:\"cenc\",initData:b}]);if(a=Sm(a,\"KEYID\"))b.keyIds=new Set([a.toLowerCase().substr(2)]);return b}},nn=\"VOD\",Pn=\"EVENT\",On=\"LIVE\",rn={Vd:nn,lf:Pn,Ud:On};Mf.m3u8=function(){return new mn};\nKf[\"application/x-mpegurl\"]=function(){return new mn};Kf[\"application/vnd.apple.mpegurl\"]=function(){return new mn};function ao(a,b,c,d,e,f){if(200<=c&&299>=c&&202!=c)return{uri:e||d,Id:d,data:b,headers:a,fromCache:!!a[\"x-shaka-from-cache\"]};e=null;try{e=vc(b)}catch(g){}throw new L(401==c||403==c?2:1,1,1001,d,c,e,a,f);};function bo(){}function co(a,b,c,d){var e=new eo;Oc(b.headers).forEach(function(k,l){e.append(l,k)});var f=new fo,g={rd:!1,Rd:!1};a=go(a,c,{body:b.body||void 0,headers:e,method:b.method,signal:f.signal,credentials:b.allowCrossSiteCredentials?\"include\":void 0},g,d);a=new Bb(a,function(){g.rd=!0;f.abort();return Promise.resolve()});if(b=b.retryParameters.timeout){var h=new M(function(){g.Rd=!0;f.abort()});h.R(b/1E3);a[\"finally\"](function(){h.stop()})}return a}\nfunction go(a,b,c,d,e){var f,g,h,k,l,m,n,r,u,v,y,z,A,D;return J(function(B){switch(B.a){case 1:return f=ho,g=io,m=l=0,n=Date.now(),x(B,2),t(B,f(a,c),4);case 4:return h=B.b,r=h.clone().body.getReader(),v=(u=h.headers.get(\"Content-Length\"))?parseInt(u,10):0,y=function(E){function H(){var G,F;return J(function(I){switch(I.a){case 1:return x(I,2),t(I,r.read(),4);case 4:G=I.b;ua(I,3);break;case 2:return C(I),I[\"return\"]();case 3:G.done||(l+=G.value.byteLength);F=Date.now();if(100<F-n||G.done)e(F-n,l-m,\nv-l),m=l,n=F;G.done?E.close():(E.enqueue(G.value),H());w(I)}})}H()},new g({start:y}),t(B,h.arrayBuffer(),5);case 5:k=B.b;ua(B,3);break;case 2:z=C(B);if(d.rd)throw new L(1,1,7001,a,b);if(d.Rd)throw new L(1,1,1003,a,b);throw new L(1,1,1002,a,z,b);case 3:return A={},D=h.headers,D.forEach(function(E,H){A[H.trim()]=E}),B[\"return\"](ao(A,k,h.status,a,h.url,b))}})}\nfunction jo(){if(window.ReadableStream)try{new ReadableStream({})}catch(a){return!1}else return!1;return!(!window.fetch||!window.AbortController)}K(\"shaka.net.HttpFetchPlugin\",bo);bo.isSupported=jo;bo.parse=co;var ho=window.fetch,fo=window.AbortController,io=window.ReadableStream,eo=window.Headers;jo()&&($b(\"http\",co,2),$b(\"https\",co,2));function ko(){}\nfunction lo(a,b,c,d){var e=new mo,f=Date.now(),g=0,h=new Promise(function(k,l){e.open(b.method,a,!0);e.responseType=\"arraybuffer\";e.timeout=b.retryParameters.timeout;e.withCredentials=b.allowCrossSiteCredentials;e.onabort=function(){l(new L(1,1,7001,a,c))};e.onload=function(n){n=n.target;var r=n.getAllResponseHeaders().trim().split(\"\\r\\n\"),u={};r=q(r);for(var v=r.next();!v.done;v=r.next())v=v.value.split(\": \"),u[v[0].toLowerCase()]=v.slice(1).join(\": \");try{var y=ao(u,n.response,n.status,a,n.responseURL,\nc);k(y)}catch(z){l(z)}};e.onerror=function(n){l(new L(1,1,1002,a,n,c))};e.ontimeout=function(){l(new L(1,1,1003,a,c))};e.onprogress=function(n){var r=Date.now();if(100<r-f||n.lengthComputable&&n.loaded==n.total)d(r-f,n.loaded-g,n.total-n.loaded),g=n.loaded,f=r};for(var m in b.headers)e.setRequestHeader(m.toLowerCase(),b.headers[m]);e.send(b.body)});return new Bb(h,function(){e.abort();return Promise.resolve()})}K(\"shaka.net.HttpXHRPlugin\",ko);ko.parse=lo;var mo=window.XMLHttpRequest;\n$b(\"http\",lo,1);$b(\"https\",lo,1);function no(){this.a=this.f=this.b=0;this.c=new Map;this.g=0}function oo(a,b){a.b+=b;var c=a.g;a.g++;a.c.set(c,b);return c}no.prototype.close=function(a,b){if(this.c.has(a)){var c=this.c.get(a);this.c[\"delete\"](a);this.f+=c;this.a+=b}};function po(a){var b=this;this.N=a;this.a=new Map;this.D=new jc(function(){var c=Array.from(b.a.values());return Promise.all(c.map(function(d){return d[\"catch\"](function(){})}))});this.b=[];this.Hd=function(){};this.Gd=function(){};this.Bb=new no}po.prototype.destroy=function(){return this.D.destroy()};function qo(a,b,c){a.Hd=b;a.Gd=c}function ro(a){var b=a.b.map(function(c){return c()});a.b=[];return Promise.all(b)}\nfunction so(a,b,c,d,e,f){kc(a.D);var g=oo(a.Bb,d);d=(a.a.get(b)||Promise.resolve()).then(function(){var h,k,l,m,n,r,u;return J(function(v){if(1==v.a)return t(v,to(a,c),2);h=v.b;if(a.D.a)throw new L(2,9,7001);if(e)for(m in k=N(h),l=new Nk(k),l.data)n=Number(m),r=l.data[n],u=l.a[n],a.Gd(r,u);a.Bb.close(g,h.byteLength);var y=a.Bb;a.Hd(0==y.b?0:y.f/y.b,a.Bb.a);return v[\"return\"](f(h))})});a.a.set(b,d);return d}\nfunction uo(a,b,c){kc(a.D);var d=(a.a.get(b)||Promise.resolve()).then(function(){return J(function(e){return t(e,c(),0)})});a.a.set(b,d)}function vo(a){return J(function(b){return 1==b.a?t(b,Promise.all(a.a.values()),2):b[\"return\"](a.Bb.a)})}function to(a,b){var c,d,e,f;return J(function(g){if(1==g.a)return c=ic,d=a.N.request(c,b),e=function(){return d.abort()},a.b.push(e),t(g,d.promise,2);f=g.b;Vb(a.b,e);return g[\"return\"](f.data)})};function wo(a,b){var c=this;this.c=a;this.b=a.objectStore(b);this.a=new Ab;a.onabort=function(d){d.preventDefault();c.a.reject()};a.onerror=function(d){d.preventDefault();c.a.reject()};a.oncomplete=function(){c.a.resolve()}}wo.prototype.abort=function(){var a=this;return J(function(b){if(1==b.a){try{a.c.abort()}catch(c){}x(b,2);return t(b,a.a,4)}if(2!=b.a)return ua(b,0);C(b);w(b)})};\nfunction xo(a,b){return new Promise(function(c,d){var e=a.b.openCursor();e.onerror=d;e.onsuccess=function(){var f;return J(function(g){if(1==g.a){if(null==e.result)return c(),g[\"return\"]();f=e.result;return t(g,b(f.key,f.value,f),2)}f[\"continue\"]();w(g)})}})}wo.prototype.store=function(){return this.b};wo.prototype.promise=function(){return this.a};function yo(a){this.b=a;this.a=[]}yo.prototype.destroy=function(){return Promise.all(this.a.map(function(a){return a.abort()}))};function zo(a,b){return Ao(a,b,\"readwrite\")}function Ao(a,b,c){c=a.b.transaction([b],c);var d=new wo(c,b);a.a.push(d);d.promise().then(function(){Vb(a.a,d)},function(){Vb(a.a,d)});return d};function Bo(a,b,c){this.b=new yo(a);this.c=b;this.a=c}p=Bo.prototype;p.destroy=function(){return this.b.destroy()};p.hasFixedKeySpace=function(){return!0};p.addSegments=function(){return Co(this.c)};p.removeSegments=function(a,b){return Do(this,this.c,a,b)};p.getSegments=function(a){var b=this,c;return J(function(d){if(1==d.a)return t(d,Eo(b,b.c,a),2);c=d.b;return d[\"return\"](c.map(function(e){return b.sd(e)}))})};p.addManifests=function(){return Co(this.a)};\np.updateManifestExpiration=function(a,b){var c=zo(this.b,this.a),d=c.store();d.get(a).onsuccess=function(e){if(e=e.target.result)e.expiration=b,d.put(e,a)};return c.promise()};p.removeManifests=function(a,b){return Do(this,this.a,a,b)};p.getManifests=function(a){var b=this,c;return J(function(d){if(1==d.a)return t(d,Eo(b,b.a,a),2);c=d.b;return d[\"return\"](Promise.all(c.map(function(e){return b.Ab(e)})))})};\np.getAllManifests=function(){var a=this,b,c;return J(function(d){return 1==d.a?(b=Ao(a.b,a.a,\"readonly\"),c=new Map,t(d,xo(b,function(e,f){var g;return J(function(h){if(1==h.a)return t(h,a.Ab(f),2);g=h.b;c.set(e,g);w(h)})}),2)):3!=d.a?t(d,b.promise(),3):d[\"return\"](c)})};p.sd=function(a){return a};p.Ab=function(a){return Promise.resolve(a)};function Co(a){return Promise.reject(new L(2,9,9011,\"Cannot add new value to \"+a))}\np.add=function(a,b){var c=this,d,e,f,g,h,k,l;return J(function(m){if(1==m.a){d=zo(c.b,a);e=d.store();f=[];g={};h=q(b);for(k=h.next();!k.done;g={Sb:g.Sb},k=h.next())l=k.value,g.Sb=e.add(l),g.Sb.onsuccess=function(n){return function(){f.push(n.Sb.result)}}(g);return t(m,d.promise(),2)}return m[\"return\"](f)})};\nfunction Do(a,b,c,d){a=zo(a.b,b);b=a.store();var e={};c=q(c);for(var f=c.next();!f.done;e={Rb:e.Rb},f=c.next())e.Rb=f.value,b[\"delete\"](e.Rb).onsuccess=function(g){return function(){return d(g.Rb)}}(e);return a.promise()}\nfunction Eo(a,b,c){var d,e,f,g,h,k,l;return J(function(m){if(1==m.a){d=Ao(a.b,b,\"readonly\");e=d.store();f={};g=[];h={};k=q(c);for(l=k.next();!l.done;h={vb:h.vb,tb:h.tb},l=k.next())h.tb=l.value,h.vb=e.get(h.tb),h.vb.onsuccess=function(n){return function(){void 0==n.vb.result&&g.push(n.tb);f[n.tb]=n.vb.result}}(h);return t(m,d.promise(),2)}if(g.length)throw new L(2,9,9012,\"Could not find values for \"+g);return m[\"return\"](c.map(function(n){return f[n]}))})};function Fo(a){this.a=new yo(a)}Fo.prototype.destroy=function(){return this.a.destroy()};Fo.prototype.getAll=function(){var a=this,b,c;return J(function(d){return 1==d.a?(b=Ao(a.a,\"session-ids\",\"readonly\"),c=[],t(d,xo(b,function(e,f){c.push(f)}),2)):3!=d.a?t(d,b.promise(),3):d[\"return\"](c)})};Fo.prototype.add=function(a){var b=zo(this.a,\"session-ids\"),c=b.store();a=q(a);for(var d=a.next();!d.done;d=a.next())c.add(d.value);return b.promise()};\nFo.prototype.remove=function(a){var b=this,c;return J(function(d){return 1==d.a?(c=zo(b.a,\"session-ids\"),t(d,xo(c,function(e,f,g){a.includes(f.sessionId)&&g[\"delete\"]()}),2)):t(d,c.promise(),0)})};function Go(){this.a=new Map}Go.prototype.destroy=function(){for(var a=[],b=q(this.a.values()),c=b.next();!c.done;c=b.next())a.push(c.value.destroy());this.a.clear();return Promise.all(a)};Go.prototype.init=function(){var a=this;Ho.forEach(function(e,f){var g=e();g&&a.a.set(f,g)});for(var b=[],c=q(this.a.values()),d=c.next();!d.done;d=c.next())b.push(d.value.init());return Promise.all(b)};\nfunction Io(a){var b=null;a.a.forEach(function(c,d){c.getCells().forEach(function(e,f){e.hasFixedKeySpace()||b||(b={path:{va:d,ba:f},ba:e})})});if(b)return b;throw new L(2,9,9013,\"Could not find a cell that supports add-operations\");}function Jo(a,b){a.a.forEach(function(c,d){c.getCells().forEach(function(e,f){b({va:d,ba:f},e)})})}\nfunction Ko(a,b,c){a=a.a.get(b);if(!a)throw new L(2,9,9013,\"Could not find mechanism with name \"+b);b=a.getCells().get(c);if(!b)throw new L(2,9,9013,\"Could not find cell with name \"+c);return b}function Lo(a,b){a.a.forEach(function(c){b(c.getEmeSessionCell())})}function Mo(a){var b=Array.from(a.a.keys());if(!b.length)throw new L(2,9,9E3,\"No supported storage mechanisms found\");return a.a.get(b[0]).getEmeSessionCell()}\nfunction No(a){var b,c,d;return J(function(e){return 1==e.a?(b=Array.from(a.a.values()),c=0<b.length,c||(d=Ho,d.forEach(function(f){(f=f())&&b.push(f)})),t(e,Promise.all(b.map(function(f){return f.erase()})),2)):c?e.u(0):t(e,Promise.all(b.map(function(f){return f.destroy()})),0)})}function Oo(a,b){Ho.set(a,b)}K(\"shaka.offline.StorageMuxer\",Go);Go.unregister=function(a){Ho[\"delete\"](a)};Go.register=Oo;Go.prototype.destroy=Go.prototype.destroy;var Ho=new Map;function Po(){Bo.apply(this,arguments)}pa(Po,Bo);Po.prototype.updateManifestExpiration=function(a,b){var c=this,d,e,f;return J(function(g){d=zo(c.b,c.a);e=d.store();f=new Ab;e.get(a).onsuccess=function(h){(h=h.target.result)?(h.expiration=b,e.put(h),f.resolve()):f.reject(new L(2,9,9012,\"Could not find values for \"+a))};return t(g,Promise.all([d.promise(),f]),0)})};\nPo.prototype.Ab=function(a){var b,c,d,e,f,g;return J(function(h){if(1==h.a){b=[];for(c=0;c<a.periods.length;++c)d=c==a.periods.length-1?a.duration:a.periods[c+1].startTime,e=d-a.periods[c].startTime,f=Qo(a.periods[c],e),b.push(f);return t(h,im(b),2)}g=h.b;return h[\"return\"]({creationTime:0,originalManifestUri:a.originalManifestUri,duration:a.duration,size:a.size,expiration:null==a.expiration?Infinity:a.expiration,streams:g,sessionIds:a.sessionIds,drmInfo:a.drmInfo,appMetadata:a.appMetadata})})};\nfunction Qo(a,b){Ro(a);for(var c=q(a.streams),d=c.next();!d.done;d=c.next());return a.streams.map(function(e){return So(e,a.startTime,b)})}\nfunction So(a,b,c){var d=a.initSegmentUri?To(a.initSegmentUri):null,e=b+a.presentationTimeOffset,f=b+c;return{id:a.id,originalId:null,primary:a.primary,type:a.contentType,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:void 0,kind:a.kind,language:a.language,label:a.label,width:a.width,height:a.height,initSegmentKey:d,encrypted:a.encrypted,keyIds:new Set([a.keyId]),segments:a.segments.map(function(g){var h=To(g.uri);return{startTime:b+g.startTime,endTime:b+g.endTime,dataKey:h,\ninitSegmentKey:d,appendWindowStart:b,appendWindowEnd:f,timestampOffset:e}}),variantIds:a.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}Po.prototype.sd=function(a){return{data:a.data}};function To(a){var b;if((b=/^offline:[0-9]+\\/[0-9]+\\/([0-9]+)$/.exec(a))||(b=/^offline:segment\\/([0-9]+)$/.exec(a)))return Number(b[1]);throw new L(2,9,9004,\"Could not parse uri \"+a);}\nfunction Ro(a){var b=a.streams.filter(function(h){return\"audio\"==h.contentType});a=a.streams.filter(function(h){return\"video\"==h.contentType});if(!b.every(function(h){return h.variantIds})||!a.every(function(h){return h.variantIds})){for(var c=q(b),d=c.next();!d.done;d=c.next())d.value.variantIds=[];c=q(a);for(d=c.next();!d.done;d=c.next())d.value.variantIds=[];c=0;if(a.length&&!b.length){var e=c++,f=q(a);for(d=f.next();!d.done;d=f.next())d.value.variantIds.push(e)}if(!a.length&&b.length)for(e=c++,\nf=q(b),d=f.next();!d.done;d=f.next())d.value.variantIds.push(e);if(a.length&&b.length)for(b=q(b),d=b.next();!d.done;d=b.next())for(d=d.value,e=q(a),f=e.next();!f.done;f=e.next()){f=f.value;var g=c++;d.variantIds.push(g);f.variantIds.push(g)}}};function Uo(){Bo.apply(this,arguments)}pa(Uo,Bo);\nUo.prototype.Ab=function(a){var b,c,d,e,f,g;return J(function(h){if(1==h.a){b=[];for(c=0;c<a.periods.length;++c){d=c==a.periods.length-1?a.duration:a.periods[c+1].startTime;e=d-a.periods[c].startTime;for(var k=a.periods[c],l=[],m=q(k.streams),n=m.next();!n.done;n=m.next())n=n.value,0!=n.variantIds.length&&l.push(Vo(n,k.startTime,k.startTime+e));f=l;b.push(f)}return t(h,im(b),2)}g=h.b;return h[\"return\"]({appMetadata:a.appMetadata,creationTime:0,drmInfo:a.drmInfo,duration:a.duration,expiration:null==\na.expiration?Infinity:a.expiration,originalManifestUri:a.originalManifestUri,sessionIds:a.sessionIds,size:a.size,streams:g})})};\nfunction Vo(a,b,c){return{id:a.id,originalId:a.originalId,primary:a.primary,type:a.contentType,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width,height:a.height,encrypted:a.encrypted,keyIds:new Set([a.keyId]),segments:a.segments.map(function(d){return{startTime:b+d.startTime,endTime:b+d.endTime,initSegmentKey:a.initSegmentKey,appendWindowStart:b,appendWindowEnd:c,timestampOffset:b-a.presentationTimeOffset,\ndataKey:d.dataKey}}),variantIds:a.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}};function Wo(){Bo.apply(this,arguments)}pa(Wo,Bo);Wo.prototype.hasFixedKeySpace=function(){return!1};Wo.prototype.addSegments=function(a){return this.add(this.c,a)};Wo.prototype.addManifests=function(a){return this.add(this.a,a)};Wo.prototype.Ab=function(a){null==a.expiration&&(a.expiration=Infinity);return Promise.resolve(a)};function Xo(){this.h=this.f=this.c=this.b=this.a=this.g=null}p=Xo.prototype;\np.init=function(){var a=this,b=new Ab,c=window.indexedDB.open(\"shaka_offline_db\",5);c.onsuccess=function(){var d=c.result;a.g=d;var e=d.objectStoreNames;e=e.contains(\"manifest\")&&e.contains(\"segment\")?new Po(d,\"segment\",\"manifest\"):null;a.a=e;e=d.objectStoreNames;e=e.contains(\"manifest-v2\")&&e.contains(\"segment-v2\")?new Uo(d,\"segment-v2\",\"manifest-v2\"):null;a.b=e;e=d.objectStoreNames;e=e.contains(\"manifest-v3\")&&e.contains(\"segment-v3\")?new Uo(d,\"segment-v3\",\"manifest-v3\"):null;a.c=e;e=d.objectStoreNames;\ne=e.contains(\"manifest-v5\")&&e.contains(\"segment-v5\")?new Wo(d,\"segment-v5\",\"manifest-v5\"):null;a.f=e;d=d.objectStoreNames.contains(\"session-ids\")?new Fo(d):null;a.h=d;b.resolve()};c.onupgradeneeded=function(){for(var d=c.result,e=q([\"segment-v5\",\"manifest-v5\",\"session-ids\"]),f=e.next();!f.done;f=e.next())f=f.value,d.objectStoreNames.contains(f)||d.createObjectStore(f,{autoIncrement:!0})};c.onerror=function(d){b.reject(new L(2,9,9001,c.error));d.preventDefault()};return b};\np.destroy=function(){var a=this;return J(function(b){switch(b.a){case 1:if(!a.a){b.u(2);break}return t(b,a.a.destroy(),2);case 2:if(!a.b){b.u(4);break}return t(b,a.b.destroy(),4);case 4:if(!a.c){b.u(6);break}return t(b,a.c.destroy(),6);case 6:if(!a.f){b.u(8);break}return t(b,a.f.destroy(),8);case 8:if(!a.h){b.u(10);break}return t(b,a.h.destroy(),10);case 10:a.g&&a.g.close(),w(b)}})};\np.getCells=function(){var a=new Map;this.a&&a.set(\"v1\",this.a);this.b&&a.set(\"v2\",this.b);this.c&&a.set(\"v3\",this.c);this.f&&a.set(\"v5\",this.f);return a};p.getEmeSessionCell=function(){return this.h};\np.erase=function(){var a=this;return J(function(b){switch(b.a){case 1:if(!a.a){b.u(2);break}return t(b,a.a.destroy(),2);case 2:if(!a.b){b.u(4);break}return t(b,a.b.destroy(),4);case 4:if(!a.c){b.u(6);break}return t(b,a.c.destroy(),6);case 6:if(!a.f){b.u(8);break}return t(b,a.f.destroy(),8);case 8:return a.g&&a.g.close(),t(b,Yo(),10);case 10:return a.g=null,a.a=null,a.b=null,a.c=null,a.f=null,t(b,a.init(),0)}})};\nfunction Yo(){var a=new Ab,b=window.indexedDB.deleteDatabase(\"shaka_offline_db\");b.onblocked=function(){};b.onsuccess=function(){a.resolve()};b.onerror=function(c){a.reject(new L(2,9,9001,b.error));c.preventDefault()};return a}Oo(\"idb\",function(){return window.indexedDB?new Xo:null});function Zo(a,b,c,d){this.a=a;this.g=b;this.f=c;this.c=d;this.b=[\"offline:\",a,\"/\",b,\"/\",c,\"/\",d].join(\"\")}Zo.prototype.va=function(){return this.g};Zo.prototype.ba=function(){return this.f};Zo.prototype.key=function(){return this.c};Zo.prototype.toString=function(){return this.b};\nfunction $o(a){a=/^offline:([a-z]+)\\/([^/]+)\\/([^/]+)\\/([0-9]+)$/.exec(a);if(null==a)return null;var b=a[1];if(\"manifest\"!=b&&\"segment\"!=b)return null;var c=a[2];if(!c)return null;var d=a[3];return d&&null!=b?new Zo(b,c,d,Number(a[4])):null};function ap(a,b){this.b=a;this.a=b}\nfunction bp(a,b){var c=new S(null,0);c.xa(b.duration);var d=b.streams.filter(function(k){return\"audio\"==k.type}),e=b.streams.filter(function(k){return\"video\"==k.type});d=cp(a,d,e,c);e=b.streams.filter(function(k){return\"text\"==k.type}).map(function(k){return dp(a,k,c)});var f=b.drmInfo?[b.drmInfo]:[];if(b.drmInfo)for(var g=q(d.values()),h=g.next();!h.done;h=g.next())h=h.value,h.audio&&h.audio.encrypted&&(h.audio.drmInfos=f),h.video&&h.video.encrypted&&(h.video.drmInfos=f);return{presentationTimeline:c,\nminBufferTime:2,offlineSessionIds:b.sessionIds,variants:Array.from(d.values()),textStreams:e}}\nfunction cp(a,b,c,d){for(var e=new Set,f=q(b),g=f.next();!g.done;g=f.next()){var h=q(g.value.variantIds);for(g=h.next();!g.done;g=h.next())e.add(g.value)}f=q(c);for(g=f.next();!g.done;g=f.next())for(h=q(g.value.variantIds),g=h.next();!g.done;g=h.next())e.add(g.value);f=new Map;e=q(e);for(g=e.next();!g.done;g=e.next())g=g.value,f.set(g,{id:g,language:\"\",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});b=q(b);for(e=b.next();!e.done;e=b.next())for(e=e.value,\ng=dp(a,e,d),h=q(e.variantIds),e=h.next();!e.done;e=h.next())e=f.get(e.value),e.language=g.language,e.primary=e.primary||g.primary,e.audio=g;c=q(c);for(b=c.next();!b.done;b=c.next())for(e=b.value,b=dp(a,e,d),g=q(e.variantIds),e=g.next();!e.done;e=g.next())e=f.get(e.value),e.primary=e.primary||b.primary,e.video=b;return f}\nfunction dp(a,b,c){var d=b.segments.map(function(e){return ep(a,e)});c.mb(d);return{id:b.id,originalId:b.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new T(d),mimeType:b.mimeType,codecs:b.codecs,width:b.width||void 0,height:b.height||void 0,frameRate:b.frameRate,pixelAspectRatio:b.pixelAspectRatio,kind:b.kind,encrypted:b.encrypted,drmInfos:[],keyIds:b.keyIds,language:b.language,label:b.label,type:b.type,primary:b.primary,trickModeVideo:null,emsgSchemeIdUris:null,\nroles:b.roles,channelsCount:b.channelsCount,audioSamplingRate:b.audioSamplingRate,closedCaptions:b.closedCaptions}}function ep(a,b){var c=new Zo(\"segment\",a.b,a.a,b.dataKey);return new Pf(b.startTime,b.endTime,function(){return[c.toString()]},0,null,null!=b.initSegmentKey?fp(a,b.initSegmentKey):null,b.timestampOffset,b.appendWindowStart,b.appendWindowEnd)}function fp(a,b){var c=new Zo(\"segment\",a.b,a.a,b);return new Of(function(){return[c.toString()]},0,null)};function gp(){this.a=null}p=gp.prototype;p.configure=function(){};p.start=function(a){var b=this,c,d,e,f,g,h;return J(function(k){switch(k.a){case 1:c=$o(a);b.a=c;if(null==c||\"manifest\"!=c.a)throw new L(2,1,9004,a);d=new Go;ta(k);return t(k,d.init(),4);case 4:return t(k,Ko(d,c.va(),c.ba()),5);case 5:return e=k.b,t(k,e.getManifests([c.key()]),6);case 6:return f=k.b,g=f[0],h=new ap(c.va(),c.ba()),k[\"return\"](bp(h,g));case 2:return va(k),t(k,d.destroy(),7);case 7:wa(k,0)}})};p.stop=function(){return Promise.resolve()};\np.update=function(){};p.onExpirationUpdated=function(a,b){var c=this,d,e,f,g,h,k,l;return J(function(m){switch(m.a){case 1:return d=c.a,e=new Go,x(m,2,3),t(m,e.init(),5);case 5:return t(m,Ko(e,d.va(),d.ba()),6);case 6:return f=m.b,t(m,f.getManifests([d.key()]),7);case 7:g=m.b;h=g[0];k=h.sessionIds.includes(a);l=void 0==h.expiration||h.expiration>b;if(!k||!l){m.u(3);break}return t(m,f.updateManifestExpiration(d.key(),b),3);case 3:return va(m),t(m,e.destroy(),10);case 10:wa(m,0);break;case 2:C(m),m.u(3)}})};\nKf[\"application/x-offline-manifest\"]=function(){return new gp};function hp(){}function ip(a){var b=$o(a);b&&\"manifest\"==b.a?(a={uri:a,Id:a,data:new ArrayBuffer(0),headers:{\"content-type\":\"application/x-offline-manifest\"}},a=Eb(a)):a=b&&\"segment\"==b.a?jp(b.key(),b):Cb(new L(2,1,9004,a));return a}\nfunction jp(a,b){var c=new Go;return Eb(void 0).U(function(){return c.init()}).U(function(){return Ko(c,b.va(),b.ba())}).U(function(d){return d.getSegments([b.key()])}).U(function(d){return{uri:b,data:d[0].data,headers:{}}})[\"finally\"](function(){return c.destroy()})}K(\"shaka.offline.OfflineScheme\",hp);hp.plugin=ip;$b(\"offline\",ip);function kp(a,b,c){var d,e,f,g,h,k;return J(function(l){switch(l.a){case 1:d=[];for(var m=[],n=q(c),r=n.next();!r.done;r=n.next()){r=r.value;for(var u=!1,v=q(m),y=v.next();!y.done;y=v.next())if(y=y.value,lp(y.info,r)){y.sessionIds.push(r.sessionId);u=!0;break}u||m.push({info:r,sessionIds:[r.sessionId]})}e=q(m);f=e.next();case 2:if(f.done){l.u(4);break}g=f.value;h=mp(a,b,g);return t(l,h,5);case 5:k=l.b;d=d.concat(k);f=e.next();l.u(2);break;case 4:return l[\"return\"](d)}})}\nfunction mp(a,b,c){var d,e;return J(function(f){switch(f.a){case 1:return d=new jd({lb:b,onError:function(){},ic:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),x(f,2),d.configure(a),t(f,rd(d,c.info.keySystem,c.info.licenseUri,c.info.serverCertificate,c.info.audioCapabilities,c.info.videoCapabilities),4);case 4:ua(f,3);break;case 2:return C(f),t(f,d.destroy(),5);case 5:return f[\"return\"]([]);case 3:return x(f,6),t(f,yd(d),8);case 8:ua(f,7);break;case 6:return C(f),t(f,d.destroy(),\n9);case 9:return f[\"return\"]([]);case 7:return e=[],t(f,Promise.all(c.sessionIds.map(function(g){return J(function(h){if(1==h.a)return x(h,2),t(h,Bd(d,g),4);if(2!=h.a)return e.push(g),ua(h,0);C(h);w(h)})})),10);case 10:return t(f,d.destroy(),11);case 11:return f[\"return\"](e)}})}\nfunction lp(a,b){function c(d,e){return d.robustness==e.robustness&&d.contentType==e.contentType}return a.keySystem==b.keySystem&&a.licenseUri==b.licenseUri&&Wb(a.audioCapabilities,b.audioCapabilities,c)&&Wb(a.videoCapabilities,b.videoCapabilities,c)};function np(a,b,c){var d=b.presentationTimeline.getDuration();b=op(b);return{offlineUri:null,originalManifestUri:a,duration:d,size:0,expiration:Infinity,tracks:b,appMetadata:c}}function pp(a,b){var c=bp(new ap(a.va(),a.ba()),b),d=b.appMetadata||{};c=op(c);return{offlineUri:a.toString(),originalManifestUri:b.originalManifestUri,duration:b.duration,size:b.size,expiration:b.expiration,tracks:c,appMetadata:d}}\nfunction op(a){var b=[],c=qf(a.variants);c=q(c);for(var d=c.next();!d.done;d=c.next())b.push(jf(d.value));a=q(a.textStreams);for(c=a.next();!c.done;c=a.next())b.push(kf(c.value));return b};function qp(){this.a={}}function rp(a,b,c){c=c.endTime-c.startTime;return sp(a,b)*c}function sp(a,b){var c=a.a[b];null==c&&(c=0);return c};function tp(a,b,c){a.variants=a.variants.filter(function(d){return ff(d,b,c)})}function up(a){a.variants=a.variants.filter(function(b){var c=!0;b.audio&&(c=c&&He(b.audio));b.video&&(c=c&&He(b.video));return c})}function vp(a,b){a.variants=a.variants.filter(function(c){return Rd(b,c)})};function wp(a){var b=this;if(a&&a.constructor!=V)throw new L(2,9,9008);this.N=this.i=null;a?(this.i=a.i,this.N=a.Db()):(this.i=Ih(),this.N=new Zb);this.mc=[];this.Jb=[];this.Yc=[];this.a=new Map;this.a.set(null,Promise.resolve(null));this.b=new Map;var c=!a;this.D=new jc(function(){var d,e,f,g,h;return J(function(k){switch(k.a){case 1:return t(k,Promise.all(b.Yc.map(function(l){return ro(l)})),2);case 2:d=function(){};e=[];f=q(b.Jb);for(g=f.next();!g.done;g=f.next())h=g.value,e.push(h.then(d,d));\nreturn t(k,Promise.all(e),3);case 3:if(!c){k.u(4);break}return t(k,b.N.destroy(),4);case 4:b.i=null,b.N=null,w(k)}})})}function xp(){if(Vc())a:{var a=q(Ho.values());for(var b=a.next();!b.done;b=a.next())if(b=b.value,b=b()){b.destroy();a=!0;break a}a=!1}else a=!1;return a}p=wp.prototype;p.destroy=function(){return this.D.destroy()};\np.configure=function(a,b){2==arguments.length&&\"string\"==typeof a&&(a=Gh(a,b));a.manifest&&a.manifest.dash&&\"defaultPresentationDelay\"in a.manifest.dash&&(Dc(\"manifest.dash.defaultPresentationDelay configuration\",\"Please Use manifest.defaultPresentationDelay instead.\"),a.manifest.defaultPresentationDelay=a.manifest.dash.defaultPresentationDelay,delete a.manifest.dash.defaultPresentationDelay);return Kh(this.i,a)};p.getConfiguration=function(){var a=Ih();Kh(a,this.i,Ih());return a};p.Db=function(){return this.N};\np.store=function(a,b,c){var d=this,e=this.getConfiguration(),f=new po(this.N);this.Yc.push(f);b=yp(this,a,b||{},function(){var h;return J(function(k){if(1==k.a)return t(k,Jf(a,d.N,e.manifest.retryParameters,c||null),2);h=k.b;return k[\"return\"](Kc(h))})},e,f);var g=new Bb(b,function(){return ro(f)});g[\"finally\"](function(){Vb(d.Yc,f)});g.then=function(h){Dc(\"shaka.offline.Storage.store.then\",\"Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead.\");\nreturn g.promise.then(h)};return zp(this,g)};p.we=function(){Dc(\"shaka.offline.Storage.getStoreInProgress\",\"Multiple concurrent downloads are now supported.\");return!1};\nfunction yp(a,b,c,d,e,f){var g,h,k,l,m,n,r,u,v,y,z;return J(function(A){switch(A.a){case 1:return Ap(),h=g=null,k=new Go,m=l=null,x(A,2,3),t(A,d(),5);case 5:return g=A.b,t(A,Bp(a,b,g,e),6);case 6:n=A.b;Cp(a);r=!n.presentationTimeline.S()&&!n.presentationTimeline.Ta();if(!r)throw new L(2,9,9005,b);return t(A,Dp(a,n,function(D){m=m||D},e),7);case 7:h=A.b;Cp(a);if(m)throw m;return t(A,a.fb(n,h,e),8);case 8:return t(A,k.init(),9);case 9:return Cp(a),t(A,Io(k),10);case 10:return l=A.b,Cp(a),t(A,Ep(a,l.ba,\nh,n,b,c,e,f),11);case 11:u=A.b;Cp(a);if(m)throw m;return t(A,l.ba.addManifests([u]),12);case 12:return v=A.b,Cp(a),y=new Zo(\"manifest\",l.path.va,l.path.ba,v[0]),A[\"return\"](pp(y,u));case 3:return va(A),a.mc=[],t(A,k.destroy(),13);case 13:if(!g){A.u(14);break}return t(A,g.stop(),14);case 14:if(!h){A.u(16);break}return t(A,h.destroy(),16);case 16:wa(A,0);break;case 2:z=C(A);if(!l){A.u(18);break}return t(A,l.ba.removeSegments(a.mc,function(){}),18);case 18:throw m||z;}})}\np.fb=function(a,b,c){var d,e,f,g,h,k,l,m,n,r,u,v,y,z,A;return J(function(D){if(1==D.a){d={width:Infinity,height:Infinity};tp(a,c.restrictions,d);up(a);vp(a,b);e=[];f=c.preferredAudioChannelCount;df(a,f);g=q(a.variants);for(h=g.next();!h.done;h=g.next())k=h.value,e.push(jf(k));l=q(a.textStreams);for(m=l.next();!m.done;m=l.next())n=m.value,e.push(kf(n));return t(D,c.offline.trackSelectionCallback(e),2)}r=D.b;u=new Set;v=new Set;y=q(r);for(z=y.next();!z.done;z=y.next())A=z.value,\"variant\"==A.type&&u.add(A.id),\n\"text\"==A.type&&v.add(A.id);a.variants=a.variants.filter(function(B){return u.has(B.id)});a.textStreams=a.textStreams.filter(function(B){return v.has(B.id)});Fp(a);w(D)})};\nfunction Ep(a,b,c,d,e,f,g,h){var k,l,m,n,r,u,v,y,z,A,D,B;return J(function(E){switch(E.a){case 1:return k=np(e,d,f),l=g.offline.progressCallback,m=function(H,G){k.size=G;l(k,H)},n=function(H,G){v&&g.offline.usePersistentLicense&&y==G&&Ad(c,\"cenc\",H)},qo(h,m,n),r=d.variants.some(function(H){var G=H.audio&&H.audio.encrypted;return H.video&&H.video.encrypted||G}),u=d.variants.some(function(H){return(H.video?H.video.drmInfos:[]).concat(H.audio?H.audio.drmInfos:[]).some(function(G){return G.initData&&\nG.initData.length})}),v=r&&!u,y=null,v&&(z=c.c,y=Gp.get(z.keySystem)),ta(E),D=A=Hp(a,h,b,c,d,e,f,g),t(E,vo(h),4);case 4:D.size=E.b;A.expiration=c.Cb();B=Gd(c);A.sessionIds=g.offline.usePersistentLicense?B:[];if(r&&g.offline.usePersistentLicense&&!B.length)throw new L(2,9,9007);return E[\"return\"](A);case 2:return va(E),t(E,h.destroy(),5);case 5:wa(E,0)}})}p.remove=function(a){return Ip(this,Jp(this,a))};\nfunction Jp(a,b){var c,d,e,f,g,h;return J(function(k){switch(k.a){case 1:Ap();c=$o(b);if(null==c||\"manifest\"!=c.a)throw new L(2,9,9004,b);d=c;e=new Go;ta(k);return t(k,e.init(),4);case 4:return t(k,Ko(e,d.va(),d.ba()),5);case 5:return f=k.b,t(k,f.getManifests([d.key()]),6);case 6:return g=k.b,h=g[0],t(k,Promise.all([Kp(a,h,e),Lp(f,d,h)]),2);case 2:return va(k),t(k,e.destroy(),8);case 8:wa(k,0)}})}\nfunction Mp(a,b){for(var c=[],d=q(a.streams),e=d.next();!e.done;e=d.next())e=e.value,b&&\"video\"==e.type?c.push({contentType:Rc(e.mimeType,e.codecs),robustness:a.drmInfo.videoRobustness}):b||\"audio\"!=e.type||c.push({contentType:Rc(e.mimeType,e.codecs),robustness:a.drmInfo.audioRobustness});return c}function Kp(a,b,c){return J(function(d){return t(d,Np(a.N,a.i.drm,c,b),0)})}\nfunction Lp(a,b,c){function d(){}var e=Op(c);pp(b,c);return Promise.all([a.removeSegments(e,d),a.removeManifests([b.key()],d)])}p.Ne=function(){return Ip(this,Pp(this))};\nfunction Pp(a){var b,c,d,e,f,g,h,k,l,m;return J(function(n){switch(n.a){case 1:return Ap(),b=a.N,c=a.i.drm,d=new Go,e=!1,ta(n),t(n,d.init(),4);case 4:f=[],Lo(d,function(r){return f.push(r)}),g=q(f),h=g.next();case 5:if(h.done){n.u(2);break}k=h.value;return t(n,k.getAll(),8);case 8:return l=n.b,t(n,kp(c,b,l),9);case 9:return m=n.b,t(n,k.remove(m),10);case 10:m.length!=l.length&&(e=!0);h=g.next();n.u(5);break;case 2:return va(n),t(n,d.destroy(),11);case 11:wa(n,3);break;case 3:return n[\"return\"](!e)}})}\np.list=function(){return Ip(this,Qp())};function Qp(){var a,b,c;return J(function(d){switch(d.a){case 1:return Ap(),a=[],b=new Go,ta(d),t(d,b.init(),4);case 4:return c=Promise.resolve(),Jo(b,function(e,f){c=c.then(function(){var g;return J(function(h){if(1==h.a)return t(h,f.getAllManifests(),2);g=h.b;g.forEach(function(k,l){var m=pp(new Zo(\"manifest\",e.va,e.ba,l),k);a.push(m)});w(h)})})}),t(d,c,2);case 2:return va(d),t(d,b.destroy(),6);case 6:wa(d,3);break;case 3:return d[\"return\"](a)}})}\nfunction Bp(a,b,c,d){var e,f,g,h,k;return J(function(l){if(1==l.a)return e=null,f=a.N,g={networkingEngine:f,filter:function(){return Promise.resolve()},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(m){e=m}},c.configure(d.manifest),Cp(a),t(l,c.start(b,g),2);if(3!=l.a)return h=l.b,Cp(a),k=Rp(h),t(l,Promise.all(cb(k,function(m){return m.createSegmentIndex()})),3);Cp(a);if(e)throw e;return l[\"return\"](h)})}\nfunction Dp(a,b,c,d){var e;return J(function(f){switch(f.a){case 1:return e=new jd({lb:a.N,onError:c,ic:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),e.configure(d.drm),t(f,od(e,b.variants,d.offline.usePersistentLicense),2);case 2:return t(f,yd(e),3);case 3:return t(f,zd(e),4);case 4:return f[\"return\"](e)}})}\nfunction Hp(a,b,c,d,e,f,g,h){for(var k=new qp,l=q(e.variants),m=l.next();!m.done;m=l.next()){var n=k;m=m.value;var r=m.audio,u=m.video;r&&!u&&(n.a[r.id]=r.bandwidth||m.bandwidth);!r&&u&&(n.a[u.id]=u.bandwidth||m.bandwidth);if(r&&u){var v=r.bandwidth||393216,y=u.bandwidth||m.bandwidth-v;0>=y&&(y=m.bandwidth);n.a[r.id]=v;n.a[u.id]=y}}l=q(e.textStreams);for(n=l.next();!n.done;n=l.next())k.a[n.value.id]=52;n=Rp(e);l=new Map;n=q(n);for(m=n.next();!m.done;m=n.next())m=m.value,r=Sp(a,b,c,k,e,m,h),l.set(m.id,\nr);a=q(e.variants);for(m=a.next();!m.done;m=a.next())b=m.value,b.audio&&l.get(b.audio.id).variantIds.push(b.id),b.video&&l.get(b.video.id).variantIds.push(b.id);a=Array.from(l.values());h=h.offline.usePersistentLicense;(b=d.c)&&h&&(b.initData=[]);return{creationTime:Date.now(),originalManifestUri:f,duration:e.presentationTimeline.getDuration(),size:0,expiration:d.Cb(),streams:a,sessionIds:h?Gd(d):[],drmInfo:b,appMetadata:g}}\nfunction Sp(a,b,c,d,e,f,g){var h={id:f.id,originalId:f.originalId,primary:f.primary,type:f.type,mimeType:f.mimeType,codecs:f.codecs,frameRate:f.frameRate,pixelAspectRatio:f.pixelAspectRatio,kind:f.kind,language:f.language,label:f.label,width:f.width||null,height:f.height||null,encrypted:f.encrypted,keyIds:f.keyIds,segments:[],variantIds:[],roles:f.roles,channelsCount:f.channelsCount,audioSamplingRate:f.audioSamplingRate,closedCaptions:f.closedCaptions},k=f.id;Tp(f,e.presentationTimeline.Qa(),function(l){var m=\nUp(a,b,k,f.id,c,d,l.f,g),n=Vp(a,b,k,f.id,c,d,l,g);uo(b,k,function(){var r,u;return J(function(v){if(1==v.a)return t(v,m,2);if(3!=v.a)return r=v.b,t(v,n,3);u=v.b;h.segments.push({initSegmentKey:r,startTime:l.startTime,endTime:l.endTime,appendWindowStart:l.appendWindowStart,appendWindowEnd:l.appendWindowEnd,timestampOffset:l.timestampOffset,dataKey:u});w(v)})})});return h}\nfunction Up(a,b,c,d,e,f,g,h){if(a.a.has(g))return a.a.get(g);h=Lg(g.c(),g.b,g.a,h.streaming.retryParameters);b=so(b,c,h,.5*sp(f,d),!0,function(k){var l;return J(function(m){if(1==m.a)return t(m,e.addSegments([{data:k}]),2);l=m.b;a.mc.push(l[0]);return m[\"return\"](l[0])})});a.a.set(g,b);return b}\nfunction Vp(a,b,c,d,e,f,g,h){var k=[g.c()[0],g.b,g.a].join(\"-\");if(a.b.has(k))return a.b.get(k);h=Lg(g.c(),g.b,g.a,h.streaming.retryParameters);b=so(b,c,h,rp(f,d,g),!1,function(l){var m;return J(function(n){if(1==n.a)return t(n,e.addSegments([{data:l}]),2);m=n.b;a.mc.push(m[0]);return n[\"return\"](m[0])})});a.b.set(k,b);return b}function Tp(a,b,c){b=a.segmentIndex.find(b);if(null!=b)for(var d=a.segmentIndex.get(b);d;)c(d),d=a.segmentIndex.get(++b)}function Cp(a){if(a.D.a)throw new L(2,9,7001);}\nfunction Ap(){if(!xp())throw new L(2,9,9E3);}function Ip(a,b){return J(function(c){if(1==c.a)return a.Jb.push(b),ta(c),t(c,b,4);if(2!=c.a)return c[\"return\"](c.b);va(c);Vb(a.Jb,b);return wa(c,0)})}function zp(a,b){var c=b.promise;a.Jb.push(c);return b[\"finally\"](function(){Vb(a.Jb,c)})}\nfunction Op(a){var b=[];a=q(a.streams);for(var c=a.next();!c.done;c=a.next()){c=q(c.value.segments);for(var d=c.next();!d.done;d=c.next())d=d.value,null!=d.initSegmentKey&&b.push(d.initSegmentKey),b.push(d.dataKey)}return b}\nfunction Np(a,b,c,d){var e,f,g;return J(function(h){if(1==h.a){if(!d.drmInfo)return h[\"return\"]();e=Mo(c);f=d.sessionIds.map(function(k){return{sessionId:k,keySystem:d.drmInfo.keySystem,licenseUri:d.drmInfo.licenseServerUri,serverCertificate:d.drmInfo.serverCertificate,audioCapabilities:Mp(d,!1),videoCapabilities:Mp(d,!0)}});return t(h,kp(b,a,f),2)}return 3!=h.a?(g=h.b,t(h,e.remove(g),3)):t(h,e.add(f.filter(function(k){return!g.includes(k.sessionId)})),0)})}\nfunction Rp(a){for(var b=new Set,c=q(a.textStreams),d=c.next();!d.done;d=c.next())b.add(d.value);a=q(a.variants);for(c=a.next();!c.done;c=a.next())c=c.value,c.audio&&b.add(c.audio),c.video&&b.add(c.video);return b}\nfunction Fp(a){a.variants.map(function(f){return f.video});var b=new Set(a.variants.map(function(f){return f.audio}));a=a.textStreams;for(var c=q(b),d=c.next();!d.done;d=c.next()){d=q(b);for(var e=d.next();!e.done;e=d.next());}b=q(a);for(c=b.next();!c.done;c=b.next())for(c=q(a),d=c.next();!d.done;d=c.next());}K(\"shaka.offline.Storage\",wp);wp.deleteAll=function(){var a;return J(function(b){return 1==b.a?(a=new Go,ta(b),t(b,No(a),2)):5!=b.a?(va(b),t(b,a.destroy(),5)):wa(b,0)})};wp.prototype.list=wp.prototype.list;\nwp.prototype.removeEmeSessions=wp.prototype.Ne;wp.prototype.remove=wp.prototype.remove;wp.prototype.getStoreInProgress=wp.prototype.we;wp.prototype.store=wp.prototype.store;wp.prototype.getNetworkingEngine=wp.prototype.Db;wp.prototype.getConfiguration=wp.prototype.getConfiguration;wp.prototype.configure=wp.prototype.configure;wp.prototype.destroy=wp.prototype.destroy;wp.support=xp;\nvar Gp=(new Map).set(\"org.w3.clearkey\",\"1077efecc0b24d02ace33c1e52e2fb4b\").set(\"com.widevine.alpha\",\"edef8ba979d64acea3c827dcd51d21ed\").set(\"com.microsoft.playready\",\"9a04f07998404286ab92e65be0885f95\").set(\"com.adobe.primetime\",\"f239e769efa348509c16a903c6932efb\");vj.offline=xp;function Wp(){}function Xp(a,b){for(var c={priority:b||0,Yd:a},d=q(hb(Yp)),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.Y;if(e.item.priority<c.priority){Yp.splice(f,0,c);return}}Yp.push(c)}K(\"shaka.polyfill\",Wp);Wp.register=Xp;Wp.installAll=function(){for(var a=q(Yp),b=a.next();!b.done;b=a.next()){b=b.value;try{b.Yd()}catch(c){Wa(\"Error installing polyfill!\",c)}}};var Yp=[];Xp(function(){Zp()},-1);function $p(a){var b=a.type.replace(/^(webkit|moz|MS)/,\"\").toLowerCase();if(\"function\"===typeof Event)var c=new Event(b,a);else c=document.createEvent(\"Event\"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)}\nXp(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitCancelFullScreen;\"fullscreenElement\"in document||(Object.defineProperty(document,\"fullscreenElement\",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||\ndocument.webkitFullscreenElement}}),Object.defineProperty(document,\"fullscreenEnabled\",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}}));document.addEventListener(\"webkitfullscreenchange\",$p);document.addEventListener(\"webkitfullscreenerror\",$p);document.addEventListener(\"mozfullscreenchange\",$p);document.addEventListener(\"mozfullscreenerror\",$p);document.addEventListener(\"MSFullscreenChange\",$p);document.addEventListener(\"MSFullscreenError\",\n$p)}});Xp(function(){var a=!1;if(Zc(\"CrKey\"))a=!0;else try{window.indexedDB&&(a=!1)}catch(b){a=!0}a&&delete window.indexedDB});function aq(a,b,c){if(\"input\"==a)switch(this.type){case \"range\":a=\"change\"}HTMLInputElement.prototype.originalAddEventListener.call(this,a,b,c)}Xp(function(){Zc(\"Trident/\")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=aq)});Xp(function(){navigator.languages||Object.defineProperty(navigator,\"languages\",{get:function(){return navigator.language?[navigator.language]:[\"en\"]}})});Xp(function(){});function bq(){var a=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];c=a.apply(this,c);c.abort=function(){};return c}}function cq(){var a=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(b,c){return a.call(this,b,c-.001)}}function dq(){var a=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(b){return\"mp2t\"==b.split(/ *; */)[0].split(\"/\")[1].toLowerCase()?!1:a(b)}}\nfunction eq(){var a=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(b){return\"opus\"!=Uc(b)[0]&&a(b)}}function fq(){var a=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(b){var c=b.split(/ *; */);c.shift();return c.some(function(d){return d.startsWith(\"codecs=\")})?cast.__platform__.canDisplayType(b):a(b)}}\nXp(function(){var a=$c();window.MediaSource&&(window.cast&&cast.__platform__&&cast.__platform__.canDisplayType?fq():a?(dq(),12>=a?(bq(),cq()):bq()):(Zc(\"Tizen 2\")||Zc(\"Tizen 3\")||Zc(\"Tizen 4\"))&&eq())});function gq(a,b){try{var c=new hq(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}}function iq(a){var b=this.mediaKeys;b&&b!=a&&jq(b,null);delete this.mediaKeys;return(this.mediaKeys=a)?jq(a,this):Promise.resolve()}function kq(a){a=N(a.initData);if(Nb(a).getUint32(0,!0)+4!=a.byteLength)throw new RangeError(\"Malformed FairPlay init data\");a=uc(a.subarray(4),!0);a=wc(a);var b=new Event(\"encrypted\");b.initDataType=\"skd\";b.initData=Lb(a);this.dispatchEvent(b)}\nfunction hq(a,b){this.keySystem=a;if(a.startsWith(\"com.apple.fps\"))for(var c=q(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(\"required\"==e.persistentState)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:\"optional\",distinctiveIdentifier:\"optional\",initDataTypes:e.initDataTypes,sessionTypes:[\"temporary\"],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=q(e.audioCapabilities),k=h.next();!k.done;k=h.next())k=k.value,k.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,\nk.contentType.split(\";\")[0])&&(d.audioCapabilities.push(k),g=!0));if(e.videoCapabilities)for(e=q(e.videoCapabilities),k=e.next();!k.done;k=e.next())h=k.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(\";\")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,\"video/mp4\"));d=g?d:null}if(d){this.a=d;return}}c=Error(\"Unsupported keySystem\");c.name=\"NotSupportedError\";c.code=DOMException.NOT_SUPPORTED_ERR;throw c;}\nhq.prototype.createMediaKeys=function(){var a=new lq(this.keySystem);return Promise.resolve(a)};hq.prototype.getConfiguration=function(){return this.a};function lq(a){this.a=new WebKitMediaKeys(a);this.b=new lc}lq.prototype.createSession=function(a){a=a||\"temporary\";if(\"temporary\"!=a)throw new TypeError(\"Session type \"+a+\" is unsupported on this platform.\");return new mq(this.a,a)};lq.prototype.setServerCertificate=function(){return Promise.resolve(!1)};\nfunction jq(a,b){a.b.Xa();if(!b)return Promise.resolve();a.b.l(b,\"webkitneedkey\",kq);try{return Wf(b,HTMLMediaElement.HAVE_METADATA,a.b,function(){b.webkitSetMediaKeys(a.a)}),Promise.resolve()}catch(c){return Promise.reject(c)}}function mq(a){Rb.call(this);this.f=null;this.g=a;this.c=this.a=null;this.b=new lc;this.sessionId=\"\";this.expiration=NaN;this.closed=new Ab;this.keyStatuses=new nq}pa(mq,Rb);p=mq.prototype;\np.generateRequest=function(a,b){var c=this;this.a=new Ab;try{var d=this.g.createSession(\"video/mp4\",N(b));this.f=d;this.sessionId=d.sessionId||\"\";this.b.l(this.f,\"webkitkeymessage\",function(e){c.a&&(c.a.resolve(),c.a=null);e=new Q(\"message\",{messageType:void 0==c.keyStatuses.a?\"license-request\":\"license-renewal\",message:Lb(e.message)});c.dispatchEvent(e)});this.b.l(d,\"webkitkeyadded\",function(){c.c&&(oq(c,\"usable\"),c.c.resolve(),c.c=null)});this.b.l(d,\"webkitkeyerror\",function(){var e=Error(\"EME PatchedMediaKeysApple key error\");\ne.errorCode=c.f.error;if(null!=c.a)c.a.reject(e),c.a=null;else if(null!=c.c)c.c.reject(e),c.c=null;else switch(c.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:oq(c,\"output-not-allowed\");break;default:oq(c,\"internal-error\")}});oq(this,\"status-pending\")}catch(e){this.a.reject(e)}return this.a};p.load=function(){return Promise.reject(Error(\"MediaKeySession.load not yet supported\"))};p.update=function(a){this.c=new Ab;try{this.f.update(N(a))}catch(b){this.c.reject(b)}return this.c};\np.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(a){this.closed.reject(a)}return this.closed};p.remove=function(){return Promise.reject(Error(\"MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform\"))};function oq(a,b){var c=a.keyStatuses;c.size=void 0==b?0:1;c.a=b;c=new Q(\"keystatuseschange\");a.dispatchEvent(c)}function nq(){this.size=0;this.a=void 0}p=nq.prototype;p.forEach=function(a){this.a&&a(this.a,Ud.value())};\np.get=function(a){if(this.has(a))return this.a};p.has=function(a){var b=Ud.value();return this.a&&Jb(a,b)?!0:!1};p.entries=function(){};p.keys=function(){};p.values=function(){};Xp(function(){window.HTMLVideoElement&&window.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=iq,window.MediaKeys=lq,window.MediaKeySystemAccess=hq,navigator.requestMediaKeySystemAccess=gq)});function pq(a,b){try{var c=new qq(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}}function rq(a){if(a.initData){var b=document.createEvent(\"CustomEvent\");b.initCustomEvent(\"encrypted\",!1,!1,null);b.initDataType=\"cenc\";b.initData=Lb(Ok(a.initData));this.dispatchEvent(b)}}\nfunction qq(a,b){this.keySystem=a;for(var c=!1,d=q(b),e=d.next();!e.done;e=d.next()){e=e.value;var f={audioCapabilities:[],videoCapabilities:[],persistentState:\"optional\",distinctiveIdentifier:\"optional\",initDataTypes:e.initDataTypes,sessionTypes:[\"temporary\"],label:e.label},g=!1;if(e.audioCapabilities)for(var h=q(e.audioCapabilities),k=h.next();!k.done;k=h.next())k=k.value,k.contentType&&(g=!0,MSMediaKeys.isTypeSupported(this.keySystem,k.contentType.split(\";\")[0])&&(f.audioCapabilities.push(k),c=\n!0));if(e.videoCapabilities)for(h=q(e.videoCapabilities),k=h.next();!k.done;k=h.next())k=k.value,k.contentType&&(g=!0,MSMediaKeys.isTypeSupported(this.keySystem,k.contentType.split(\";\")[0])&&(f.videoCapabilities.push(k),c=!0));g||(c=MSMediaKeys.isTypeSupported(this.keySystem,\"video/mp4\"));\"required\"==e.persistentState&&(c=!1);if(c){this.a=f;return}}c=Error(\"Unsupported keySystem\");c.name=\"NotSupportedError\";c.code=DOMException.NOT_SUPPORTED_ERR;throw c;}\nqq.prototype.createMediaKeys=function(){var a=new sq(this.keySystem);return Promise.resolve(a)};qq.prototype.getConfiguration=function(){return this.a};function tq(a){var b=this.mediaKeys;b&&b!=a&&uq(b,null);delete this.mediaKeys;return(this.mediaKeys=a)?uq(a,this):Promise.resolve()}function sq(a){this.a=new MSMediaKeys(a);this.b=new lc}\nsq.prototype.createSession=function(a){a=a||\"temporary\";if(\"temporary\"!=a)throw new TypeError(\"Session type \"+a+\" is unsupported on this platform.\");return new vq(this.a,a)};sq.prototype.setServerCertificate=function(){return Promise.resolve(!1)};function uq(a,b){a.b.Xa();if(!b)return Promise.resolve();a.b.l(b,\"msneedkey\",rq);try{return Wf(b,HTMLMediaElement.HAVE_METADATA,a.b,function(){b.msSetMediaKeys(a.a)}),Promise.resolve()}catch(c){return Promise.reject(c)}}\nfunction vq(a){Rb.call(this);this.f=null;this.g=a;this.c=this.a=null;this.b=new lc;this.sessionId=\"\";this.expiration=NaN;this.closed=new Ab;this.keyStatuses=new wq}pa(vq,Rb);p=vq.prototype;\np.generateRequest=function(a,b){var c=this;this.a=new Ab;try{this.f=this.g.createSession(\"video/mp4\",N(b),null),this.b.l(this.f,\"mskeymessage\",function(d){c.a&&(c.a.resolve(),c.a=null);d=new Q(\"message\",{messageType:void 0==c.keyStatuses.a?\"license-request\":\"license-renewal\",message:Lb(d.message)});c.dispatchEvent(d)}),this.b.l(this.f,\"mskeyadded\",function(){c.a?(xq(c,\"usable\"),c.a.resolve(),c.a=null):c.c&&(xq(c,\"usable\"),c.c.resolve(),c.c=null)}),this.b.l(this.f,\"mskeyerror\",function(){var d=Error(\"EME PatchedMediaKeysMs key error\");\nd.errorCode=c.f.error;if(null!=c.a)c.a.reject(d),c.a=null;else if(null!=c.c)c.c.reject(d),c.c=null;else switch(c.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:xq(c,\"output-not-allowed\");break;default:xq(c,\"internal-error\")}}),xq(this,\"status-pending\")}catch(d){this.a.reject(d)}return this.a};p.load=function(){return Promise.reject(Error(\"MediaKeySession.load not yet supported\"))};p.update=function(a){this.c=new Ab;try{this.f.update(N(a))}catch(b){this.c.reject(b)}return this.c};\np.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(a){this.closed.reject(a)}return this.closed};p.remove=function(){return Promise.reject(Error(\"MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform\"))};function xq(a,b){var c=a.keyStatuses;c.size=void 0==b?0:1;c.a=b;c=new Q(\"keystatuseschange\");a.dispatchEvent(c)}function wq(){this.size=0;this.a=void 0}p=wq.prototype;p.forEach=function(a){this.a&&a(this.a,Ud.value())};\np.get=function(a){if(this.has(a))return this.a};p.has=function(a){var b=Ud.value();return this.a&&Jb(a,b)?!0:!1};p.entries=function(){};p.keys=function(){};p.values=function(){};\nXp(function(){!window.HTMLVideoElement||!window.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,window.MediaKeys=sq,window.MediaKeySystemAccess=qq,navigator.requestMediaKeySystemAccess=pq,HTMLMediaElement.prototype.setMediaKeys=tq)});function yq(){return Promise.reject(Error(\"The key system specified is not supported.\"))}function zq(a){return null==a?Promise.resolve():Promise.reject(Error(\"MediaKeys not supported.\"))}function Aq(){throw new TypeError(\"Illegal constructor.\");}Aq.prototype.createSession=function(){};Aq.prototype.setServerCertificate=function(){};function Bq(){this.keySystem=\"\";throw new TypeError(\"Illegal constructor.\");}Bq.prototype.getConfiguration=function(){};Bq.prototype.createMediaKeys=function(){};\nXp(function(){!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=yq,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=zq,window.MediaKeys=Aq,window.MediaKeySystemAccess=Bq)},-10);function Cq(a){var b=Dq;return b?b+a.charAt(0).toUpperCase()+a.slice(1):a}function Eq(a,b){try{var c=new Fq(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}}function Gq(a){var b=this.mediaKeys;b&&b!=a&&Hq(b,null);delete this.mediaKeys;(this.mediaKeys=a)&&Hq(a,this);return Promise.resolve()}\nfunction Fq(a,b){this.a=this.keySystem=a;var c=!1;\"org.w3.clearkey\"==a&&(this.a=\"webkit-org.w3.clearkey\",c=!1);var d=!1;var e=document.getElementsByTagName(\"video\");e=e.length?e[0]:document.createElement(\"video\");for(var f=q(b),g=f.next();!g.done;g=f.next()){g=g.value;var h={audioCapabilities:[],videoCapabilities:[],persistentState:\"optional\",distinctiveIdentifier:\"optional\",initDataTypes:g.initDataTypes,sessionTypes:[\"temporary\"],label:g.label},k=!1;if(g.audioCapabilities)for(var l=q(g.audioCapabilities),\nm=l.next();!m.done;m=l.next())m=m.value,m.contentType&&(k=!0,e.canPlayType(m.contentType.split(\";\")[0],this.a)&&(h.audioCapabilities.push(m),d=!0));if(g.videoCapabilities)for(l=q(g.videoCapabilities),m=l.next();!m.done;m=l.next())m=m.value,m.contentType&&(k=!0,e.canPlayType(m.contentType,this.a)&&(h.videoCapabilities.push(m),d=!0));k||(d=e.canPlayType(\"video/mp4\",this.a)||e.canPlayType(\"video/webm\",this.a));\"required\"==g.persistentState&&(c?(h.persistentState=\"required\",h.sessionTypes=[\"persistent-license\"]):\nd=!1);if(d){this.b=h;return}}c=\"Unsupported keySystem\";if(\"org.w3.clearkey\"==a||\"com.widevine.alpha\"==a)c=\"None of the requested configurations were supported.\";c=Error(c);c.name=\"NotSupportedError\";c.code=DOMException.NOT_SUPPORTED_ERR;throw c;}Fq.prototype.createMediaKeys=function(){var a=new Iq(this.a);return Promise.resolve(a)};Fq.prototype.getConfiguration=function(){return this.b};function Iq(a){this.g=a;this.a=null;this.b=new lc;this.c=[];this.f=new Map}\nfunction Hq(a,b){a.a=b;a.b.Xa();var c=Dq;b&&(a.b.l(b,c+\"needkey\",function(d){var e=document.createEvent(\"CustomEvent\");e.initCustomEvent(\"encrypted\",!1,!1,null);e.initDataType=\"cenc\";e.initData=Lb(d.initData);a.a.dispatchEvent(e)}),a.b.l(b,c+\"keymessage\",function(d){var e=Jq(a,d.sessionId);e&&(d=new Q(\"message\",{messageType:void 0==e.keyStatuses.a?\"licenserequest\":\"licenserenewal\",message:d.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(d))}),a.b.l(b,c+\"keyadded\",function(d){if(d=Jq(a,d.sessionId))Kq(d,\n\"usable\"),d.a&&d.a.resolve(),d.a=null}),a.b.l(b,c+\"keyerror\",function(d){var e=Jq(a,d.sessionId);e&&e.handleError(d)}))}Iq.prototype.createSession=function(a){a=a||\"temporary\";if(\"temporary\"!=a&&\"persistent-license\"!=a)throw new TypeError(\"Session type \"+a+\" is unsupported on this platform.\");var b=this.a||document.createElement(\"video\");b.src||(b.src=\"about:blank\");a=new Lq(b,this.g,a);this.c.push(a);return a};Iq.prototype.setServerCertificate=function(){return Promise.resolve(!1)};\nfunction Jq(a,b){var c=a.f.get(b);return c?c:(c=a.c.shift())?(c.sessionId=b,a.f.set(b,c),c):null}function Lq(a,b,c){Rb.call(this);this.f=a;this.h=!1;this.a=this.b=null;this.c=b;this.g=c;this.sessionId=\"\";this.expiration=NaN;this.closed=new Ab;this.keyStatuses=new Mq}pa(Lq,Rb);p=Lq.prototype;\np.handleError=function(a){var b=Error(\"EME v0.1b key error\"),c=a.errorCode;c.systemCode=a.systemCode;b.errorCode=c;!a.sessionId&&this.b?(45==a.systemCode&&(b.message=\"Unsupported session type.\"),this.b.reject(b),this.b=null):a.sessionId&&this.a?(this.a.reject(b),this.a=null):(b=a.systemCode,a.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Kq(this,\"output-restricted\"):1==b?Kq(this,\"expired\"):Kq(this,\"internal-error\"))};\nfunction Nq(a,b,c){if(a.h)return Promise.reject(Error(\"The session is already initialized.\"));a.h=!0;try{if(\"persistent-license\"==a.g)if(c)var d=N(wc(\"LOAD_SESSION|\"+c));else{var e=wc(\"PERSISTENT|\");d=id(e,b)}else d=N(b)}catch(g){return Promise.reject(g)}a.b=new Ab;var f=Cq(\"generateKeyRequest\");try{a.f[f](a.c,d)}catch(g){if(\"InvalidStateError\"!=g.name)return a.b=null,Promise.reject(g);(new M(function(){try{a.f[f](a.c,d)}catch(h){a.b.reject(h),a.b=null}})).R(.01)}return a.b}\nfunction Oq(a,b,c){if(a.a)a.a.then(function(){return Oq(a,b,c)})[\"catch\"](function(){return Oq(a,b,c)});else{a.a=b;if(\"webkit-org.w3.clearkey\"==a.c){var d=sc(c);var e=JSON.parse(d);\"oct\"!=e.keys[0].kty&&(a.a.reject(Error(\"Response is not a valid JSON Web Key Set.\")),a.a=null);d=fd(e.keys[0].k);e=fd(e.keys[0].kid)}else d=N(c),e=null;var f=Cq(\"addKey\");try{a.f[f](a.c,d,e,a.sessionId)}catch(g){a.a.reject(g),a.a=null}}}\nfunction Kq(a,b){var c=a.keyStatuses;c.size=void 0==b?0:1;c.a=b;c=new Q(\"keystatuseschange\");a.dispatchEvent(c)}p.generateRequest=function(a,b){return Nq(this,b,null)};p.load=function(a){return\"persistent-license\"==this.g?Nq(this,null,a):Promise.reject(Error(\"Not a persistent session.\"))};p.update=function(a){var b=new Ab;Oq(this,b,a);return b};\np.close=function(){if(\"persistent-license\"!=this.g){if(!this.sessionId)return this.closed.reject(Error(\"The session is not callable.\")),this.closed;var a=Cq(\"cancelKeyRequest\");try{this.f[a](this.c,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};p.remove=function(){return\"persistent-license\"!=this.g?Promise.reject(Error(\"Not a persistent session.\")):this.close()};function Mq(){this.size=0;this.a=void 0}p=Mq.prototype;p.forEach=function(a){this.a&&a(this.a,Ud.value())};p.get=function(a){if(this.has(a))return this.a};\np.has=function(a){var b=Ud.value();return this.a&&Jb(a,b)?!0:!1};p.entries=function(){};p.keys=function(){};p.values=function(){};var Dq=\"\";\nXp(function(){if(!(!window.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Dq=\"webkit\";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Eq;delete HTMLMediaElement.prototype.mediaKeys;HTMLMediaElement.prototype.mediaKeys=null;HTMLMediaElement.prototype.setMediaKeys=Gq;window.MediaKeys=Iq;window.MediaKeySystemAccess=Fq}});function Pq(a){a=a.target;if(\"picture-in-picture\"==a.webkitPresentationMode){document.pictureInPictureElement=a;var b=new Event(\"enterpictureinpicture\");a.dispatchEvent(b)}else document.pictureInPictureElement==a&&(document.pictureInPictureElement=null),b=new Event(\"leavepictureinpicture\"),a.dispatchEvent(b)}\nfunction Qq(){return this.webkitSupportsPresentationMode(\"picture-in-picture\")?(this.webkitSetPresentationMode(\"picture-in-picture\"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error(\"PiP not allowed by video element\"))}function Rq(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode(\"inline\"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error(\"No picture in picture element found\"))}\nfunction Sq(){return this.hasAttribute(\"disablePictureInPicture\")?!0:!this.webkitSupportsPresentationMode(\"picture-in-picture\")}function Tq(a){a?this.setAttribute(\"disablePictureInPicture\",\"\"):this.removeAttribute(\"disablePictureInPicture\")}\nXp(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=Qq,Object.defineProperty(a,\"disablePictureInPicture\",{get:Sq,set:Tq,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Rq,document.addEventListener(\"webkitpresentationmodechanged\",Pq,!0))}});Xp(function(){if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b[\"catch\"](function(){});return b}}});function Uq(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}Xp(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&\"webkitDroppedFrameCount\"in a&&(a.getVideoPlaybackQuality=Uq)}});function Vq(a,b,c){return new window.TextTrackCue(a,b,c)}function Wq(a,b,c){return new window.TextTrackCue(a+\"-\"+b+\"-\"+c,a,b,c)}Xp(function(){if(!window.VTTCue&&window.TextTrackCue){var a=null,b=TextTrackCue.length;if(3==b)a=Vq;else if(6==b)a=Wq;else{try{var c=!!Vq(1,2,\"\")}catch(d){c=!1}c&&(a=Vq)}a&&(window.VTTCue=function(d,e,f){return a(d,e,f)})}});function Xq(){}Xq.prototype.parseInit=function(){};\nXq.prototype.parseMedia=function(a,b){var c=sc(a),d=[],e=new DOMParser,f=null;if(\"\"==c)return d;try{f=e.parseFromString(c,\"text/xml\")}catch(B){throw new L(2,2,2005,\"Failed to parse TTML.\");}if(f){if(c=f.getElementsByTagName(\"parsererror\")[0])throw new L(2,2,2005,c.textContent);if(e=f.getElementsByTagName(\"tt\")[0]){var g=Tk(e,\"http://www.w3.org/ns/ttml#parameter\",\"frameRate\");var h=Tk(e,\"http://www.w3.org/ns/ttml#parameter\",\"subFrameRate\");var k=Tk(e,\"http://www.w3.org/ns/ttml#parameter\",\"frameRateMultiplier\");\nvar l=Tk(e,\"http://www.w3.org/ns/ttml#parameter\",\"tickRate\");var m=Tk(e,\"http://www.w3.org/ns/ttml#parameter\",\"cellResolution\");f=e.getAttribute(\"xml:space\")||\"default\";c=e.getAttribute(\"tts:extent\")}else throw new L(2,2,2005,\"TTML does not contain <tt> tag.\");if(\"default\"!=f&&\"preserve\"!=f)throw new L(2,2,2005,\"Invalid xml:space value: \"+f);f=\"default\"==f;g=new Yq(g,h,k,l);m=m?(m=/^(\\d+) (\\d+)$/.exec(m))?{columns:parseInt(m[1],10),rows:parseInt(m[2],10)}:null:null;h=Zq(e.getElementsByTagName(\"metadata\")[0]);\nk=Zq(e.getElementsByTagName(\"styling\")[0]);l=Zq(e.getElementsByTagName(\"layout\")[0]);for(var n=[],r=q(l),u=r.next();!u.done;u=r.next()){var v=u.value,y=c;u=new he;var z=v.getAttribute(\"xml:id\");if(z){u.id=z;z=null;y&&(z=$q.exec(y)||ar.exec(y));y=z?Number(z[1]):null;z=z?Number(z[2]):null;var A,D;if(A=br(v,k,\"extent\"))A=(D=$q.exec(A))||ar.exec(A),null!=A&&(u.width=null!=y?100*Number(A[1])/y:Number(A[1]),u.height=null!=z?100*Number(A[2])/z:Number(A[2]),u.widthUnits=D||null!=y?ue:0,u.heightUnits=D||null!=\nz?ue:0);if(v=br(v,k,\"origin\"))A=(D=$q.exec(v))||ar.exec(v),null!=A&&(u.viewportAnchorX=null!=z?100*Number(A[1])/z:Number(A[1]),u.viewportAnchorY=null!=y?100*Number(A[2])/y:Number(A[2]),u.viewportAnchorUnits=D||null!=y?ue:0)}else u=null;u&&n.push(u)}c=cr(e.getElementsByTagName(\"body\")[0]);c=q(c);for(e=c.next();!e.done;e=c.next())(e=dr(e.value,b.periodStart,g,h,k,l,n,f,!1,m))&&d.push(e)}return d};\nfunction Zq(a){var b=[];if(!a)return b;for(var c=q(a.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.nodeType==Node.ELEMENT_NODE&&\"br\"!==d.nodeName&&(d=Zq(d),b=b.concat(d));b.length||b.push(a);return b}function cr(a){if(!a)return[];var b=[];a=q(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c instanceof Element&&(c.hasAttribute(\"begin\")?b.push(c):b=b.concat(cr(c)));return b}\nfunction er(a,b){for(var c=\"\",d=q(a.childNodes),e=d.next();!e.done;e=d.next())e=e.value,\"br\"==e.nodeName&&a.childNodes[0]!==e?c+=\"\\n\":e.childNodes&&0<e.childNodes.length?c+=er(e,b):b?(e=e.textContent.trim(),e=e.replace(/\\s+/g,\" \"),c+=e):c+=e.textContent;return c}\nfunction dr(a,b,c,d,e,f,g,h,k,l){if(k&&\"br\"==a.nodeName)return a=new fe(0,0,\"\"),a.spacer=!0,a;var m=/^[\\s\\n]*$/.test(a.textContent),n=a.nodeType==Node.ELEMENT_NODE&&!a.hasAttribute(\"begin\")&&!a.hasAttribute(\"end\");if(a.nodeType!=Node.ELEMENT_NODE||n&&m||n&&!k)return null;m=fr(a.getAttribute(\"begin\"),c);n=fr(a.getAttribute(\"end\"),c);var r=fr(a.getAttribute(\"dur\"),c);null==n&&null!=r&&(n=m+r);if(!k&&(null==m||null==n))throw new L(2,2,2001);m=k&&null==m?0:m+b;n=k&&null==n?0:n+b;r=\"\";k=[];if(Array.from(a.childNodes).some(function(z){return z.nodeType==\nNode.TEXT_NODE&&/\\S+/.test(z.textContent)}))r=er(a,h);else for(var u=q(a.childNodes),v=u.next();!v.done;v=u.next())if(v=dr(v.value,b,c,d,e,f,g,h,!0,l))v.startTime=v.startTime||m,v.endTime=v.endTime||n,k.push(v);b=new fe(m,n,r);b.nestedCues=k;l&&(b.cellResolution=l);if((f=gr(a,\"region\",f,\"\")[0])&&f.getAttribute(\"xml:id\")){var y=f.getAttribute(\"xml:id\");b.region=g.filter(function(z){return z.id==y})[0]}d=gr(a,\"smpte:backgroundImage\",d,\"#\")[0];hr(b,a,f,d,e);return b}\nfunction hr(a,b,c,d,e){\"rtl\"==ir(b,c,e,\"direction\")&&(a.direction=\"rtl\");var f=ir(b,c,e,\"writingMode\");\"tb\"==f||\"tblr\"==f?a.writingMode=\"vertical-lr\":\"tbrl\"==f?a.writingMode=\"vertical-rl\":\"rltb\"==f||\"rl\"==f?a.direction=\"rtl\":f&&(a.direction=ge);(f=ir(b,c,e,\"textAlign\"))?(a.positionAlign=jr[f],a.lineAlign=kr[f],a.textAlign=qe[f.toUpperCase()]):a.textAlign=\"start\";if(f=ir(b,c,e,\"displayAlign\"))a.displayAlign=re[f.toUpperCase()];if(f=ir(b,c,e,\"color\"))a.color=f;if(f=ir(b,c,e,\"backgroundColor\"))a.backgroundColor=\nf;if(f=ir(b,c,e,\"border\"))a.border=f;if(f=ir(b,c,e,\"fontFamily\"))a.fontFamily=f;(f=ir(b,c,e,\"fontWeight\"))&&\"bold\"==f&&(a.fontWeight=700);(f=ir(b,c,e,\"wrapOption\"))&&\"noWrap\"==f&&(a.wrapLine=!1);(f=ir(b,c,e,\"lineHeight\"))&&f.match(lr)&&(a.lineHeight=f);(f=ir(b,c,e,\"fontSize\"))&&(f.match(lr)||f.match(mr))&&(a.fontSize=f);if(f=ir(b,c,e,\"fontStyle\"))a.fontStyle=te[f.toUpperCase()];if(d){f=d.getAttribute(\"imagetype\");var g=d.getAttribute(\"encoding\");d=d.textContent.trim();\"PNG\"==f&&\"Base64\"==g&&d&&(a.backgroundImage=\n\"data:image/png;base64,\"+d)}(d=ir(b,c,e,\"letterSpacing\"))&&d.match(lr)&&(a.letterSpacing=d);(d=ir(b,c,e,\"linePadding\"))&&d.match(lr)&&(a.linePadding=d);if(d=ir(b,c,e,\"opacity\"))a.opacity=parseFloat(d);(c=br(c,e,\"textDecoration\"))&&nr(a,c);(b=or(b,e,\"textDecoration\"))&&nr(a,b)}\nfunction nr(a,b){for(var c=q(b.split(\" \")),d=c.next();!d.done;d=c.next())switch(d.value){case \"underline\":a.textDecoration.includes(\"underline\")||a.textDecoration.push(\"underline\");break;case \"noUnderline\":a.textDecoration.includes(\"underline\")&&Vb(a.textDecoration,\"underline\");break;case \"lineThrough\":a.textDecoration.includes(\"lineThrough\")||a.textDecoration.push(\"lineThrough\");break;case \"noLineThrough\":a.textDecoration.includes(\"lineThrough\")&&Vb(a.textDecoration,\"lineThrough\");break;case \"overline\":a.textDecoration.includes(\"overline\")||\na.textDecoration.push(\"overline\");break;case \"noOverline\":a.textDecoration.includes(\"overline\")&&Vb(a.textDecoration,\"overline\")}}function ir(a,b,c,d){return(a=or(a,c,d))?a:br(b,c,d)}function br(a,b,c){if(!a)return null;var d=Zq(a);d=q(d);for(var e=d.next();!e.done;e=d.next())if(e=Tk(e.value,\"http://www.w3.org/ns/ttml#styling\",c))return e;return pr(a,b,c)}function or(a,b,c){var d=Tk(a,\"http://www.w3.org/ns/ttml#styling\",c);return d?d:pr(a,b,c)}\nfunction pr(a,b,c){a=gr(a,\"style\",b,\"\");for(var d=null,e=0;e<a.length;e++){var f=Tk(a[e],\"urn:ebu:tt:style\",c);f||(f=Tk(a[e],\"http://www.w3.org/ns/ttml#styling\",c));f||(f=or(a[e],b,c));f&&(d=f)}return d}\nfunction gr(a,b,c,d){var e=[];if(!a||1>c.length)return e;var f=a;for(a=null;f&&!(a=f.getAttribute(b))&&(f=f.parentNode,f instanceof Element););if(b=a)for(b=q(b.split(\" \")),a=b.next();!a.done;a=b.next()){a=a.value;f=q(c);for(var g=f.next();!g.done;g=f.next())if(g=g.value,d+g.getAttribute(\"xml:id\")==a){e.push(g);break}}return e}\nfunction fr(a,b){var c=null;if(qr.test(a)){c=qr.exec(a);var d=Number(c[1]),e=Number(c[2]),f=Number(c[3]),g=Number(c[4]);g+=(Number(c[5])||0)/b.b;f+=g/b.frameRate;c=f+60*e+3600*d}else rr.test(a)?c=sr(rr,a):tr.test(a)?c=sr(tr,a):ur.test(a)?(c=ur.exec(a),c=Number(c[1])/b.frameRate):vr.test(a)?(c=vr.exec(a),c=Number(c[1])/b.a):wr.test(a)&&(c=sr(wr,a));return c}\nfunction sr(a,b){var c=a.exec(b);return null==c||\"\"==c[0]?null:(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0)}K(\"shaka.text.TtmlTextParser\",Xq);Xq.prototype.parseMedia=Xq.prototype.parseMedia;Xq.prototype.parseInit=Xq.prototype.parseInit;function Yq(a,b,c,d){this.frameRate=Number(a)||30;this.b=Number(b)||1;this.a=Number(d);0==this.a&&(this.a=a?this.frameRate*this.b:1);c&&(a=/^(\\d+) (\\d+)$/g.exec(c))&&(this.frameRate*=Number(a[1])/Number(a[2]))}\nvar $q=/^(\\d{1,2}(?:\\.\\d+)?|100(?:\\.0+)?)% (\\d{1,2}(?:\\.\\d+)?|100(?:\\.0+)?)%$/,mr=/^(\\d{1,2}(?:\\.\\d+)?|100)%$/,lr=/^(\\d+px|\\d+em|\\d*\\.?\\d+c)$/,ar=/^(\\d+)px (\\d+)px$/,qr=/^(\\d{2,}):(\\d{2}):(\\d{2}):(\\d{2})\\.?(\\d+)?$/,rr=/^(?:(\\d{2,}):)?(\\d{2}):(\\d{2})$/,tr=/^(?:(\\d{2,}):)?(\\d{2}):(\\d{2}\\.\\d{2,})$/,ur=/^(\\d*(?:\\.\\d*)?)f$/,vr=/^(\\d*(?:\\.\\d*)?)t$/,wr=/^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$/,kr={left:me,center:\"center\",right:\"end\",start:me,end:\"end\"},jr=\n{left:\"line-left\",center:\"center\",right:\"line-right\"};ye[\"application/ttml+xml\"]=function(){return new Xq};function xr(){this.m=new Xq}xr.prototype.parseInit=function(a){var b=!1;(new Dg).L(\"moov\",Hg).L(\"trak\",Hg).L(\"mdia\",Hg).L(\"minf\",Hg).L(\"stbl\",Hg).ea(\"stsd\",Ig).L(\"stpp\",function(c){b=!0;c.parser.stop()}).parse(a);if(!b)throw new L(2,2,2007);};xr.prototype.parseMedia=function(a,b){var c=this,d=!1,e=[];(new Dg).L(\"mdat\",Jg(function(f){d=!0;e=e.concat(c.m.parseMedia(f,b))})).parse(a,!1);if(!d)throw new L(2,2,2007);return e};K(\"shaka.text.Mp4TtmlParser\",xr);xr.prototype.parseMedia=xr.prototype.parseMedia;\nxr.prototype.parseInit=xr.prototype.parseInit;ye['application/mp4; codecs=\"stpp\"']=function(){return new xr};ye['application/mp4; codecs=\"stpp.ttml.im1t\"']=function(){return new xr};ye['application/mp4; codecs=\"stpp.TTML.im1t\"']=function(){return new xr};function yr(){}yr.prototype.parseInit=function(){};\nyr.prototype.parseMedia=function(a,b){var c=sc(a);c=c.replace(/\\r\\n|\\r(?=[^\\n]|$)/gm,\"\\n\");var d=c.split(/\\n{2,}/m);if(!/^WEBVTT($|[ \\t\\n])/m.test(d[0]))throw new L(2,2,2E3);c=b.periodStart;if(d[0].includes(\"X-TIMESTAMP-MAP\")){var e=d[0].match(/LOCAL:((?:(\\d{1,}):)?(\\d{2}):(\\d{2})\\.(\\d{3}))/m),f=d[0].match(/MPEGTS:(\\d+)/m);if(e&&f){c=zr(new $m(e[1]));if(null==c)throw new L(2,2,2E3);f=Number(f[1]);for(e=b.segmentStart;95443.7176888889<=e;)e-=95443.7176888889,f+=8589934592;c=b.periodStart+f/9E4-c}}f=\n[];e=q(d[0].split(\"\\n\"));for(var g=e.next();!g.done;g=e.next())if(g=g.value,/^Region:/.test(g)){g=new $m(g);var h=new he;cn(g);an(g);for(var k=cn(g);k;){var l=h,m=k;(k=/^id=(.*)$/.exec(m))?l.id=k[1]:(k=/^width=(\\d{1,2}|100)%$/.exec(m))?l.width=Number(k[1]):(k=/^lines=(\\d+)$/.exec(m))?(l.height=Number(k[1]),l.heightUnits=2):(k=/^regionanchor=(\\d{1,2}|100)%,(\\d{1,2}|100)%$/.exec(m))?(l.regionAnchorX=Number(k[1]),l.regionAnchorY=Number(k[2])):(k=/^viewportanchor=(\\d{1,2}|100)%,(\\d{1,2}|100)%$/.exec(m))?\n(l.viewportAnchorX=Number(k[1]),l.viewportAnchorY=Number(k[2])):/^scroll=up$/.exec(m)&&(l.scroll=\"up\");an(g);k=cn(g)}f.push(h)}e=[];d=q(d.slice(1));for(g=d.next();!g.done;g=d.next()){l=g.value.split(\"\\n\");k=c;if(1==l.length&&!l[0]||/^NOTE($|[ \\t])/.test(l[0])||\"STYLE\"==l[0])g=null;else{g=null;l[0].includes(\"--\\x3e\")||(g=l[0],l.splice(0,1));h=new $m(l[0]);m=zr(h);var n=bn(h,/[ \\t]+--\\x3e[ \\t]+/g),r=zr(h);if(null==m||null==n||null==r)throw new L(2,2,2001);l=new fe(m+k,r+k,l.slice(1).join(\"\\n\").trim());\nan(h);for(k=cn(h);k;)Ar(l,k,f),an(h),k=cn(h);null!=g&&(l.id=g);g=l}g&&e.push(g)}return e};\nfunction Ar(a,b,c){var d;if(d=/^align:(start|middle|center|end|left|right)$/.exec(b))b=d[1],\"middle\"==b?a.textAlign=je:a.textAlign=qe[b.toUpperCase()];else if(d=/^vertical:(lr|rl)$/.exec(b))a.writingMode=\"lr\"==d[1]?\"vertical-lr\":\"vertical-rl\";else if(d=/^size:([\\d.]+)%$/.exec(b))a.size=Number(d[1]);else if(d=/^position:([\\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(b))a.position=Number(d[1]),d[2]&&(b=d[2],a.positionAlign=\"line-left\"==b||\"start\"==b?\"line-left\":\"line-right\"==b||\"end\"==\nb?\"line-right\":\"center\");else if(d=/^region:(.*)$/.exec(b)){if(b=Br(c,d[1]))a.region=b}else if(c=/^line:([\\d.]+)%(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=1,a.line=Number(c[1]),c[2]&&(a.lineAlign=se[c[2].toUpperCase()]);else if(c=/^line:(-?\\d+)(?:,(start|end|center))?$/.exec(b))a.lineInterpretation=le,a.line=Number(c[1]),c[2]&&(a.lineAlign=se[c[2].toUpperCase()])}function Br(a,b){var c=a.filter(function(d){return d.id==b});return c.length?c[0]:null}\nfunction zr(a){a=bn(a,/(?:(\\d{1,}):)?(\\d{2}):(\\d{2})\\.(\\d{3})/g);if(null==a)return null;var b=Number(a[2]),c=Number(a[3]);return 59<b||59<c?null:Number(a[4])/1E3+c+60*b+3600*(Number(a[1])||0)}K(\"shaka.text.VttTextParser\",yr);yr.prototype.parseMedia=yr.prototype.parseMedia;yr.prototype.parseInit=yr.prototype.parseInit;ye[\"text/vtt\"]=function(){return new yr};ye['text/vtt; codecs=\"vtt\"']=function(){return new yr};ye['text/vtt; codecs=\"wvtt\"']=function(){return new yr};function Cr(){this.a=null}Cr.prototype.parseInit=function(a){var b=this,c=!1;(new Dg).L(\"moov\",Hg).L(\"trak\",Hg).L(\"mdia\",Hg).ea(\"mdhd\",function(d){0==d.version?(d.reader.skip(4),d.reader.skip(4),b.a=d.reader.J(),d.reader.skip(4)):(d.reader.skip(8),d.reader.skip(8),b.a=d.reader.J(),d.reader.skip(8));d.reader.skip(4)}).L(\"minf\",Hg).L(\"stbl\",Hg).ea(\"stsd\",Ig).L(\"wvtt\",function(){c=!0}).parse(a);if(!this.a)throw new L(2,2,2008);if(!c)throw new L(2,2,2008);};\nCr.prototype.parseMedia=function(a,b){if(!this.a)throw new L(2,2,2008);var c=0,d=[],e,f=[],g=!1,h=!1,k=!1,l=null;(new Dg).L(\"moof\",Hg).L(\"traf\",Hg).ea(\"tfdt\",function(E){g=!0;c=0==E.version?E.reader.J():E.reader.pb()}).ea(\"tfhd\",function(E){var H=E.flags;E=E.reader;E.skip(4);H&1&&E.skip(8);H&2&&E.skip(4);l=H&8?E.J():null}).ea(\"trun\",function(E){h=!0;var H=E.version,G=E.flags;E=E.reader;var F=E.J();G&1&&E.skip(4);G&4&&E.skip(4);var I=[];F=q(fb(F));for(var O=F.next();!O.done;O=F.next())O={duration:null,\nsampleSize:null,md:null},G&256&&(O.duration=E.J()),G&512&&(O.sampleSize=E.J()),G&1024&&E.skip(4),G&2048&&(O.md=0==H?E.J():E.Jd()),I.push(O);d=I}).L(\"mdat\",Jg(function(E){k=!0;e=E})).parse(a,!1);if(!k&&!g&&!h)throw new L(2,2,2008);for(var m=c,n=new U(e,0),r=q(d),u=r.next();!u.done;u=r.next()){u=u.value;var v=u.duration||l,y=u.md?c+u.md:m;m=y+(v||0);var z=0;do{var A=n.J();z+=A;var D=n.J(),B=null;\"vttc\"==Kg(D)?8<A&&(B=n.Wa(A-8)):n.skip(A-8);v&&B&&(A=Dr(B,b.periodStart+y/this.a,b.periodStart+m/this.a),\nf.push(A))}while(u.sampleSize&&z<u.sampleSize)}return f.filter(Jc)};function Dr(a,b,c){var d,e,f;(new Dg).L(\"payl\",Jg(function(g){d=sc(g)})).L(\"iden\",Jg(function(g){e=sc(g)})).L(\"sttg\",Jg(function(g){f=sc(g)})).parse(a);return d?Er(d,e,f,b,c):null}function Er(a,b,c,d,e){a=new fe(d,e,a);b&&(a.id=b);if(c)for(b=new $m(c),c=cn(b);c;)Ar(a,c,[]),an(b),c=cn(b);return a}K(\"shaka.text.Mp4VttParser\",Cr);Cr.prototype.parseMedia=Cr.prototype.parseMedia;Cr.prototype.parseInit=Cr.prototype.parseInit;\nye['application/mp4; codecs=\"wvtt\"']=function(){return new Cr};/*\n @license\n EME Encryption Scheme Polyfill\n Copyright 2019 Google LLC\n SPDX-License-Identifier: Apache-2.0\n*/\nfunction Fr(){}var Gr;function Hr(){Gr?console.debug(\"EmeEncryptionSchemePolyfill: Already installed.\"):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Gr=navigator.requestMediaKeySystemAccess,console.debug(\"EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support.\"),navigator.requestMediaKeySystemAccess=Ir):console.debug(\"EmeEncryptionSchemePolyfill: EME not found\")}\nfunction Ir(a,b){var c=this,d;return J(function(e){if(1==e.a)return console.assert(c==navigator,'bad \"this\" for requestMediaKeySystemAccess'),t(e,Gr.call(c,a,b),2);d=e.b;if(Jr(d))return console.debug(\"EmeEncryptionSchemePolyfill: Native encryptionScheme support found.\"),navigator.requestMediaKeySystemAccess=Gr,e[\"return\"](d);console.debug(\"EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.\");navigator.requestMediaKeySystemAccess=Kr;return e[\"return\"](Kr.call(c,\na,b))})}\nfunction Kr(a,b){var c=this,d,e,f,g,h,k,l,m,n,r;return J(function(u){if(1==u.a){console.assert(c==navigator,'bad \"this\" for requestMediaKeySystemAccess');d=Lr(a);e=[];f=q(b);for(g=f.next();!g.done;g=f.next())h=g.value,k=Mr(h.videoCapabilities,d),l=Mr(h.audioCapabilities,d),h.videoCapabilities&&h.videoCapabilities.length&&!k.length||h.audioCapabilities&&h.audioCapabilities.length&&!l.length||(m=Object.assign({},h),m.videoCapabilities=k,m.audioCapabilities=l,e.push(m));if(!e.length)throw n=Error(\"Unsupported keySystem or supportedConfigurations.\"),\nn.name=\"NotSupportedError\",n.code=DOMException.NOT_SUPPORTED_ERR,n;return t(u,Gr.call(c,a,e),2)}r=u.b;return u[\"return\"](new Nr(r,d))})}function Mr(a,b){return a?a.filter(function(c){return!c.encryptionScheme||c.encryptionScheme==b}):a}K(\"EmeEncryptionSchemePolyfill\",Fr);Fr.install=Hr;function Or(){}var Pr;\nfunction Qr(){navigator.mediaCapabilities?(Pr=navigator.mediaCapabilities.decodingInfo,console.debug(\"McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support.\"),navigator.mediaCapabilities.decodingInfo=Rr):console.debug(\"McEncryptionSchemePolyfill: MediaCapabilities not found\")}\nfunction Rr(a){var b=this,c,d;return J(function(e){if(1==e.a)return console.assert(b==navigator.mediaCapabilities,'bad \"this\" for decodingInfo'),t(e,Pr.call(b,a),2);c=e.b;if(!a.keySystemConfiguration)return e[\"return\"](c);d=c.keySystemAccess;if(Jr(d))return console.debug(\"McEncryptionSchemePolyfill: Native encryptionScheme support found.\"),navigator.mediaCapabilities.decodingInfo=Pr,e[\"return\"](c);console.debug(\"McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support.\");\nnavigator.mediaCapabilities.decodingInfo=Sr;return e[\"return\"](Sr.call(b,a))})}\nfunction Sr(a){var b=this,c,d,e,f,g,h,k;return J(function(l){if(1==l.a)return console.assert(b==navigator.mediaCapabilities,'bad \"this\" for decodingInfo'),c=null,a.keySystemConfiguration&&(d=a.keySystemConfiguration,e=d.keySystem,f=d.audio&&d.audio.encryptionScheme,g=d.video&&d.video.encryptionScheme,c=Lr(e),h={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:a},f&&f!=c||g&&g!=c)?l[\"return\"](h):t(l,Pr.call(b,a),2);k=l.b;k.keySystemAccess&&(k.keySystemAccess=new Nr(k.keySystemAccess,\nc));return l[\"return\"](k)})}K(\"McEncryptionSchemePolyfill\",Or);Or.install=Qr;function Nr(a,b){this.b=a;this.a=b;this.keySystem=a.keySystem}Nr.prototype.getConfiguration=function(){var a=this.b.getConfiguration();if(a.videoCapabilities)for(var b=q(a.videoCapabilities),c=b.next();!c.done;c=b.next())c.value.encryptionScheme=this.a;if(a.audioCapabilities)for(b=q(a.audioCapabilities),c=b.next();!c.done;c=b.next())c.value.encryptionScheme=this.a;return a};Nr.prototype.createMediaKeys=function(){return this.b.createMediaKeys()};\nfunction Lr(a){if(a.startsWith(\"com.widevine\")||a.startsWith(\"com.microsoft\")||a.startsWith(\"com.adobe\")||a.startsWith(\"org.w3\"))return\"cenc\";if(a.startsWith(\"com.apple\"))return\"cbcs-1-9\";console.warn(\"EmeEncryptionSchemePolyfill: Unknown key system:\",a,\"Please contribute!\");return null}function Jr(a){a=a.getConfiguration();var b=a.audioCapabilities&&a.audioCapabilities[0];return(a=a.videoCapabilities&&a.videoCapabilities[0]||b)&&void 0!==a.encryptionScheme?!0:!1}function Tr(){}\nfunction Zp(){Hr();Qr()}K(\"EncryptionSchemePolyfills\",Tr);Tr.install=Zp;\"undefined\"!==typeof module&&module.exports&&(module.exports=Tr);}).call(exportTo,innerGlobal,innerGlobal,undefined);if(true)for(var k in exportTo.shaka)exports[k]=exportTo.shaka[k];else {}})();\n\n//# sourceMappingURL=shaka-player.compiled.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2hha2EtcGxheWVyL2Rpc3Qvc2hha2EtcGxheWVyLmNvbXBpbGVkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NoYWthLXBsYXllci9kaXN0L3NoYWthLXBsYXllci5jb21waWxlZC5qcz80NDZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gQGxpY2Vuc2VcbiBTaGFrYSBQbGF5ZXJcbiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgTExDXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG4oZnVuY3Rpb24oKXt2YXIgaW5uZXJHbG9iYWw9dHlwZW9mIHdpbmRvdyE9XCJ1bmRlZmluZWRcIj93aW5kb3c6Z2xvYmFsO3ZhciBleHBvcnRUbz17fTsoZnVuY3Rpb24od2luZG93LGdsb2JhbCxtb2R1bGUpey8qXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xudmFyIHA7ZnVuY3Rpb24gYWEoYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19dmFyIGJhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7aWYoYT09QXJyYXkucHJvdG90eXBlfHxhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBhO2FbYl09Yy52YWx1ZTtyZXR1cm4gYX07XG5mdW5jdGlvbiBjYShhKXthPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgYz1hW2JdO2lmKGMmJmMuTWF0aD09TWF0aClyZXR1cm4gY310aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7fXZhciBkYT1jYSh0aGlzKTtmdW5jdGlvbiBlYShhLGIpe2lmKGIpe2Zvcih2YXIgYz1kYSxkPWEuc3BsaXQoXCIuXCIpLGU9MDtlPGQubGVuZ3RoLTE7ZSsrKXt2YXIgZj1kW2VdO2YgaW4gY3x8KGNbZl09e30pO2M9Y1tmXX1kPWRbZC5sZW5ndGgtMV07ZT1jW2RdO2Y9YihlKTtmIT1lJiZudWxsIT1mJiZiYShjLGQse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmfSl9fVxuZWEoXCJTeW1ib2xcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGUpe2lmKHRoaXMgaW5zdGFuY2VvZiBiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBjKFwianNjb21wX3N5bWJvbF9cIisoZXx8XCJcIikrXCJfXCIrZCsrLGUpfWZ1bmN0aW9uIGMoZSxmKXt0aGlzLmE9ZTtiYSh0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ9KX1pZihhKXJldHVybiBhO2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07dmFyIGQ9MDtyZXR1cm4gYn0pO1xuZWEoXCJTeW1ib2wuaXRlcmF0b3JcIixmdW5jdGlvbihhKXtpZihhKXJldHVybiBhO2E9U3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpO2Zvcih2YXIgYj1cIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9ZGFbYltjXV07XCJmdW5jdGlvblwiPT09dHlwZW9mIGQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGQucHJvdG90eXBlW2FdJiZiYShkLnByb3RvdHlwZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZmEoYWEodGhpcykpfX0pfXJldHVybiBhfSk7ZnVuY3Rpb24gZmEoYSl7YT17bmV4dDphfTthW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGF9XG5mdW5jdGlvbiBxKGEpe3ZhciBiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBiP2IuY2FsbChhKTp7bmV4dDphYShhKX19ZnVuY3Rpb24gaGEoYSl7aWYoIShhIGluc3RhbmNlb2YgQXJyYXkpKXthPXEoYSk7Zm9yKHZhciBiLGM9W107IShiPWEubmV4dCgpKS5kb25lOyljLnB1c2goYi52YWx1ZSk7YT1jfXJldHVybiBhfXZhciBpYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP09iamVjdC5jcmVhdGU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe31iLnByb3RvdHlwZT1hO3JldHVybiBuZXcgYn0samE7XG5pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3Quc2V0UHJvdG90eXBlT2YpamE9T2JqZWN0LnNldFByb3RvdHlwZU9mO2Vsc2V7dmFyIGxhO2E6e3ZhciBtYT17V2Q6ITB9LG5hPXt9O3RyeXtuYS5fX3Byb3RvX189bWE7bGE9bmEuV2Q7YnJlYWsgYX1jYXRjaChhKXt9bGE9ITF9amE9bGE/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1iO2lmKGEuX19wcm90b19fIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKGErXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGF9Om51bGx9dmFyIG9hPWphO1xuZnVuY3Rpb24gcGEoYSxiKXthLnByb3RvdHlwZT1pYShiLnByb3RvdHlwZSk7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTtpZihvYSlvYShhLGIpO2Vsc2UgZm9yKHZhciBjIGluIGIpaWYoXCJwcm90b3R5cGVcIiE9YylpZihPYmplY3QuZGVmaW5lUHJvcGVydGllcyl7dmFyIGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLGMpO2QmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGMsZCl9ZWxzZSBhW2NdPWJbY119ZnVuY3Rpb24gcWEoKXt0aGlzLmo9ITE7dGhpcy5nPW51bGw7dGhpcy5iPXZvaWQgMDt0aGlzLmE9MTt0aGlzLmY9dGhpcy5oPTA7dGhpcy52PXRoaXMuYz1udWxsfWZ1bmN0aW9uIHJhKGEpe2lmKGEuail0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTthLmo9ITB9cWEucHJvdG90eXBlLm09ZnVuY3Rpb24oYSl7dGhpcy5iPWF9O2Z1bmN0aW9uIHNhKGEsYil7YS5jPXt2ZDpiLEJkOiEwfTthLmE9YS5ofHxhLmZ9XG5xYS5wcm90b3R5cGVbXCJyZXR1cm5cIl09ZnVuY3Rpb24oYSl7dGhpcy5jPXtcInJldHVyblwiOmF9O3RoaXMuYT10aGlzLmZ9O2Z1bmN0aW9uIHQoYSxiLGMpe2EuYT1jO3JldHVybnt2YWx1ZTpifX1xYS5wcm90b3R5cGUudT1mdW5jdGlvbihhKXt0aGlzLmE9YX07ZnVuY3Rpb24gdyhhKXthLmE9MH1mdW5jdGlvbiB4KGEsYixjKXthLmg9Yjt2b2lkIDAhPWMmJihhLmY9Yyl9ZnVuY3Rpb24gdGEoYSl7YS5oPTA7YS5mPTJ9ZnVuY3Rpb24gdWEoYSxiKXthLmE9YjthLmg9MH1mdW5jdGlvbiBDKGEpe2EuaD0wO3ZhciBiPWEuYy52ZDthLmM9bnVsbDtyZXR1cm4gYn1mdW5jdGlvbiB2YShhKXthLnY9W2EuY107YS5oPTA7YS5mPTB9ZnVuY3Rpb24gd2EoYSxiKXt2YXIgYz1hLnYuc3BsaWNlKDApWzBdOyhjPWEuYz1hLmN8fGMpP2MuQmQ/YS5hPWEuaHx8YS5mOnZvaWQgMCE9Yy51JiZhLmY8Yy51PyhhLmE9Yy51LGEuYz1udWxsKTphLmE9YS5mOmEuYT1ifVxuZnVuY3Rpb24geGEoYSl7dGhpcy5hPW5ldyBxYTt0aGlzLmI9YX1mdW5jdGlvbiB5YShhLGIpe3JhKGEuYSk7dmFyIGM9YS5hLmc7aWYoYylyZXR1cm4gQmEoYSxcInJldHVyblwiaW4gYz9jW1wicmV0dXJuXCJdOmZ1bmN0aW9uKGQpe3JldHVybnt2YWx1ZTpkLGRvbmU6ITB9fSxiLGEuYVtcInJldHVyblwiXSk7YS5hW1wicmV0dXJuXCJdKGIpO3JldHVybiBEYShhKX1mdW5jdGlvbiBCYShhLGIsYyxkKXt0cnl7dmFyIGU9Yi5jYWxsKGEuYS5nLGMpO2lmKCEoZSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIitlK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7aWYoIWUuZG9uZSlyZXR1cm4gYS5hLmo9ITEsZTt2YXIgZj1lLnZhbHVlfWNhdGNoKGcpe3JldHVybiBhLmEuZz1udWxsLHNhKGEuYSxnKSxEYShhKX1hLmEuZz1udWxsO2QuY2FsbChhLmEsZik7cmV0dXJuIERhKGEpfVxuZnVuY3Rpb24gRGEoYSl7Zm9yKDthLmEuYTspdHJ5e3ZhciBiPWEuYihhLmEpO2lmKGIpcmV0dXJuIGEuYS5qPSExLHt2YWx1ZTpiLnZhbHVlLGRvbmU6ITF9fWNhdGNoKGMpe2EuYS5iPXZvaWQgMCxzYShhLmEsYyl9YS5hLmo9ITE7aWYoYS5hLmMpe2I9YS5hLmM7YS5hLmM9bnVsbDtpZihiLkJkKXRocm93IGIudmQ7cmV0dXJue3ZhbHVlOmJbXCJyZXR1cm5cIl0sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1cbmZ1bmN0aW9uIEVhKGEpe3RoaXMubmV4dD1mdW5jdGlvbihiKXtyYShhLmEpO2EuYS5nP2I9QmEoYSxhLmEuZy5uZXh0LGIsYS5hLm0pOihhLmEubShiKSxiPURhKGEpKTtyZXR1cm4gYn07dGhpc1tcInRocm93XCJdPWZ1bmN0aW9uKGIpe3JhKGEuYSk7YS5hLmc/Yj1CYShhLGEuYS5nW1widGhyb3dcIl0sYixhLmEubSk6KHNhKGEuYSxiKSxiPURhKGEpKTtyZXR1cm4gYn07dGhpc1tcInJldHVyblwiXT1mdW5jdGlvbihiKXtyZXR1cm4geWEoYSxiKX07dGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIEZhKGEsYil7dmFyIGM9bmV3IEVhKG5ldyB4YShiKSk7b2EmJm9hKGMsYS5wcm90b3R5cGUpO3JldHVybiBjfVxuZWEoXCJQcm9taXNlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihnKXt0aGlzLmI9MDt0aGlzLmc9dm9pZCAwO3RoaXMuYT1bXTt2YXIgaD10aGlzLmMoKTt0cnl7ZyhoLnJlc29sdmUsaC5yZWplY3QpfWNhdGNoKGspe2gucmVqZWN0KGspfX1mdW5jdGlvbiBjKCl7dGhpcy5hPW51bGx9ZnVuY3Rpb24gZChnKXtyZXR1cm4gZyBpbnN0YW5jZW9mIGI/ZzpuZXcgYihmdW5jdGlvbihoKXtoKGcpfSl9aWYoYSlyZXR1cm4gYTtjLnByb3RvdHlwZS5iPWZ1bmN0aW9uKGcpe2lmKG51bGw9PXRoaXMuYSl7dGhpcy5hPVtdO3ZhciBoPXRoaXM7dGhpcy5jKGZ1bmN0aW9uKCl7aC5nKCl9KX10aGlzLmEucHVzaChnKX07dmFyIGU9ZGEuc2V0VGltZW91dDtjLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGcpe2UoZywwKX07Yy5wcm90b3R5cGUuZz1mdW5jdGlvbigpe2Zvcig7dGhpcy5hJiZ0aGlzLmEubGVuZ3RoOyl7dmFyIGc9dGhpcy5hO3RoaXMuYT1bXTtmb3IodmFyIGg9MDtoPGcubGVuZ3RoOysraCl7dmFyIGs9XG5nW2hdO2dbaF09bnVsbDt0cnl7aygpfWNhdGNoKGwpe3RoaXMuZihsKX19fXRoaXMuYT1udWxsfTtjLnByb3RvdHlwZS5mPWZ1bmN0aW9uKGcpe3RoaXMuYyhmdW5jdGlvbigpe3Rocm93IGc7fSl9O2IucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGwpe3JldHVybiBmdW5jdGlvbihtKXtrfHwoaz0hMCxsLmNhbGwoaCxtKSl9fXZhciBoPXRoaXMsaz0hMTtyZXR1cm57cmVzb2x2ZTpnKHRoaXMudykscmVqZWN0OmcodGhpcy5mKX19O2IucHJvdG90eXBlLnc9ZnVuY3Rpb24oZyl7aWYoZz09PXRoaXMpdGhpcy5mKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTtlbHNlIGlmKGcgaW5zdGFuY2VvZiBiKXRoaXMuQyhnKTtlbHNle2E6c3dpdGNoKHR5cGVvZiBnKXtjYXNlIFwib2JqZWN0XCI6dmFyIGg9bnVsbCE9ZzticmVhayBhO2Nhc2UgXCJmdW5jdGlvblwiOmg9ITA7YnJlYWsgYTtkZWZhdWx0Omg9ITF9aD90aGlzLnYoZyk6dGhpcy5oKGcpfX07XG5iLnByb3RvdHlwZS52PWZ1bmN0aW9uKGcpe3ZhciBoPXZvaWQgMDt0cnl7aD1nLnRoZW59Y2F0Y2goayl7dGhpcy5mKGspO3JldHVybn1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoP3RoaXMuRyhoLGcpOnRoaXMuaChnKX07Yi5wcm90b3R5cGUuZj1mdW5jdGlvbihnKXt0aGlzLmooMixnKX07Yi5wcm90b3R5cGUuaD1mdW5jdGlvbihnKXt0aGlzLmooMSxnKX07Yi5wcm90b3R5cGUuaj1mdW5jdGlvbihnLGgpe2lmKDAhPXRoaXMuYil0aHJvdyBFcnJvcihcIkNhbm5vdCBzZXR0bGUoXCIrZytcIiwgXCIraCtcIik6IFByb21pc2UgYWxyZWFkeSBzZXR0bGVkIGluIHN0YXRlXCIrdGhpcy5iKTt0aGlzLmI9Zzt0aGlzLmc9aDt0aGlzLm0oKX07Yi5wcm90b3R5cGUubT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuYSl7Zm9yKHZhciBnPTA7Zzx0aGlzLmEubGVuZ3RoOysrZylmLmIodGhpcy5hW2ddKTt0aGlzLmE9bnVsbH19O3ZhciBmPW5ldyBjO2IucHJvdG90eXBlLkM9ZnVuY3Rpb24oZyl7dmFyIGg9dGhpcy5jKCk7XG5nLiRiKGgucmVzb2x2ZSxoLnJlamVjdCl9O2IucHJvdG90eXBlLkc9ZnVuY3Rpb24oZyxoKXt2YXIgaz10aGlzLmMoKTt0cnl7Zy5jYWxsKGgsay5yZXNvbHZlLGsucmVqZWN0KX1jYXRjaChsKXtrLnJlamVjdChsKX19O2IucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZyxoKXtmdW5jdGlvbiBrKHIsdSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcj9mdW5jdGlvbih2KXt0cnl7bChyKHYpKX1jYXRjaCh5KXttKHkpfX06dX12YXIgbCxtLG49bmV3IGIoZnVuY3Rpb24ocix1KXtsPXI7bT11fSk7dGhpcy4kYihrKGcsbCksayhoLG0pKTtyZXR1cm4gbn07Yi5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbihnKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxnKX07Yi5wcm90b3R5cGUuJGI9ZnVuY3Rpb24oZyxoKXtmdW5jdGlvbiBrKCl7c3dpdGNoKGwuYil7Y2FzZSAxOmcobC5nKTticmVhaztjYXNlIDI6aChsLmcpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlOiBcIitcbmwuYik7fX12YXIgbD10aGlzO251bGw9PXRoaXMuYT9mLmIoayk6dGhpcy5hLnB1c2goayl9O2IucmVzb2x2ZT1kO2IucmVqZWN0PWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgYihmdW5jdGlvbihoLGspe2soZyl9KX07Yi5yYWNlPWZ1bmN0aW9uKGcpe3JldHVybiBuZXcgYihmdW5jdGlvbihoLGspe2Zvcih2YXIgbD1xKGcpLG09bC5uZXh0KCk7IW0uZG9uZTttPWwubmV4dCgpKWQobS52YWx1ZSkuJGIoaCxrKX0pfTtiLmFsbD1mdW5jdGlvbihnKXt2YXIgaD1xKGcpLGs9aC5uZXh0KCk7cmV0dXJuIGsuZG9uZT9kKFtdKTpuZXcgYihmdW5jdGlvbihsLG0pe2Z1bmN0aW9uIG4odil7cmV0dXJuIGZ1bmN0aW9uKHkpe3Jbdl09eTt1LS07MD09dSYmbChyKX19dmFyIHI9W10sdT0wO2RvIHIucHVzaCh2b2lkIDApLHUrKyxkKGsudmFsdWUpLiRiKG4oci5sZW5ndGgtMSksbSksaz1oLm5leHQoKTt3aGlsZSghay5kb25lKX0pfTtyZXR1cm4gYn0pO1xuZnVuY3Rpb24gR2EoYSl7ZnVuY3Rpb24gYihkKXtyZXR1cm4gYS5uZXh0KGQpfWZ1bmN0aW9uIGMoZCl7cmV0dXJuIGFbXCJ0aHJvd1wiXShkKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXtmdW5jdGlvbiBmKGcpe2cuZG9uZT9kKGcudmFsdWUpOlByb21pc2UucmVzb2x2ZShnLnZhbHVlKS50aGVuKGIsYykudGhlbihmLGUpfWYoYS5uZXh0KCkpfSl9ZnVuY3Rpb24gSihhKXtyZXR1cm4gR2EobmV3IEVhKG5ldyB4YShhKSkpfWZ1bmN0aW9uIElhKGEsYil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLGIpfVxuZWEoXCJXZWFrTWFwXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihrKXt0aGlzLmE9KGgrPU1hdGgucmFuZG9tKCkrMSkudG9TdHJpbmcoKTtpZihrKXtrPXEoayk7Zm9yKHZhciBsOyEobD1rLm5leHQoKSkuZG9uZTspbD1sLnZhbHVlLHRoaXMuc2V0KGxbMF0sbFsxXSl9fWZ1bmN0aW9uIGMoKXt9ZnVuY3Rpb24gZChrKXt2YXIgbD10eXBlb2YgaztyZXR1cm5cIm9iamVjdFwiPT09bCYmbnVsbCE9PWt8fFwiZnVuY3Rpb25cIj09PWx9ZnVuY3Rpb24gZShrKXtpZighSWEoayxnKSl7dmFyIGw9bmV3IGM7YmEoayxnLHt2YWx1ZTpsfSl9fWZ1bmN0aW9uIGYoayl7dmFyIGw9T2JqZWN0W2tdO2wmJihPYmplY3Rba109ZnVuY3Rpb24obSl7aWYobSBpbnN0YW5jZW9mIGMpcmV0dXJuIG07ZShtKTtyZXR1cm4gbChtKX0pfWlmKGZ1bmN0aW9uKCl7aWYoIWF8fCFPYmplY3Quc2VhbClyZXR1cm4hMTt0cnl7dmFyIGs9T2JqZWN0LnNlYWwoe30pLGw9T2JqZWN0LnNlYWwoe30pLG09bmV3IGEoW1trLDJdLFxuW2wsM11dKTtpZigyIT1tLmdldChrKXx8MyE9bS5nZXQobCkpcmV0dXJuITE7bVtcImRlbGV0ZVwiXShrKTttLnNldChsLDQpO3JldHVybiFtLmhhcyhrKSYmND09bS5nZXQobCl9Y2F0Y2gobil7cmV0dXJuITF9fSgpKXJldHVybiBhO3ZhciBnPVwiJGpzY29tcF9oaWRkZW5fXCIrTWF0aC5yYW5kb20oKTtmKFwiZnJlZXplXCIpO2YoXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtmKFwic2VhbFwiKTt2YXIgaD0wO2IucHJvdG90eXBlLnNldD1mdW5jdGlvbihrLGwpe2lmKCFkKGspKXRocm93IEVycm9yKFwiSW52YWxpZCBXZWFrTWFwIGtleVwiKTtlKGspO2lmKCFJYShrLGcpKXRocm93IEVycm9yKFwiV2Vha01hcCBrZXkgZmFpbDogXCIrayk7a1tnXVt0aGlzLmFdPWw7cmV0dXJuIHRoaXN9O2IucHJvdG90eXBlLmdldD1mdW5jdGlvbihrKXtyZXR1cm4gZChrKSYmSWEoayxnKT9rW2ddW3RoaXMuYV06dm9pZCAwfTtiLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oayl7cmV0dXJuIGQoaykmJklhKGssZykmJklhKGtbZ10sXG50aGlzLmEpfTtiLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbihrKXtyZXR1cm4gZChrKSYmSWEoayxnKSYmSWEoa1tnXSx0aGlzLmEpP2RlbGV0ZSBrW2ddW3RoaXMuYV06ITF9O3JldHVybiBifSk7XG5lYShcIk1hcFwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgaD17fTtyZXR1cm4gaC5GYT1oLm5leHQ9aC5oZWFkPWh9ZnVuY3Rpb24gYyhoLGspe3ZhciBsPWguYTtyZXR1cm4gZmEoZnVuY3Rpb24oKXtpZihsKXtmb3IoO2wuaGVhZCE9aC5hOylsPWwuRmE7Zm9yKDtsLm5leHQhPWwuaGVhZDspcmV0dXJuIGw9bC5uZXh0LHtkb25lOiExLHZhbHVlOmsobCl9O2w9bnVsbH1yZXR1cm57ZG9uZTohMCx2YWx1ZTp2b2lkIDB9fSl9ZnVuY3Rpb24gZChoLGspe3ZhciBsPWsmJnR5cGVvZiBrO1wib2JqZWN0XCI9PWx8fFwiZnVuY3Rpb25cIj09bD9mLmhhcyhrKT9sPWYuZ2V0KGspOihsPVwiXCIrICsrZyxmLnNldChrLGwpKTpsPVwicF9cIitrO3ZhciBtPWguYltsXTtpZihtJiZJYShoLmIsbCkpZm9yKHZhciBuPTA7bjxtLmxlbmd0aDtuKyspe3ZhciByPW1bbl07aWYoayE9PWsmJnIua2V5IT09ci5rZXl8fGs9PT1yLmtleSlyZXR1cm57aWQ6bCxsaXN0Om0saW5kZXg6bixYOnJ9fXJldHVybntpZDpsLFxubGlzdDptLGluZGV4Oi0xLFg6dm9pZCAwfX1mdW5jdGlvbiBlKGgpe3RoaXMuYj17fTt0aGlzLmE9YigpO3RoaXMuc2l6ZT0wO2lmKGgpe2g9cShoKTtmb3IodmFyIGs7IShrPWgubmV4dCgpKS5kb25lOylrPWsudmFsdWUsdGhpcy5zZXQoa1swXSxrWzFdKX19aWYoZnVuY3Rpb24oKXtpZighYXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYXx8IWEucHJvdG90eXBlLmVudHJpZXN8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5zZWFsKXJldHVybiExO3RyeXt2YXIgaD1PYmplY3Quc2VhbCh7eDo0fSksaz1uZXcgYShxKFtbaCxcInNcIl1dKSk7aWYoXCJzXCIhPWsuZ2V0KGgpfHwxIT1rLnNpemV8fGsuZ2V0KHt4OjR9KXx8ay5zZXQoe3g6NH0sXCJ0XCIpIT1rfHwyIT1rLnNpemUpcmV0dXJuITE7dmFyIGw9ay5lbnRyaWVzKCksbT1sLm5leHQoKTtpZihtLmRvbmV8fG0udmFsdWVbMF0hPWh8fFwic1wiIT1tLnZhbHVlWzFdKXJldHVybiExO209bC5uZXh0KCk7cmV0dXJuIG0uZG9uZXx8NCE9bS52YWx1ZVswXS54fHxcblwidFwiIT1tLnZhbHVlWzFdfHwhbC5uZXh0KCkuZG9uZT8hMTohMH1jYXRjaChuKXtyZXR1cm4hMX19KCkpcmV0dXJuIGE7dmFyIGY9bmV3IFdlYWtNYXA7ZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGgsayl7aD0wPT09aD8wOmg7dmFyIGw9ZCh0aGlzLGgpO2wubGlzdHx8KGwubGlzdD10aGlzLmJbbC5pZF09W10pO2wuWD9sLlgudmFsdWU9azoobC5YPXtuZXh0OnRoaXMuYSxGYTp0aGlzLmEuRmEsaGVhZDp0aGlzLmEsa2V5OmgsdmFsdWU6a30sbC5saXN0LnB1c2gobC5YKSx0aGlzLmEuRmEubmV4dD1sLlgsdGhpcy5hLkZhPWwuWCx0aGlzLnNpemUrKyk7cmV0dXJuIHRoaXN9O2UucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKGgpe2g9ZCh0aGlzLGgpO3JldHVybiBoLlgmJmgubGlzdD8oaC5saXN0LnNwbGljZShoLmluZGV4LDEpLGgubGlzdC5sZW5ndGh8fGRlbGV0ZSB0aGlzLmJbaC5pZF0saC5YLkZhLm5leHQ9aC5YLm5leHQsaC5YLm5leHQuRmE9aC5YLkZhLGguWC5oZWFkPVxubnVsbCx0aGlzLnNpemUtLSwhMCk6ITF9O2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5iPXt9O3RoaXMuYT10aGlzLmEuRmE9YigpO3RoaXMuc2l6ZT0wfTtlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oaCl7cmV0dXJuISFkKHRoaXMsaCkuWH07ZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGgpe3JldHVybihoPWQodGhpcyxoKS5YKSYmaC52YWx1ZX07ZS5wcm90b3R5cGUuZW50cmllcz1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMsZnVuY3Rpb24oaCl7cmV0dXJuW2gua2V5LGgudmFsdWVdfSl9O2UucHJvdG90eXBlLmtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzLGZ1bmN0aW9uKGgpe3JldHVybiBoLmtleX0pfTtlLnByb3RvdHlwZS52YWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzLGZ1bmN0aW9uKGgpe3JldHVybiBoLnZhbHVlfSl9O2UucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oaCxrKXtmb3IodmFyIGw9dGhpcy5lbnRyaWVzKCksbTshKG09bC5uZXh0KCkpLmRvbmU7KW09XG5tLnZhbHVlLGguY2FsbChrLG1bMV0sbVswXSx0aGlzKX07ZS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXT1lLnByb3RvdHlwZS5lbnRyaWVzO3ZhciBnPTA7cmV0dXJuIGV9KTtcbmVhKFwiU2V0XCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjKXt0aGlzLmE9bmV3IE1hcDtpZihjKXtjPXEoYyk7Zm9yKHZhciBkOyEoZD1jLm5leHQoKSkuZG9uZTspdGhpcy5hZGQoZC52YWx1ZSl9dGhpcy5zaXplPXRoaXMuYS5zaXplfWlmKGZ1bmN0aW9uKCl7aWYoIWF8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGF8fCFhLnByb3RvdHlwZS5lbnRyaWVzfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3Quc2VhbClyZXR1cm4hMTt0cnl7dmFyIGM9T2JqZWN0LnNlYWwoe3g6NH0pLGQ9bmV3IGEocShbY10pKTtpZighZC5oYXMoYyl8fDEhPWQuc2l6ZXx8ZC5hZGQoYykhPWR8fDEhPWQuc2l6ZXx8ZC5hZGQoe3g6NH0pIT1kfHwyIT1kLnNpemUpcmV0dXJuITE7dmFyIGU9ZC5lbnRyaWVzKCksZj1lLm5leHQoKTtpZihmLmRvbmV8fGYudmFsdWVbMF0hPWN8fGYudmFsdWVbMV0hPWMpcmV0dXJuITE7Zj1lLm5leHQoKTtyZXR1cm4gZi5kb25lfHxmLnZhbHVlWzBdPT1jfHw0IT1mLnZhbHVlWzBdLnh8fFxuZi52YWx1ZVsxXSE9Zi52YWx1ZVswXT8hMTplLm5leHQoKS5kb25lfWNhdGNoKGcpe3JldHVybiExfX0oKSlyZXR1cm4gYTtiLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYyl7Yz0wPT09Yz8wOmM7dGhpcy5hLnNldChjLGMpO3RoaXMuc2l6ZT10aGlzLmEuc2l6ZTtyZXR1cm4gdGhpc307Yi5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24oYyl7Yz10aGlzLmFbXCJkZWxldGVcIl0oYyk7dGhpcy5zaXplPXRoaXMuYS5zaXplO3JldHVybiBjfTtiLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuYS5jbGVhcigpO3RoaXMuc2l6ZT0wfTtiLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuYS5oYXMoYyl9O2IucHJvdG90eXBlLmVudHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmVudHJpZXMoKX07Yi5wcm90b3R5cGUudmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS52YWx1ZXMoKX07Yi5wcm90b3R5cGUua2V5cz1iLnByb3RvdHlwZS52YWx1ZXM7XG5iLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWIucHJvdG90eXBlLnZhbHVlcztiLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGMsZCl7dmFyIGU9dGhpczt0aGlzLmEuZm9yRWFjaChmdW5jdGlvbihmKXtyZXR1cm4gYy5jYWxsKGQsZixmLGUpfSl9O3JldHVybiBifSk7ZnVuY3Rpb24gSmEoYSxiLGMpe2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhPVN0cmluZyhhKSk7Zm9yKHZhciBkPWEubGVuZ3RoLGU9MDtlPGQ7ZSsrKXt2YXIgZj1hW2VdO2lmKGIuY2FsbChjLGYsZSxhKSlyZXR1cm57WTplLFRkOmZ9fXJldHVybntZOi0xLFRkOnZvaWQgMH19ZWEoXCJBcnJheS5wcm90b3R5cGUuZmluZEluZGV4XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3JldHVybiBKYSh0aGlzLGIsYykuWX19KTtcbmVhKFwiUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbihjKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGIoKSkudGhlbihmdW5jdGlvbigpe3JldHVybiBjfSl9LGZ1bmN0aW9uKGMpe3JldHVybiBQcm9taXNlLnJlc29sdmUoYigpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgYzt9KX0pfX0pO2VhKFwiT2JqZWN0LmlzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3JldHVybiBiPT09Yz8wIT09Ynx8MS9iPT09MS9jOmIhPT1iJiZjIT09Y319KTtcbmVhKFwiQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXM7ZCBpbnN0YW5jZW9mIFN0cmluZyYmKGQ9U3RyaW5nKGQpKTt2YXIgZT1kLmxlbmd0aCxmPWN8fDA7Zm9yKDA+ZiYmKGY9TWF0aC5tYXgoZitlLDApKTtmPGU7ZisrKXt2YXIgZz1kW2ZdO2lmKGc9PT1ifHxPYmplY3QuaXMoZyxiKSlyZXR1cm4hMH1yZXR1cm4hMX19KTtmdW5jdGlvbiBLYShhLGIsYyl7aWYobnVsbD09YSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlICd0aGlzJyB2YWx1ZSBmb3IgU3RyaW5nLnByb3RvdHlwZS5cIitjK1wiIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKGIgaW5zdGFuY2VvZiBSZWdFeHApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuXCIrYytcIiBtdXN0IG5vdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvblwiKTtyZXR1cm4gYStcIlwifVxuZWEoXCJTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3JldHVybi0xIT09S2EodGhpcyxiLFwiaW5jbHVkZXNcIikuaW5kZXhPZihiLGN8fDApfX0pO2VhKFwiQXJyYXkuZnJvbVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjLGQpe2M9bnVsbCE9Yz9jOmZ1bmN0aW9uKGgpe3JldHVybiBofTt2YXIgZT1bXSxmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmYltTeW1ib2wuaXRlcmF0b3JdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpe2I9Zi5jYWxsKGIpO2Zvcih2YXIgZz0wOyEoZj1iLm5leHQoKSkuZG9uZTspZS5wdXNoKGMuY2FsbChkLGYudmFsdWUsZysrKSl9ZWxzZSBmb3IoZj1iLmxlbmd0aCxnPTA7ZzxmO2crKyllLnB1c2goYy5jYWxsKGQsYltnXSxnKSk7cmV0dXJuIGV9fSk7XG5lYShcIkFycmF5LnByb3RvdHlwZS5maW5kXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe3JldHVybiBKYSh0aGlzLGIsYykuVGR9fSk7ZWEoXCJNYXRoLmxvZzJcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIpe3JldHVybiBNYXRoLmxvZyhiKS9NYXRoLkxOMn19KTt2YXIgTGE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7dmFyIGQ9YXJndW1lbnRzW2NdO2lmKGQpZm9yKHZhciBlIGluIGQpSWEoZCxlKSYmKGFbZV09ZFtlXSl9cmV0dXJuIGF9O2VhKFwiT2JqZWN0LmFzc2lnblwiLGZ1bmN0aW9uKGEpe3JldHVybiBhfHxMYX0pO2VhKFwiT2JqZWN0LnZhbHVlc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYil7dmFyIGM9W10sZDtmb3IoZCBpbiBiKUlhKGIsZCkmJmMucHVzaChiW2RdKTtyZXR1cm4gY319KTtcbmVhKFwiU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD1LYSh0aGlzLGIsXCJzdGFydHNXaXRoXCIpLGU9ZC5sZW5ndGgsZj1iLmxlbmd0aCxnPU1hdGgubWF4KDAsTWF0aC5taW4oY3wwLGQubGVuZ3RoKSksaD0wO2g8ZiYmZzxlOylpZihkW2crK10hPWJbaCsrXSlyZXR1cm4hMTtyZXR1cm4gaD49Zn19KTt2YXIgTWE9dGhpc3x8c2VsZjtmdW5jdGlvbiBLKGEsYil7dmFyIGM9YS5zcGxpdChcIi5cIiksZD1NYTtjWzBdaW4gZHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KFwidmFyIFwiK2NbMF0pO2Zvcih2YXIgZTtjLmxlbmd0aCYmKGU9Yy5zaGlmdCgpKTspYy5sZW5ndGh8fHZvaWQgMD09PWI/ZFtlXSYmZFtlXSE9PU9iamVjdC5wcm90b3R5cGVbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9Oy8qXG4gQGxpY2Vuc2VcbiBTaGFrYSBQbGF5ZXJcbiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgTExDXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG5mdW5jdGlvbiBOYShhKXt0aGlzLmM9TWF0aC5leHAoTWF0aC5sb2coLjUpL2EpO3RoaXMuYj10aGlzLmE9MH1mdW5jdGlvbiBPYShhLGIsYyl7dmFyIGQ9TWF0aC5wb3coYS5jLGIpO2M9YyooMS1kKStkKmEuYTtpc05hTihjKXx8KGEuYT1jLGEuYis9Yil9ZnVuY3Rpb24gUGEoYSl7cmV0dXJuIGEuYS8oMS1NYXRoLnBvdyhhLmMsYS5iKSl9O2Z1bmN0aW9uIFRhKCl7dGhpcy5iPW5ldyBOYSgyKTt0aGlzLmM9bmV3IE5hKDUpO3RoaXMuYT0wfVRhLnByb3RvdHlwZS5nZXRCYW5kd2lkdGhFc3RpbWF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gMTI4RTM+dGhpcy5hP2E6TWF0aC5taW4oUGEodGhpcy5iKSxQYSh0aGlzLmMpKX07ZnVuY3Rpb24gVWEoKXt9ZnVuY3Rpb24gVmEoKXt9ZnVuY3Rpb24gV2EoKXt9ZnVuY3Rpb24gWGEoYSxiKXtmb3IodmFyIGM9W10sZD0xO2Q8YXJndW1lbnRzLmxlbmd0aDsrK2QpY1tkLTFdPWFyZ3VtZW50c1tkXTtZYS5oYXMoYSl8fChZYS5hZGQoYSksV2EuYXBwbHkoVWEsaGEoYykpKX1mdW5jdGlvbiBaYSgpe31mdW5jdGlvbiAkYSgpe312YXIgWWE9bmV3IFNldDtpZih3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nLmJpbmQpe3ZhciBhYj17fSxiYj0oYWJbMV09Y29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpLGFiWzJdPWNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpLGFiWzNdPWNvbnNvbGUuaW5mby5iaW5kKGNvbnNvbGUpLGFiWzRdPWNvbnNvbGUubG9nLmJpbmQoY29uc29sZSksYWJbNV09Y29uc29sZS5kZWJ1Zy5iaW5kKGNvbnNvbGUpLGFiWzZdPWNvbnNvbGUuZGVidWcuYmluZChjb25zb2xlKSxhYik7V2E9YmJbMl07VmE9YmJbMV19O2Z1bmN0aW9uIGNiKGEsYil7Zm9yKHZhciBjPVtdLGQ9cShhKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSljLnB1c2goYihlLnZhbHVlKSk7cmV0dXJuIGN9ZnVuY3Rpb24gZGIoYSxiKXtmb3IodmFyIGM9cShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlpZighYihkLnZhbHVlKSlyZXR1cm4hMTtyZXR1cm4hMH1cbnZhciBmYj1mdW5jdGlvbiBlYihhKXt2YXIgYztyZXR1cm4gRmEoZWIsZnVuY3Rpb24oZCl7MT09ZC5hJiYoYz0wKTtpZigzIT1kLmEpcmV0dXJuIGM8YT90KGQsYywzKTpkLnUoMCk7YysrO3JldHVybiBkLnUoMil9KX0saGI9ZnVuY3Rpb24gZ2IoYSl7dmFyIGMsZCxlLGYsZyxoO3JldHVybiBGYShnYixmdW5jdGlvbihrKXsxPT1rLmEmJihjPS0xLGU9ZD12b2lkIDAsZj1xKGEpLGc9Zi5uZXh0KCkpO2lmKDUhPWsuYSl7aWYoZy5kb25lKXJldHVybi0xPT1jP2sudSgwKTp0KGsse1k6YyxJZTpkLGl0ZW06ZSxuZXh0OnZvaWQgMH0sMCk7aD1nLnZhbHVlO3JldHVybiAwPD1jP3Qoayx7WTpjLGl0ZW06ZSxJZTpkLG5leHQ6aH0sNSk6ay51KDUpfWMrKztkPWU7ZT1oO2c9Zi5uZXh0KCk7cmV0dXJuIGsudSgyKX0pfTsvKlxuIEBsaWNlbnNlXG4gQ29weXJpZ2h0IDIwMDggVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG52YXIgaWI9L14oPzooW146Lz8jLl0rKTopPyg/OlxcL1xcLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcXD8oW14jXSopKT8oPzojKC4qKSk/JC87LypcbiBAbGljZW5zZVxuIENvcHlyaWdodCAyMDA2IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9yc1xuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuZnVuY3Rpb24gamIoYSl7dmFyIGI7YSBpbnN0YW5jZW9mIGpiPyhrYih0aGlzLGEuc2EpLHRoaXMuWmE9YS5aYSx0aGlzLnJhPWEucmEsbGIodGhpcyxhLm9iKSx0aGlzLmlhPWEuaWEsbWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5QYT1hLlBhKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goaWIpKT8oa2IodGhpcyxiWzFdfHxcIlwiLCEwKSx0aGlzLlphPW5iKGJbMl18fFwiXCIpLHRoaXMucmE9bmIoYlszXXx8XCJcIiwhMCksbGIodGhpcyxiWzRdKSx0aGlzLmlhPW5iKGJbNV18fFwiXCIsITApLG1iKHRoaXMsYls2XXx8XCJcIiwhMCksdGhpcy5QYT1uYihiWzddfHxcIlwiKSk6dGhpcy5hPW5ldyBvYihudWxsKX1wPWpiLnByb3RvdHlwZTtwLnNhPVwiXCI7cC5aYT1cIlwiO3AucmE9XCJcIjtwLm9iPW51bGw7cC5pYT1cIlwiO3AuUGE9XCJcIjtcbnAudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuc2E7YiYmYS5wdXNoKHBiKGIscWIsITApLFwiOlwiKTtpZihiPXRoaXMucmEpe2EucHVzaChcIi8vXCIpO3ZhciBjPXRoaXMuWmE7YyYmYS5wdXNoKHBiKGMscWIsITApLFwiQFwiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSk7Yj10aGlzLm9iO251bGwhPWImJmEucHVzaChcIjpcIixTdHJpbmcoYikpfWlmKGI9dGhpcy5pYSl0aGlzLnJhJiZcIi9cIiE9Yi5jaGFyQXQoMCkmJmEucHVzaChcIi9cIiksYS5wdXNoKHBiKGIsXCIvXCI9PWIuY2hhckF0KDApP3JiOnNiLCEwKSk7KGI9dGhpcy5hLnRvU3RyaW5nKCkpJiZhLnB1c2goXCI/XCIsYik7KGI9dGhpcy5QYSkmJmEucHVzaChcIiNcIixwYihiLHRiKSk7cmV0dXJuIGEuam9pbihcIlwiKX07XG5wLnJlc29sdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jbG9uZSgpO1wiZGF0YVwiPT09Yi5zYSYmKGI9bmV3IGpiKTt2YXIgYz0hIWEuc2E7Yz9rYihiLGEuc2EpOmM9ISFhLlphO2M/Yi5aYT1hLlphOmM9ISFhLnJhO2M/Yi5yYT1hLnJhOmM9bnVsbCE9YS5vYjt2YXIgZD1hLmlhO2lmKGMpbGIoYixhLm9iKTtlbHNlIGlmKGM9ISFhLmlhKXtpZihcIi9cIiE9ZC5jaGFyQXQoMCkpaWYodGhpcy5yYSYmIXRoaXMuaWEpZD1cIi9cIitkO2Vsc2V7dmFyIGU9Yi5pYS5sYXN0SW5kZXhPZihcIi9cIik7LTEhPWUmJihkPWIuaWEuc3Vic3RyKDAsZSsxKStkKX1pZihcIi4uXCI9PWR8fFwiLlwiPT1kKWQ9XCJcIjtlbHNlIGlmKC0xIT1kLmluZGV4T2YoXCIuL1wiKXx8LTEhPWQuaW5kZXhPZihcIi8uXCIpKXtlPTA9PWQubGFzdEluZGV4T2YoXCIvXCIsMCk7ZD1kLnNwbGl0KFwiL1wiKTtmb3IodmFyIGY9W10sZz0wO2c8ZC5sZW5ndGg7KXt2YXIgaD1kW2crK107XCIuXCI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaChcIlwiKTpcIi4uXCI9PVxuaD8oKDE8Zi5sZW5ndGh8fDE9PWYubGVuZ3RoJiZcIlwiIT1mWzBdKSYmZi5wb3AoKSxlJiZnPT1kLmxlbmd0aCYmZi5wdXNoKFwiXCIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKFwiL1wiKX19Yz9iLmlhPWQ6Yz1cIlwiIT09YS5hLnRvU3RyaW5nKCk7Yz9tYihiLGEuYS5jbG9uZSgpKTpjPSEhYS5QYTtjJiYoYi5QYT1hLlBhKTtyZXR1cm4gYn07cC5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgamIodGhpcyl9O2Z1bmN0aW9uIGtiKGEsYixjKXthLnNhPWM/bmIoYiwhMCk6YjthLnNhJiYoYS5zYT1hLnNhLnJlcGxhY2UoLzokLyxcIlwiKSl9ZnVuY3Rpb24gbGIoYSxiKXtpZihiKXtiPU51bWJlcihiKTtpZihpc05hTihiKXx8MD5iKXRocm93IEVycm9yKFwiQmFkIHBvcnQgbnVtYmVyIFwiK2IpO2Eub2I9Yn1lbHNlIGEub2I9bnVsbH1mdW5jdGlvbiBtYihhLGIsYyl7YiBpbnN0YW5jZW9mIG9iP2EuYT1iOihjfHwoYj1wYihiLHViKSksYS5hPW5ldyBvYihiKSl9XG5mdW5jdGlvbiBuYihhLGIpe3JldHVybiBhP2I/ZGVjb2RlVVJJKGEpOmRlY29kZVVSSUNvbXBvbmVudChhKTpcIlwifWZ1bmN0aW9uIHBiKGEsYixjKXtyZXR1cm4gbnVsbCE9YT8oYT1lbmNvZGVVUkkoYSkucmVwbGFjZShiLHZiKSxjJiYoYT1hLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksYSk6bnVsbH1mdW5jdGlvbiB2YihhKXthPWEuY2hhckNvZGVBdCgwKTtyZXR1cm5cIiVcIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIHFiPS9bI1xcL1xcP0BdL2csc2I9L1sjXFw/Ol0vZyxyYj0vWyNcXD9dL2csdWI9L1sjXFw/QF0vZyx0Yj0vIy9nO2Z1bmN0aW9uIG9iKGEpe3RoaXMuYT1hfHxudWxsfXA9b2IucHJvdG90eXBlO3AuZ2E9bnVsbDtwLmJjPW51bGw7XG5wLmFkZD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLmdhJiYodGhpcy5nYT17fSx0aGlzLmJjPTAsdGhpcy5hKSlmb3IodmFyIGM9dGhpcy5hLnNwbGl0KFwiJlwiKSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0uaW5kZXhPZihcIj1cIiksZj1udWxsO2lmKDA8PWUpe3ZhciBnPWNbZF0uc3Vic3RyaW5nKDAsZSk7Zj1jW2RdLnN1YnN0cmluZyhlKzEpfWVsc2UgZz1jW2RdO2c9ZGVjb2RlVVJJQ29tcG9uZW50KGcucmVwbGFjZSgvXFwrL2csXCIgXCIpKTtmPWZ8fFwiXCI7dGhpcy5hZGQoZyxkZWNvZGVVUklDb21wb25lbnQoZi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpKX10aGlzLmE9bnVsbDsoYz10aGlzLmdhLmhhc093blByb3BlcnR5KGEpJiZ0aGlzLmdhW2FdKXx8KHRoaXMuZ2FbYV09Yz1bXSk7Yy5wdXNoKGIpO3RoaXMuYmMrKztyZXR1cm4gdGhpc307XG5wLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmE7aWYoIXRoaXMuZ2EpcmV0dXJuXCJcIjt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMuZ2EpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuZ2FbYl0sZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1jO1wiXCIhPT1kW2VdJiYoZis9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGRbZV0pKTthLnB1c2goZil9cmV0dXJuIHRoaXMuYT1hLmpvaW4oXCImXCIpfTtwLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG9iO2EuYT10aGlzLmE7aWYodGhpcy5nYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmdhKWJbY109dGhpcy5nYVtjXS5jb25jYXQoKTthLmdhPWI7YS5iYz10aGlzLmJjfXJldHVybiBhfTtmdW5jdGlvbiBMKGEsYixjLGQpe2Zvcih2YXIgZT1bXSxmPTM7Zjxhcmd1bWVudHMubGVuZ3RoOysrZillW2YtM109YXJndW1lbnRzW2ZdO3RoaXMuc2V2ZXJpdHk9YTt0aGlzLmNhdGVnb3J5PWI7dGhpcy5jb2RlPWM7dGhpcy5kYXRhPWU7dGhpcy5oYW5kbGVkPSExfUwucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJzaGFrYS51dGlsLkVycm9yIFwiK0pTT04uc3RyaW5naWZ5KHRoaXMsbnVsbCxcIiAgXCIpfTtLKFwic2hha2EudXRpbC5FcnJvclwiLEwpO0wuU2V2ZXJpdHk9e1JFQ09WRVJBQkxFOjEsQ1JJVElDQUw6Mn07TC5DYXRlZ29yeT17TkVUV09SSzoxLFRFWFQ6MixNRURJQTozLE1BTklGRVNUOjQsU1RSRUFNSU5HOjUsRFJNOjYsUExBWUVSOjcsQ0FTVDo4LFNUT1JBR0U6OSxBRFM6MTB9O1xuTC5Db2RlPXtVTlNVUFBPUlRFRF9TQ0hFTUU6MUUzLEJBRF9IVFRQX1NUQVRVUzoxMDAxLEhUVFBfRVJST1I6MTAwMixUSU1FT1VUOjEwMDMsTUFMRk9STUVEX0RBVEFfVVJJOjEwMDQsUkVRVUVTVF9GSUxURVJfRVJST1I6MTAwNixSRVNQT05TRV9GSUxURVJfRVJST1I6MTAwNyxNQUxGT1JNRURfVEVTVF9VUkk6MTAwOCxVTkVYUEVDVEVEX1RFU1RfUkVRVUVTVDoxMDA5LEFUVEVNUFRTX0VYSEFVU1RFRDoxMDEwLElOVkFMSURfVEVYVF9IRUFERVI6MkUzLElOVkFMSURfVEVYVF9DVUU6MjAwMSxVTkFCTEVfVE9fREVURUNUX0VOQ09ESU5HOjIwMDMsQkFEX0VOQ09ESU5HOjIwMDQsSU5WQUxJRF9YTUw6MjAwNSxJTlZBTElEX01QNF9UVE1MOjIwMDcsSU5WQUxJRF9NUDRfVlRUOjIwMDgsVU5BQkxFX1RPX0VYVFJBQ1RfQ1VFX1NUQVJUX1RJTUU6MjAwOSxCVUZGRVJfUkVBRF9PVVRfT0ZfQk9VTkRTOjNFMyxKU19JTlRFR0VSX09WRVJGTE9XOjMwMDEsRUJNTF9PVkVSRkxPVzozMDAyLFxuRUJNTF9CQURfRkxPQVRJTkdfUE9JTlRfU0laRTozMDAzLE1QNF9TSURYX1dST05HX0JPWF9UWVBFOjMwMDQsTVA0X1NJRFhfSU5WQUxJRF9USU1FU0NBTEU6MzAwNSxNUDRfU0lEWF9UWVBFX05PVF9TVVBQT1JURUQ6MzAwNixXRUJNX0NVRVNfRUxFTUVOVF9NSVNTSU5HOjMwMDcsV0VCTV9FQk1MX0hFQURFUl9FTEVNRU5UX01JU1NJTkc6MzAwOCxXRUJNX1NFR01FTlRfRUxFTUVOVF9NSVNTSU5HOjMwMDksV0VCTV9JTkZPX0VMRU1FTlRfTUlTU0lORzozMDEwLFdFQk1fRFVSQVRJT05fRUxFTUVOVF9NSVNTSU5HOjMwMTEsV0VCTV9DVUVfVFJBQ0tfUE9TSVRJT05TX0VMRU1FTlRfTUlTU0lORzozMDEyLFdFQk1fQ1VFX1RJTUVfRUxFTUVOVF9NSVNTSU5HOjMwMTMsTUVESUFfU09VUkNFX09QRVJBVElPTl9GQUlMRUQ6MzAxNCxNRURJQV9TT1VSQ0VfT1BFUkFUSU9OX1RIUkVXOjMwMTUsVklERU9fRVJST1I6MzAxNixRVU9UQV9FWENFRURFRF9FUlJPUjozMDE3LFRSQU5TTVVYSU5HX0ZBSUxFRDozMDE4LFxuVU5BQkxFX1RPX0dVRVNTX01BTklGRVNUX1RZUEU6NEUzLERBU0hfSU5WQUxJRF9YTUw6NDAwMSxEQVNIX05PX1NFR01FTlRfSU5GTzo0MDAyLERBU0hfRU1QVFlfQURBUFRBVElPTl9TRVQ6NDAwMyxEQVNIX0VNUFRZX1BFUklPRDo0MDA0LERBU0hfV0VCTV9NSVNTSU5HX0lOSVQ6NDAwNSxEQVNIX1VOU1VQUE9SVEVEX0NPTlRBSU5FUjo0MDA2LERBU0hfUFNTSF9CQURfRU5DT0RJTkc6NDAwNyxEQVNIX05PX0NPTU1PTl9LRVlfU1lTVEVNOjQwMDgsREFTSF9NVUxUSVBMRV9LRVlfSURTX05PVF9TVVBQT1JURUQ6NDAwOSxEQVNIX0NPTkZMSUNUSU5HX0tFWV9JRFM6NDAxMCxSRVNUUklDVElPTlNfQ0FOTk9UX0JFX01FVDo0MDEyLEhMU19QTEFZTElTVF9IRUFERVJfTUlTU0lORzo0MDE1LElOVkFMSURfSExTX1RBRzo0MDE2LEhMU19JTlZBTElEX1BMQVlMSVNUX0hJRVJBUkNIWTo0MDE3LERBU0hfRFVQTElDQVRFX1JFUFJFU0VOVEFUSU9OX0lEOjQwMTgsSExTX01VTFRJUExFX01FRElBX0lOSVRfU0VDVElPTlNfRk9VTkQ6NDAyMCxcbkhMU19DT1VMRF9OT1RfR1VFU1NfTUlNRV9UWVBFOjQwMjEsSExTX01BU1RFUl9QTEFZTElTVF9OT1RfUFJPVklERUQ6NDAyMixITFNfUkVRVUlSRURfQVRUUklCVVRFX01JU1NJTkc6NDAyMyxITFNfUkVRVUlSRURfVEFHX01JU1NJTkc6NDAyNCxITFNfQ09VTERfTk9UX0dVRVNTX0NPREVDUzo0MDI1LEhMU19LRVlGT1JNQVRTX05PVF9TVVBQT1JURUQ6NDAyNixEQVNIX1VOU1VQUE9SVEVEX1hMSU5LX0FDVFVBVEU6NDAyNyxEQVNIX1hMSU5LX0RFUFRIX0xJTUlUOjQwMjgsSExTX0NPVUxEX05PVF9QQVJTRV9TRUdNRU5UX1NUQVJUX1RJTUU6NDAzMCxDT05URU5UX1VOU1VQUE9SVEVEX0JZX0JST1dTRVI6NDAzMixDQU5OT1RfQUREX0VYVEVSTkFMX1RFWFRfVE9fTElWRV9TVFJFQU06NDAzMyxITFNfQUVTXzEyOF9FTkNSWVBUSU9OX05PVF9TVVBQT1JURUQ6NDAzNCxITFNfSU5URVJOQUxfU0tJUF9TVFJFQU06NDAzNSxOT19WQVJJQU5UUzo0MDM2LFBFUklPRF9GTEFUVEVOSU5HX0ZBSUxFRDo0MDM3LFxuSU5DT05TSVNURU5UX0RSTV9BQ1JPU1NfUEVSSU9EUzo0MDM4LEhMU19WQVJJQUJMRV9OT1RfRk9VTkQ6NDAzOSxTVFJFQU1JTkdfRU5HSU5FX1NUQVJUVVBfSU5WQUxJRF9TVEFURTo1MDA2LE5PX1JFQ09HTklaRURfS0VZX1NZU1RFTVM6NkUzLFJFUVVFU1RFRF9LRVlfU1lTVEVNX0NPTkZJR19VTkFWQUlMQUJMRTo2MDAxLEZBSUxFRF9UT19DUkVBVEVfQ0RNOjYwMDIsRkFJTEVEX1RPX0FUVEFDSF9UT19WSURFTzo2MDAzLElOVkFMSURfU0VSVkVSX0NFUlRJRklDQVRFOjYwMDQsRkFJTEVEX1RPX0NSRUFURV9TRVNTSU9OOjYwMDUsRkFJTEVEX1RPX0dFTkVSQVRFX0xJQ0VOU0VfUkVRVUVTVDo2MDA2LExJQ0VOU0VfUkVRVUVTVF9GQUlMRUQ6NjAwNyxMSUNFTlNFX1JFU1BPTlNFX1JFSkVDVEVEOjYwMDgsRU5DUllQVEVEX0NPTlRFTlRfV0lUSE9VVF9EUk1fSU5GTzo2MDEwLE5PX0xJQ0VOU0VfU0VSVkVSX0dJVkVOOjYwMTIsT0ZGTElORV9TRVNTSU9OX1JFTU9WRUQ6NjAxMyxFWFBJUkVEOjYwMTQsXG5TRVJWRVJfQ0VSVElGSUNBVEVfUkVRVUlSRUQ6NjAxNSxJTklUX0RBVEFfVFJBTlNGT1JNX0VSUk9SOjYwMTYsTE9BRF9JTlRFUlJVUFRFRDo3RTMsT1BFUkFUSU9OX0FCT1JURUQ6NzAwMSxOT19WSURFT19FTEVNRU5UOjcwMDIsT0JKRUNUX0RFU1RST1lFRDo3MDAzLENBU1RfQVBJX1VOQVZBSUxBQkxFOjhFMyxOT19DQVNUX1JFQ0VJVkVSUzo4MDAxLEFMUkVBRFlfQ0FTVElORzo4MDAyLFVORVhQRUNURURfQ0FTVF9FUlJPUjo4MDAzLENBU1RfQ0FOQ0VMRURfQllfVVNFUjo4MDA0LENBU1RfQ09OTkVDVElPTl9USU1FRF9PVVQ6ODAwNSxDQVNUX1JFQ0VJVkVSX0FQUF9VTkFWQUlMQUJMRTo4MDA2LFNUT1JBR0VfTk9UX1NVUFBPUlRFRDo5RTMsSU5ERVhFRF9EQl9FUlJPUjo5MDAxLERFUFJFQ0FURURfT1BFUkFUSU9OX0FCT1JURUQ6OTAwMixSRVFVRVNURURfSVRFTV9OT1RfRk9VTkQ6OTAwMyxNQUxGT1JNRURfT0ZGTElORV9VUkk6OTAwNCxDQU5OT1RfU1RPUkVfTElWRV9PRkZMSU5FOjkwMDUsXG5OT19JTklUX0RBVEFfRk9SX09GRkxJTkU6OTAwNyxMT0NBTF9QTEFZRVJfSU5TVEFOQ0VfUkVRVUlSRUQ6OTAwOCxORVdfS0VZX09QRVJBVElPTl9OT1RfU1VQUE9SVEVEOjkwMTEsS0VZX05PVF9GT1VORDo5MDEyLE1JU1NJTkdfU1RPUkFHRV9DRUxMOjkwMTMsQ1NfSU1BX1NES19NSVNTSU5HOjFFNCxDU19BRF9NQU5BR0VSX05PVF9JTklUSUFMSVpFRDoxMDAwMSxTU19JTUFfU0RLX01JU1NJTkc6MTAwMDIsU1NfQURfTUFOQUdFUl9OT1RfSU5JVElBTElaRUQ6MTAwMDMsQ1VSUkVOVF9EQUlfUkVRVUVTVF9OT1RfRklOSVNIRUQ6MTAwMDR9O2Z1bmN0aW9uIHdiKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfXdiLnByb3RvdHlwZS5SPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5zdG9wKCk7dmFyIGM9ITAsZD1udWxsO3RoaXMuYT1mdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoZCk7Yz0hMX07ZD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2MmJmIuYigpfSwxRTMqYSk7cmV0dXJuIHRoaXN9O3diLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hKCksdGhpcy5hPW51bGwpfTtmdW5jdGlvbiBNKGEpe3RoaXMuYj1hO3RoaXMuYT1udWxsfU0ucHJvdG90eXBlLk9iPWZ1bmN0aW9uKCl7dGhpcy5zdG9wKCk7dGhpcy5iKCk7cmV0dXJuIHRoaXN9O00ucHJvdG90eXBlLlI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLnN0b3AoKTt0aGlzLmE9KG5ldyB3YihmdW5jdGlvbigpe2IuYigpfSkpLlIoYSk7cmV0dXJuIHRoaXN9O00ucHJvdG90eXBlLm9hPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5zdG9wKCk7dGhpcy5hPShuZXcgd2IoZnVuY3Rpb24oKXtiLmEuUihhKTtiLmIoKX0pKS5SKGEpO3JldHVybiB0aGlzfTtNLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLnN0b3AoKSx0aGlzLmE9bnVsbCl9O0soXCJzaGFrYS51dGlsLlRpbWVyXCIsTSk7TS5wcm90b3R5cGUuc3RvcD1NLnByb3RvdHlwZS5zdG9wO00ucHJvdG90eXBlLnRpY2tFdmVyeT1NLnByb3RvdHlwZS5vYTtNLnByb3RvdHlwZS50aWNrQWZ0ZXI9TS5wcm90b3R5cGUuUjtcbk0ucHJvdG90eXBlLnRpY2tOb3c9TS5wcm90b3R5cGUuT2I7ZnVuY3Rpb24geGIoYSxiKXt2YXIgYz15YigpO3RoaXMuaj1udWxsPT1hLm1heEF0dGVtcHRzP2MubWF4QXR0ZW1wdHM6YS5tYXhBdHRlbXB0czt0aGlzLmY9bnVsbD09YS5iYXNlRGVsYXk/Yy5iYXNlRGVsYXk6YS5iYXNlRGVsYXk7dGhpcy5oPW51bGw9PWEuZnV6ekZhY3Rvcj9jLmZ1enpGYWN0b3I6YS5mdXp6RmFjdG9yO3RoaXMuZz1udWxsPT1hLmJhY2tvZmZGYWN0b3I/Yy5iYWNrb2ZmRmFjdG9yOmEuYmFja29mZkZhY3Rvcjt0aGlzLmE9MDt0aGlzLmI9dGhpcy5mO2lmKHRoaXMuYz12b2lkIDA9PT1iPyExOmIpdGhpcy5hPTF9XG5mdW5jdGlvbiB6YihhKXt2YXIgYixjO3JldHVybiBKKGZ1bmN0aW9uKGQpe2lmKDE9PWQuYSl7aWYoYS5hPj1hLmopaWYoYS5jKWEuYT0xLGEuYj1hLmY7ZWxzZSB0aHJvdyBuZXcgTCgyLDcsMTAxMCk7Yj1hLmE7YS5hKys7aWYoMD09YilyZXR1cm4gZFtcInJldHVyblwiXSgpO2M9YS5iKigxKygyKk1hdGgucmFuZG9tKCktMSkqYS5oKTtyZXR1cm4gdChkLG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUpeyhuZXcgTShlKSkuUihjLzFFMyl9KSwyKX1hLmIqPWEuZzt3KGQpfSl9ZnVuY3Rpb24geWIoKXtyZXR1cm57bWF4QXR0ZW1wdHM6MixiYXNlRGVsYXk6MUUzLGJhY2tvZmZGYWN0b3I6MixmdXp6RmFjdG9yOi41LHRpbWVvdXQ6MH19O2Z1bmN0aW9uIEFiKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZSl7YT1kO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7cmV0dXJuIGN9QWIucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24oKXt9O0FiLnByb3RvdHlwZS5yZWplY3Q9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEJiKGEsYil7dGhpcy5wcm9taXNlPWE7dGhpcy5jPWI7dGhpcy5hPSExfWZ1bmN0aW9uIENiKGEpe3JldHVybiBuZXcgQmIoUHJvbWlzZS5yZWplY3QoYSksZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KX1mdW5jdGlvbiBEYigpe3ZhciBhPVByb21pc2UucmVqZWN0KG5ldyBMKDIsNyw3MDAxKSk7YVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIG5ldyBCYihhLGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSl9ZnVuY3Rpb24gRWIoYSl7cmV0dXJuIG5ldyBCYihQcm9taXNlLnJlc29sdmUoYSksZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KX1mdW5jdGlvbiBGYihhKXtyZXR1cm4gbmV3IEJiKGEsZnVuY3Rpb24oKXtyZXR1cm4gYVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSl9KX1CYi5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLmE9ITA7cmV0dXJuIHRoaXMuYygpfTtcbmZ1bmN0aW9uIEdiKGEpe3JldHVybiBuZXcgQmIoUHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIGIucHJvbWlzZX0pKSxmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChhLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYi5hYm9ydCgpfSkpfSl9QmIucHJvdG90eXBlW1wiZmluYWxseVwiXT1mdW5jdGlvbihhKXt0aGlzLnByb21pc2UudGhlbihmdW5jdGlvbigpe3JldHVybiBhKCEwKX0sZnVuY3Rpb24oKXtyZXR1cm4gYSghMSl9KTtyZXR1cm4gdGhpc307XG5CYi5wcm90b3R5cGUuVT1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoaCl7cmV0dXJuIGZ1bmN0aW9uKGspe2lmKGUuYSYmaClmLnJlamVjdChnKTtlbHNle3ZhciBsPWg/YTpiO2w/ZD1IYihsLGssZik6KGg/Zi5yZXNvbHZlOmYucmVqZWN0KShrKX19fWZ1bmN0aW9uIGQoKXtmLnJlamVjdChnKTtyZXR1cm4gZS5hYm9ydCgpfXZhciBlPXRoaXMsZj1uZXcgQWIsZz1uZXcgTCgyLDcsNzAwMSk7dGhpcy5wcm9taXNlLnRoZW4oYyghMCksYyghMSkpO3JldHVybiBuZXcgQmIoZixmdW5jdGlvbigpe3JldHVybiBkKCl9KX07XG5mdW5jdGlvbiBIYihhLGIsYyl7dHJ5e3ZhciBkPWEoYik7aWYoZCYmZC5wcm9taXNlJiZkLmFib3J0KXJldHVybiBjLnJlc29sdmUoZC5wcm9taXNlKSxmdW5jdGlvbigpe3JldHVybiBkLmFib3J0KCl9O2MucmVzb2x2ZShkKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGQpLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSl9fWNhdGNoKGUpe3JldHVybiBjLnJlamVjdChlKSxmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX19fUsoXCJzaGFrYS51dGlsLkFib3J0YWJsZU9wZXJhdGlvblwiLEJiKTtCYi5wcm90b3R5cGUuY2hhaW49QmIucHJvdG90eXBlLlU7QmIucHJvdG90eXBlW1wiZmluYWxseVwiXT1CYi5wcm90b3R5cGVbXCJmaW5hbGx5XCJdO0JiLmFsbD1HYjtCYi5wcm90b3R5cGUuYWJvcnQ9QmIucHJvdG90eXBlLmFib3J0O0JiLm5vdEFib3J0YWJsZT1GYjtCYi5jb21wbGV0ZWQ9RWI7QmIuYWJvcnRlZD1EYjtCYi5mYWlsZWQ9Q2I7ZnVuY3Rpb24gSWIoKXt9ZnVuY3Rpb24gSmIoYSxiKXtpZighYSYmIWIpcmV0dXJuITA7aWYoIWF8fCFifHxhLmJ5dGVMZW5ndGghPWIuYnl0ZUxlbmd0aClyZXR1cm4hMTtpZihLYihhKT09S2IoYikmJihhLmJ5dGVPZmZzZXR8fDApPT0oYi5ieXRlT2Zmc2V0fHwwKSlyZXR1cm4hMDtmb3IodmFyIGM9TihhKSxkPU4oYiksZT1xKGZiKGEuYnl0ZUxlbmd0aCkpLGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKWlmKGY9Zi52YWx1ZSxjW2ZdIT1kW2ZdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEtiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/YTphLmJ1ZmZlcn1mdW5jdGlvbiBMYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2E6MD09YS5ieXRlT2Zmc2V0JiZhLmJ5dGVMZW5ndGg9PWEuYnVmZmVyLmJ5dGVMZW5ndGg/YS5idWZmZXI6KG5ldyBVaW50OEFycmF5KGEpKS5idWZmZXJ9XG5mdW5jdGlvbiBOKGEsYixjKXtjPXZvaWQgMD09PWM/SW5maW5pdHk6YztyZXR1cm4gTWIoYSx2b2lkIDA9PT1iPzA6YixjLFVpbnQ4QXJyYXkpfWZ1bmN0aW9uIE5iKGEsYixjKXtjPXZvaWQgMD09PWM/SW5maW5pdHk6YztyZXR1cm4gTWIoYSx2b2lkIDA9PT1iPzA6YixjLERhdGFWaWV3KX1mdW5jdGlvbiBNYihhLGIsYyxkKXt2YXIgZT0oYS5ieXRlT2Zmc2V0fHwwKSthLmJ5dGVMZW5ndGg7Yj1NYXRoLm1heCgwLE1hdGgubWluKChhLmJ5dGVPZmZzZXR8fDApK2IsZSkpO3JldHVybiBuZXcgZChLYihhKSxiLE1hdGgubWluKGIrTWF0aC5tYXgoYywwKSxlKS1iKX1LKFwic2hha2EudXRpbC5CdWZmZXJVdGlsc1wiLEliKTtJYi50b0RhdGFWaWV3PU5iO0liLnRvVWludDg9TjtJYi50b0FycmF5QnVmZmVyPUxiO0liLmVxdWFsPUpiO2Z1bmN0aW9uIFEoYSxiKXtiPXZvaWQgMD09PWI/e306Yjtmb3IodmFyIGMgaW4gYilPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxjLHt2YWx1ZTpiW2NdLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITB9KTt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9dGhpcy5jYW5jZWxhYmxlPXRoaXMuYnViYmxlcz0hMTt0aGlzLnRpbWVTdGFtcD13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdygpOkRhdGUubm93KCk7dGhpcy50eXBlPWE7dGhpcy5pc1RydXN0ZWQ9ITE7dGhpcy50YXJnZXQ9dGhpcy5jdXJyZW50VGFyZ2V0PW51bGw7dGhpcy5hPSExfVEucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxhYmxlJiYodGhpcy5kZWZhdWx0UHJldmVudGVkPSEwKX07US5wcm90b3R5cGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5hPSEwfTtcblEucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe307ZnVuY3Rpb24gT2IoKXt0aGlzLmE9e319T2IucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oYSxiKXt0aGlzLmEuaGFzT3duUHJvcGVydHkoYSk/dGhpcy5hW2FdLnB1c2goYik6dGhpcy5hW2FdPVtiXX07T2IucHJvdG90eXBlLmdldD1mdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLmFbYV0pP2Euc2xpY2UoKTpudWxsfTtPYi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEsYil7YSBpbiB0aGlzLmEmJih0aGlzLmFbYV09dGhpcy5hW2FdLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4gYyE9Yn0pKX07ZnVuY3Rpb24gUWIoYSxiKXtmb3IodmFyIGMgaW4gYS5hKWIoYyxhLmFbY10pfTtmdW5jdGlvbiBSYigpe3RoaXMuRWM9bmV3IE9iO3RoaXMuVmI9dGhpc31SYi5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWMucHVzaChhLGIpfTtSYi5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRWMucmVtb3ZlKGEsYil9O1JiLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuRWMuZ2V0KGEudHlwZSl8fFtdO2I9cShiKTtmb3IodmFyIGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKXtjPWMudmFsdWU7YS50YXJnZXQ9dGhpcy5WYjthLmN1cnJlbnRUYXJnZXQ9dGhpcy5WYjt0cnl7Yy5oYW5kbGVFdmVudD9jLmhhbmRsZUV2ZW50KGEpOmMuY2FsbCh0aGlzLGEpfWNhdGNoKGQpe31pZihhLmEpYnJlYWt9cmV0dXJuIGEuZGVmYXVsdFByZXZlbnRlZH07ZnVuY3Rpb24gU2IoYSl7ZnVuY3Rpb24gYihkKXtzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJ1bmRlZmluZWRcIjpjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcInN5bWJvbFwiOmNhc2UgXCJmdW5jdGlvblwiOnJldHVybiBkO2RlZmF1bHQ6aWYoIWR8fGQuYnVmZmVyJiZkLmJ1ZmZlci5jb25zdHJ1Y3Rvcj09QXJyYXlCdWZmZXIpcmV0dXJuIGQ7aWYoYy5oYXMoZCkpcmV0dXJuIG51bGw7dmFyIGU9ZC5jb25zdHJ1Y3Rvcj09QXJyYXk7aWYoZC5jb25zdHJ1Y3RvciE9T2JqZWN0JiYhZSlyZXR1cm4gbnVsbDtjLmFkZChkKTt2YXIgZj1lP1tdOnt9LGc7Zm9yKGcgaW4gZClmW2ddPWIoZFtnXSk7ZSYmKGYubGVuZ3RoPWQubGVuZ3RoKTtyZXR1cm4gZn19dmFyIGM9bmV3IFNldDtyZXR1cm4gYihhKX1mdW5jdGlvbiBUYihhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifTtmdW5jdGlvbiBVYihhLGIpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYSYmXCJudW1iZXJcIj09PXR5cGVvZiBiJiZpc05hTihhKSYmaXNOYU4oYik/ITA6YT09PWJ9ZnVuY3Rpb24gVmIoYSxiKXt2YXIgYz1hLmluZGV4T2YoYik7LTE8YyYmYS5zcGxpY2UoYywxKX1mdW5jdGlvbiBXYihhLGIsYyl7Y3x8KGM9VWIpO2lmKGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtiPWIuc2xpY2UoKTt2YXIgZD17fTthPXEoYSk7Zm9yKHZhciBlPWEubmV4dCgpOyFlLmRvbmU7ZD17dGM6ZC50Y30sZT1hLm5leHQoKSl7ZC50Yz1lLnZhbHVlO2U9Yi5maW5kSW5kZXgoZnVuY3Rpb24oZil7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBjKGYudGMsZyl9fShkKSk7aWYoLTE9PWUpcmV0dXJuITE7YltlXT1iW2IubGVuZ3RoLTFdO2IucG9wKCl9cmV0dXJuIDA9PWIubGVuZ3RofTtmdW5jdGlvbiBYYigpe3RoaXMuYT1bXX1mdW5jdGlvbiBZYihhLGIpe2EuYS5wdXNoKGJbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7VmIoYS5hLGIpfSkpfVhiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9cSh0aGlzLmEpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWM9Yy52YWx1ZSxjLnByb21pc2VbXCJjYXRjaFwiXShmdW5jdGlvbigpe30pLGEucHVzaChjLmFib3J0KCkpO3RoaXMuYT1bXTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9O2Z1bmN0aW9uIFpiKGEpe1JiLmNhbGwodGhpcyk7dGhpcy5mPSExO3RoaXMuZz1uZXcgWGI7dGhpcy5hPW5ldyBTZXQ7dGhpcy5iPW5ldyBTZXQ7dGhpcy5jPWF8fG51bGx9cGEoWmIsUmIpO2Z1bmN0aW9uICRiKGEsYixjKXtjPWN8fGFjO3ZhciBkPWJjW2FdO2lmKCFkfHxjPj1kLnByaW9yaXR5KWJjW2FdPXtwcmlvcml0eTpjLEhlOmJ9fXA9WmIucHJvdG90eXBlO3AuSmU9ZnVuY3Rpb24oYSl7dGhpcy5hLmFkZChhKX07cC5iZj1mdW5jdGlvbihhKXt0aGlzLmFbXCJkZWxldGVcIl0oYSl9O3AuYmU9ZnVuY3Rpb24oKXt0aGlzLmEuY2xlYXIoKX07cC5LZT1mdW5jdGlvbihhKXt0aGlzLmIuYWRkKGEpfTtwLmNmPWZ1bmN0aW9uKGEpe3RoaXMuYltcImRlbGV0ZVwiXShhKX07cC5jZT1mdW5jdGlvbigpe3RoaXMuYi5jbGVhcigpfTtcbmZ1bmN0aW9uIGNjKGEsYil7cmV0dXJue3VyaXM6YSxtZXRob2Q6XCJHRVRcIixib2R5Om51bGwsaGVhZGVyczp7fSxhbGxvd0Nyb3NzU2l0ZUNyZWRlbnRpYWxzOiExLHJldHJ5UGFyYW1ldGVyczpiLGxpY2Vuc2VSZXF1ZXN0VHlwZTpudWxsLHNlc3Npb25JZDpudWxsfX1wLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmY9ITA7dGhpcy5hLmNsZWFyKCk7dGhpcy5iLmNsZWFyKCk7cmV0dXJuIHRoaXMuZy5kZXN0cm95KCl9O1xucC5yZXF1ZXN0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPW5ldyBkYztpZih0aGlzLmYpe3ZhciBlPVByb21pc2UucmVqZWN0KG5ldyBMKDIsNyw3MDAxKSk7ZVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSk7cmV0dXJuIG5ldyBlYyhlLGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxkKX1iLm1ldGhvZD1iLm1ldGhvZHx8XCJHRVRcIjtiLmhlYWRlcnM9Yi5oZWFkZXJzfHx7fTtiLnJldHJ5UGFyYW1ldGVycz1iLnJldHJ5UGFyYW1ldGVycz9TYihiLnJldHJ5UGFyYW1ldGVycyk6eWIoKTtiLnVyaXM9U2IoYi51cmlzKTtlPWZjKHRoaXMsYSxiKTt2YXIgZj1lLlUoZnVuY3Rpb24oKXtyZXR1cm4gZ2MoYyxhLGIsbmV3IHhiKGIucmV0cnlQYXJhbWV0ZXJzLCExKSwwLG51bGwsZCl9KSxnPWYuVShmdW5jdGlvbihuKXtyZXR1cm4gaGMoYyxhLG4pfSksaD1EYXRlLm5vdygpLGs9MDtlLnByb21pc2UudGhlbihmdW5jdGlvbigpe2s9RGF0ZS5ub3coKS1ofSxmdW5jdGlvbigpe30pO1xudmFyIGw9MDtmLnByb21pc2UudGhlbihmdW5jdGlvbigpe2w9RGF0ZS5ub3coKX0sZnVuY3Rpb24oKXt9KTt2YXIgbT1nLlUoZnVuY3Rpb24obil7dmFyIHI9RGF0ZS5ub3coKS1sLHU9bi5yZXNwb25zZTt1LnRpbWVNcys9azt1LnRpbWVNcys9cjtuLkFlfHwhYy5jfHx1LmZyb21DYWNoZXx8YSE9aWN8fGMuYyh1LnRpbWVNcyx1LmRhdGEuYnl0ZUxlbmd0aCk7cmV0dXJuIHV9LGZ1bmN0aW9uKG4pe24mJihuLnNldmVyaXR5PTIpO3Rocm93IG47fSk7ZT1uZXcgZWMobS5wcm9taXNlLGZ1bmN0aW9uKCl7cmV0dXJuIG0uYWJvcnQoKX0sZCk7WWIodGhpcy5nLGUpO3JldHVybiBlfTtcbmZ1bmN0aW9uIGZjKGEsYixjKXt2YXIgZD1FYih2b2lkIDApLGU9e307YT1xKGEuYSk7Zm9yKHZhciBmPWEubmV4dCgpOyFmLmRvbmU7ZT17d2M6ZS53Y30sZj1hLm5leHQoKSllLndjPWYudmFsdWUsZD1kLlUoZnVuY3Rpb24oZyl7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5ib2R5JiYoYy5ib2R5PUxiKGMuYm9keSkpO3JldHVybiBnLndjKGIsYyl9fShlKSk7cmV0dXJuIGQuVSh2b2lkIDAsZnVuY3Rpb24oZyl7aWYoZyBpbnN0YW5jZW9mIEwmJjcwMDE9PWcuY29kZSl0aHJvdyBnO3Rocm93IG5ldyBMKDIsMSwxMDA2LGcpO30pfVxuZnVuY3Rpb24gZ2MoYSxiLGMsZCxlLGYsZyl7dmFyIGg9bmV3IGpiKGMudXJpc1tlXSksaz1oLnNhLGw9ITE7a3x8KGs9bG9jYXRpb24ucHJvdG9jb2wsaz1rLnNsaWNlKDAsLTEpLGtiKGgsayksYy51cmlzW2VdPWgudG9TdHJpbmcoKSk7az1rLnRvTG93ZXJDYXNlKCk7dmFyIG09KGs9YmNba10pP2suSGU6bnVsbDtpZighbSlyZXR1cm4gQ2IobmV3IEwoMiwxLDFFMyxoKSk7dmFyIG47cmV0dXJuIEZiKHpiKGQpKS5VKGZ1bmN0aW9uKCl7aWYoYS5mKXJldHVybiBEYigpO249RGF0ZS5ub3coKTtyZXR1cm4gbShjLnVyaXNbZV0sYyxiLGZ1bmN0aW9uKHIsdSx2KXthLmMmJmI9PWljJiYoYS5jKHIsdSksbD0hMCxnLmE9dil9KX0pLlUoZnVuY3Rpb24ocil7dm9pZCAwPT1yLnRpbWVNcyYmKHIudGltZU1zPURhdGUubm93KCktbik7cmV0dXJue3Jlc3BvbnNlOnIsQWU6bH19LGZ1bmN0aW9uKHIpe2lmKGEuZilyZXR1cm4gRGIoKTtpZihyIGluc3RhbmNlb2YgTCl7aWYoNzAwMT09ci5jb2RlKXRocm93IHI7XG5pZigxMDEwPT1yLmNvZGUpdGhyb3cgZjtpZigxPT1yLnNldmVyaXR5KXt2YXIgdT1uZXcgUShcInJldHJ5XCIse2Vycm9yOnJ9KTthLmRpc3BhdGNoRXZlbnQodSk7ZT0oZSsxKSVjLnVyaXMubGVuZ3RoO3JldHVybiBnYyhhLGIsYyxkLGUscixnKX19dGhyb3cgcjt9KX1cbmZ1bmN0aW9uIGhjKGEsYixjKXt2YXIgZD1FYih2b2lkIDApLGU9e307YT1xKGEuYik7Zm9yKHZhciBmPWEubmV4dCgpOyFmLmRvbmU7ZT17eGM6ZS54Y30sZj1hLm5leHQoKSllLnhjPWYudmFsdWUsZD1kLlUoZnVuY3Rpb24oZyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9Yy5yZXNwb25zZTtoLmRhdGEmJihoLmRhdGE9TGIoaC5kYXRhKSk7cmV0dXJuIGcueGMoYixoKX19KGUpKTtyZXR1cm4gZC5VKGZ1bmN0aW9uKCl7cmV0dXJuIGN9LGZ1bmN0aW9uKGcpe3ZhciBoPTI7aWYoZyBpbnN0YW5jZW9mIEwpe2lmKDcwMDE9PWcuY29kZSl0aHJvdyBnO2g9Zy5zZXZlcml0eX10aHJvdyBuZXcgTChoLDEsMTAwNyxnKTt9KX1LKFwic2hha2EubmV0Lk5ldHdvcmtpbmdFbmdpbmVcIixaYik7WmIucHJvdG90eXBlLnJlcXVlc3Q9WmIucHJvdG90eXBlLnJlcXVlc3Q7WmIucHJvdG90eXBlLmRlc3Ryb3k9WmIucHJvdG90eXBlLmRlc3Ryb3k7WmIubWFrZVJlcXVlc3Q9Y2M7XG5aYi5kZWZhdWx0UmV0cnlQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHliKCl9O1piLnByb3RvdHlwZS5jbGVhckFsbFJlc3BvbnNlRmlsdGVycz1aYi5wcm90b3R5cGUuY2U7WmIucHJvdG90eXBlLnVucmVnaXN0ZXJSZXNwb25zZUZpbHRlcj1aYi5wcm90b3R5cGUuY2Y7WmIucHJvdG90eXBlLnJlZ2lzdGVyUmVzcG9uc2VGaWx0ZXI9WmIucHJvdG90eXBlLktlO1piLnByb3RvdHlwZS5jbGVhckFsbFJlcXVlc3RGaWx0ZXJzPVpiLnByb3RvdHlwZS5iZTtaYi5wcm90b3R5cGUudW5yZWdpc3RlclJlcXVlc3RGaWx0ZXI9WmIucHJvdG90eXBlLmJmO1piLnByb3RvdHlwZS5yZWdpc3RlclJlcXVlc3RGaWx0ZXI9WmIucHJvdG90eXBlLkplO1piLnVucmVnaXN0ZXJTY2hlbWU9ZnVuY3Rpb24oYSl7ZGVsZXRlIGJjW2FdfTtaYi5yZWdpc3RlclNjaGVtZT0kYjtmdW5jdGlvbiBkYygpe3RoaXMuYT0wfVpiLk51bUJ5dGVzUmVtYWluaW5nQ2xhc3M9ZGM7XG5mdW5jdGlvbiBlYyhhLGIsYyl7QmIuY2FsbCh0aGlzLGEsYik7dGhpcy5iPWN9cGEoZWMsQmIpO1piLlBlbmRpbmdSZXF1ZXN0PWVjO3ZhciBpYz0xO1piLlJlcXVlc3RUeXBlPXtNQU5JRkVTVDowLFNFR01FTlQ6aWMsTElDRU5TRToyLEFQUDozLFRJTUlORzo0fTt2YXIgYWM9MztaYi5QbHVnaW5Qcmlvcml0eT17RkFMTEJBQ0s6MSxQUkVGRVJSRUQ6MixBUFBMSUNBVElPTjphY307dmFyIGJjPXt9O2Z1bmN0aW9uIGpjKGEpe3RoaXMuYT0hMTt0aGlzLmI9bmV3IEFiO3RoaXMuYz1hfWpjLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZih0aGlzLmEpcmV0dXJuIHRoaXMuYjt0aGlzLmE9ITA7cmV0dXJuIHRoaXMuYygpLnRoZW4oZnVuY3Rpb24oKXthLmIucmVzb2x2ZSgpfSxmdW5jdGlvbigpe2EuYi5yZXNvbHZlKCl9KX07ZnVuY3Rpb24ga2MoYSxiKXtpZihhLmEpe2lmKGIgaW5zdGFuY2VvZiBMJiY3MDAzPT1iLmNvZGUpdGhyb3cgYjt0aHJvdyBuZXcgTCgyLDcsNzAwMyxiKTt9fTtmdW5jdGlvbiBsYygpe3RoaXMuYT1uZXcgT2J9cD1sYy5wcm90b3R5cGU7cC5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5YYSgpO3RoaXMuYT1udWxsfTtwLmw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5hJiYoYT1uZXcgbWMoYSxiLGMsZCksdGhpcy5hLnB1c2goYixhKSl9O3AuaGE9ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShnKXtmLnBhKGEsYixlKTtjKGcpfXZhciBmPXRoaXM7dGhpcy5sKGEsYixlLGQpfTtwLnBhPWZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmEpe3ZhciBkPXRoaXMuYS5nZXQoYil8fFtdO2Q9cShkKTtmb3IodmFyIGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKWU9ZS52YWx1ZSxlLnRhcmdldCE9YXx8YyE9ZS5saXN0ZW5lciYmY3x8KGUucGEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07XG5wLlhhPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXt2YXIgYT10aGlzLmEsYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2guYXBwbHkoYixoYShhLmFbY10pKTthPXEoYik7Zm9yKGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKWIudmFsdWUucGEoKTt0aGlzLmEuYT17fX19O0soXCJzaGFrYS51dGlsLkV2ZW50TWFuYWdlclwiLGxjKTtsYy5wcm90b3R5cGUucmVtb3ZlQWxsPWxjLnByb3RvdHlwZS5YYTtsYy5wcm90b3R5cGUudW5saXN0ZW49bGMucHJvdG90eXBlLnBhO2xjLnByb3RvdHlwZS5saXN0ZW5PbmNlPWxjLnByb3RvdHlwZS5oYTtsYy5wcm90b3R5cGUubGlzdGVuPWxjLnByb3RvdHlwZS5sO2xjLnByb3RvdHlwZS5yZWxlYXNlPWxjLnByb3RvdHlwZS5yZWxlYXNlO2Z1bmN0aW9uIG1jKGEsYixjLGQpe3RoaXMudGFyZ2V0PWE7dGhpcy50eXBlPWI7dGhpcy5saXN0ZW5lcj1jO3RoaXMuYT1uYyhhLGQpO3RoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoYixjLHRoaXMuYSl9XG5tYy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudHlwZSx0aGlzLmxpc3RlbmVyLHRoaXMuYSk7dGhpcy5saXN0ZW5lcj10aGlzLnRhcmdldD1udWxsO3RoaXMuYT0hMX07ZnVuY3Rpb24gbmMoYSxiKXtpZih2b2lkIDA9PWIpcmV0dXJuITE7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBiKXJldHVybiBiO3ZhciBjPW5ldyBTZXQoW1wicGFzc2l2ZVwiLFwiY2FwdHVyZVwiXSk7T2JqZWN0LmtleXMoYikuZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybiFjLmhhcyhkKX0pO3JldHVybiBvYyhhKT9iOmIuY2FwdHVyZXx8ITF9XG5mdW5jdGlvbiBvYyhhKXt2YXIgYj1wYztpZih2b2lkIDA9PWIpe2I9ITE7dHJ5e3ZhciBjPXt9LGQ9e2dldDpmdW5jdGlvbigpe2I9ITA7cmV0dXJuITF9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcInBhc3NpdmVcIixkKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxcImNhcHR1cmVcIixkKTtkPWZ1bmN0aW9uKCl7fTthLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsZCxjKTthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsZCxjKX1jYXRjaChlKXtiPSExfXBjPWJ9cmV0dXJuIGJ8fCExfXZhciBwYz12b2lkIDA7ZnVuY3Rpb24gcWMoYSl7dGhpcy5iPWE7dGhpcy5hPXZvaWQgMH1xYy5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXt2b2lkIDA9PXRoaXMuYSYmKHRoaXMuYT10aGlzLmIoKSk7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gcmMoKXt9ZnVuY3Rpb24gc2MoYSl7aWYoIWEpcmV0dXJuXCJcIjthPU4oYSk7MjM5PT1hWzBdJiYxODc9PWFbMV0mJjE5MT09YVsyXSYmKGE9YS5zdWJhcnJheSgzKSk7YT10YyhhKTthPWVzY2FwZShhKTt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt0aHJvdyBuZXcgTCgyLDIsMjAwNCk7fX1mdW5jdGlvbiB1YyhhLGIsYyl7aWYoIWEpcmV0dXJuXCJcIjtpZighYyYmMCE9YS5ieXRlTGVuZ3RoJTIpdGhyb3cgbmV3IEwoMiwyLDIwMDQpO3ZhciBkPU1hdGguZmxvb3IoYS5ieXRlTGVuZ3RoLzIpO2M9bmV3IFVpbnQxNkFycmF5KGQpO2E9TmIoYSk7ZD1xKGZiKGQpKTtmb3IodmFyIGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKWU9ZS52YWx1ZSxjW2VdPWEuZ2V0VWludDE2KDIqZSxiKTtyZXR1cm4gdGMoYyl9XG5mdW5jdGlvbiB2YyhhKXtmdW5jdGlvbiBiKGQpe3JldHVybiBjLmJ5dGVMZW5ndGg8PWR8fDMyPD1jW2RdJiYxMjY+PWNbZF19aWYoIWEpcmV0dXJuXCJcIjt2YXIgYz1OKGEpO2lmKDIzOT09Y1swXSYmMTg3PT1jWzFdJiYxOTE9PWNbMl0pcmV0dXJuIHNjKGMpO2lmKDI1ND09Y1swXSYmMjU1PT1jWzFdKXJldHVybiB1YyhjLnN1YmFycmF5KDIpLCExKTtpZigyNTU9PWNbMF0mJjI1ND09Y1sxXSlyZXR1cm4gdWMoYy5zdWJhcnJheSgyKSwhMCk7aWYoMD09Y1swXSYmMD09Y1syXSlyZXR1cm4gdWMoYSwhMSk7aWYoMD09Y1sxXSYmMD09Y1szXSlyZXR1cm4gdWMoYSwhMCk7aWYoYigwKSYmYigxKSYmYigyKSYmYigzKSlyZXR1cm4gc2MoYSk7dGhyb3cgbmV3IEwoMiwyLDIwMDMpO31cbmZ1bmN0aW9uIHdjKGEpe2E9ZW5jb2RlVVJJQ29tcG9uZW50KGEpO3ZhciBiPXVuZXNjYXBlKGEpO2E9bmV3IFVpbnQ4QXJyYXkoYi5sZW5ndGgpO2I9cShoYihiKSk7Zm9yKHZhciBjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSljPWMudmFsdWUsYVtjLlldPWMuaXRlbS5jaGFyQ29kZUF0KDApO3JldHVybiBMYihhKX1mdW5jdGlvbiB4YyhhLGIpe2Zvcih2YXIgYz1uZXcgQXJyYXlCdWZmZXIoMiphLmxlbmd0aCksZD1uZXcgRGF0YVZpZXcoYyksZT1xKGhiKGEpKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlmPWYudmFsdWUsZC5zZXRVaW50MTYoMipmLlksZi5pdGVtLmNoYXJDb2RlQXQoMCksYik7cmV0dXJuIGN9ZnVuY3Rpb24gdGMoYSl7cmV0dXJuIHljLnZhbHVlKCkoYSl9SyhcInNoYWthLnV0aWwuU3RyaW5nVXRpbHNcIixyYyk7cmMucmVzZXRGcm9tQ2hhckNvZGU9ZnVuY3Rpb24oKXt5Yy5hPXZvaWQgMH07cmMudG9VVEYxNj14YztyYy50b1VURjg9d2M7XG5yYy5mcm9tQnl0ZXNBdXRvRGV0ZWN0PXZjO3JjLmZyb21VVEYxNj11YztyYy5mcm9tVVRGOD1zYzt2YXIgeWM9bmV3IHFjKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXt0cnl7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyk7cmV0dXJuIDA8U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpLmxlbmd0aH1jYXRjaChlKXtyZXR1cm4hMX19Zm9yKHZhciBiPXtJYTo2NTUzNn07MDxiLklhO2I9e0lhOmIuSWF9LGIuSWEvPTIpaWYoYShiLklhKSlyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQubGVuZ3RoO2YrPWMuSWEpZSs9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQuc3ViYXJyYXkoZixmK2MuSWEpKTtyZXR1cm4gZX19KGIpO3JldHVybiBudWxsfSk7ZnVuY3Rpb24gemMoKXt9ZnVuY3Rpb24gQWMoYSl7YT12YyhhKTtyZXR1cm4obmV3IGpiKGEpKS5yYX1mdW5jdGlvbiBCYyhhLGIsYyl7ZnVuY3Rpb24gZChoKXtOYihmKS5zZXRVaW50MzIoZyxoLmJ5dGVMZW5ndGgsITApO2crPTQ7Zi5zZXQoTihoKSxnKTtnKz1oLmJ5dGVMZW5ndGh9aWYoIWN8fCFjLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IEwoMiw2LDYwMTUpO3ZhciBlO1wic3RyaW5nXCI9PXR5cGVvZiBiP2U9eGMoYiwhMCk6ZT1iO2E9dmMoYSk7YT14YyhhLCEwKTt2YXIgZj1uZXcgVWludDhBcnJheSgxMithLmJ5dGVMZW5ndGgrZS5ieXRlTGVuZ3RoK2MuYnl0ZUxlbmd0aCksZz0wO2QoYSk7ZChlKTtkKGMpO3JldHVybiBmfUsoXCJzaGFrYS51dGlsLkZhaXJQbGF5VXRpbHNcIix6Yyk7emMuaW5pdERhdGFUcmFuc2Zvcm09QmM7emMuZGVmYXVsdEdldENvbnRlbnRJZD1BYztmdW5jdGlvbiBDYyhhLGIpe3RoaXMuYT1hO3RoaXMuYj1ifUNjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwidlwiK3RoaXMuYStcIi5cIit0aGlzLmJ9O2Z1bmN0aW9uIERjKGEsYil7dmFyIGM9bmV3IENjKDQsMCksZD1FYyxlPWQuYSxmPWMuYi1lLmI7KDA8KGMuYS1lLmF8fGYpP2QuYzpkLmIpKGQuYSxjLGEsYil9ZnVuY3Rpb24gRmMoYSxiLGMsZCl7V2EoW2MsXCJoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW5cIixiLFwiLiBXZSBhcmUgY3VycmVudGx5IGF0IHZlcnNpb25cIixhLFwiLiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uOlwiLGRdLmpvaW4oXCIgXCIpKX1mdW5jdGlvbiBHYyhhLGIsYyxkKXtWYShbYyxcImhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIGhhcyBiZWVuIHJlbW92ZWQgaW5cIixiLFwiLiBXZSBhcmUgbm93IGF0IHZlcnNpb25cIixhLFwiLiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uOlwiLGRdLmpvaW4oXCJcIikpfXZhciBFYz1udWxsO2Z1bmN0aW9uIEhjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfWZ1bmN0aW9uIEljKCl7fWZ1bmN0aW9uIEpjKGEpe3JldHVybiBudWxsIT1hfWZ1bmN0aW9uIEtjKGEpe3ZhciBiPU9iamVjdC5jcmVhdGUoYS5wcm90b3R5cGV8fE9iamVjdC5wcm90b3R5cGUpO2E9YS5jYWxsKGIpO2F8fChEYyhcIkZhY3RvcmllcyByZXF1aXJpbmcgbmV3XCIsXCJGYWN0b3JpZXMgc2hvdWxkIGJlIHBsYWluIGZ1bmN0aW9uc1wiKSxhPWIpO3JldHVybiBhfTtmdW5jdGlvbiBMYyhhLGIpe2lmKDA9PWIubGVuZ3RoKXJldHVybiBhO3ZhciBjPWIubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBuZXcgamIoZCl9KTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIG5ldyBqYihkKX0pLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gYy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGQucmVzb2x2ZShlKX0pfSkucmVkdWNlKEhjLFtdKS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIGQudG9TdHJpbmcoKX0pfWZ1bmN0aW9uIE1jKGEsYil7cmV0dXJue2tleVN5c3RlbTphLGxpY2Vuc2VTZXJ2ZXJVcmk6XCJcIixkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZDohMSxwZXJzaXN0ZW50U3RhdGVSZXF1aXJlZDohMSxhdWRpb1JvYnVzdG5lc3M6XCJcIix2aWRlb1JvYnVzdG5lc3M6XCJcIixzZXJ2ZXJDZXJ0aWZpY2F0ZTpudWxsLGluaXREYXRhOmJ8fFtdLGtleUlkczpuZXcgU2V0fX1cbnZhciBOYz17QmE6XCJ2aWRlb1wiLGViOlwiYXVkaW9cIiwkOlwidGV4dFwiLHBmOlwiaW1hZ2VcIixmZjpcImFwcGxpY2F0aW9uXCJ9O2Z1bmN0aW9uIE9jKGEpe2Zvcih2YXIgYj1uZXcgTWFwLGM9cShPYmplY3Qua2V5cyhhKSksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpZD1kLnZhbHVlLGIuc2V0KGQsYVtkXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUGMoYSl7dmFyIGI9e307YS5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7YltkXT1jfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUWMoYSxiKXtpZihhfHxiKXtpZihhJiYhYnx8YiYmIWEpcmV0dXJuITF9ZWxzZSByZXR1cm4hMDtpZihhLnNpemUhPWIuc2l6ZSlyZXR1cm4hMTtmb3IodmFyIGM9cShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7dmFyIGU9cShkLnZhbHVlKTtkPWUubmV4dCgpLnZhbHVlO2U9ZS5uZXh0KCkudmFsdWU7aWYoIWIuaGFzKGQpKXJldHVybiExO2Q9Yi5nZXQoZCk7aWYoZCE9ZXx8dm9pZCAwPT1kKXJldHVybiExfXJldHVybiEwfTtmdW5jdGlvbiBSYyhhLGIpe3ZhciBjPWE7YiYmKGMrPSc7IGNvZGVjcz1cIicrYisnXCInKTtyZXR1cm4gY31mdW5jdGlvbiBTYyhhKXt2YXIgYj1bYS5taW1lVHlwZV07VGMuZm9yRWFjaChmdW5jdGlvbihjLGQpe3ZhciBlPWFbZF07ZSYmYi5wdXNoKGMrJz1cIicrZSsnXCInKX0pO3JldHVybiBiLmpvaW4oXCI7XCIpfWZ1bmN0aW9uIFVjKGEpe2E9YS5zcGxpdChcIi5cIik7dmFyIGI9YVswXTthLnBvcCgpO3JldHVybltiLGEuam9pbihcIi5cIildfXZhciBUYz0obmV3IE1hcCkuc2V0KFwiY29kZWNzXCIsXCJjb2RlY3NcIikuc2V0KFwiZnJhbWVSYXRlXCIsXCJmcmFtZXJhdGVcIikuc2V0KFwiYmFuZHdpZHRoXCIsXCJiaXRyYXRlXCIpLnNldChcIndpZHRoXCIsXCJ3aWR0aFwiKS5zZXQoXCJoZWlnaHRcIixcImhlaWdodFwiKS5zZXQoXCJjaGFubmVsc0NvdW50XCIsXCJjaGFubmVsc1wiKTtmdW5jdGlvbiBWYygpe3JldHVybiB3aW5kb3cuTWVkaWFTb3VyY2UmJk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZD8hMDohMX1mdW5jdGlvbiBXYyhhKXtyZXR1cm5cIlwiIT1YYygpLmNhblBsYXlUeXBlKGEpfWZ1bmN0aW9uIFljKCl7cmV0dXJuISFuYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluY2x1ZGVzKFwiQXBwbGVcIikmJiFaYyhcIlRpemVuXCIpfWZ1bmN0aW9uICRjKCl7aWYoIVljKCkpcmV0dXJuIG51bGw7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblxcLyhcXGQrKS8pO3JldHVybiBhP3BhcnNlSW50KGFbMV0sMTApOihhPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09TIChcXGQrKSg/Ol9cXGQrKT8vKSk/cGFyc2VJbnQoYVsxXSwxMCk6bnVsbH1mdW5jdGlvbiBaYyhhKXtyZXR1cm4obmF2aWdhdG9yLnVzZXJBZ2VudHx8XCJcIikuaW5jbHVkZXMoYSl9XG5mdW5jdGlvbiBYYygpe2lmKGFkKXJldHVybiBhZDtiZHx8KGJkPW5ldyBNKGZ1bmN0aW9uKCl7YWQ9bnVsbH0pKTsoYWQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ2aWRlb1wiKVswXXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhdWRpb1wiKVswXSl8fChhZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpO2JkLlIoMSk7cmV0dXJuIGFkfXZhciBiZD1udWxsLGFkPW51bGw7ZnVuY3Rpb24gY2QoKXt9ZnVuY3Rpb24gZGQoYSl7YT10YyhOKGEpKTtyZXR1cm4gYnRvYShhKX1mdW5jdGlvbiBlZChhLGIpe2I9dm9pZCAwPT1iPyEwOmI7dmFyIGM9ZGQoYSkucmVwbGFjZSgvXFwrL2csXCItXCIpLnJlcGxhY2UoL1xcLy9nLFwiX1wiKTtyZXR1cm4gYj9jOmMucmVwbGFjZSgvWz1dKiQvLFwiXCIpfWZ1bmN0aW9uIGZkKGEpe3ZhciBiPXdpbmRvdy5hdG9iKGEucmVwbGFjZSgvLS9nLFwiK1wiKS5yZXBsYWNlKC9fL2csXCIvXCIpKTthPW5ldyBVaW50OEFycmF5KGIubGVuZ3RoKTtiPXEoaGIoYikpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpYz1jLnZhbHVlLGFbYy5ZXT1jLml0ZW0uY2hhckNvZGVBdCgwKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIGdkKGEpe3ZhciBiPWEubGVuZ3RoLzIsYz1uZXcgVWludDhBcnJheShiKTtiPXEoZmIoYikpO2Zvcih2YXIgZD1iLm5leHQoKTshZC5kb25lO2Q9Yi5uZXh0KCkpZD1kLnZhbHVlLGNbZF09d2luZG93LnBhcnNlSW50KGEuc3Vic3RyKDIqZCwyKSwxNik7cmV0dXJuIGN9ZnVuY3Rpb24gaGQoYSl7dmFyIGI9TihhKTthPVwiXCI7Yj1xKGIpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpYz1jLnZhbHVlLGM9Yy50b1N0cmluZygxNiksMT09Yy5sZW5ndGgmJihjPVwiMFwiK2MpLGErPWM7cmV0dXJuIGF9XG5mdW5jdGlvbiBpZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDsrK2MpYltjXT1hcmd1bWVudHNbY107dmFyIGQ9MCxlPXEoYik7Zm9yKGM9ZS5uZXh0KCk7IWMuZG9uZTtjPWUubmV4dCgpKWQrPWMudmFsdWUuYnl0ZUxlbmd0aDtkPW5ldyBVaW50OEFycmF5KGQpO2U9MDtiPXEoYik7Zm9yKGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWM9Yy52YWx1ZSxkLnNldChOKGMpLGUpLGUrPWMuYnl0ZUxlbmd0aDtyZXR1cm4gZH1LKFwic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHNcIixjZCk7Y2QuY29uY2F0PWlkO2NkLnRvSGV4PWhkO2NkLmZyb21IZXg9Z2Q7Y2QuZnJvbUJhc2U2ND1mZDtjZC50b0Jhc2U2ND1lZDtjZC50b1N0YW5kYXJkQmFzZTY0PWRkO1xuY2QuZXF1YWw9ZnVuY3Rpb24oYSxiKXtEYyhcInNoYWthLnV0aWwuVWludDhBcnJheVV0aWxzLmVxdWFsXCIsXCJQbGVhc2UgdXNlIHNoYWthLnV0aWwuQnVmZmVyVXRpbHMuZXF1YWwgaW5zdGVhZC5cIik7cmV0dXJuIEpiKGEsYil9O2Z1bmN0aW9uIGpkKGEsYil7dmFyIGM9dGhpcztiPXZvaWQgMD09PWI/MTpiO3RoaXMucz1hO3RoaXMudj1uZXcgU2V0O3RoaXMuYT10aGlzLmg9bnVsbDt0aGlzLk09ITE7dGhpcy5HPTA7dGhpcy5jPW51bGw7dGhpcy5iPW5ldyBsYzt0aGlzLmY9bmV3IE1hcDt0aGlzLm09W107dGhpcy5qPW5ldyBBYjt0aGlzLmk9bnVsbDt0aGlzLmc9ZnVuY3Rpb24oZCl7Yy5qLnJlamVjdChkKTthLm9uRXJyb3IoZCl9O3RoaXMuY2E9bmV3IE1hcDt0aGlzLlQ9bmV3IE1hcDt0aGlzLkk9bmV3IE0oZnVuY3Rpb24oKXtyZXR1cm4ga2QoYyl9KTt0aGlzLnc9ITE7dGhpcy5DPVtdO3RoaXMuSD0hMTt0aGlzLlc9KG5ldyBNKGZ1bmN0aW9uKCl7bGQoYyl9KSkub2EoYik7dGhpcy5qW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt9KTt0aGlzLkQ9bmV3IGpjKGZ1bmN0aW9uKCl7cmV0dXJuIG1kKGMpfSl9amQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ELmRlc3Ryb3koKX07XG5mdW5jdGlvbiBtZChhKXtyZXR1cm4gSihmdW5jdGlvbihiKXtzd2l0Y2goYi5hKXtjYXNlIDE6cmV0dXJuIGEuYi5yZWxlYXNlKCksYS5iPW51bGwsYS5qLnJlamVjdCgpLGEuVy5zdG9wKCksYS5XPW51bGwsYS5JLnN0b3AoKSxhLkk9bnVsbCx0KGIsbmQoYSksMik7Y2FzZSAyOmlmKCFhLmEpe2IudSgzKTticmVha314KGIsNCk7cmV0dXJuIHQoYixhLmEuc2V0TWVkaWFLZXlzKG51bGwpLDYpO2Nhc2UgNjp1YShiLDUpO2JyZWFrO2Nhc2UgNDpDKGIpO2Nhc2UgNTphLmE9bnVsbDtjYXNlIDM6YS5jPW51bGwsYS52LmNsZWFyKCksYS5oPW51bGwsYS5tPVtdLGEuaT1udWxsLGEuZz1mdW5jdGlvbigpe30sYS5zPW51bGwsdyhiKX19KX1qZC5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuaT1hfTtmdW5jdGlvbiBvZChhLGIsYyl7YS5tPVtdO2Eudz1jO3JldHVybiBwZChhLGIpfVxuZnVuY3Rpb24gcWQoYSxiLGMpe2EubT1jO2Eudz0wPGMubGVuZ3RoO3JldHVybiBwZChhLGIpfWZ1bmN0aW9uIHJkKGEsYixjLGQsZSxmKXt2YXIgZz1uZXcgTWFwO2U9e2F1ZGlvQ2FwYWJpbGl0aWVzOmUsdmlkZW9DYXBhYmlsaXRpZXM6ZixkaXN0aW5jdGl2ZUlkZW50aWZpZXI6XCJvcHRpb25hbFwiLHBlcnNpc3RlbnRTdGF0ZTpcInJlcXVpcmVkXCIsc2Vzc2lvblR5cGVzOltcInBlcnNpc3RlbnQtbGljZW5zZVwiXSxsYWJlbDpifTtlLmRybUluZm9zPVt7a2V5U3lzdGVtOmIsbGljZW5zZVNlcnZlclVyaTpjLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOiExLHBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkOiEwLGF1ZGlvUm9idXN0bmVzczpcIlwiLHZpZGVvUm9idXN0bmVzczpcIlwiLHNlcnZlckNlcnRpZmljYXRlOmQsaW5pdERhdGE6bnVsbCxrZXlJZHM6bnVsbH1dO2cuc2V0KGIsZSk7cmV0dXJuIHNkKGEsZyl9XG5mdW5jdGlvbiBwZChhLGIpe3ZhciBjPXRkKGEpO2lmKGMpZm9yKHZhciBkPXEoYiksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZT1lLnZhbHVlLGUudmlkZW8mJmUudmlkZW8uZW5jcnlwdGVkJiYoZS52aWRlby5kcm1JbmZvcz1bY10pLGUuYXVkaW8mJmUuYXVkaW8uZW5jcnlwdGVkJiYoZS5hdWRpby5kcm1JbmZvcz1bY10pO2M9Yi5zb21lKGZ1bmN0aW9uKGcpe3JldHVybiBnLnZpZGVvJiZnLnZpZGVvLmRybUluZm9zLmxlbmd0aHx8Zy5hdWRpbyYmZy5hdWRpby5kcm1JbmZvcy5sZW5ndGg/ITA6ITF9KTtjfHwoZD1PYyhhLmkuc2VydmVycyksdWQoYixkKSk7ZD1xKGIpO2ZvcihlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO2U9cSgoZS52aWRlbz9lLnZpZGVvLmRybUluZm9zOltdKS5jb25jYXQoZS5hdWRpbz9lLmF1ZGlvLmRybUluZm9zOltdKSk7Zm9yKHZhciBmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl2ZChmLnZhbHVlLE9jKGEuaS5zZXJ2ZXJzKSxcbk9jKGEuaS5hZHZhbmNlZHx8e30pKX1kPXdkKGEsYik7aWYoIWQuc2l6ZSlyZXR1cm4gYS5NPSEwLFByb21pc2UucmVzb2x2ZSgpO2Q9c2QoYSxkKTtyZXR1cm4gYz9kOmRbXCJjYXRjaFwiXShmdW5jdGlvbigpe30pfVxuamQucHJvdG90eXBlLnliPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYyxkLGU7cmV0dXJuIEooZnVuY3Rpb24oZil7aWYoMT09Zi5hKXtpZighYi5oKXJldHVybiBiLmIuaGEoYSxcImVuY3J5cHRlZFwiLGZ1bmN0aW9uKCl7Yi5nKG5ldyBMKDIsNiw2MDEwKSl9KSxmW1wicmV0dXJuXCJdKCk7Yi5hPWE7Yi5iLmhhKGIuYSxcInBsYXlcIixmdW5jdGlvbigpe2Zvcih2YXIgZz1xKGIuQyksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpeGQoYixoLnZhbHVlKTtiLkg9ITA7Yi5DPVtdfSk7XCJ3ZWJraXRDdXJyZW50UGxheWJhY2tUYXJnZXRJc1dpcmVsZXNzXCJpbiBiLmEmJmIuYi5sKGIuYSxcIndlYmtpdGN1cnJlbnRwbGF5YmFja3RhcmdldGlzd2lyZWxlc3NjaGFuZ2VkXCIsZnVuY3Rpb24oKXtyZXR1cm4gbmQoYil9KTtjPWIuYS5zZXRNZWRpYUtleXMoYi5oKTtjPWNbXCJjYXRjaFwiXShmdW5jdGlvbihnKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEwoMiw2LDYwMDMsZy5tZXNzYWdlKSl9KTtcbmQ9eWQoYik7cmV0dXJuIHQoZixQcm9taXNlLmFsbChbYyxkXSksMil9a2MoYi5EKTt6ZChiKTtiLmMuaW5pdERhdGEubGVuZ3RofHxiLm0ubGVuZ3RofHwoZT1mdW5jdGlvbihnKXtyZXR1cm4gQWQoYixnLmluaXREYXRhVHlwZSxOKGcuaW5pdERhdGEpKX0sYi5iLmwoYi5hLFwiZW5jcnlwdGVkXCIsZSkpO3coZil9KX07ZnVuY3Rpb24geWQoYSl7dmFyIGI7cmV0dXJuIEooZnVuY3Rpb24oYyl7aWYoMT09Yy5hKXtpZighKGEuaCYmYS5jJiZhLmMuc2VydmVyQ2VydGlmaWNhdGUmJmEuYy5zZXJ2ZXJDZXJ0aWZpY2F0ZS5sZW5ndGgpKXJldHVybiBjLnUoMCk7eChjLDMpO3JldHVybiB0KGMsYS5oLnNldFNlcnZlckNlcnRpZmljYXRlKGEuYy5zZXJ2ZXJDZXJ0aWZpY2F0ZSksNSl9aWYoMyE9Yy5hKXJldHVybiB1YShjLDApO2I9QyhjKTt0aHJvdyBuZXcgTCgyLDYsNjAwNCxiLm1lc3NhZ2UpO30pfVxuZnVuY3Rpb24gQmQoYSxiKXt2YXIgYyxkLGU7cmV0dXJuIEooZnVuY3Rpb24oZil7aWYoMT09Zi5hKXJldHVybiB0KGYsQ2QoYSxiKSwyKTtjPWYuYjtpZighYylyZXR1cm4gZltcInJldHVyblwiXSgpO2Q9W107aWYoZT1hLmYuZ2V0KGMpKWUueWE9bmV3IEFiLGQucHVzaChlLnlhKTtkLnB1c2goYy5yZW1vdmUoKSk7cmV0dXJuIHQoZixQcm9taXNlLmFsbChkKSwwKX0pfWZ1bmN0aW9uIHpkKGEpe2Zvcih2YXIgYj0oYS5jP2EuYy5pbml0RGF0YTpbXSl8fFtdLGM9cShiKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlkPWQudmFsdWUsQWQoYSxkLmluaXREYXRhVHlwZSxkLmluaXREYXRhKTtjPXEoYS5tKTtmb3IoZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpQ2QoYSxkLnZhbHVlKTtiLmxlbmd0aHx8YS5tLmxlbmd0aHx8YS5qLnJlc29sdmUoKTtyZXR1cm4gYS5qfVxuZnVuY3Rpb24gQWQoYSxiLGMpe3ZhciBkPWEuZi52YWx1ZXMoKTtkPXEoZCk7Zm9yKHZhciBlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSlpZihKYihjLGUudmFsdWUuaW5pdERhdGEpJiYhWmMoXCJUaXplbiAyXCIpKXJldHVybjtEZChhLGIsYyl9ZnVuY3Rpb24gRWQoYSl7cmV0dXJuIGE/YS5rZXlTeXN0ZW06XCJcIn1mdW5jdGlvbiBGZChhLGIpe3JldHVybiBaYyhcIkVkZ2UvXCIpPyEwOmEudi5oYXMoYi50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiBHZChhKXthPWEuZi5rZXlzKCk7YT1jYihhLGZ1bmN0aW9uKGIpe3JldHVybiBiLnNlc3Npb25JZH0pO3JldHVybiBBcnJheS5mcm9tKGEpfWpkLnByb3RvdHlwZS5DYj1mdW5jdGlvbigpe3ZhciBhPUluZmluaXR5LGI9dGhpcy5mLmtleXMoKTtiPXEoYik7Zm9yKHZhciBjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSljPWMudmFsdWUsaXNOYU4oYy5leHBpcmF0aW9uKXx8KGE9TWF0aC5taW4oYSxjLmV4cGlyYXRpb24pKTtyZXR1cm4gYX07XG5mdW5jdGlvbiB3ZChhLGIpe2Zvcih2YXIgYz1uZXcgU2V0LGQ9cShiKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO3ZhciBmPXEoKGUudmlkZW8/ZS52aWRlby5kcm1JbmZvczpbXSkuY29uY2F0KGUuYXVkaW8/ZS5hdWRpby5kcm1JbmZvczpbXSkpO2ZvcihlPWYubmV4dCgpOyFlLmRvbmU7ZT1mLm5leHQoKSljLmFkZChlLnZhbHVlKX1kPXEoYyk7Zm9yKGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXZkKGUudmFsdWUsT2MoYS5pLnNlcnZlcnMpLE9jKGEuaS5hZHZhbmNlZHx8e30pKTtmPWEudz9cInJlcXVpcmVkXCI6XCJvcHRpb25hbFwiO3ZhciBnPWEudz9bXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIl06W1widGVtcG9yYXJ5XCJdO2Q9bmV3IE1hcDtjPXEoYyk7Zm9yKGU9Yy5uZXh0KCk7IWUuZG9uZTtlPWMubmV4dCgpKWU9ZS52YWx1ZSxkLnNldChlLmtleVN5c3RlbSx7YXVkaW9DYXBhYmlsaXRpZXM6W10sdmlkZW9DYXBhYmlsaXRpZXM6W10sZGlzdGluY3RpdmVJZGVudGlmaWVyOlwib3B0aW9uYWxcIixcbnBlcnNpc3RlbnRTdGF0ZTpmLHNlc3Npb25UeXBlczpnLGxhYmVsOmUua2V5U3lzdGVtLGRybUluZm9zOltdfSk7Yz1xKGIpO2ZvcihlPWMubmV4dCgpOyFlLmRvbmU7ZT1jLm5leHQoKSlmb3IoZT1lLnZhbHVlLGY9cShbZS5hdWRpbyxlLnZpZGVvXSksZT1mLm5leHQoKTshZS5kb25lO2U9Zi5uZXh0KCkpaWYoZz1lLnZhbHVlKXt2YXIgaD1SYyhnLm1pbWVUeXBlLGcuY29kZWNzKSxrPXEoZy5kcm1JbmZvcyk7Zm9yKGU9ay5uZXh0KCk7IWUuZG9uZTtlPWsubmV4dCgpKXt2YXIgbD1lLnZhbHVlO2U9ZC5nZXQobC5rZXlTeXN0ZW0pO2UuZHJtSW5mb3MucHVzaChsKTtsLmRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkJiYoZS5kaXN0aW5jdGl2ZUlkZW50aWZpZXI9XCJyZXF1aXJlZFwiKTtsLnBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkJiYoZS5wZXJzaXN0ZW50U3RhdGU9XCJyZXF1aXJlZFwiKTtsPXtyb2J1c3RuZXNzOihcImF1ZGlvXCI9PWcudHlwZT9sLmF1ZGlvUm9idXN0bmVzczpsLnZpZGVvUm9idXN0bmVzcyl8fFxuXCJcIixjb250ZW50VHlwZTpofTtcImF1ZGlvXCI9PWcudHlwZT9lLmF1ZGlvQ2FwYWJpbGl0aWVzLnB1c2gobCk6ZS52aWRlb0NhcGFiaWxpdGllcy5wdXNoKGwpfX1yZXR1cm4gZH1cbmZ1bmN0aW9uIHNkKGEsYil7dmFyIGMsZCxlLGYsZyxoLGssbCxtLG4scix1LHYseSx6LEEsRCxCLEUsSCxHLEY7cmV0dXJuIEooZnVuY3Rpb24oSSl7c3dpdGNoKEkuYSl7Y2FzZSAxOmlmKDE9PWIuc2l6ZSYmYi5oYXMoXCJcIikpdGhyb3cgbmV3IEwoMiw2LDZFMyk7Yz1xKGIudmFsdWVzKCkpO2ZvcihkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSllPWQudmFsdWUsMD09ZS5hdWRpb0NhcGFiaWxpdGllcy5sZW5ndGgmJmRlbGV0ZSBlLmF1ZGlvQ2FwYWJpbGl0aWVzLDA9PWUudmlkZW9DYXBhYmlsaXRpZXMubGVuZ3RoJiZkZWxldGUgZS52aWRlb0NhcGFiaWxpdGllcztnPXEoWyEwLCExXSk7aD1nLm5leHQoKTtjYXNlIDI6aWYoaC5kb25lKXtJLnUoNCk7YnJlYWt9az1oLnZhbHVlO2w9cShiLmtleXMoKSk7bT1sLm5leHQoKTtjYXNlIDU6aWYobS5kb25lKXtJLnUoNyk7YnJlYWt9bj1tLnZhbHVlO3I9Yi5nZXQobik7dT1yLmRybUluZm9zLnNvbWUoZnVuY3Rpb24oTyl7cmV0dXJuISFPLmxpY2Vuc2VTZXJ2ZXJVcml9KTtcbmlmKHUhPWspe0kudSg2KTticmVha314KEksOCk7cmV0dXJuIHQoSSxuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKG4sW3JdKSwxMCk7Y2FzZSAxMDpmPUkuYjtJLnUoNyk7YnJlYWs7Y2FzZSA4OkMoSSk7Y2FzZSA5OmtjKGEuRCk7Y2FzZSA2Om09bC5uZXh0KCk7SS51KDUpO2JyZWFrO2Nhc2UgNzppZihmKXtJLnUoNCk7YnJlYWt9aD1nLm5leHQoKTtJLnUoMik7YnJlYWs7Y2FzZSA0OmlmKCFmKXRocm93IG5ldyBMKDIsNiw2MDAxKTtrYyhhLkQpO3goSSwxMSk7YS52LmNsZWFyKCk7dj1mLmdldENvbmZpZ3VyYXRpb24oKTt5PXYuYXVkaW9DYXBhYmlsaXRpZXN8fFtdO3o9di52aWRlb0NhcGFiaWxpdGllc3x8W107QT1xKHkpO2ZvcihEPUEubmV4dCgpOyFELmRvbmU7RD1BLm5leHQoKSlCPUQudmFsdWUsYS52LmFkZChCLmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkpO0U9cSh6KTtmb3IoRD1FLm5leHQoKTshRC5kb25lO0Q9RS5uZXh0KCkpSD1ELnZhbHVlLFxuYS52LmFkZChILmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkpO2EuYz1IZChmLmtleVN5c3RlbSxiLmdldChmLmtleVN5c3RlbSkpO2lmKCFhLmMubGljZW5zZVNlcnZlclVyaSl0aHJvdyBuZXcgTCgyLDYsNjAxMixhLmMua2V5U3lzdGVtKTtyZXR1cm4gdChJLGYuY3JlYXRlTWVkaWFLZXlzKCksMTMpO2Nhc2UgMTM6Rz1JLmI7a2MoYS5EKTthLmg9RzthLk09ITA7dWEoSSwwKTticmVhaztjYXNlIDExOkY9QyhJKTtrYyhhLkQsRik7YS5jPW51bGw7YS52LmNsZWFyKCk7aWYoRiBpbnN0YW5jZW9mIEwpdGhyb3cgRjt0aHJvdyBuZXcgTCgyLDYsNjAwMixGLm1lc3NhZ2UpO319KX1cbmZ1bmN0aW9uIHRkKGEpe2E9T2MoYS5pLmNsZWFyS2V5cyk7aWYoMD09YS5zaXplKXJldHVybiBudWxsO3ZhciBiPVtdLGM9W107YS5mb3JFYWNoKGZ1bmN0aW9uKGUsZil7dmFyIGc9Z2QoZiksaD1nZChlKTtnPXtrdHk6XCJvY3RcIixraWQ6ZWQoZywhMSksazplZChoLCExKX07Yi5wdXNoKGcpO2MucHVzaChnLmtpZCl9KTthPUpTT04uc3RyaW5naWZ5KHtrZXlzOmJ9KTt2YXIgZD1KU09OLnN0cmluZ2lmeSh7a2lkczpjfSk7ZD1be2luaXREYXRhOk4od2MoZCkpLGluaXREYXRhVHlwZTpcImtleWlkc1wifV07cmV0dXJue2tleVN5c3RlbTpcIm9yZy53My5jbGVhcmtleVwiLGxpY2Vuc2VTZXJ2ZXJVcmk6XCJkYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK3dpbmRvdy5idG9hKGEpLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOiExLHBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkOiExLGF1ZGlvUm9idXN0bmVzczpcIlwiLHZpZGVvUm9idXN0bmVzczpcIlwiLHNlcnZlckNlcnRpZmljYXRlOm51bGwsXG5pbml0RGF0YTpkLGtleUlkczpuZXcgU2V0KGMpfX1cbmZ1bmN0aW9uIENkKGEsYil7dmFyIGMsZCxlLGYsZztyZXR1cm4gSihmdW5jdGlvbihoKXtzd2l0Y2goaC5hKXtjYXNlIDE6dHJ5e2M9YS5oLmNyZWF0ZVNlc3Npb24oXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIil9Y2F0Y2goayl7cmV0dXJuIGQ9bmV3IEwoMiw2LDYwMDUsay5tZXNzYWdlKSxhLmcoZCksaFtcInJldHVyblwiXShQcm9taXNlLnJlamVjdChkKSl9YS5iLmwoYyxcIm1lc3NhZ2VcIixmdW5jdGlvbihrKXthLmEmJmEuaS5kZWxheUxpY2Vuc2VSZXF1ZXN0VW50aWxQbGF5ZWQmJmEuYS5wYXVzZWQmJiFhLkg/YS5DLnB1c2goayk6eGQoYSxrKX0pO2EuYi5sKGMsXCJrZXlzdGF0dXNlc2NoYW5nZVwiLGZ1bmN0aW9uKGspe3JldHVybiBJZChhLGspfSk7ZT17aW5pdERhdGE6bnVsbCxsb2FkZWQ6ITEsV2M6SW5maW5pdHkseWE6bnVsbH07YS5mLnNldChjLGUpO3goaCwyKTtyZXR1cm4gdChoLGMubG9hZChiKSw0KTtjYXNlIDQ6Zj1oLmI7a2MoYS5EKTtpZighZilyZXR1cm4gYS5mW1wiZGVsZXRlXCJdKGMpLFxuYS5nKG5ldyBMKDIsNiw2MDEzKSksaFtcInJldHVyblwiXShQcm9taXNlLnJlc29sdmUoKSk7ZS5sb2FkZWQ9ITA7SmQoYSkmJmEuai5yZXNvbHZlKCk7cmV0dXJuIGhbXCJyZXR1cm5cIl0oYyk7Y2FzZSAyOmc9QyhoKSxrYyhhLkQsZyksYS5mW1wiZGVsZXRlXCJdKGMpLGEuZyhuZXcgTCgyLDYsNjAwNSxnLm1lc3NhZ2UpKTtjYXNlIDM6cmV0dXJuIGhbXCJyZXR1cm5cIl0oUHJvbWlzZS5yZXNvbHZlKCkpfX0pfVxuZnVuY3Rpb24gRGQoYSxiLGMpe3RyeXt2YXIgZD1hLnc/YS5oLmNyZWF0ZVNlc3Npb24oXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIik6YS5oLmNyZWF0ZVNlc3Npb24oKX1jYXRjaChlKXthLmcobmV3IEwoMiw2LDYwMDUsZS5tZXNzYWdlKSk7cmV0dXJufWEuYi5sKGQsXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7YS5hJiZhLmkuZGVsYXlMaWNlbnNlUmVxdWVzdFVudGlsUGxheWVkJiZhLmEucGF1c2VkJiYhYS5IP2EuQy5wdXNoKGUpOnhkKGEsZSl9KTthLmIubChkLFwia2V5c3RhdHVzZXNjaGFuZ2VcIixmdW5jdGlvbihlKXtyZXR1cm4gSWQoYSxlKX0pO2EuZi5zZXQoZCx7aW5pdERhdGE6Yyxsb2FkZWQ6ITEsV2M6SW5maW5pdHkseWE6bnVsbH0pO3RyeXtjPWEuaS5pbml0RGF0YVRyYW5zZm9ybShjLGIsYS5jKX1jYXRjaChlKXtiPWU7ZSBpbnN0YW5jZW9mIEx8fChiPW5ldyBMKDIsNiw2MDE2LGUpKTthLmcoYik7cmV0dXJufWEuaS5sb2dMaWNlbnNlRXhjaGFuZ2UmJmVkKGMpO2QuZ2VuZXJhdGVSZXF1ZXN0KGIsXG5jKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2lmKCFhLkQuYSl7YS5mW1wiZGVsZXRlXCJdKGQpO3ZhciBmPWUuZXJyb3JDb2RlO2lmKGYmJmYuc3lzdGVtQ29kZSl7dmFyIGc9Zi5zeXN0ZW1Db2RlOzA+ZyYmKGcrPU1hdGgucG93KDIsMzIpKTtnPVwiMHhcIitnLnRvU3RyaW5nKDE2KX1hLmcobmV3IEwoMiw2LDYwMDYsZS5tZXNzYWdlLGUsZykpfX0pfWZ1bmN0aW9uIEtkKGEsYixjKXtcInNrZFwiPT1iJiYoYj1jLnNlcnZlckNlcnRpZmljYXRlLGM9QWMoYSksYT1CYyhhLGMsYikpO3JldHVybiBhfVxuZnVuY3Rpb24geGQoYSxiKXt2YXIgYyxkLGUsZixnLGgsayxsLG0sbixyLHUsdix5O0ooZnVuY3Rpb24oeil7c3dpdGNoKHouYSl7Y2FzZSAxOnJldHVybiBjPWIudGFyZ2V0LGEuaS5sb2dMaWNlbnNlRXhjaGFuZ2UmJmVkKGIubWVzc2FnZSksZD1hLmYuZ2V0KGMpLGU9YS5jLmxpY2Vuc2VTZXJ2ZXJVcmksZj1hLmkuYWR2YW5jZWRbYS5jLmtleVN5c3RlbV0sXCJpbmRpdmlkdWFsaXphdGlvbi1yZXF1ZXN0XCI9PWIubWVzc2FnZVR5cGUmJmYmJmYuaW5kaXZpZHVhbGl6YXRpb25TZXJ2ZXImJihlPWYuaW5kaXZpZHVhbGl6YXRpb25TZXJ2ZXIpLGc9Y2MoW2VdLGEuaS5yZXRyeVBhcmFtZXRlcnMpLGcuYm9keT1iLm1lc3NhZ2UsZy5tZXRob2Q9XCJQT1NUXCIsZy5saWNlbnNlUmVxdWVzdFR5cGU9Yi5tZXNzYWdlVHlwZSxnLnNlc3Npb25JZD1jLnNlc3Npb25JZCxcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCIhPWEuYy5rZXlTeXN0ZW0mJlwiY29tLmNocm9tZWNhc3QucGxheXJlYWR5XCIhPWEuYy5rZXlTeXN0ZW18fFxuTGQoZyksaD1EYXRlLm5vdygpLHgoeiwyKSxsPWEucy5sYi5yZXF1ZXN0KDIsZyksdCh6LGwucHJvbWlzZSw0KTtjYXNlIDQ6az16LmI7dWEoeiwzKTticmVhaztjYXNlIDI6cmV0dXJuIG09Qyh6KSxuPW5ldyBMKDIsNiw2MDA3LG0pLGEuZyhuKSxkJiZkLnlhJiZkLnlhLnJlamVjdChuKSx6W1wicmV0dXJuXCJdKCk7Y2FzZSAzOmlmKGEuRC5hKXJldHVybiB6W1wicmV0dXJuXCJdKCk7YS5HKz0oRGF0ZS5ub3coKS1oKS8xRTM7YS5pLmxvZ0xpY2Vuc2VFeGNoYW5nZSYmZWQoay5kYXRhKTt4KHosNSk7cmV0dXJuIHQoeixjLnVwZGF0ZShrLmRhdGEpLDcpO2Nhc2UgNzp1YSh6LDYpO2JyZWFrO2Nhc2UgNTpyZXR1cm4gcj1DKHopLHU9bmV3IEwoMiw2LDYwMDgsci5tZXNzYWdlKSxhLmcodSksZCYmZC55YSYmZC55YS5yZWplY3QodSkseltcInJldHVyblwiXSgpO2Nhc2UgNjp2PW5ldyBRKFwiZHJtc2Vzc2lvbnVwZGF0ZVwiKSxhLnMub25FdmVudCh2KSxkJiYoZC55YSYmZC55YS5yZXNvbHZlKCksXG55PW5ldyBNKGZ1bmN0aW9uKCl7ZC5sb2FkZWQ9ITA7SmQoYSkmJmEuai5yZXNvbHZlKCl9KSx5LlIoTWQpKSx3KHopfX0pfVxuZnVuY3Rpb24gTGQoYSl7dmFyIGI9dWMoYS5ib2R5LCEwLCEwKTtpZihiLmluY2x1ZGVzKFwiUGxheVJlYWR5S2V5TWVzc2FnZVwiKSl7Yj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGIsXCJhcHBsaWNhdGlvbi94bWxcIik7Zm9yKHZhciBjPXEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkh0dHBIZWFkZXJcIikpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWQ9ZC52YWx1ZSxhLmhlYWRlcnNbZC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm5hbWVcIilbMF0udGV4dENvbnRlbnRdPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ2YWx1ZVwiKVswXS50ZXh0Q29udGVudDthLmJvZHk9ZmQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkNoYWxsZW5nZVwiKVswXS50ZXh0Q29udGVudCl9ZWxzZSBhLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09XCJ0ZXh0L3htbDsgY2hhcnNldD11dGYtOFwifVxuZnVuY3Rpb24gSWQoYSxiKXt2YXIgYz1iLnRhcmdldCxkPWEuZi5nZXQoYyksZT0hMTtjLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oZyxoKXtpZihcInN0cmluZ1wiPT10eXBlb2YgaCl7dmFyIGs9aDtoPWc7Zz1rfWlmKFwiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHlcIj09YS5jLmtleVN5c3RlbSYmMTY9PWguYnl0ZUxlbmd0aCYmKFpjKFwiVHJpZGVudC9cIil8fFpjKFwiRWRnZS9cIikpKXtrPU5iKGgpO3ZhciBsPWsuZ2V0VWludDMyKDAsITApLG09ay5nZXRVaW50MTYoNCwhMCksbj1rLmdldFVpbnQxNig2LCEwKTtrLnNldFVpbnQzMigwLGwsITEpO2suc2V0VWludDE2KDQsbSwhMSk7ay5zZXRVaW50MTYoNixuLCExKX1cImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCI9PWEuYy5rZXlTeXN0ZW0mJlwic3RhdHVzLXBlbmRpbmdcIj09ZyYmKGc9XCJ1c2FibGVcIik7XCJzdGF0dXMtcGVuZGluZ1wiIT1nJiYoZC5sb2FkZWQ9ITApO1wiZXhwaXJlZFwiPT1nJiYoZT0hMCk7az1oZChoKTthLmNhLnNldChrLFxuZyl9KTt2YXIgZj1jLmV4cGlyYXRpb24tRGF0ZS5ub3coKTsoMD5mfHxlJiYxRTM+ZikmJmQmJiFkLnlhJiYoYS5mW1wiZGVsZXRlXCJdKGMpLGMuY2xvc2UoKVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSkpO0pkKGEpJiYoYS5qLnJlc29sdmUoKSxhLkkuUihOZCkpfWZ1bmN0aW9uIGtkKGEpe3ZhciBiPWEuY2EsYz1hLlQ7Yy5jbGVhcigpO2IuZm9yRWFjaChmdW5jdGlvbihkLGUpe3JldHVybiBjLnNldChlLGQpfSk7Yj1BcnJheS5mcm9tKGMudmFsdWVzKCkpO2IubGVuZ3RoJiZiLmV2ZXJ5KGZ1bmN0aW9uKGQpe3JldHVyblwiZXhwaXJlZFwiPT1kfSkmJmEuZyhuZXcgTCgyLDYsNjAxNCkpO2Eucy5pYyhQYyhjKSl9XG5mdW5jdGlvbiBPZCgpe3ZhciBhLGIsYyxkLGUsZixnLGg7cmV0dXJuIEooZnVuY3Rpb24oayl7cmV0dXJuIDE9PWsuYT8oYT1cIm9yZy53My5jbGVhcmtleSBjb20ud2lkZXZpbmUuYWxwaGEgY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkgY29tLmFwcGxlLmZwcy4zXzAgY29tLmFwcGxlLmZwcy4yXzAgY29tLmFwcGxlLmZwcy4xXzAgY29tLmFwcGxlLmZwcyBjb20uYWRvYmUucHJpbWV0aW1lXCIuc3BsaXQoXCIgXCIpLGI9W3tjb250ZW50VHlwZTondmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJ30se2NvbnRlbnRUeXBlOid2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDhcIid9XSxjPXt2aWRlb0NhcGFiaWxpdGllczpifSxkPXt2aWRlb0NhcGFiaWxpdGllczpiLHBlcnNpc3RlbnRTdGF0ZTpcInJlcXVpcmVkXCIsc2Vzc2lvblR5cGVzOltcInBlcnNpc3RlbnQtbGljZW5zZVwiXX0sZT1bZCxjXSxmPW5ldyBNYXAsZz1mdW5jdGlvbihsKXt2YXIgbSxuLHI7cmV0dXJuIEooZnVuY3Rpb24odSl7c3dpdGNoKHUuYSl7Y2FzZSAxOnJldHVybiB4KHUsXG4yKSx0KHUsbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhsLGUpLDQpO2Nhc2UgNDpyZXR1cm4gbT11LmIscj0obj1tLmdldENvbmZpZ3VyYXRpb24oKS5zZXNzaW9uVHlwZXMpP24uaW5jbHVkZXMoXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIik6ITEsWmMoXCJUaXplbiAzXCIpJiYocj0hMSksZi5zZXQobCx7cGVyc2lzdGVudFN0YXRlOnJ9KSx0KHUsbS5jcmVhdGVNZWRpYUtleXMoKSw1KTtjYXNlIDU6dWEodSwwKTticmVhaztjYXNlIDI6Qyh1KSxmLnNldChsLG51bGwpLHcodSl9fSl9LGg9YS5tYXAoZnVuY3Rpb24obCl7cmV0dXJuIGcobCl9KSx0KGssUHJvbWlzZS5hbGwoaCksMikpOmtbXCJyZXR1cm5cIl0oUGMoZikpfSl9XG5mdW5jdGlvbiBQZChhKXt2YXIgYjtyZXR1cm4gSihmdW5jdGlvbihjKXtpZigxPT1jLmEpcmV0dXJuIGI9bmV3IFByb21pc2UoZnVuY3Rpb24oZCxlKXsobmV3IE0oZSkpLlIoUWQpfSkseChjLDIpLHQoYyxQcm9taXNlLnJhY2UoW1Byb21pc2UuYWxsKFthLmNsb3NlKCksYS5jbG9zZWRdKSxiXSksNCk7aWYoMiE9Yy5hKXJldHVybiB1YShjLDApO0MoYyk7dyhjKX0pfWZ1bmN0aW9uIG5kKGEpe3ZhciBiO3JldHVybiBKKGZ1bmN0aW9uKGMpe2I9QXJyYXkuZnJvbShhLmYua2V5cygpKTthLmYuY2xlYXIoKTtyZXR1cm4gdChjLFByb21pc2UuYWxsKGIubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBKKGZ1bmN0aW9uKGUpe2lmKDE9PWUuYSlyZXR1cm4geChlLDIpLHQoZSxQZChkKSw0KTtpZigyIT1lLmEpcmV0dXJuIHVhKGUsMCk7QyhlKTt3KGUpfSl9KSksMCl9KX1cbmZ1bmN0aW9uIFJkKGEsYil7dmFyIGM9Yi5hdWRpbyxkPWIudmlkZW87aWYoYyYmYy5lbmNyeXB0ZWQmJiFGZChhLFJjKGMubWltZVR5cGUsYy5jb2RlY3MpKXx8ZCYmZC5lbmNyeXB0ZWQmJiFGZChhLFJjKGQubWltZVR5cGUsZC5jb2RlY3MpKSlyZXR1cm4hMTt2YXIgZT1FZChhLmMpO2M9KGQ/ZC5kcm1JbmZvczpbXSkuY29uY2F0KGM/Yy5kcm1JbmZvczpbXSk7cmV0dXJuIDA9PWMubGVuZ3RofHxjLnNvbWUoZnVuY3Rpb24oZil7cmV0dXJuIGYua2V5U3lzdGVtPT1lfSl9XG5mdW5jdGlvbiBTZChhLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4gYjtpZighYi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9cShhKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO2Zvcih2YXIgZj1xKGIpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKWlmKGc9Zy52YWx1ZSxlLmtleVN5c3RlbT09Zy5rZXlTeXN0ZW0pe2Y9W107Zj1mLmNvbmNhdChlLmluaXREYXRhfHxbXSk7Zj1mLmNvbmNhdChnLmluaXREYXRhfHxbXSk7dmFyIGg9ZS5rZXlJZHMmJmcua2V5SWRzP25ldyBTZXQoaGEoZS5rZXlJZHMpLmNvbmNhdChoYShnLmtleUlkcykpKTplLmtleUlkc3x8Zy5rZXlJZHM7Yy5wdXNoKHtrZXlTeXN0ZW06ZS5rZXlTeXN0ZW0sbGljZW5zZVNlcnZlclVyaTplLmxpY2Vuc2VTZXJ2ZXJVcml8fGcubGljZW5zZVNlcnZlclVyaSxkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZDplLmRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkfHxcbmcuZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6ZS5wZXJzaXN0ZW50U3RhdGVSZXF1aXJlZHx8Zy5wZXJzaXN0ZW50U3RhdGVSZXF1aXJlZCx2aWRlb1JvYnVzdG5lc3M6ZS52aWRlb1JvYnVzdG5lc3N8fGcudmlkZW9Sb2J1c3RuZXNzLGF1ZGlvUm9idXN0bmVzczplLmF1ZGlvUm9idXN0bmVzc3x8Zy5hdWRpb1JvYnVzdG5lc3Msc2VydmVyQ2VydGlmaWNhdGU6ZS5zZXJ2ZXJDZXJ0aWZpY2F0ZXx8Zy5zZXJ2ZXJDZXJ0aWZpY2F0ZSxpbml0RGF0YTpmLGtleUlkczpofSk7YnJlYWt9fXJldHVybiBjfWZ1bmN0aW9uIGxkKGEpe2EuZi5mb3JFYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5XYyxlPWMuZXhwaXJhdGlvbjtpc05hTihlKSYmKGU9SW5maW5pdHkpO2UhPWQmJihhLnMub25FeHBpcmF0aW9uVXBkYXRlZChjLnNlc3Npb25JZCxlKSxiLldjPWUpfSl9XG5mdW5jdGlvbiBKZChhKXthPWEuZi52YWx1ZXMoKTtyZXR1cm4gZGIoYSxmdW5jdGlvbihiKXtyZXR1cm4gYi5sb2FkZWR9KX1mdW5jdGlvbiB1ZChhLGIpe3ZhciBjPVtdO2IuZm9yRWFjaChmdW5jdGlvbihmLGcpe2MucHVzaCh7a2V5U3lzdGVtOmcsbGljZW5zZVNlcnZlclVyaTpmLGRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkOiExLHBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkOiExLGF1ZGlvUm9idXN0bmVzczpcIlwiLHZpZGVvUm9idXN0bmVzczpcIlwiLHNlcnZlckNlcnRpZmljYXRlOm51bGwsaW5pdERhdGE6W10sa2V5SWRzOm5ldyBTZXR9KX0pO2Zvcih2YXIgZD1xKGEpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKWU9ZS52YWx1ZSxlLnZpZGVvJiZlLnZpZGVvLmVuY3J5cHRlZCYmKGUudmlkZW8uZHJtSW5mb3M9YyksZS5hdWRpbyYmZS5hdWRpby5lbmNyeXB0ZWQmJihlLmF1ZGlvLmRybUluZm9zPWMpfVxuZnVuY3Rpb24gSGQoYSxiKXt2YXIgYz1bXSxkPVtdLGU9W10sZj1uZXcgU2V0O1RkKGIuZHJtSW5mb3MsYyxkLGUsZik7cmV0dXJue2tleVN5c3RlbTphLGxpY2Vuc2VTZXJ2ZXJVcmk6Y1swXSxkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZDpcInJlcXVpcmVkXCI9PWIuZGlzdGluY3RpdmVJZGVudGlmaWVyLHBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkOlwicmVxdWlyZWRcIj09Yi5wZXJzaXN0ZW50U3RhdGUsYXVkaW9Sb2J1c3RuZXNzOihiLmF1ZGlvQ2FwYWJpbGl0aWVzP2IuYXVkaW9DYXBhYmlsaXRpZXNbMF0ucm9idXN0bmVzczpcIlwiKXx8XCJcIix2aWRlb1JvYnVzdG5lc3M6KGIudmlkZW9DYXBhYmlsaXRpZXM/Yi52aWRlb0NhcGFiaWxpdGllc1swXS5yb2J1c3RuZXNzOlwiXCIpfHxcIlwiLHNlcnZlckNlcnRpZmljYXRlOmRbMF0saW5pdERhdGE6ZSxrZXlJZHM6Zn19XG5mdW5jdGlvbiBUZChhLGIsYyxkLGUpe3ZhciBmPXt9O2E9cShhKTtmb3IodmFyIGc9YS5uZXh0KCk7IWcuZG9uZTtmPXtsYTpmLmxhfSxnPWEubmV4dCgpKXtmLmxhPWcudmFsdWU7Yi5pbmNsdWRlcyhmLmxhLmxpY2Vuc2VTZXJ2ZXJVcmkpfHxiLnB1c2goZi5sYS5saWNlbnNlU2VydmVyVXJpKTtmLmxhLnNlcnZlckNlcnRpZmljYXRlJiYoYy5zb21lKGZ1bmN0aW9uKGwpe3JldHVybiBmdW5jdGlvbihtKXtyZXR1cm4gSmIobSxsLmxhLnNlcnZlckNlcnRpZmljYXRlKX19KGYpKXx8Yy5wdXNoKGYubGEuc2VydmVyQ2VydGlmaWNhdGUpKTtpZihmLmxhLmluaXREYXRhKXtnPXt9O2Zvcih2YXIgaD1xKGYubGEuaW5pdERhdGEpLGs9aC5uZXh0KCk7IWsuZG9uZTtnPXtRYjpnLlFifSxrPWgubmV4dCgpKWcuUWI9ay52YWx1ZSxkLnNvbWUoZnVuY3Rpb24obCl7cmV0dXJuIGZ1bmN0aW9uKG0pe3ZhciBuPWwuUWI7cmV0dXJuIG0ua2V5SWQmJm0ua2V5SWQ9PW4ua2V5SWQ/ITA6bS5pbml0RGF0YVR5cGU9PVxubi5pbml0RGF0YVR5cGUmJkpiKG0uaW5pdERhdGEsbi5pbml0RGF0YSl9fShnKSl8fGQucHVzaChnLlFiKX1pZihmLmxhLmtleUlkcylmb3IoZz1xKGYubGEua2V5SWRzKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSllLmFkZChoLnZhbHVlKX19XG5mdW5jdGlvbiB2ZChhLGIsYyl7aWYoYS5rZXlTeXN0ZW0mJihcIm9yZy53My5jbGVhcmtleVwiIT1hLmtleVN5c3RlbXx8IWEubGljZW5zZVNlcnZlclVyaSkpe2Iuc2l6ZSYmKGI9Yi5nZXQoYS5rZXlTeXN0ZW0pfHxcIlwiLGEubGljZW5zZVNlcnZlclVyaT1iKTthLmtleUlkc3x8KGEua2V5SWRzPW5ldyBTZXQpO2lmKGM9Yy5nZXQoYS5rZXlTeXN0ZW0pKWEuZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWR8fChhLmRpc3RpbmN0aXZlSWRlbnRpZmllclJlcXVpcmVkPWMuZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQpLGEucGVyc2lzdGVudFN0YXRlUmVxdWlyZWR8fChhLnBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkPWMucGVyc2lzdGVudFN0YXRlUmVxdWlyZWQpLGEudmlkZW9Sb2J1c3RuZXNzfHwoYS52aWRlb1JvYnVzdG5lc3M9Yy52aWRlb1JvYnVzdG5lc3MpLGEuYXVkaW9Sb2J1c3RuZXNzfHwoYS5hdWRpb1JvYnVzdG5lc3M9Yy5hdWRpb1JvYnVzdG5lc3MpLGEuc2VydmVyQ2VydGlmaWNhdGV8fFxuKGEuc2VydmVyQ2VydGlmaWNhdGU9Yy5zZXJ2ZXJDZXJ0aWZpY2F0ZSk7d2luZG93LmNhc3QmJndpbmRvdy5jYXN0Ll9fcGxhdGZvcm1fXyYmXCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeVwiPT1hLmtleVN5c3RlbSYmKGEua2V5U3lzdGVtPVwiY29tLmNocm9tZWNhc3QucGxheXJlYWR5XCIpfX12YXIgUWQ9MSxNZD01LE5kPS41LFVkPW5ldyBxYyhmdW5jdGlvbigpe3JldHVybiBMYihuZXcgVWludDhBcnJheShbMF0pKX0pO2Z1bmN0aW9uIFZkKCl7dGhpcy5hPW5ldyBtdXhqcy5tcDQuQ2FwdGlvblBhcnNlcjt0aGlzLmc9W107dGhpcy5mPXt9fVZkLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe3ZhciBiPW11eGpzLm1wNC5wcm9iZTthPU4oYSk7dGhpcy5nPWIudmlkZW9UcmFja0lkcyhhKTt0aGlzLmY9Yi50aW1lc2NhbGUoYSk7dGhpcy5hLmluaXQoKX07VmQucHJvdG90eXBlLmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGEpOyhjPXRoaXMuYS5wYXJzZShjLHRoaXMuZyx0aGlzLmYpKSYmYy5jYXB0aW9ucyYmYihjLmNhcHRpb25zKTt0aGlzLmEuY2xlYXJQYXJzZWRDYXB0aW9ucygpfTtWZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3RoaXMuYS5yZXNldENhcHRpb25TdHJlYW0oKX07ZnVuY3Rpb24gV2QoKXt9V2QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt9O1dkLnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7fTtXZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gWGQoYSl7cmV0dXJuIWF8fDE9PWEubGVuZ3RoJiYxRS02PmEuZW5kKDApLWEuc3RhcnQoMCk/bnVsbDphLmxlbmd0aD9hLmVuZChhLmxlbmd0aC0xKTpudWxsfWZ1bmN0aW9uIFlkKGEsYixjKXtjPXZvaWQgMD09PWM/MDpjO3JldHVybiFhfHwhYS5sZW5ndGh8fDE9PWEubGVuZ3RoJiYxRS02PmEuZW5kKDApLWEuc3RhcnQoMCl8fGI+YS5lbmQoYS5sZW5ndGgtMSk/ITE6YitjPj1hLnN0YXJ0KDApfWZ1bmN0aW9uIFpkKGEsYil7aWYoIWF8fCFhLmxlbmd0aHx8MT09YS5sZW5ndGgmJjFFLTY+YS5lbmQoMCktYS5zdGFydCgwKSlyZXR1cm4gMDtmb3IodmFyIGM9MCxkPXEoJGQoYSkpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1lLnZhbHVlO2U9Zi5zdGFydDtmPWYuZW5kO2Y+YiYmKGMrPWYtTWF0aC5tYXgoZSxiKSl9cmV0dXJuIGN9XG5mdW5jdGlvbiBhZShhLGIpe2lmKCFhfHwhYS5sZW5ndGh8fDE9PWEubGVuZ3RoJiYxRS02PmEuZW5kKDApLWEuc3RhcnQoMCkpcmV0dXJuIG51bGw7dmFyIGM9WmMoXCJFZGdlL1wiKXx8WmMoXCJUcmlkZW50L1wiKXx8WmMoXCJUaXplblwiKXx8WmMoXCJDcktleVwiKT8uNTouMSxkPSRkKGEpLmZpbmRJbmRleChmdW5jdGlvbihlLGYsZyl7cmV0dXJuIGUuc3RhcnQ+YiYmKDA9PWZ8fGdbZi0xXS5lbmQtYjw9Yyl9KTtyZXR1cm4gMDw9ZD9kOm51bGx9ZnVuY3Rpb24gJGQoYSl7aWYoIWEpcmV0dXJuW107Zm9yKHZhciBiPVtdLGM9cShmYihhLmxlbmd0aCkpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWQ9ZC52YWx1ZSxiLnB1c2goe3N0YXJ0OmEuc3RhcnQoZCksZW5kOmEuZW5kKGQpfSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJlKCl7dmFyIGE9dGhpczt0aGlzLmE9bmV3IG11eGpzLm1wNC5UcmFuc211eGVyKHtrZWVwT3JpZ2luYWxUaW1lc3RhbXBzOiEwfSk7dGhpcy5iPW51bGw7dGhpcy5oPVtdO3RoaXMuYz1bXTt0aGlzLmc9W107dGhpcy5mPSExO3RoaXMuYS5vbihcImRhdGFcIixmdW5jdGlvbihiKXthLmM9Yi5jYXB0aW9uczthLmc9Yi5tZXRhZGF0YTthLmgucHVzaChpZChiLmluaXRTZWdtZW50LGIuZGF0YSkpfSk7dGhpcy5hLm9uKFwiZG9uZVwiLGZ1bmN0aW9uKCl7dmFyIGI9e2RhdGE6aWQuYXBwbHkoY2QsaGEoYS5oKSksY2FwdGlvbnM6YS5jLG1ldGFkYXRhOmEuZ307YS5iLnJlc29sdmUoYik7YS5mPSExfSl9YmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGlzcG9zZSgpO3RoaXMuYT1udWxsO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07XG5mdW5jdGlvbiBjZShhLGIpe2lmKCF3aW5kb3cubXV4anN8fFwibXAydFwiIT1hLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCI7XCIpWzBdLnNwbGl0KFwiL1wiKVsxXSlyZXR1cm4hMTtpZihiKXJldHVybiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoZGUoYixhKSk7dmFyIGM9ZGUoXCJhdWRpb1wiLGEpLGQ9ZGUoXCJ2aWRlb1wiLGEpO3JldHVybiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyl8fE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChkKX1cbmZ1bmN0aW9uIGRlKGEsYil7dmFyIGM9Yi5yZXBsYWNlKC9tcDJ0L2ksXCJtcDRcIik7XCJhdWRpb1wiPT1hJiYoYz1jLnJlcGxhY2UoXCJ2aWRlb1wiLFwiYXVkaW9cIikpO3ZhciBkPS9hdmMxXFwuKDY2fDc3fDEwMClcXC4oXFxkKykvLmV4ZWMoYyk7aWYoZCl7dmFyIGU9XCJhdmMxLlwiLGY9ZFsxXSxnPU51bWJlcihkWzJdKTtlPShcIjY2XCI9PWY/ZStcIjQyMDBcIjpcIjc3XCI9PWY/ZStcIjRkMDBcIjplK1wiNjQwMFwiKSsoZz4+NCkudG9TdHJpbmcoMTYpO2UrPShnJjE1KS50b1N0cmluZygxNik7Yz1jLnJlcGxhY2UoZFswXSxlKX1yZXR1cm4gY31mdW5jdGlvbiBlZShhLGIpe2EuZj0hMDthLmI9bmV3IEFiO2EuaD1bXTthLmM9W107YS5nPVtdO3ZhciBjPU4oYik7YS5hLnB1c2goYyk7YS5hLmZsdXNoKCk7YS5mJiZhLmIucmVqZWN0KG5ldyBMKDIsMywzMDE4KSk7cmV0dXJuIGEuYn07ZnVuY3Rpb24gZmUoYSxiLGMpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5kaXJlY3Rpb249Z2U7dGhpcy5lbmRUaW1lPWI7dGhpcy5wYXlsb2FkPWM7dGhpcy5yZWdpb249bmV3IGhlO3RoaXMucG9zaXRpb249bnVsbDt0aGlzLnBvc2l0aW9uQWxpZ249aWU7dGhpcy5zaXplPTA7dGhpcy50ZXh0QWxpZ249amU7dGhpcy53cml0aW5nTW9kZT1rZTt0aGlzLmxpbmVJbnRlcnByZXRhdGlvbj1sZTt0aGlzLmxpbmU9bnVsbDt0aGlzLmxpbmVIZWlnaHQ9XCJcIjt0aGlzLmxpbmVBbGlnbj1tZTt0aGlzLmRpc3BsYXlBbGlnbj1uZTt0aGlzLmZvbnRTaXplPXRoaXMuYm9yZGVyPXRoaXMuYmFja2dyb3VuZEltYWdlPXRoaXMuYmFja2dyb3VuZENvbG9yPXRoaXMuY29sb3I9XCJcIjt0aGlzLmZvbnRXZWlnaHQ9b2U7dGhpcy5mb250U3R5bGU9cGU7dGhpcy5saW5lUGFkZGluZz10aGlzLmxldHRlclNwYWNpbmc9dGhpcy5mb250RmFtaWx5PVwiXCI7dGhpcy5vcGFjaXR5PTE7dGhpcy50ZXh0RGVjb3JhdGlvbj1cbltdO3RoaXMud3JhcExpbmU9ITA7dGhpcy5pZD1cIlwiO3RoaXMubmVzdGVkQ3Vlcz1bXTt0aGlzLnNwYWNlcj0hMTt0aGlzLmNlbGxSZXNvbHV0aW9uPXtjb2x1bW5zOjMyLHJvd3M6MTV9fWZlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBmZSgwLDAsXCJcIiksYjtmb3IoYiBpbiB0aGlzKWFbYl09dGhpc1tiXSxhW2JdJiZhW2JdLmNvbnN0cnVjdG9yPT1BcnJheSYmKGFbYl09YVtiXS5zbGljZSgpKTtyZXR1cm4gYX07SyhcInNoYWthLnRleHQuQ3VlXCIsZmUpO3ZhciBpZT1cImF1dG9cIjtmZS5wb3NpdGlvbkFsaWduPXtMRUZUOlwibGluZS1sZWZ0XCIsUklHSFQ6XCJsaW5lLXJpZ2h0XCIsQ0VOVEVSOlwiY2VudGVyXCIsQVVUTzppZX07dmFyIGplPVwiY2VudGVyXCIscWU9e0xFRlQ6XCJsZWZ0XCIsUklHSFQ6XCJyaWdodFwiLENFTlRFUjpqZSxTVEFSVDpcInN0YXJ0XCIsRU5EOlwiZW5kXCJ9O2ZlLnRleHRBbGlnbj1xZTtcbnZhciBuZT1cImFmdGVyXCIscmU9e0JFRk9SRTpcImJlZm9yZVwiLENFTlRFUjpcImNlbnRlclwiLEFGVEVSOm5lfTtmZS5kaXNwbGF5QWxpZ249cmU7dmFyIGdlPVwibHRyXCI7ZmUuZGlyZWN0aW9uPXtIT1JJWk9OVEFMX0xFRlRfVE9fUklHSFQ6Z2UsSE9SSVpPTlRBTF9SSUdIVF9UT19MRUZUOlwicnRsXCJ9O3ZhciBrZT1cImhvcml6b250YWwtdGJcIjtmZS53cml0aW5nTW9kZT17SE9SSVpPTlRBTF9UT1BfVE9fQk9UVE9NOmtlLFZFUlRJQ0FMX0xFRlRfVE9fUklHSFQ6XCJ2ZXJ0aWNhbC1sclwiLFZFUlRJQ0FMX1JJR0hUX1RPX0xFRlQ6XCJ2ZXJ0aWNhbC1ybFwifTt2YXIgbGU9MDtmZS5saW5lSW50ZXJwcmV0YXRpb249e0xJTkVfTlVNQkVSOmxlLFBFUkNFTlRBR0U6MX07dmFyIG1lPVwic3RhcnRcIixzZT17Q0VOVEVSOlwiY2VudGVyXCIsU1RBUlQ6bWUsRU5EOlwiZW5kXCJ9O2ZlLmxpbmVBbGlnbj1zZTt2YXIgb2U9NDAwO2ZlLmZvbnRXZWlnaHQ9e05PUk1BTDpvZSxCT0xEOjcwMH07XG52YXIgcGU9XCJub3JtYWxcIix0ZT17Tk9STUFMOnBlLElUQUxJQzpcIml0YWxpY1wiLE9CTElRVUU6XCJvYmxpcXVlXCJ9O2ZlLmZvbnRTdHlsZT10ZTtmZS50ZXh0RGVjb3JhdGlvbj17VU5ERVJMSU5FOlwidW5kZXJsaW5lXCIsTElORV9USFJPVUdIOlwibGluZVRocm91Z2hcIixPVkVSTElORTpcIm92ZXJsaW5lXCJ9O2Z1bmN0aW9uIGhlKCl7dGhpcy5pZD1cIlwiO3RoaXMucmVnaW9uQW5jaG9yWT10aGlzLnJlZ2lvbkFuY2hvclg9dGhpcy52aWV3cG9ydEFuY2hvclk9dGhpcy52aWV3cG9ydEFuY2hvclg9MDt0aGlzLmhlaWdodD10aGlzLndpZHRoPTEwMDt0aGlzLnZpZXdwb3J0QW5jaG9yVW5pdHM9dGhpcy53aWR0aFVuaXRzPXRoaXMuaGVpZ2h0VW5pdHM9dWU7dGhpcy5zY3JvbGw9dmV9SyhcInNoYWthLnRleHQuQ3VlUmVnaW9uXCIsaGUpO3ZhciB1ZT0xO2hlLnVuaXRzPXtQWDowLFBFUkNFTlRBR0U6dWUsTElORVM6Mn07dmFyIHZlPVwiXCI7aGUuc2Nyb2xsTW9kZT17Tk9ORTp2ZSxVUDpcInVwXCJ9O2Z1bmN0aW9uIHdlKGEpe3RoaXMubT1udWxsO3RoaXMuYz1hO3RoaXMuZj10aGlzLnY9MDt0aGlzLmc9SW5maW5pdHk7dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMuaj1cIlwiO3RoaXMuaD1uZXcgTWFwfWZ1bmN0aW9uIHhlKGEpe3JldHVybiB5ZVthXXx8d2luZG93Lm11eGpzJiZcImFwcGxpY2F0aW9uL2NlYS02MDhcIj09YT8hMDohMX13ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYz10aGlzLm09bnVsbDt0aGlzLmguY2xlYXIoKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O1xuZnVuY3Rpb24gemUoYSxiLGMsZCl7dmFyIGUsZixnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSlyZXR1cm4gdChoLFByb21pc2UucmVzb2x2ZSgpLDIpO2lmKCFhLm18fCFhLmMpcmV0dXJuIGhbXCJyZXR1cm5cIl0oKTtpZihudWxsPT1jfHxudWxsPT1kKXJldHVybiBhLm0ucGFyc2VJbml0KE4oYikpLGhbXCJyZXR1cm5cIl0oKTtlPXtwZXJpb2RTdGFydDphLnYsc2VnbWVudFN0YXJ0OmMsc2VnbWVudEVuZDpkfTtmPWEubS5wYXJzZU1lZGlhKE4oYiksZSk7Zz1mLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm4gay5zdGFydFRpbWU+PWEuZiYmay5zdGFydFRpbWU8YS5nfSk7YS5jLmFwcGVuZChnKTtudWxsPT1hLmEmJihhLmE9TWF0aC5tYXgoYyxhLmYpKTthLmI9TWF0aC5taW4oZCxhLmcpO3coaCl9KX1cbndlLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBKKGZ1bmN0aW9uKGQpe2lmKDE9PWQuYSlyZXR1cm4gdChkLFByb21pc2UucmVzb2x2ZSgpLDIpOyFjLmN8fCFjLmMucmVtb3ZlKGEsYil8fG51bGw9PWMuYXx8Yjw9Yy5hfHxhPj1jLmJ8fChhPD1jLmEmJmI+PWMuYj9jLmE9Yy5iPW51bGw6YTw9Yy5hJiZiPGMuYj9jLmE9YjphPmMuYSYmYj49Yy5iJiYoYy5iPWEpKTt3KGQpfSl9O2Z1bmN0aW9uIEFlKGEsYixjKXthLmY9YjthLmc9Y31mdW5jdGlvbiBCZShhLGIsYyl7YS5qPWI7aWYoYj1hLmguZ2V0KGIpKWZvcih2YXIgZD1xKGIua2V5cygpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSkoZT1iLmdldChlLnZhbHVlKS5maWx0ZXIoZnVuY3Rpb24oZil7cmV0dXJuIGYuZW5kVGltZTw9Y30pKSYmYS5jLmFwcGVuZChlKX1cbmZ1bmN0aW9uIENlKGEsYixjLGQsZSl7dmFyIGY9YytcIiBcIitkLGc9bmV3IE1hcDtiPXEoYik7Zm9yKHZhciBoPWIubmV4dCgpOyFoLmRvbmU7aD1iLm5leHQoKSl7dmFyIGs9aC52YWx1ZTtoPWsuc3RyZWFtO2cuaGFzKGgpfHxnLnNldChoLG5ldyBNYXApO2cuZ2V0KGgpLmhhcyhmKXx8Zy5nZXQoaCkuc2V0KGYsW10pO2suc3RhcnRUaW1lKz1lO2suZW5kVGltZSs9ZTtrLnN0YXJ0VGltZT49YS5mJiZrLnN0YXJ0VGltZTxhLmcmJihrPW5ldyBmZShrLnN0YXJ0VGltZSxrLmVuZFRpbWUsay50ZXh0KSxnLmdldChoKS5nZXQoZikucHVzaChrKSxoPT1hLmomJmEuYy5hcHBlbmQoW2tdKSl9ZT1xKGcua2V5cygpKTtmb3IoZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZm9yKGY9Zi52YWx1ZSxhLmguaGFzKGYpfHxhLmguc2V0KGYsbmV3IE1hcCksYj1xKGcuZ2V0KGYpLmtleXMoKSksaD1iLm5leHQoKTshaC5kb25lO2g9Yi5uZXh0KCkpaD1oLnZhbHVlLGs9Zy5nZXQoZikuZ2V0KGgpLFxuYS5oLmdldChmKS5zZXQoaCxrKTthLmE9bnVsbD09YS5hP01hdGgubWF4KGMsYS5mKTpNYXRoLm1pbihhLmEsTWF0aC5tYXgoYyxhLmYpKTthLmI9TWF0aC5tYXgoYS5iLE1hdGgubWluKGQsYS5nKSl9SyhcInNoYWthLnRleHQuVGV4dEVuZ2luZVwiLHdlKTt3ZS5wcm90b3R5cGUuZGVzdHJveT13ZS5wcm90b3R5cGUuZGVzdHJveTt3ZS51bnJlZ2lzdGVyUGFyc2VyPWZ1bmN0aW9uKGEpe2RlbGV0ZSB5ZVthXX07d2UucmVnaXN0ZXJQYXJzZXI9ZnVuY3Rpb24oYSxiKXt5ZVthXT1ifTt2YXIgeWU9e307ZnVuY3Rpb24gRGUoYSxiLGMsZCl7dmFyIGU9dGhpczt0aGlzLmE9YTt0aGlzLmg9Yzt0aGlzLmY9e307dGhpcy5jPW51bGw7dGhpcy5DPWR8fGZ1bmN0aW9uKCl7fTt0aGlzLmc9e307dGhpcy5iPW5ldyBsYzt0aGlzLm09e307dGhpcy52PWI7dGhpcy53PW5ldyBBYjt0aGlzLmo9RWUodGhpcyx0aGlzLncpO3RoaXMuRD1uZXcgamMoZnVuY3Rpb24oKXtyZXR1cm4gRmUoZSl9KX1mdW5jdGlvbiBFZShhLGIpe3ZhciBjPW5ldyBNZWRpYVNvdXJjZTthLmIuaGEoYyxcInNvdXJjZW9wZW5cIixiLnJlc29sdmUpO2EuYS5zcmM9R2UoYyk7cmV0dXJuIGN9ZnVuY3Rpb24gSGUoYSl7dmFyIGI9UmMoYS5taW1lVHlwZSxhLmNvZGVjcyksYz1TYyhhKTtyZXR1cm4geGUoYil8fE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChjKXx8Y2UoYixhLnR5cGUpfXA9RGUucHJvdG90eXBlO3AuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkQuZGVzdHJveSgpfTtcbmZ1bmN0aW9uIEZlKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGs7cmV0dXJuIEooZnVuY3Rpb24obCl7aWYoMT09bC5hKXtiPVtdO2ZvcihjIGluIGEuZylmb3IoZD1hLmdbY10sZT1kWzBdLGEuZ1tjXT1kLnNsaWNlKDAsMSksZSYmYi5wdXNoKGUucFtcImNhdGNoXCJdKEljKSksZj1xKGQuc2xpY2UoMSkpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKWg9Zy52YWx1ZSxoLnAucmVqZWN0KG5ldyBMKDIsNyw3MDAzLHZvaWQgMCkpO2EuYyYmYi5wdXNoKGEuYy5kZXN0cm95KCkpO2EuaCYmYi5wdXNoKGEuaC5kZXN0cm95KCkpO2ZvcihrIGluIGEubSliLnB1c2goYS5tW2tdLmRlc3Ryb3koKSk7cmV0dXJuIHQobCxQcm9taXNlLmFsbChiKSwyKX1hLmImJihhLmIucmVsZWFzZSgpLGEuYj1udWxsKTthLmEmJihhLmEucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpLGEuYS5sb2FkKCksYS5hPW51bGwpO2Euaj1udWxsO2EuYz1udWxsO2EuaD1udWxsO2EuZj17fTthLm09e307YS52PW51bGw7YS5nPVxue307dyhsKX0pfVxucC5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkLGUsZixnLGgsayxsO3JldHVybiBKKGZ1bmN0aW9uKG0pe2lmKDE9PW0uYSlyZXR1cm4gZD1OYyx0KG0sYy53LDIpO2U9e307Zj1xKGEua2V5cygpKTtmb3IoZz1mLm5leHQoKTshZy5kb25lO2U9e2thOmUua2F9LGc9Zi5uZXh0KCkpZS5rYT1nLnZhbHVlLGg9YS5nZXQoZS5rYSksaz1SYyhoLm1pbWVUeXBlLGguY29kZWNzKSxlLmthPT1kLiQ/SWUoYyxrKTooIWImJk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChrKXx8IWNlKGssZS5rYSl8fChjLm1bZS5rYV09bmV3IGJlLGs9ZGUoZS5rYSxrKSksbD1jLmouYWRkU291cmNlQnVmZmVyKGspLGMuYi5sKGwsXCJlcnJvclwiLGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2MuZ1tuLmthXVswXS5wLnJlamVjdChuZXcgTCgyLDMsMzAxNCxjLmEuZXJyb3I/Yy5hLmVycm9yLmNvZGU6MCkpfX0oZSkpLGMuYi5sKGwsXCJ1cGRhdGVlbmRcIixmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gSmUoYyxuLmthKX19KGUpKSxcbmMuZltlLmthXT1sLGMuZ1tlLmthXT1bXSk7dyhtKX0pfTtmdW5jdGlvbiBJZShhLGIpe2EuY3x8KGEuYz1uZXcgd2UoYS5oKSk7XCJhcHBsaWNhdGlvbi9jZWEtNjA4XCIhPWImJihhLmMubT1LYyh5ZVtiXSkpfWZ1bmN0aW9uIEtlKGEpe3JldHVybiBhLmo/XCJlbmRlZFwiPT1hLmoucmVhZHlTdGF0ZTohMH1mdW5jdGlvbiBMZShhLGIpe2lmKFwidGV4dFwiPT1iKXZhciBjPWEuYy5hO2Vsc2UgYz1NZShhLGIpLGM9IWN8fDE9PWMubGVuZ3RoJiYxRS02PmMuZW5kKDApLWMuc3RhcnQoMCk/bnVsbDoxPT1jLmxlbmd0aCYmMD5jLnN0YXJ0KDApPzA6Yy5sZW5ndGg/Yy5zdGFydCgwKTpudWxsO3JldHVybiBjfWZ1bmN0aW9uIE5lKGEsYil7cmV0dXJuXCJ0ZXh0XCI9PWI/YS5jLmI6WGQoTWUoYSxiKSl9ZnVuY3Rpb24gT2UoYSxiLGMpe2lmKFwidGV4dFwiPT1iKXJldHVybiBhPWEuYyxudWxsPT1hLmJ8fGEuYjxjPzA6YS5iLU1hdGgubWF4KGMsYS5hKTthPU1lKGEsYik7cmV0dXJuIFpkKGEsYyl9XG5wLmNjPWZ1bmN0aW9uKCl7dmFyIGE9e3RvdGFsOiRkKHRoaXMuYS5idWZmZXJlZCksYXVkaW86JGQoTWUodGhpcyxcImF1ZGlvXCIpKSx2aWRlbzokZChNZSh0aGlzLFwidmlkZW9cIikpLHRleHQ6W119O2lmKHRoaXMuYyl7dmFyIGI9dGhpcy5jLmEsYz10aGlzLmMuYjtudWxsIT1iJiZudWxsIT1jJiZhLnRleHQucHVzaCh7c3RhcnQ6YixlbmQ6Y30pfXJldHVybiBhfTtmdW5jdGlvbiBNZShhLGIpe3RyeXtyZXR1cm4gYS5mW2JdLmJ1ZmZlcmVkfWNhdGNoKGMpe3JldHVybiBudWxsfX1cbmZ1bmN0aW9uIFBlKGEsYixjLGQsZSxmKXt2YXIgZyxoLGssbDtyZXR1cm4gSihmdW5jdGlvbihtKXtpZigxPT1tLmEpe2c9TmM7aWYoYj09Zy4kKXJldHVybiB0KG0semUoYS5jLGMsZCxlKSwwKTtpZihhLm1bYl0pcmV0dXJuIHQobSxlZShhLm1bYl0sYyksMTApO2YmJndpbmRvdy5tdXhqcyYmKGEuY3x8SWUoYSxcInRleHQvdnR0XCIpLG51bGw9PWQmJm51bGw9PWU/YS52LmluaXQoYyk6YS52LmIoYyxmdW5jdGlvbihuKXtuLmxlbmd0aCYmQ2UoYS5jLG4sZCxlLGEuZltnLkJhXS50aW1lc3RhbXBPZmZzZXQpfSkpO3JldHVybiB0KG0sUWUoYSxiLGZ1bmN0aW9uKCl7YS5mW2JdLmFwcGVuZEJ1ZmZlcihjKX0pLDApfWg9bS5iO2EuY3x8SWUoYSxcInRleHQvdnR0XCIpO2gubWV0YWRhdGEmJihrPWEuZltiXS50aW1lc3RhbXBPZmZzZXQsYS5DKGgubWV0YWRhdGEsayxlKSk7aC5jYXB0aW9ucyYmaC5jYXB0aW9ucy5sZW5ndGgmJihsPWEuZltnLkJhXS50aW1lc3RhbXBPZmZzZXQsQ2UoYS5jLFxuaC5jYXB0aW9ucyxkLGUsbCkpO3JldHVybiB0KG0sUWUoYSxiLGZ1bmN0aW9uKCl7YS5mW2JdLmFwcGVuZEJ1ZmZlcihoLmRhdGEpfSksMCl9KX1mdW5jdGlvbiBSZShhLGIpe3ZhciBjPU5lKGEsXCJ2aWRlb1wiKXx8MDtCZShhLmMsYixjKX1wLnJlbW92ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlO3JldHVybiBKKGZ1bmN0aW9uKGYpe2U9TmM7cmV0dXJuIGE9PWUuJD90KGYsZC5jLnJlbW92ZShiLGMpLDApOnQoZixRZShkLGEsZnVuY3Rpb24oKXtjPD1iP0plKGQsYSk6ZC5mW2FdLnJlbW92ZShiLGMpfSksMCl9KX07ZnVuY3Rpb24gU2UoYSxiKXt2YXIgYztyZXR1cm4gSihmdW5jdGlvbihkKXtjPU5jO3JldHVybiBiPT1jLiQ/YS5jP3QoZCxhLmMucmVtb3ZlKDAsSW5maW5pdHkpLDApOmRbXCJyZXR1cm5cIl0oKTp0KGQsUWUoYSxiLGZ1bmN0aW9uKCl7dmFyIGU9YS5qLmR1cmF0aW9uOzA+PWU/SmUoYSxiKTphLmZbYl0ucmVtb3ZlKDAsZSl9KSwwKX0pfVxucC5mbHVzaD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7cmV0dXJuIEooZnVuY3Rpb24oZCl7Yz1OYztyZXR1cm4gYT09Yy4kP2RbXCJyZXR1cm5cIl0oKTp0KGQsUWUoYixhLGZ1bmN0aW9uKCl7Yi5hLmN1cnJlbnRUaW1lLT0uMDAxO0plKGIsYSl9KSwwKX0pfTtcbmZ1bmN0aW9uIFRlKGEsYixjLGQsZSl7dmFyIGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7Zj1OYztyZXR1cm4gYj09Zi4kPyhhLmMudj1jLEFlKGEuYyxkLGUpLGdbXCJyZXR1cm5cIl0oKSk6dChnLFByb21pc2UuYWxsKFtRZShhLGIsZnVuY3Rpb24oKXt2YXIgaD1hLmZbYl0uYXBwZW5kV2luZG93U3RhcnQsaz1hLmZbYl0uYXBwZW5kV2luZG93RW5kO2EuZltiXS5hYm9ydCgpO2EuZltiXS5hcHBlbmRXaW5kb3dTdGFydD1oO2EuZltiXS5hcHBlbmRXaW5kb3dFbmQ9aztKZShhLGIpfSksUWUoYSxiLGZ1bmN0aW9uKCl7dmFyIGg9YzswPmgmJihoKz0uMDAxKTthLmZbYl0udGltZXN0YW1wT2Zmc2V0PWg7SmUoYSxiKX0pLFFlKGEsYixmdW5jdGlvbigpe2EuZltiXS5hcHBlbmRXaW5kb3dTdGFydD0wO2EuZltiXS5hcHBlbmRXaW5kb3dFbmQ9ZTthLmZbYl0uYXBwZW5kV2luZG93U3RhcnQ9ZDtKZShhLGIpfSldKSwwKX0pfVxucC5lbmRPZlN0cmVhbT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBKKGZ1bmN0aW9uKGMpe3JldHVybiB0KGMsVWUoYixmdW5jdGlvbigpe0tlKGIpfHwoYT9iLmouZW5kT2ZTdHJlYW0oYSk6Yi5qLmVuZE9mU3RyZWFtKCkpfSksMCl9KX07cC54YT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBKKGZ1bmN0aW9uKGMpe3JldHVybiB0KGMsVWUoYixmdW5jdGlvbigpe2Iuai5kdXJhdGlvbj1hfSksMCl9KX07cC5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmouZHVyYXRpb259O2Z1bmN0aW9uIEplKGEsYil7dmFyIGM9YS5nW2JdWzBdO2MmJihjLnAucmVzb2x2ZSgpLFZlKGEsYikpfWZ1bmN0aW9uIFFlKGEsYixjKXtrYyhhLkQpO2M9e3N0YXJ0OmMscDpuZXcgQWJ9O2EuZ1tiXS5wdXNoKGMpOzE9PWEuZ1tiXS5sZW5ndGgmJldlKGEsYik7cmV0dXJuIGMucH1cbmZ1bmN0aW9uIFVlKGEsYil7dmFyIGMsZCxlLGYsZyxoO3JldHVybiBKKGZ1bmN0aW9uKGspe3N3aXRjaChrLmEpe2Nhc2UgMTprYyhhLkQpO2M9W107ZD17fTtmb3IoZSBpbiBhLmYpZC51Yj1uZXcgQWIsZj17c3RhcnQ6ZnVuY3Rpb24obCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGwudWIucmVzb2x2ZSgpfX0oZCkscDpkLnVifSxhLmdbZV0ucHVzaChmKSxjLnB1c2goZC51YiksMT09YS5nW2VdLmxlbmd0aCYmZi5zdGFydCgpLGQ9e3ViOmQudWJ9O3goaywyKTtyZXR1cm4gdChrLFByb21pc2UuYWxsKGMpLDQpO2Nhc2UgNDp1YShrLDMpO2JyZWFrO2Nhc2UgMjp0aHJvdyBnPUMoayksZztjYXNlIDM6dHJ5e2IoKX1jYXRjaChsKXt0aHJvdyBuZXcgTCgyLDMsMzAxNSxsKTt9ZmluYWxseXtmb3IoaCBpbiBhLmYpVmUoYSxoKX13KGspfX0pfWZ1bmN0aW9uIFZlKGEsYil7YS5nW2JdLnNoaWZ0KCk7V2UoYSxiKX1cbmZ1bmN0aW9uIFdlKGEsYil7dmFyIGM9YS5nW2JdWzBdO2lmKGMpdHJ5e2Muc3RhcnQoKX1jYXRjaChkKXtcIlF1b3RhRXhjZWVkZWRFcnJvclwiPT1kLm5hbWU/Yy5wLnJlamVjdChuZXcgTCgyLDMsMzAxNyxiKSk6Yy5wLnJlamVjdChuZXcgTCgyLDMsMzAxNSxkKSksVmUoYSxiKX19dmFyIEdlPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMO2Z1bmN0aW9uIFhlKGEsYil7YT1SKGEpO2I9UihiKTtyZXR1cm4gYS5zcGxpdChcIi1cIilbMF09PWIuc3BsaXQoXCItXCIpWzBdfWZ1bmN0aW9uIFllKGEsYil7YT1SKGEpO2I9UihiKTt2YXIgYz1hLnNwbGl0KFwiLVwiKSxkPWIuc3BsaXQoXCItXCIpO3JldHVybiBjWzBdPT1kWzBdJiYxPT1jLmxlbmd0aCYmMj09ZC5sZW5ndGh9ZnVuY3Rpb24gWmUoYSxiKXthPVIoYSk7Yj1SKGIpO3ZhciBjPWEuc3BsaXQoXCItXCIpLGQ9Yi5zcGxpdChcIi1cIik7cmV0dXJuIDI9PWMubGVuZ3RoJiYyPT1kLmxlbmd0aCYmY1swXT09ZFswXX1mdW5jdGlvbiBSKGEpe3ZhciBiPWEuc3BsaXQoXCItXCIpO2E9YlswXXx8XCJcIjtiPWJbMV18fFwiXCI7YT1hLnRvTG93ZXJDYXNlKCk7YT0kZS5nZXQoYSl8fGE7cmV0dXJuKGI9Yi50b1VwcGVyQ2FzZSgpKT9hK1wiLVwiK2I6YX1mdW5jdGlvbiBhZihhLGIpe2E9UihhKTtiPVIoYik7cmV0dXJuIGI9PWE/NDpZZShiLGEpPzM6WmUoYixhKT8yOlllKGEsYik/MTowfVxuZnVuY3Rpb24gYmYoYSl7cmV0dXJuIGEubGFuZ3VhZ2U/UihhLmxhbmd1YWdlKTphLmF1ZGlvJiZhLmF1ZGlvLmxhbmd1YWdlP1IoYS5hdWRpby5sYW5ndWFnZSk6YS52aWRlbyYmYS52aWRlby5sYW5ndWFnZT9SKGEudmlkZW8ubGFuZ3VhZ2UpOlwidW5kXCJ9XG5mdW5jdGlvbiBjZihhLGIpe2Zvcih2YXIgYz1SKGEpLGQ9bmV3IFNldCxlPXEoYiksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZC5hZGQoUihmLnZhbHVlKSk7ZT1xKGQpO2ZvcihmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlpZihmPWYudmFsdWUsZj09YylyZXR1cm4gZjtlPXEoZCk7Zm9yKGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKWlmKGY9Zi52YWx1ZSxZZShmLGMpKXJldHVybiBmO2U9cShkKTtmb3IoZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpaWYoZj1mLnZhbHVlLFplKGYsYykpcmV0dXJuIGY7ZD1xKGQpO2ZvcihmPWQubmV4dCgpOyFmLmRvbmU7Zj1kLm5leHQoKSlpZihmPWYudmFsdWUsWWUoYyxmKSlyZXR1cm4gZjtyZXR1cm4gbnVsbH1cbnZhciAkZT1uZXcgTWFwKFtbXCJhYXJcIixcImFhXCJdLFtcImFia1wiLFwiYWJcIl0sW1wiYWZyXCIsXCJhZlwiXSxbXCJha2FcIixcImFrXCJdLFtcImFsYlwiLFwic3FcIl0sW1wiYW1oXCIsXCJhbVwiXSxbXCJhcmFcIixcImFyXCJdLFtcImFyZ1wiLFwiYW5cIl0sW1wiYXJtXCIsXCJoeVwiXSxbXCJhc21cIixcImFzXCJdLFtcImF2YVwiLFwiYXZcIl0sW1wiYXZlXCIsXCJhZVwiXSxbXCJheW1cIixcImF5XCJdLFtcImF6ZVwiLFwiYXpcIl0sW1wiYmFrXCIsXCJiYVwiXSxbXCJiYW1cIixcImJtXCJdLFtcImJhcVwiLFwiZXVcIl0sW1wiYmVsXCIsXCJiZVwiXSxbXCJiZW5cIixcImJuXCJdLFtcImJpaFwiLFwiYmhcIl0sW1wiYmlzXCIsXCJiaVwiXSxbXCJib2RcIixcImJvXCJdLFtcImJvc1wiLFwiYnNcIl0sW1wiYnJlXCIsXCJiclwiXSxbXCJidWxcIixcImJnXCJdLFtcImJ1clwiLFwibXlcIl0sW1wiY2F0XCIsXCJjYVwiXSxbXCJjZXNcIixcImNzXCJdLFtcImNoYVwiLFwiY2hcIl0sW1wiY2hlXCIsXCJjZVwiXSxbXCJjaGlcIixcInpoXCJdLFtcImNodVwiLFwiY3VcIl0sW1wiY2h2XCIsXCJjdlwiXSxbXCJjb3JcIixcImt3XCJdLFtcImNvc1wiLFwiY29cIl0sW1wiY3JlXCIsXCJjclwiXSxbXCJjeW1cIixcImN5XCJdLFtcImN6ZVwiLFxuXCJjc1wiXSxbXCJkYW5cIixcImRhXCJdLFtcImRldVwiLFwiZGVcIl0sW1wiZGl2XCIsXCJkdlwiXSxbXCJkdXRcIixcIm5sXCJdLFtcImR6b1wiLFwiZHpcIl0sW1wiZWxsXCIsXCJlbFwiXSxbXCJlbmdcIixcImVuXCJdLFtcImVwb1wiLFwiZW9cIl0sW1wiZXN0XCIsXCJldFwiXSxbXCJldXNcIixcImV1XCJdLFtcImV3ZVwiLFwiZWVcIl0sW1wiZmFvXCIsXCJmb1wiXSxbXCJmYXNcIixcImZhXCJdLFtcImZpalwiLFwiZmpcIl0sW1wiZmluXCIsXCJmaVwiXSxbXCJmcmFcIixcImZyXCJdLFtcImZyZVwiLFwiZnJcIl0sW1wiZnJ5XCIsXCJmeVwiXSxbXCJmdWxcIixcImZmXCJdLFtcImdlb1wiLFwia2FcIl0sW1wiZ2VyXCIsXCJkZVwiXSxbXCJnbGFcIixcImdkXCJdLFtcImdsZVwiLFwiZ2FcIl0sW1wiZ2xnXCIsXCJnbFwiXSxbXCJnbHZcIixcImd2XCJdLFtcImdyZVwiLFwiZWxcIl0sW1wiZ3JuXCIsXCJnblwiXSxbXCJndWpcIixcImd1XCJdLFtcImhhdFwiLFwiaHRcIl0sW1wiaGF1XCIsXCJoYVwiXSxbXCJoZWJcIixcImhlXCJdLFtcImhlclwiLFwiaHpcIl0sW1wiaGluXCIsXCJoaVwiXSxbXCJobW9cIixcImhvXCJdLFtcImhydlwiLFwiaHJcIl0sW1wiaHVuXCIsXCJodVwiXSxbXCJoeWVcIixcImh5XCJdLFtcImlib1wiLFwiaWdcIl0sW1wiaWNlXCIsXG5cImlzXCJdLFtcImlkb1wiLFwiaW9cIl0sW1wiaWlpXCIsXCJpaVwiXSxbXCJpa3VcIixcIml1XCJdLFtcImlsZVwiLFwiaWVcIl0sW1wiaW5hXCIsXCJpYVwiXSxbXCJpbmRcIixcImlkXCJdLFtcImlwa1wiLFwiaWtcIl0sW1wiaXNsXCIsXCJpc1wiXSxbXCJpdGFcIixcIml0XCJdLFtcImphdlwiLFwianZcIl0sW1wianBuXCIsXCJqYVwiXSxbXCJrYWxcIixcImtsXCJdLFtcImthblwiLFwia25cIl0sW1wia2FzXCIsXCJrc1wiXSxbXCJrYXRcIixcImthXCJdLFtcImthdVwiLFwia3JcIl0sW1wia2F6XCIsXCJra1wiXSxbXCJraG1cIixcImttXCJdLFtcImtpa1wiLFwia2lcIl0sW1wia2luXCIsXCJyd1wiXSxbXCJraXJcIixcImt5XCJdLFtcImtvbVwiLFwia3ZcIl0sW1wia29uXCIsXCJrZ1wiXSxbXCJrb3JcIixcImtvXCJdLFtcImt1YVwiLFwia2pcIl0sW1wia3VyXCIsXCJrdVwiXSxbXCJsYW9cIixcImxvXCJdLFtcImxhdFwiLFwibGFcIl0sW1wibGF2XCIsXCJsdlwiXSxbXCJsaW1cIixcImxpXCJdLFtcImxpblwiLFwibG5cIl0sW1wibGl0XCIsXCJsdFwiXSxbXCJsdHpcIixcImxiXCJdLFtcImx1YlwiLFwibHVcIl0sW1wibHVnXCIsXCJsZ1wiXSxbXCJtYWNcIixcIm1rXCJdLFtcIm1haFwiLFwibWhcIl0sW1wibWFsXCIsXCJtbFwiXSxbXCJtYW9cIixcblwibWlcIl0sW1wibWFyXCIsXCJtclwiXSxbXCJtYXlcIixcIm1zXCJdLFtcIm1rZFwiLFwibWtcIl0sW1wibWxnXCIsXCJtZ1wiXSxbXCJtbHRcIixcIm10XCJdLFtcIm1vblwiLFwibW5cIl0sW1wibXJpXCIsXCJtaVwiXSxbXCJtc2FcIixcIm1zXCJdLFtcIm15YVwiLFwibXlcIl0sW1wibmF1XCIsXCJuYVwiXSxbXCJuYXZcIixcIm52XCJdLFtcIm5ibFwiLFwibnJcIl0sW1wibmRlXCIsXCJuZFwiXSxbXCJuZG9cIixcIm5nXCJdLFtcIm5lcFwiLFwibmVcIl0sW1wibmxkXCIsXCJubFwiXSxbXCJubm9cIixcIm5uXCJdLFtcIm5vYlwiLFwibmJcIl0sW1wibm9yXCIsXCJub1wiXSxbXCJueWFcIixcIm55XCJdLFtcIm9jaVwiLFwib2NcIl0sW1wib2ppXCIsXCJvalwiXSxbXCJvcmlcIixcIm9yXCJdLFtcIm9ybVwiLFwib21cIl0sW1wib3NzXCIsXCJvc1wiXSxbXCJwYW5cIixcInBhXCJdLFtcInBlclwiLFwiZmFcIl0sW1wicGxpXCIsXCJwaVwiXSxbXCJwb2xcIixcInBsXCJdLFtcInBvclwiLFwicHRcIl0sW1wicHVzXCIsXCJwc1wiXSxbXCJxdWVcIixcInF1XCJdLFtcInJvaFwiLFwicm1cIl0sW1wicm9uXCIsXCJyb1wiXSxbXCJydW1cIixcInJvXCJdLFtcInJ1blwiLFwicm5cIl0sW1wicnVzXCIsXCJydVwiXSxbXCJzYWdcIixcInNnXCJdLFtcInNhblwiLFxuXCJzYVwiXSxbXCJzaW5cIixcInNpXCJdLFtcInNsa1wiLFwic2tcIl0sW1wic2xvXCIsXCJza1wiXSxbXCJzbHZcIixcInNsXCJdLFtcInNtZVwiLFwic2VcIl0sW1wic21vXCIsXCJzbVwiXSxbXCJzbmFcIixcInNuXCJdLFtcInNuZFwiLFwic2RcIl0sW1wic29tXCIsXCJzb1wiXSxbXCJzb3RcIixcInN0XCJdLFtcInNwYVwiLFwiZXNcIl0sW1wic3FpXCIsXCJzcVwiXSxbXCJzcmRcIixcInNjXCJdLFtcInNycFwiLFwic3JcIl0sW1wic3N3XCIsXCJzc1wiXSxbXCJzdW5cIixcInN1XCJdLFtcInN3YVwiLFwic3dcIl0sW1wic3dlXCIsXCJzdlwiXSxbXCJ0YWhcIixcInR5XCJdLFtcInRhbVwiLFwidGFcIl0sW1widGF0XCIsXCJ0dFwiXSxbXCJ0ZWxcIixcInRlXCJdLFtcInRna1wiLFwidGdcIl0sW1widGdsXCIsXCJ0bFwiXSxbXCJ0aGFcIixcInRoXCJdLFtcInRpYlwiLFwiYm9cIl0sW1widGlyXCIsXCJ0aVwiXSxbXCJ0b25cIixcInRvXCJdLFtcInRzblwiLFwidG5cIl0sW1widHNvXCIsXCJ0c1wiXSxbXCJ0dWtcIixcInRrXCJdLFtcInR1clwiLFwidHJcIl0sW1widHdpXCIsXCJ0d1wiXSxbXCJ1aWdcIixcInVnXCJdLFtcInVrclwiLFwidWtcIl0sW1widXJkXCIsXCJ1clwiXSxbXCJ1emJcIixcInV6XCJdLFtcInZlblwiLFwidmVcIl0sW1widmllXCIsXG5cInZpXCJdLFtcInZvbFwiLFwidm9cIl0sW1wid2VsXCIsXCJjeVwiXSxbXCJ3bG5cIixcIndhXCJdLFtcIndvbFwiLFwid29cIl0sW1wieGhvXCIsXCJ4aFwiXSxbXCJ5aWRcIixcInlpXCJdLFtcInlvclwiLFwieW9cIl0sW1wiemhhXCIsXCJ6YVwiXSxbXCJ6aG9cIixcInpoXCJdLFtcInp1bFwiLFwienVcIl1dKTtmdW5jdGlvbiBkZihhLGIpe2Z1bmN0aW9uIGMobCl7dmFyIG09XCJcIjtsLnZpZGVvJiYobT1VYyhsLnZpZGVvLmNvZGVjcylbMF0pO3ZhciBuPVwiXCI7bC5hdWRpbyYmKG49VWMobC5hdWRpby5jb2RlY3MpWzBdKTtyZXR1cm4gbStcIi1cIitufXZhciBkPWVmKGEudmFyaWFudHMsYiksZT1uZXcgT2I7ZD1xKGQpO2Zvcih2YXIgZj1kLm5leHQoKTshZi5kb25lO2Y9ZC5uZXh0KCkpe2Y9Zi52YWx1ZTt2YXIgZz1jKGYpO2UucHVzaChnLGYpfXZhciBoPW51bGwsaz1JbmZpbml0eTtRYihlLGZ1bmN0aW9uKGwsbSl7Zm9yKHZhciBuPTAscj0wLHU9cShtKSx2PXUubmV4dCgpOyF2LmRvbmU7dj11Lm5leHQoKSluKz12LnZhbHVlLmJhbmR3aWR0aHx8MCwrK3I7bi89cjtuPGsmJihoPWwsaz1uKX0pO2EudmFyaWFudHM9YS52YXJpYW50cy5maWx0ZXIoZnVuY3Rpb24obCl7cmV0dXJuIGMobCk9PWg/ITA6ITF9KX1cbmZ1bmN0aW9uIGZmKGEsYixjKXtmdW5jdGlvbiBkKGYsZyxoKXtyZXR1cm4gZj49ZyYmZjw9aH12YXIgZT1hLnZpZGVvO3JldHVybiBlJiZlLndpZHRoJiZlLmhlaWdodCYmKCFkKGUud2lkdGgsYi5taW5XaWR0aCxNYXRoLm1pbihiLm1heFdpZHRoLGMud2lkdGgpKXx8IWQoZS5oZWlnaHQsYi5taW5IZWlnaHQsTWF0aC5taW4oYi5tYXhIZWlnaHQsYy5oZWlnaHQpKXx8IWQoZS53aWR0aCplLmhlaWdodCxiLm1pblBpeGVscyxiLm1heFBpeGVscykpfHxhJiZhLnZpZGVvJiZhLnZpZGVvLmZyYW1lUmF0ZSYmIWQoYS52aWRlby5mcmFtZVJhdGUsYi5taW5GcmFtZVJhdGUsYi5tYXhGcmFtZVJhdGUpfHwhZChhLmJhbmR3aWR0aCxiLm1pbkJhbmR3aWR0aCxiLm1heEJhbmR3aWR0aCk/ITE6ITB9XG5mdW5jdGlvbiBnZihhLGIsYyl7Yy52YXJpYW50cz1jLnZhcmlhbnRzLmZpbHRlcihmdW5jdGlvbihkKXtpZihhJiZhLk0mJiFSZChhLGQpKXJldHVybiExO3ZhciBlPWQuYXVkaW87ZD1kLnZpZGVvO3JldHVybiBlJiYhSGUoZSl8fGQmJiFIZShkKXx8ZSYmYiYmYi5hdWRpbyYmIWhmKGUsYi5hdWRpbyl8fGQmJmImJmIudmlkZW8mJiFoZihkLGIudmlkZW8pPyExOiEwfSk7Yy50ZXh0U3RyZWFtcz1jLnRleHRTdHJlYW1zLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4geGUoUmMoZC5taW1lVHlwZSxkLmNvZGVjcykpfSl9ZnVuY3Rpb24gaGYoYSxiKXtyZXR1cm4gYS5taW1lVHlwZSE9Yi5taW1lVHlwZXx8YS5jb2RlY3Muc3BsaXQoXCIuXCIpWzBdIT1iLmNvZGVjcy5zcGxpdChcIi5cIilbMF0/ITE6ITB9XG5mdW5jdGlvbiBqZihhKXt2YXIgYj1hLmF1ZGlvLGM9YS52aWRlbyxkPWI/Yi5jb2RlY3M6bnVsbCxlPWM/Yy5jb2RlY3M6bnVsbCxmPVtdO2UmJmYucHVzaChlKTtkJiZmLnB1c2goZCk7dmFyIGc9W107YyYmZy5wdXNoKGMubWltZVR5cGUpO2ImJmcucHVzaChiLm1pbWVUeXBlKTtnPWdbMF18fG51bGw7dmFyIGg9W107YiYmaC5wdXNoKGIua2luZCk7YyYmaC5wdXNoKGMua2luZCk7aD1oWzBdfHxudWxsO3ZhciBrPW5ldyBTZXQ7aWYoYilmb3IodmFyIGw9cShiLnJvbGVzKSxtPWwubmV4dCgpOyFtLmRvbmU7bT1sLm5leHQoKSlrLmFkZChtLnZhbHVlKTtpZihjKWZvcihsPXEoYy5yb2xlcyksbT1sLm5leHQoKTshbS5kb25lO209bC5uZXh0KCkpay5hZGQobS52YWx1ZSk7YT17aWQ6YS5pZCxhY3RpdmU6ITEsdHlwZTpcInZhcmlhbnRcIixiYW5kd2lkdGg6YS5iYW5kd2lkdGgsbGFuZ3VhZ2U6YS5sYW5ndWFnZSxsYWJlbDpudWxsLGtpbmQ6aCx3aWR0aDpudWxsLGhlaWdodDpudWxsLFxuZnJhbWVSYXRlOm51bGwscGl4ZWxBc3BlY3RSYXRpbzpudWxsLG1pbWVUeXBlOmcsY29kZWNzOmYuam9pbihcIiwgXCIpLGF1ZGlvQ29kZWM6ZCx2aWRlb0NvZGVjOmUscHJpbWFyeTphLnByaW1hcnkscm9sZXM6QXJyYXkuZnJvbShrKSxhdWRpb1JvbGVzOm51bGwsdmlkZW9JZDpudWxsLGF1ZGlvSWQ6bnVsbCxjaGFubmVsc0NvdW50Om51bGwsYXVkaW9TYW1wbGluZ1JhdGU6bnVsbCxhdWRpb0JhbmR3aWR0aDpudWxsLHZpZGVvQmFuZHdpZHRoOm51bGwsb3JpZ2luYWxWaWRlb0lkOm51bGwsb3JpZ2luYWxBdWRpb0lkOm51bGwsb3JpZ2luYWxUZXh0SWQ6bnVsbH07YyYmKGEudmlkZW9JZD1jLmlkLGEub3JpZ2luYWxWaWRlb0lkPWMub3JpZ2luYWxJZCxhLndpZHRoPWMud2lkdGh8fG51bGwsYS5oZWlnaHQ9Yy5oZWlnaHR8fG51bGwsYS5mcmFtZVJhdGU9Yy5mcmFtZVJhdGV8fG51bGwsYS5waXhlbEFzcGVjdFJhdGlvPWMucGl4ZWxBc3BlY3RSYXRpb3x8bnVsbCxhLnZpZGVvQmFuZHdpZHRoPVxuYy5iYW5kd2lkdGh8fG51bGwpO2ImJihhLmF1ZGlvSWQ9Yi5pZCxhLm9yaWdpbmFsQXVkaW9JZD1iLm9yaWdpbmFsSWQsYS5jaGFubmVsc0NvdW50PWIuY2hhbm5lbHNDb3VudCxhLmF1ZGlvU2FtcGxpbmdSYXRlPWIuYXVkaW9TYW1wbGluZ1JhdGUsYS5hdWRpb0JhbmR3aWR0aD1iLmJhbmR3aWR0aHx8bnVsbCxhLmxhYmVsPWIubGFiZWwsYS5hdWRpb1JvbGVzPWIucm9sZXMpO3JldHVybiBhfVxuZnVuY3Rpb24ga2YoYSl7cmV0dXJue2lkOmEuaWQsYWN0aXZlOiExLHR5cGU6XCJ0ZXh0XCIsYmFuZHdpZHRoOjAsbGFuZ3VhZ2U6YS5sYW5ndWFnZSxsYWJlbDphLmxhYmVsLGtpbmQ6YS5raW5kfHxudWxsLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwsZnJhbWVSYXRlOm51bGwscGl4ZWxBc3BlY3RSYXRpbzpudWxsLG1pbWVUeXBlOmEubWltZVR5cGUsY29kZWNzOmEuY29kZWNzfHxudWxsLGF1ZGlvQ29kZWM6bnVsbCx2aWRlb0NvZGVjOm51bGwscHJpbWFyeTphLnByaW1hcnkscm9sZXM6YS5yb2xlcyxhdWRpb1JvbGVzOm51bGwsdmlkZW9JZDpudWxsLGF1ZGlvSWQ6bnVsbCxjaGFubmVsc0NvdW50Om51bGwsYXVkaW9TYW1wbGluZ1JhdGU6bnVsbCxhdWRpb0JhbmR3aWR0aDpudWxsLHZpZGVvQmFuZHdpZHRoOm51bGwsb3JpZ2luYWxWaWRlb0lkOm51bGwsb3JpZ2luYWxBdWRpb0lkOm51bGwsb3JpZ2luYWxUZXh0SWQ6YS5vcmlnaW5hbElkfX1cbmZ1bmN0aW9uIGxmKGEpe2EuX19zaGFrYV9pZHx8KGEuX19zaGFrYV9pZD1tZisrKTtyZXR1cm4gYS5fX3NoYWthX2lkfWZ1bmN0aW9uIG5mKGEpe3ZhciBiPW9mKGEpO2IuYWN0aXZlPWEuZW5hYmxlZDtiLnR5cGU9XCJ2YXJpYW50XCI7Yi5vcmlnaW5hbEF1ZGlvSWQ9YS5pZDtcIm1haW5cIj09YS5raW5kJiYoYi5wcmltYXJ5PSEwKTthLmtpbmQmJihiLnJvbGVzPVthLmtpbmRdLGIuYXVkaW9Sb2xlcz1bYS5raW5kXSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBvZihhKXtyZXR1cm57aWQ6bGYoYSksYWN0aXZlOiExLHR5cGU6XCJcIixiYW5kd2lkdGg6MCxsYW5ndWFnZTpSKGEubGFuZ3VhZ2UpLGxhYmVsOmEubGFiZWwsa2luZDphLmtpbmQsd2lkdGg6bnVsbCxoZWlnaHQ6bnVsbCxmcmFtZVJhdGU6bnVsbCxwaXhlbEFzcGVjdFJhdGlvOm51bGwsbWltZVR5cGU6bnVsbCxjb2RlY3M6bnVsbCxhdWRpb0NvZGVjOm51bGwsdmlkZW9Db2RlYzpudWxsLHByaW1hcnk6ITEscm9sZXM6W10sYXVkaW9Sb2xlczpudWxsLHZpZGVvSWQ6bnVsbCxhdWRpb0lkOm51bGwsY2hhbm5lbHNDb3VudDpudWxsLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsYXVkaW9CYW5kd2lkdGg6bnVsbCx2aWRlb0JhbmR3aWR0aDpudWxsLG9yaWdpbmFsVmlkZW9JZDpudWxsLG9yaWdpbmFsQXVkaW9JZDpudWxsLG9yaWdpbmFsVGV4dElkOm51bGx9fVxuZnVuY3Rpb24gcGYoYSl7cmV0dXJuIGEuYWxsb3dlZEJ5QXBwbGljYXRpb24mJmEuYWxsb3dlZEJ5S2V5U3lzdGVtfWZ1bmN0aW9uIHFmKGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gcGYoYil9KX1cbmZ1bmN0aW9uIGVmKGEsYil7dmFyIGM9YS5maWx0ZXIoZnVuY3Rpb24oZyl7cmV0dXJuIGcuYXVkaW8mJmcuYXVkaW8uY2hhbm5lbHNDb3VudH0pLGQ9bmV3IE1hcDtjPXEoYyk7Zm9yKHZhciBlPWMubmV4dCgpOyFlLmRvbmU7ZT1jLm5leHQoKSl7ZT1lLnZhbHVlO3ZhciBmPWUuYXVkaW8uY2hhbm5lbHNDb3VudDtkLmhhcyhmKXx8ZC5zZXQoZixbXSk7ZC5nZXQoZikucHVzaChlKX1jPUFycmF5LmZyb20oZC5rZXlzKCkpO2lmKDA9PWMubGVuZ3RoKXJldHVybiBhO2U9Yy5maWx0ZXIoZnVuY3Rpb24oZyl7cmV0dXJuIGc8PWJ9KTtyZXR1cm4gZS5sZW5ndGg/ZC5nZXQoTWF0aC5tYXguYXBwbHkoTWF0aCxoYShlKSkpOmQuZ2V0KE1hdGgubWluLmFwcGx5KE1hdGgsaGEoYykpKX1cbmZ1bmN0aW9uIHJmKGEsYixjKXt2YXIgZD1hLGU9YS5maWx0ZXIoZnVuY3Rpb24oaCl7cmV0dXJuIGgucHJpbWFyeX0pO2UubGVuZ3RoJiYoZD1lKTt2YXIgZj1kLmxlbmd0aD9kWzBdLmxhbmd1YWdlOlwiXCI7ZD1kLmZpbHRlcihmdW5jdGlvbihoKXtyZXR1cm4gaC5sYW5ndWFnZT09Zn0pO2lmKGIpe3ZhciBnPWNmKFIoYiksYS5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIGgubGFuZ3VhZ2V9KSk7ZyYmKGQ9YS5maWx0ZXIoZnVuY3Rpb24oaCl7cmV0dXJuIFIoaC5sYW5ndWFnZSk9PWd9KSl9aWYoYyl7aWYoYT1zZihkLGMpLGEubGVuZ3RoKXJldHVybiBhfWVsc2UgaWYoYT1kLmZpbHRlcihmdW5jdGlvbihoKXtyZXR1cm4gMD09aC5yb2xlcy5sZW5ndGh9KSxhLmxlbmd0aClyZXR1cm4gYTthPWQubWFwKGZ1bmN0aW9uKGgpe3JldHVybiBoLnJvbGVzfSkucmVkdWNlKEhjLFtdKTtyZXR1cm4gYS5sZW5ndGg/c2YoZCxhWzBdKTpkfVxuZnVuY3Rpb24gc2YoYSxiKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGMucm9sZXMuaW5jbHVkZXMoYil9KX12YXIgbWY9MDtmdW5jdGlvbiB0Zigpe3RoaXMuaD1udWxsO3RoaXMuYz0hMTt0aGlzLmE9bmV3IFRhO3RoaXMuYj1bXTt0aGlzLmc9MTt0aGlzLmo9ITE7dGhpcy5pPXRoaXMuZj1udWxsfXA9dGYucHJvdG90eXBlO3Auc3RvcD1mdW5jdGlvbigpe3RoaXMuaD1udWxsO3RoaXMuYz0hMTt0aGlzLmI9W107dGhpcy5nPTE7dGhpcy5mPW51bGx9O3AuaW5pdD1mdW5jdGlvbihhKXt0aGlzLmg9YX07XG5wLmNob29zZVZhcmlhbnQ9ZnVuY3Rpb24oKXt2YXIgYT11Zih0aGlzLmkucmVzdHJpY3Rpb25zLHRoaXMuYiksYj10aGlzLmEuZ2V0QmFuZHdpZHRoRXN0aW1hdGUodGhpcy5pLmRlZmF1bHRCYW5kd2lkdGhFc3RpbWF0ZSk7dGhpcy5iLmxlbmd0aCYmIWEubGVuZ3RoJiYoYT11ZihudWxsLHRoaXMuYiksYT1bYVswXV0pO3ZhciBjPWFbMF18fG51bGw7YT1xKGhiKGEpKTtmb3IodmFyIGQ9YS5uZXh0KCk7IWQuZG9uZTtkPWEubmV4dCgpKXt2YXIgZT1kLnZhbHVlO2Q9ZS5pdGVtO3ZhciBmPWlzTmFOKHRoaXMuZyk/MTpNYXRoLmFicyh0aGlzLmcpO2U9ZiooZS5uZXh0fHx7YmFuZHdpZHRoOkluZmluaXR5fSkuYmFuZHdpZHRoL3RoaXMuaS5iYW5kd2lkdGhVcGdyYWRlVGFyZ2V0O2I+PWYqZC5iYW5kd2lkdGgvdGhpcy5pLmJhbmR3aWR0aERvd25ncmFkZVRhcmdldCYmYjw9ZSYmKGM9ZCl9dGhpcy5mPURhdGUubm93KCk7cmV0dXJuIGN9O1xucC5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmM9ITB9O3AuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuYz0hMX07cC5zZWdtZW50RG93bmxvYWRlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYTtpZighKDE2RTM+Yikpe3ZhciBkPThFMypiL2EsZT1hLzFFMztjLmErPWI7T2EoYy5iLGUsZCk7T2EoYy5jLGUsZCl9aWYobnVsbCE9dGhpcy5mJiZ0aGlzLmMpYTp7aWYoIXRoaXMuail7aWYoISgxMjhFMzw9dGhpcy5hLmEpKWJyZWFrIGE7dGhpcy5qPSEwfWVsc2UgaWYoRGF0ZS5ub3coKS10aGlzLmY8MUUzKnRoaXMuaS5zd2l0Y2hJbnRlcnZhbClicmVhayBhO2M9dGhpcy5jaG9vc2VWYXJpYW50KCk7dGhpcy5hLmdldEJhbmR3aWR0aEVzdGltYXRlKHRoaXMuaS5kZWZhdWx0QmFuZHdpZHRoRXN0aW1hdGUpO2MmJnRoaXMuaChjKX19O3AuZ2V0QmFuZHdpZHRoRXN0aW1hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldEJhbmR3aWR0aEVzdGltYXRlKHRoaXMuaS5kZWZhdWx0QmFuZHdpZHRoRXN0aW1hdGUpfTtcbnAuc2V0VmFyaWFudHM9ZnVuY3Rpb24oYSl7dGhpcy5iPWF9O3AucGxheWJhY2tSYXRlQ2hhbmdlZD1mdW5jdGlvbihhKXt0aGlzLmc9YX07cC5jb25maWd1cmU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O2Z1bmN0aW9uIHVmKGEsYil7YSYmKGI9Yi5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGZmKGMsYSx7d2lkdGg6SW5maW5pdHksaGVpZ2h0OkluZmluaXR5fSl9KSk7cmV0dXJuIGIuc29ydChmdW5jdGlvbihjLGQpe3JldHVybiBjLmJhbmR3aWR0aC1kLmJhbmR3aWR0aH0pfUsoXCJzaGFrYS5hYnIuU2ltcGxlQWJyTWFuYWdlclwiLHRmKTt0Zi5wcm90b3R5cGUuY29uZmlndXJlPXRmLnByb3RvdHlwZS5jb25maWd1cmU7dGYucHJvdG90eXBlLnBsYXliYWNrUmF0ZUNoYW5nZWQ9dGYucHJvdG90eXBlLnBsYXliYWNrUmF0ZUNoYW5nZWQ7dGYucHJvdG90eXBlLnNldFZhcmlhbnRzPXRmLnByb3RvdHlwZS5zZXRWYXJpYW50cztcbnRmLnByb3RvdHlwZS5nZXRCYW5kd2lkdGhFc3RpbWF0ZT10Zi5wcm90b3R5cGUuZ2V0QmFuZHdpZHRoRXN0aW1hdGU7dGYucHJvdG90eXBlLnNlZ21lbnREb3dubG9hZGVkPXRmLnByb3RvdHlwZS5zZWdtZW50RG93bmxvYWRlZDt0Zi5wcm90b3R5cGUuZGlzYWJsZT10Zi5wcm90b3R5cGUuZGlzYWJsZTt0Zi5wcm90b3R5cGUuZW5hYmxlPXRmLnByb3RvdHlwZS5lbmFibGU7dGYucHJvdG90eXBlLmNob29zZVZhcmlhbnQ9dGYucHJvdG90eXBlLmNob29zZVZhcmlhbnQ7dGYucHJvdG90eXBlLmluaXQ9dGYucHJvdG90eXBlLmluaXQ7dGYucHJvdG90eXBlLnN0b3A9dGYucHJvdG90eXBlLnN0b3A7ZnVuY3Rpb24gdmYoYSxiKXt0aGlzLmE9YTt0aGlzLmI9bmV3IFNldChbYV0pO2I9Ynx8W107Zm9yKHZhciBjPXEoYiksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpdGhpcy5hZGQoZC52YWx1ZSl9dmYucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXtyZXR1cm4gd2YodGhpcy5hLGEpPyh0aGlzLmIuYWRkKGEpLCEwKTohMX07ZnVuY3Rpb24gd2YoYSxiKXt2YXIgYztpZighKGM9ISFhLmF1ZGlvIT0hIWIuYXVkaW98fCEhYS52aWRlbyE9ISFiLnZpZGVvfHxhLmxhbmd1YWdlIT1iLmxhbmd1YWdlKSYmKGM9YS5hdWRpbyYmYi5hdWRpbykpe2M9YS5hdWRpbzt2YXIgZD1iLmF1ZGlvO2M9IShjLmNoYW5uZWxzQ291bnQ9PWQuY2hhbm5lbHNDb3VudCYmeGYoYyxkKSYmeWYoYy5yb2xlcyxkLnJvbGVzKSl9IWMmJihjPWEudmlkZW8mJmIudmlkZW8pJiYoYz1hLnZpZGVvLGQ9Yi52aWRlbyxjPSEoeGYoYyxkKSYmeWYoYy5yb2xlcyxkLnJvbGVzKSkpO3JldHVybiBjPyExOiEwfVxudmYucHJvdG90eXBlLnZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIudmFsdWVzKCl9O2Z1bmN0aW9uIHhmKGEsYil7aWYoYS5taW1lVHlwZSE9Yi5taW1lVHlwZSlyZXR1cm4hMTt2YXIgYz1hLmNvZGVjcy5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKGcpe3JldHVybiBVYyhnKVswXX0pLGQ9Yi5jb2RlY3Muc3BsaXQoXCIsXCIpLm1hcChmdW5jdGlvbihnKXtyZXR1cm4gVWMoZylbMF19KTtpZihjLmxlbmd0aCE9ZC5sZW5ndGgpcmV0dXJuITE7Yy5zb3J0KCk7ZC5zb3J0KCk7Zm9yKHZhciBlPXEoZmIoYy5sZW5ndGgpKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlpZihmPWYudmFsdWUsY1tmXSE9ZFtmXSlyZXR1cm4hMTtyZXR1cm4hMH1cbmZ1bmN0aW9uIHlmKGEsYil7dmFyIGM9bmV3IFNldChhKSxkPW5ldyBTZXQoYik7Y1tcImRlbGV0ZVwiXShcIm1haW5cIik7ZFtcImRlbGV0ZVwiXShcIm1haW5cIik7aWYoYy5zaXplIT1kLnNpemUpcmV0dXJuITE7Yz1xKGMpO2Zvcih2YXIgZT1jLm5leHQoKTshZS5kb25lO2U9Yy5uZXh0KCkpaWYoIWQuaGFzKGUudmFsdWUpKXJldHVybiExO3JldHVybiEwfTtmdW5jdGlvbiB6ZihhKXt0aGlzLmE9YTt0aGlzLmI9bmV3IEFmKGEubGFuZ3VhZ2UsXCJcIixhLmF1ZGlvJiZhLmF1ZGlvLmNoYW5uZWxzQ291bnQ/YS5hdWRpby5jaGFubmVsc0NvdW50OjAsXCJcIil9emYucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9YS5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIHdmKGIuYSxkKX0pO3JldHVybiBjLmxlbmd0aD9uZXcgdmYoY1swXSxjKTp0aGlzLmIuY3JlYXRlKGEpfTtmdW5jdGlvbiBBZihhLGIsYyxkLGUpe3RoaXMuZj1hO3RoaXMuYz1iO3RoaXMuYT1jO3RoaXMuYj12b2lkIDA9PT1kP1wiXCI6ZDt0aGlzLmc9dm9pZCAwPT09ZT9cIlwiOmV9XG5BZi5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2I9QmYoYSx0aGlzLmYpO3ZhciBjPWEuZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybiBkLnByaW1hcnl9KTtiPWIubGVuZ3RoP2I6Yy5sZW5ndGg/YzphO3RoaXMuYyYmKGE9Q2YoYix0aGlzLmMsdGhpcy5nKSxhLmxlbmd0aCYmKGI9YSkpO3RoaXMuYSYmKGE9ZWYoYix0aGlzLmEpLGEubGVuZ3RoJiYoYj1hKSk7dGhpcy5iJiYoYT1EZihiLHRoaXMuYiksYS5sZW5ndGgmJihiPWEpKTthPW5ldyB2ZihiWzBdKTtiPXEoYik7Zm9yKGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWM9Yy52YWx1ZSx3ZihhLmEsYykmJmEuYWRkKGMpO3JldHVybiBhfTtmdW5jdGlvbiBCZihhLGIpe3ZhciBjPVIoYiksZD1jZihjLGEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBiZihlKX0pKTtyZXR1cm4gZD9hLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZD09YmYoZSl9KTpbXX1cbmZ1bmN0aW9uIENmKGEsYixjKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oZCl7aWYoYyl7dmFyIGU9ZFtjXTtyZXR1cm4gZSYmZS5yb2xlcy5pbmNsdWRlcyhiKX1lPWQuYXVkaW87ZD1kLnZpZGVvO3JldHVybiBlJiZlLnJvbGVzLmluY2x1ZGVzKGIpfHxkJiZkLnJvbGVzLmluY2x1ZGVzKGIpfSl9ZnVuY3Rpb24gRGYoYSxiKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGMuYXVkaW8/Yy5hdWRpby5sYWJlbC50b0xvd2VyQ2FzZSgpPT1iLnRvTG93ZXJDYXNlKCk6ITF9KX07ZnVuY3Rpb24gRWYoKXt0aGlzLmE9RmY7dGhpcy5iPShuZXcgTWFwKS5zZXQoRmYsMikuc2V0KEdmLDEpfWZ1bmN0aW9uIEhmKGEsYixjKXthLmIuc2V0KEZmLGMpLnNldChHZixiKX12YXIgR2Y9MCxGZj0xO2Z1bmN0aW9uIElmKCl7fWZ1bmN0aW9uIEpmKGEsYixjLGQpe3ZhciBlLGYsZyxoO3JldHVybiBKKGZ1bmN0aW9uKGspe2lmKDE9PWsuYSl7aWYoZCYmKGU9S2ZbZC50b0xvd2VyQ2FzZSgpXSkpcmV0dXJuIGtbXCJyZXR1cm5cIl0oZSk7aWYoZj1MZihhKSlpZihnPU1mW2ZdKXJldHVybiBrW1wicmV0dXJuXCJdKGcpO3JldHVybiBkP2sudSgyKTp0KGssTmYoYSxiLGMpLDMpfWlmKDIhPWsuYSYmKGQ9ay5iKSYmKGg9S2ZbZF0pKXJldHVybiBrW1wicmV0dXJuXCJdKGgpO3Rocm93IG5ldyBMKDIsNCw0RTMsYSk7fSl9XG5mdW5jdGlvbiBOZihhLGIsYyl7dmFyIGQsZSxmO3JldHVybiBKKGZ1bmN0aW9uKGcpe2lmKDE9PWcuYSlyZXR1cm4gZD1jYyhbYV0sYyksZC5tZXRob2Q9XCJIRUFEXCIsdChnLGIucmVxdWVzdCgwLGQpLnByb21pc2UsMik7ZT1nLmI7Zj1lLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl07cmV0dXJuIGdbXCJyZXR1cm5cIl0oZj9mLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCI7XCIpLnNoaWZ0KCk6XCJcIil9KX1mdW5jdGlvbiBMZihhKXthPShuZXcgamIoYSkpLmlhLnNwbGl0KFwiL1wiKS5wb3AoKS5zcGxpdChcIi5cIik7cmV0dXJuIDE9PWEubGVuZ3RoP1wiXCI6YS5wb3AoKS50b0xvd2VyQ2FzZSgpfUsoXCJzaGFrYS5tZWRpYS5NYW5pZmVzdFBhcnNlclwiLElmKTtJZi51bnJlZ2lzdGVyUGFyc2VyQnlNaW1lPWZ1bmN0aW9uKGEpe2RlbGV0ZSBLZlthXX07SWYucmVnaXN0ZXJQYXJzZXJCeU1pbWU9ZnVuY3Rpb24oYSxiKXtLZlthXT1ifTtcbklmLnJlZ2lzdGVyUGFyc2VyQnlFeHRlbnNpb249ZnVuY3Rpb24oYSxiKXtNZlthXT1ifTt2YXIgS2Y9e30sTWY9e307ZnVuY3Rpb24gT2YoYSxiLGMpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMuYT1jfU9mLnByb3RvdHlwZS5LYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O09mLnByb3RvdHlwZS5KYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O0soXCJzaGFrYS5tZWRpYS5Jbml0U2VnbWVudFJlZmVyZW5jZVwiLE9mKTtPZi5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1PZi5wcm90b3R5cGUuSmM7T2YucHJvdG90eXBlLmdldFN0YXJ0Qnl0ZT1PZi5wcm90b3R5cGUuS2M7ZnVuY3Rpb24gUGYoYSxiLGMsZCxlLGYsZyxoLGspe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy5jPWM7dGhpcy5iPWQ7dGhpcy5hPWU7dGhpcy5mPWY7dGhpcy50aW1lc3RhbXBPZmZzZXQ9Zzt0aGlzLmFwcGVuZFdpbmRvd1N0YXJ0PWg7dGhpcy5hcHBlbmRXaW5kb3dFbmQ9a31QZi5wcm90b3R5cGUudmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydFRpbWV9O1BmLnByb3RvdHlwZS5pZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZFRpbWV9O1xuUGYucHJvdG90eXBlLktjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07UGYucHJvdG90eXBlLkpjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07SyhcInNoYWthLm1lZGlhLlNlZ21lbnRSZWZlcmVuY2VcIixQZik7UGYucHJvdG90eXBlLmdldEVuZEJ5dGU9UGYucHJvdG90eXBlLkpjO1BmLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9UGYucHJvdG90eXBlLktjO1BmLnByb3RvdHlwZS5nZXRFbmRUaW1lPVBmLnByb3RvdHlwZS5pZTtQZi5wcm90b3R5cGUuZ2V0U3RhcnRUaW1lPVBmLnByb3RvdHlwZS52ZTtmdW5jdGlvbiBTKGEsYixjKXt0aGlzLmY9YTt0aGlzLmxjPWI7dGhpcy5oPXRoaXMuZz1JbmZpbml0eTt0aGlzLmE9MTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5qPTA7dGhpcy5tPSEwO3RoaXMudj0wO3RoaXMudz12b2lkIDA9PT1jPyEwOmN9cD1TLnByb3RvdHlwZTtwLmdldER1cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307cC5uZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O3AueGE9ZnVuY3Rpb24oYSl7dGhpcy5nPWF9O3AudWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtwLk9kPWZ1bmN0aW9uKGEpe3RoaXMuaj1hfTtwLk5iPWZ1bmN0aW9uKGEpe3RoaXMubT1hfTtwLmtkPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtwLldlPWZ1bmN0aW9uKGEpe3RoaXMubGM9YX07cC5oZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxjfTtcbnAubWI9ZnVuY3Rpb24oYSl7aWYoMCE9YS5sZW5ndGgpe3ZhciBiPWFbYS5sZW5ndGgtMV0uZW5kVGltZTt0aGlzLlVjKGFbMF0uc3RhcnRUaW1lKTt0aGlzLmE9YS5yZWR1Y2UoZnVuY3Rpb24oYyxkKXtyZXR1cm4gTWF0aC5tYXgoYyxkLmVuZFRpbWUtZC5zdGFydFRpbWUpfSx0aGlzLmEpO3RoaXMuYj1NYXRoLm1heCh0aGlzLmIsYik7bnVsbCE9dGhpcy5mJiZ0aGlzLncmJih0aGlzLmY9KERhdGUubm93KCkrdGhpcy5qKS8xRTMtdGhpcy5iLXRoaXMuYSl9fTtwLlVjPWZ1bmN0aW9uKGEpe3RoaXMuYz1udWxsPT10aGlzLmM/YTpNYXRoLm1pbih0aGlzLmMsYSl9O3AuVGM9ZnVuY3Rpb24oYSl7dGhpcy5hPU1hdGgubWF4KHRoaXMuYSxhKX07cC5vZmZzZXQ9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hKTtudWxsIT10aGlzLmImJih0aGlzLmIrPWEpfTtwLlM9ZnVuY3Rpb24oKXtyZXR1cm4gSW5maW5pdHk9PXRoaXMuZyYmIXRoaXMubX07XG5wLlRhPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT10aGlzLmcmJiF0aGlzLm19O3AuUWE9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy52LHRoaXMuS2EoKS10aGlzLmgpfTtwLlBkPWZ1bmN0aW9uKGEpe3RoaXMudj1hfTtwLkthPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUygpfHx0aGlzLlRhKCk/TWF0aC5taW4oTWF0aC5tYXgoMCwoRGF0ZS5ub3coKSt0aGlzLmopLzFFMy10aGlzLmEtdGhpcy5mKSx0aGlzLmcpOnRoaXMuZ307cC5FYj1mdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCh0aGlzLmMsdGhpcy52KTtyZXR1cm4gSW5maW5pdHk9PXRoaXMuaD9iOk1hdGgubWF4KGIsTWF0aC5taW4odGhpcy5LYSgpLXRoaXMuaCthLHRoaXMuRGEoKSkpfTtwLmliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRWIoMCl9O3AuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCx0aGlzLkthKCktKHRoaXMuUygpfHx0aGlzLlRhKCk/dGhpcy5sYzowKSl9O1xucC5TZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmZ8fG51bGwhPXRoaXMuYiYmdGhpcy53PyExOiEwfTtLKFwic2hha2EubWVkaWEuUHJlc2VudGF0aW9uVGltZWxpbmVcIixTKTtTLnByb3RvdHlwZS51c2luZ1ByZXNlbnRhdGlvblN0YXJ0VGltZT1TLnByb3RvdHlwZS5TZDtTLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VFbmQ9Uy5wcm90b3R5cGUuRGE7Uy5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlU3RhcnQ9Uy5wcm90b3R5cGUuaWI7Uy5wcm90b3R5cGUuZ2V0U2FmZVNlZWtSYW5nZVN0YXJ0PVMucHJvdG90eXBlLkViO1MucHJvdG90eXBlLmdldFNlZ21lbnRBdmFpbGFiaWxpdHlFbmQ9Uy5wcm90b3R5cGUuS2E7Uy5wcm90b3R5cGUuc2V0VXNlclNlZWtTdGFydD1TLnByb3RvdHlwZS5QZDtTLnByb3RvdHlwZS5nZXRTZWdtZW50QXZhaWxhYmlsaXR5U3RhcnQ9Uy5wcm90b3R5cGUuUWE7Uy5wcm90b3R5cGUuaXNJblByb2dyZXNzPVMucHJvdG90eXBlLlRhO1xuUy5wcm90b3R5cGUuaXNMaXZlPVMucHJvdG90eXBlLlM7Uy5wcm90b3R5cGUub2Zmc2V0PVMucHJvdG90eXBlLm9mZnNldDtTLnByb3RvdHlwZS5ub3RpZnlNYXhTZWdtZW50RHVyYXRpb249Uy5wcm90b3R5cGUuVGM7Uy5wcm90b3R5cGUubm90aWZ5TWluU2VnbWVudFN0YXJ0VGltZT1TLnByb3RvdHlwZS5VYztTLnByb3RvdHlwZS5ub3RpZnlTZWdtZW50cz1TLnByb3RvdHlwZS5tYjtTLnByb3RvdHlwZS5nZXREZWxheT1TLnByb3RvdHlwZS5oZTtTLnByb3RvdHlwZS5zZXREZWxheT1TLnByb3RvdHlwZS5XZTtTLnByb3RvdHlwZS5zZXRTZWdtZW50QXZhaWxhYmlsaXR5RHVyYXRpb249Uy5wcm90b3R5cGUua2Q7Uy5wcm90b3R5cGUuc2V0U3RhdGljPVMucHJvdG90eXBlLk5iO1MucHJvdG90eXBlLnNldENsb2NrT2Zmc2V0PVMucHJvdG90eXBlLk9kO1MucHJvdG90eXBlLmdldFByZXNlbnRhdGlvblN0YXJ0VGltZT1TLnByb3RvdHlwZS51ZTtcblMucHJvdG90eXBlLnNldER1cmF0aW9uPVMucHJvdG90eXBlLnhhO1MucHJvdG90eXBlLmdldE1heFNlZ21lbnREdXJhdGlvbj1TLnByb3RvdHlwZS5uZTtTLnByb3RvdHlwZS5nZXREdXJhdGlvbj1TLnByb3RvdHlwZS5nZXREdXJhdGlvbjtmdW5jdGlvbiBRZihhLGIpe3RoaXMuZz1hO3RoaXMuaD1SZihhKTt0aGlzLmE9YS5hLmN1cnJlbnRUaW1lO3RoaXMuZj1EYXRlLm5vdygpLzFFMzt0aGlzLmI9ITE7dGhpcy5qPWI7dGhpcy5jPWZ1bmN0aW9uKCl7fX1RZi5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuZz1udWxsO3RoaXMuYz1mdW5jdGlvbigpe319O2Z1bmN0aW9uIFNmKGEsYil7YS5jPWJ9ZnVuY3Rpb24gVGYoYSl7dGhpcy5hPWF9ZnVuY3Rpb24gUmYoYSl7aWYoYS5hLnBhdXNlZHx8MD09YS5hLnBsYXliYWNrUmF0ZXx8MD09YS5hLmJ1ZmZlcmVkLmxlbmd0aCl2YXIgYj0hMTtlbHNlIGE6e2I9YS5hLmN1cnJlbnRUaW1lO2E9cSgkZChhLmEuYnVmZmVyZWQpKTtmb3IodmFyIGM9YS5uZXh0KCk7IWMuZG9uZTtjPWEubmV4dCgpKWlmKGM9Yy52YWx1ZSwhKGI8Yy5zdGFydC0uMXx8Yj5jLmVuZC0uNSkpe2I9ITA7YnJlYWsgYX1iPSExfXJldHVybiBifTtmdW5jdGlvbiBVZihhLGIsYyxkLGUpe3ZhciBmPXRoaXM7dGhpcy5hPWE7dGhpcy53PWI7dGhpcy5pPWM7dGhpcy52PWU7dGhpcy5iPW5ldyBsYzt0aGlzLmo9ITE7dGhpcy5tPWEucmVhZHlTdGF0ZTt0aGlzLmY9ITE7dGhpcy5jPWQ7dGhpcy5oPSExO3RoaXMuYi5sKGEsXCJ3YWl0aW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gVmYoZil9KTt0aGlzLmc9KG5ldyBNKGZ1bmN0aW9uKCl7VmYoZil9KSkub2EoLjI1KX1VZi5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuYiYmKHRoaXMuYi5yZWxlYXNlKCksdGhpcy5iPW51bGwpO251bGwhPXRoaXMuZyYmKHRoaXMuZy5zdG9wKCksdGhpcy5nPW51bGwpO3RoaXMuYyYmKHRoaXMuYy5yZWxlYXNlKCksdGhpcy5jPW51bGwpO3RoaXMuYT10aGlzLnc9dGhpcy52PW51bGx9O1VmLnByb3RvdHlwZS5YYz1mdW5jdGlvbigpe3RoaXMuaD0hMDtWZih0aGlzKX07XG5mdW5jdGlvbiBWZihhKXtpZigwIT1hLmEucmVhZHlTdGF0ZSl7aWYoYS5hLnNlZWtpbmcpe2lmKCFhLmopcmV0dXJufWVsc2UgYS5qPSExO2lmKCFhLmEucGF1c2VkKXthLmEucmVhZHlTdGF0ZSE9YS5tJiYoYS5mPSExLGEubT1hLmEucmVhZHlTdGF0ZSk7dmFyIGI7aWYoIShiPSFhLmMpKXtiPWEuYzt2YXIgYz1iLmcsZD1SZihjKSxlPWMuYS5jdXJyZW50VGltZSxmPURhdGUubm93KCkvMUUzO2lmKGIuYSE9ZXx8Yi5oIT1kKWIuZj1mLGIuYT1lLGIuaD1kLGIuYj0hMTtlPWYtYi5mO2lmKGQ9ZT49Yi5qJiZkJiYhYi5iKWIuYyhiLmEsZSksYi5iPSEwLGIuYT1jLmEuY3VycmVudFRpbWU7Yj0hZH1pZihiKXt2YXIgZz1hLmkuc21hbGxHYXBMaW1pdDtlPWEuYS5jdXJyZW50VGltZTtiPWEuYS5idWZmZXJlZDtjPWFlKGIsZSk7aWYoIShudWxsPT1jfHwwPT1jJiYhYS5ofHwoZD1iLnN0YXJ0KGMpLGQ+PWEudy5EYSgpKSkpe2Y9ZC1lO2c9Zjw9Zzt2YXIgaD0hMTsuMDAxPmZ8fChnfHxcbmEuZnx8KGEuZj0hMCxlPW5ldyBRKFwibGFyZ2VnYXBcIix7Y3VycmVudFRpbWU6ZSxnYXBTaXplOmZ9KSxlLmNhbmNlbGFibGU9ITAsYS52KGUpLGEuaS5qdW1wTGFyZ2VHYXBzJiYhZS5kZWZhdWx0UHJldmVudGVkJiYoaD0hMCkpLCFnJiYhaCl8fCgwIT1jJiZiLmVuZChjLTEpLGEuYS5jdXJyZW50VGltZT1kKX19fX19O2Z1bmN0aW9uIFdmKGEsYixjLGQpe2I9PUhUTUxNZWRpYUVsZW1lbnQuSEFWRV9OT1RISU5HfHxhLnJlYWR5U3RhdGU+PWI/ZCgpOihiPVhmLmdldChiKSxjLmhhKGEsYixkKSl9dmFyIFhmPW5ldyBNYXAoW1tIVE1MTWVkaWFFbGVtZW50LkhBVkVfTUVUQURBVEEsXCJsb2FkZWRtZXRhZGF0YVwiXSxbSFRNTE1lZGlhRWxlbWVudC5IQVZFX0NVUlJFTlRfREFUQSxcImxvYWRlZGRhdGFcIl0sW0hUTUxNZWRpYUVsZW1lbnQuSEFWRV9GVVRVUkVfREFUQSxcImNhbnBsYXlcIl0sW0hUTUxNZWRpYUVsZW1lbnQuSEFWRV9FTk9VR0hfREFUQSxcImNhbnBsYXl0aHJvdWdoXCJdXSk7ZnVuY3Rpb24gWWYoYSxiLGMpe3ZhciBkPXRoaXM7dGhpcy5hPWE7dGhpcy5nPWI7dGhpcy5mPWM7dGhpcy5oPSExO3RoaXMuYj1uZXcgbGM7dGhpcy5jPW5ldyBaZihhKTtXZih0aGlzLmEsSFRNTE1lZGlhRWxlbWVudC5IQVZFX01FVEFEQVRBLHRoaXMuYixmdW5jdGlvbigpeyRmKGQsZC5mKX0pfVlmLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5iJiYodGhpcy5iLnJlbGVhc2UoKSx0aGlzLmI9bnVsbCk7bnVsbCE9dGhpcy5jJiYodGhpcy5jLnJlbGVhc2UoKSx0aGlzLmM9bnVsbCk7dGhpcy5nPWZ1bmN0aW9uKCl7fTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gYWcoYSl7cmV0dXJuIGEuaD9hLmEuY3VycmVudFRpbWU6YS5mfWZ1bmN0aW9uIGJnKGEsYil7MDxhLmEucmVhZHlTdGF0ZT9jZyhhLmMsYik6V2YoYS5hLEhUTUxNZWRpYUVsZW1lbnQuSEFWRV9NRVRBREFUQSxhLmIsZnVuY3Rpb24oKXskZihhLGEuZil9KX1cbmZ1bmN0aW9uICRmKGEsYil7LjAwMT5NYXRoLmFicyhhLmEuY3VycmVudFRpbWUtYik/ZGcoYSk6KGEuYi5oYShhLmEsXCJzZWVraW5nXCIsZnVuY3Rpb24oKXtkZyhhKX0pLGNnKGEuYywwPT1hLmEuY3VycmVudFRpbWU/YjphLmEuY3VycmVudFRpbWUpKX1mdW5jdGlvbiBkZyhhKXthLmg9ITA7YS5iLmwoYS5hLFwic2Vla2luZ1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGEuZygpfSl9ZnVuY3Rpb24gWmYoYSl7dmFyIGI9dGhpczt0aGlzLmI9YTt0aGlzLmg9MTA7dGhpcy5nPXRoaXMuZj10aGlzLmM9MDt0aGlzLmE9bmV3IE0oZnVuY3Rpb24oKXswPj1iLmM/Yi5hLnN0b3AoKTpiLmIuY3VycmVudFRpbWUhPWIuZj9iLmEuc3RvcCgpOihiLmIuY3VycmVudFRpbWU9Yi5nLGIuYy0tKX0pfVpmLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5hLnN0b3AoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O1xuZnVuY3Rpb24gY2coYSxiKXthLmY9YS5iLmN1cnJlbnRUaW1lO2EuZz1iO2EuYz1hLmg7YS5iLmN1cnJlbnRUaW1lPWI7YS5hLm9hKC4xKX07ZnVuY3Rpb24gZWcoYSl7ZnVuY3Rpb24gYigpe251bGw9PWMuYz9jLmY9ITA6KGMuYi5oYShjLmEsXCJzZWVraW5nXCIsZnVuY3Rpb24oKXtjLmY9ITB9KSxjLmEuY3VycmVudFRpbWU9TWF0aC5tYXgoMCxjLmEuY3VycmVudFRpbWUrYy5jKSl9dmFyIGM9dGhpczt0aGlzLmE9YTt0aGlzLmY9ITE7dGhpcy5jPW51bGw7dGhpcy5iPW5ldyBsYztXZih0aGlzLmEsSFRNTE1lZGlhRWxlbWVudC5IQVZFX0NVUlJFTlRfREFUQSx0aGlzLmIsZnVuY3Rpb24oKXtiKCl9KX1lZy5wcm90b3R5cGUucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuYiYmKHRoaXMuYi5yZWxlYXNlKCksdGhpcy5iPW51bGwpO3RoaXMuYT1udWxsfTtlZy5wcm90b3R5cGUubT1mdW5jdGlvbihhKXt0aGlzLmM9dGhpcy5mP3RoaXMuYzphfTtlZy5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybih0aGlzLmY/dGhpcy5hLmN1cnJlbnRUaW1lOnRoaXMuYyl8fDB9O2VnLnByb3RvdHlwZS52PWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIGZnKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzO3RoaXMuYj1hO3RoaXMuYT1iLnByZXNlbnRhdGlvblRpbWVsaW5lO3RoaXMuQz1iLm1pbkJ1ZmZlclRpbWV8fDA7dGhpcy5pPWM7dGhpcy53PWU7dGhpcy5qPW51bGw7dGhpcy5mPW5ldyBVZihhLGIucHJlc2VudGF0aW9uVGltZWxpbmUsYyxnZyhhLGMpLGYpO3RoaXMuYz1uZXcgWWYoYSxmdW5jdGlvbigpe2E6e3ZhciBoPWcuZjtoLmo9ITA7aC5oPSExO2guZj0hMTt2YXIgaz1hZyhnLmMpO2g9aGcoZyxrKTtpZiguMDAxPE1hdGguYWJzKGgtaykmJihrPShuZXcgRGF0ZSkuZ2V0VGltZSgpLzFFMywhZy5qfHxnLmo8ay0xKSl7Zy5qPWs7YmcoZy5jLGgpO2g9dm9pZCAwO2JyZWFrIGF9Zy53KCk7aD12b2lkIDB9cmV0dXJuIGh9LGlnKHRoaXMsZCkpO3RoaXMuaD0obmV3IE0oZnVuY3Rpb24oKXtpZigwIT1nLmIucmVhZHlTdGF0ZSYmIWcuYi5wYXVzZWQpe3ZhciBoPWcuYi5jdXJyZW50VGltZSxrPWcuYS5pYigpLGw9Zy5hLkRhKCk7XG4zPmwtayYmKGs9bC0zKTtoPGsmJihoPWhnKGcsaCksZy5iLmN1cnJlbnRUaW1lPWgpfX0pKS5vYSguMjUpfWZnLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5jJiYodGhpcy5jLnJlbGVhc2UoKSx0aGlzLmM9bnVsbCk7dGhpcy5mJiYodGhpcy5mLnJlbGVhc2UoKSx0aGlzLmY9bnVsbCk7dGhpcy5oJiYodGhpcy5oLnN0b3AoKSx0aGlzLmg9bnVsbCk7dGhpcy5iPXRoaXMuYz10aGlzLmE9dGhpcy5pPW51bGw7dGhpcy53PWZ1bmN0aW9uKCl7fX07ZmcucHJvdG90eXBlLm09ZnVuY3Rpb24oYSl7YmcodGhpcy5jLGEpfTtmZy5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3ZhciBhPWFnKHRoaXMuYyk7cmV0dXJuIDA8dGhpcy5iLnJlYWR5U3RhdGUmJiF0aGlzLmIucGF1c2VkP2pnKHRoaXMsYSk6YX07XG5mdW5jdGlvbiBpZyhhLGIpe251bGw9PWI/Yj1JbmZpbml0eT5hLmEuZ2V0RHVyYXRpb24oKT9hLmEuaWIoKTphLmEuRGEoKTowPmImJihiPWEuYS5EYSgpK2IpO3JldHVybiBrZyhhLGpnKGEsYikpfWZnLnByb3RvdHlwZS52PWZ1bmN0aW9uKCl7dGhpcy5mLlhjKCl9O2Z1bmN0aW9uIGtnKGEsYil7dmFyIGM9YS5hLmdldER1cmF0aW9uKCk7cmV0dXJuIGI+PWM/Yy1hLmkuZHVyYXRpb25CYWNrb2ZmOmJ9ZnVuY3Rpb24gaGcoYSxiKXt2YXIgYz1NYXRoLm1heChhLkMsYS5pLnJlYnVmZmVyaW5nR29hbCksZD1hLmkuc2FmZVNlZWtPZmZzZXQsZT1hLmEuaWIoKSxmPWEuYS5EYSgpLGc9YS5hLmdldER1cmF0aW9uKCk7Mz5mLWUmJihlPWYtMyk7dmFyIGg9YS5hLkViKGMpLGs9YS5hLkViKGQpO2M9YS5hLkViKGMrZCk7cmV0dXJuIGI+PWc/a2coYSxiKTpiPmY/ZjpiPGU/WWQoYS5iLmJ1ZmZlcmVkLGspP2s6YzpiPj1ofHxZZChhLmIuYnVmZmVyZWQsYik/YjpjfVxuZnVuY3Rpb24gamcoYSxiKXt2YXIgYz1hLmEuaWIoKTtpZihiPGMpcmV0dXJuIGM7Yz1hLmEuRGEoKTtyZXR1cm4gYj5jP2M6Yn1mdW5jdGlvbiBnZyhhLGIpe2lmKCFiLnN0YWxsRW5hYmxlZClyZXR1cm4gbnVsbDt2YXIgYz1iLnN0YWxsU2tpcCxkPW5ldyBRZihuZXcgVGYoYSksYi5zdGFsbFRocmVzaG9sZCk7U2YoZCxmdW5jdGlvbigpe2M/YS5jdXJyZW50VGltZSs9YzooYS5wYXVzZSgpLGEucGxheSgpKX0pO3JldHVybiBkfTtmdW5jdGlvbiBsZyhhKXt2YXIgYj10aGlzO3RoaXMuYT1hO3RoaXMuZj0hMTt0aGlzLmI9dGhpcy5hLmVjKCk7dGhpcy5jPW5ldyBNKGZ1bmN0aW9uKCl7Yi5hLkZkKC4yNSpiLmIpfSl9bGcucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLmMmJih0aGlzLmMuc3RvcCgpLHRoaXMuYz1udWxsKTt0aGlzLmE9bnVsbH07bGcucHJvdG90eXBlLnNldD1mdW5jdGlvbihhKXt0aGlzLmI9YTttZyh0aGlzKX07ZnVuY3Rpb24gbWcoYSl7YS5jLnN0b3AoKTt2YXIgYj1hLmY/MDphLmI7aWYoMDw9Yil0cnl7YS5hLmVjKCkhPWImJmEuYS5qZChiKTtyZXR1cm59Y2F0Y2goYyl7fWEuYy5vYSguMjUpOzAhPWEuYS5lYygpJiZhLmEuamQoMCl9O2Z1bmN0aW9uIG5nKGEpe3ZhciBiPXRoaXM7dGhpcy5jPWE7dGhpcy5hPW5ldyBTZXQ7dGhpcy5iPShuZXcgTShmdW5jdGlvbigpe29nKGIsITEpfSkpLm9hKC4yNSl9bmcucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLmIuc3RvcCgpO2Zvcih2YXIgYT1xKHRoaXMuYSksYj1hLm5leHQoKTshYi5kb25lO2I9YS5uZXh0KCkpYi52YWx1ZS5yZWxlYXNlKCk7dGhpcy5hLmNsZWFyKCl9O1xuZnVuY3Rpb24gb2coYSxiKXtmb3IodmFyIGM9cShhLmEpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXtkPWQudmFsdWU7Zm9yKHZhciBlPWEuYy5jdXJyZW50VGltZSxmPWIsZz1xKGQuZy5hKSxoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7aD1oLnZhbHVlO3ZhciBrPWQuZi5nZXQoaCksbD1lPGguc3RhcnRUaW1lP3BnOmU+aC5lbmRUaW1lP3FnOnJnO2QuZi5zZXQoaCxsKTtmb3IodmFyIG09cShkLmgpLG49bS5uZXh0KCk7IW4uZG9uZTtuPW0ubmV4dCgpKW49bi52YWx1ZSxuLmFiPT1rJiZuLiRhPT1sJiZuLlNhKGgsZil9fX07ZnVuY3Rpb24gc2coYSl7dmFyIGI9dGhpczt0aGlzLmI9ZnVuY3Rpb24oKXt9O3RoaXMuYT1uZXcgU2V0O3RoaXMuZj1hO3RoaXMuYz0obmV3IE0oZnVuY3Rpb24oKXtmb3IodmFyIGM9Yi5mKCksZD1xKGIuYSksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZT1lLnZhbHVlLGUuZW5kVGltZTxjLnN0YXJ0JiZiLmFbXCJkZWxldGVcIl0oZSl9KSkub2EoMil9c2cucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLmI9ZnVuY3Rpb24oKXt9O3RoaXMuYS5jbGVhcigpO3RoaXMuYy5zdG9wKCl9O2Z1bmN0aW9uIHRnKGEsYil7YS5iPWJ9O2Z1bmN0aW9uIHVnKGEpe3ZhciBiPXRoaXM7dGhpcy5nPWE7dGhpcy5mPW5ldyBNYXA7dGhpcy5hPWZ1bmN0aW9uKCl7fTt0aGlzLmI9ZnVuY3Rpb24oKXt9O3RoaXMuYz1mdW5jdGlvbigpe307dGhpcy5oPVt7YWI6bnVsbCwkYTpyZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmEoYyxkKX19LHthYjpwZywkYTpyZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmEoYyxkKX19LHthYjpxZywkYTpyZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmEoYyxkKX19LHthYjpyZywkYTpwZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmIoYyxkKX19LHthYjpyZywkYTpxZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmIoYyxkKX19LHthYjpwZywkYTpxZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmMoYyxkKX19LHthYjpxZywkYTpwZyxTYTpmdW5jdGlvbihjLGQpe3JldHVybiBiLmMoYyxkKX19XX1cbnVnLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGw7dGhpcy5mLmNsZWFyKCk7dGhpcy5hPWZ1bmN0aW9uKCl7fTt0aGlzLmI9ZnVuY3Rpb24oKXt9O3RoaXMuYz1mdW5jdGlvbigpe319O2Z1bmN0aW9uIHZnKGEsYixjLGQpe2EuYT1iO2EuYj1jO2EuYz1kfXZhciBwZz0xLHJnPTIscWc9MztmdW5jdGlvbiBUKGEpe3RoaXMuYT1hO3RoaXMuYj1udWxsO3RoaXMuYz0wfXA9VC5wcm90b3R5cGU7cC5kZXN0cm95PWZ1bmN0aW9uKCl7RGMoXCJzaGFrYS5tZWRpYS5TZWdtZW50SW5kZXhcIixcIlBsZWFzZSB1c2UgcmVsZWFzZSgpIGluc3RlYWQgb2YgZGVzdHJveSgpLlwiKTt0aGlzLnJlbGVhc2UoKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O3AucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuYT1bXTt0aGlzLmImJnRoaXMuYi5zdG9wKCk7dGhpcy5iPW51bGx9O3AuZmluZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5hLmxlbmd0aC0xOzA8PWI7LS1iKXt2YXIgYz10aGlzLmFbYl07aWYoYT49Yy5zdGFydFRpbWUmJmE8Yy5lbmRUaW1lKXJldHVybiBiK3RoaXMuY31yZXR1cm4gdGhpcy5hLmxlbmd0aCYmYTx0aGlzLmFbMF0uc3RhcnRUaW1lP3RoaXMuYzpudWxsfTtcbnAuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA9PXRoaXMuYS5sZW5ndGgpcmV0dXJuIG51bGw7YS09dGhpcy5jO3JldHVybiAwPmF8fGE+PXRoaXMuYS5sZW5ndGg/bnVsbDp0aGlzLmFbYV19O3Aub2Zmc2V0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1xKHRoaXMuYSksYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpYz1jLnZhbHVlLGMuc3RhcnRUaW1lKz1hLGMuZW5kVGltZSs9YSxjLnRpbWVzdGFtcE9mZnNldCs9YX07cC5rYj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFbdGhpcy5hLmxlbmd0aC0xXSxjPVtdO2M9dGhpcy5hLmxlbmd0aD9hLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC5zdGFydFRpbWU+PWIuc3RhcnRUaW1lfSk6YTtiJiZjLmxlbmd0aCYmY1swXS5zdGFydFRpbWU9PWIuc3RhcnRUaW1lJiZ0aGlzLmEucG9wKCk7dGhpcy5hLnB1c2guYXBwbHkodGhpcy5hLGhhKGMpKX07XG5wLk9hPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5sZW5ndGg7dGhpcy5hPXRoaXMuYS5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGMuZW5kVGltZT5hfSk7dGhpcy5jKz1iLXRoaXMuYS5sZW5ndGh9O3AuSmE9ZnVuY3Rpb24oYSxiKXtmb3IoO3RoaXMuYS5sZW5ndGg7KWlmKHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdLnN0YXJ0VGltZT49Yil0aGlzLmEucG9wKCk7ZWxzZSBicmVhaztmb3IoO3RoaXMuYS5sZW5ndGg7KWlmKHRoaXMuYVswXS5lbmRUaW1lPD1hKXRoaXMuYS5zaGlmdCgpLHRoaXMuYysrO2Vsc2UgYnJlYWs7aWYoMCE9dGhpcy5hLmxlbmd0aCl7dmFyIGM9dGhpcy5hW3RoaXMuYS5sZW5ndGgtMV07dGhpcy5hW3RoaXMuYS5sZW5ndGgtMV09bmV3IFBmKGMuc3RhcnRUaW1lLGIsYy5jLGMuYixjLmEsYy5mLGMudGltZXN0YW1wT2Zmc2V0LGMuYXBwZW5kV2luZG93U3RhcnQsYy5hcHBlbmRXaW5kb3dFbmQpfX07XG5wLm5jPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpczt0aGlzLmImJnRoaXMuYi5zdG9wKCk7dGhpcy5iPW5ldyBNKGZ1bmN0aW9uKCl7dmFyIGQ9YigpO2MuYS5wdXNoLmFwcGx5KGMuYSxoYShkKSk7MD09Yy5hLmxlbmd0aCYmKGMuYi5zdG9wKCksYy5iPW51bGwpfSk7dGhpcy5iLm9hKGEpfTtULnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB3Zyh0aGlzKX07ZnVuY3Rpb24geGcoYSxiLGMpe3JldHVybiBuZXcgVChbbmV3IFBmKGEsYStiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9LDAsbnVsbCxudWxsLGEsYSxhK2IpXSl9SyhcInNoYWthLm1lZGlhLlNlZ21lbnRJbmRleFwiLFQpO1QuZm9yU2luZ2xlU2VnbWVudD14ZztULnByb3RvdHlwZS51cGRhdGVFdmVyeT1ULnByb3RvdHlwZS5uYztULnByb3RvdHlwZS5maXQ9VC5wcm90b3R5cGUuSmE7VC5wcm90b3R5cGUuZXZpY3Q9VC5wcm90b3R5cGUuT2E7VC5wcm90b3R5cGUubWVyZ2U9VC5wcm90b3R5cGUua2I7XG5ULnByb3RvdHlwZS5vZmZzZXQ9VC5wcm90b3R5cGUub2Zmc2V0O1QucHJvdG90eXBlLmdldD1ULnByb3RvdHlwZS5nZXQ7VC5wcm90b3R5cGUuZmluZD1ULnByb3RvdHlwZS5maW5kO1QucHJvdG90eXBlLnJlbGVhc2U9VC5wcm90b3R5cGUucmVsZWFzZTtULnByb3RvdHlwZS5kZXN0cm95PVQucHJvdG90eXBlLmRlc3Ryb3k7ZnVuY3Rpb24gd2coYSl7dGhpcy5iPWE7dGhpcy5hPXRoaXMuYi5maW5kKDApfHwwfXdnLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGEpe2E9dGhpcy5iLmZpbmQoYSk7aWYobnVsbD09YSlyZXR1cm4gdGhpcy5hPU1hdGgucG93KDIsMzEpLG51bGw7dGhpcy5hPWE7cmV0dXJuIHRoaXMuYi5nZXQodGhpcy5hKyspfTt3Zy5wcm90b3R5cGUuY3VycmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZ2V0KHRoaXMuYS0xKX07d2cucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmIuZ2V0KHRoaXMuYSsrKTtyZXR1cm57dmFsdWU6YSxkb25lOiFhfX07XG5LKFwic2hha2EubWVkaWEuU2VnbWVudEl0ZXJhdG9yXCIsd2cpO3dnLnByb3RvdHlwZS5uZXh0PXdnLnByb3RvdHlwZS5uZXh0O3dnLnByb3RvdHlwZS5jdXJyZW50PXdnLnByb3RvdHlwZS5jdXJyZW50O3dnLnByb3RvdHlwZS5zZWVrPXdnLnByb3RvdHlwZS5zZWVrO2Z1bmN0aW9uIEFnKCl7VC5jYWxsKHRoaXMsW10pO3RoaXMuZj1bXX1wYShBZyxUKTtwPUFnLnByb3RvdHlwZTtwLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEFnO2EuZj10aGlzLmYuc2xpY2UoKTtyZXR1cm4gYX07cC5yZWxlYXNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXEodGhpcy5mKSxiPWEubmV4dCgpOyFiLmRvbmU7Yj1hLm5leHQoKSliLnZhbHVlLnJlbGVhc2UoKTt0aGlzLmY9W119O1xucC5maW5kPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9cSh0aGlzLmYpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXtkPWQudmFsdWU7dmFyIGU9ZC5maW5kKGEpO2lmKG51bGwhPWUpcmV0dXJuIGUrYjtiKz1kLmMrZC5hLmxlbmd0aH1yZXR1cm4gbnVsbH07cC5nZXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz1xKHRoaXMuZiksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpe2Q9ZC52YWx1ZTt2YXIgZT1kLmdldChhLWIpO2lmKGUpcmV0dXJuIGU7Yis9ZC5jK2QuYS5sZW5ndGh9cmV0dXJuIG51bGx9O3Aub2Zmc2V0PWZ1bmN0aW9uKCl7fTtwLmtiPWZ1bmN0aW9uKCl7fTtwLk9hPWZ1bmN0aW9uKCl7fTtwLkphPWZ1bmN0aW9uKCl7fTtwLm5jPWZ1bmN0aW9uKCl7fTtLKFwic2hha2EubWVkaWEuTWV0YVNlZ21lbnRJbmRleFwiLEFnKTtBZy5wcm90b3R5cGUudXBkYXRlRXZlcnk9QWcucHJvdG90eXBlLm5jO0FnLnByb3RvdHlwZS5maXQ9QWcucHJvdG90eXBlLkphO1xuQWcucHJvdG90eXBlLmV2aWN0PUFnLnByb3RvdHlwZS5PYTtBZy5wcm90b3R5cGUubWVyZ2U9QWcucHJvdG90eXBlLmtiO0FnLnByb3RvdHlwZS5vZmZzZXQ9QWcucHJvdG90eXBlLm9mZnNldDtBZy5wcm90b3R5cGUuZ2V0PUFnLnByb3RvdHlwZS5nZXQ7QWcucHJvdG90eXBlLmZpbmQ9QWcucHJvdG90eXBlLmZpbmQ7QWcucHJvdG90eXBlLnJlbGVhc2U9QWcucHJvdG90eXBlLnJlbGVhc2U7ZnVuY3Rpb24gVShhLGIpe3RoaXMuUD1OYihhKTt0aGlzLmE9Yj09Qmc7dGhpcy5CPTB9cD1VLnByb3RvdHlwZTtwLnRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQjx0aGlzLlAuYnl0ZUxlbmd0aH07cC50ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O3AuamU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5QLmJ5dGVMZW5ndGh9O3AubmE9ZnVuY3Rpb24oKXt0cnl7dmFyIGE9dGhpcy5QLmdldFVpbnQ4KHRoaXMuQik7dGhpcy5CKz0xO3JldHVybiBhfWNhdGNoKGIpe3Rocm93IENnKCk7fX07cC5LYj1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLlAuZ2V0VWludDE2KHRoaXMuQix0aGlzLmEpO3RoaXMuQis9MjtyZXR1cm4gYX1jYXRjaChiKXt0aHJvdyBDZygpO319O3AuSj1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLlAuZ2V0VWludDMyKHRoaXMuQix0aGlzLmEpO3RoaXMuQis9NDtyZXR1cm4gYX1jYXRjaChiKXt0aHJvdyBDZygpO319O1xucC5KZD1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLlAuZ2V0SW50MzIodGhpcy5CLHRoaXMuYSk7dGhpcy5CKz00O3JldHVybiBhfWNhdGNoKGIpe3Rocm93IENnKCk7fX07cC5wYj1mdW5jdGlvbigpe3RyeXtpZih0aGlzLmEpe3ZhciBhPXRoaXMuUC5nZXRVaW50MzIodGhpcy5CLCEwKTt2YXIgYj10aGlzLlAuZ2V0VWludDMyKHRoaXMuQis0LCEwKX1lbHNlIGI9dGhpcy5QLmdldFVpbnQzMih0aGlzLkIsITEpLGE9dGhpcy5QLmdldFVpbnQzMih0aGlzLkIrNCwhMSl9Y2F0Y2goYyl7dGhyb3cgQ2coKTt9aWYoMjA5NzE1MTxiKXRocm93IG5ldyBMKDIsMywzMDAxKTt0aGlzLkIrPTg7cmV0dXJuIGIqTWF0aC5wb3coMiwzMikrYX07cC5XYT1mdW5jdGlvbihhKXtpZih0aGlzLkIrYT50aGlzLlAuYnl0ZUxlbmd0aCl0aHJvdyBDZygpO3ZhciBiPU4odGhpcy5QLHRoaXMuQixhKTt0aGlzLkIrPWE7cmV0dXJuIGJ9O1xucC5za2lwPWZ1bmN0aW9uKGEpe2lmKHRoaXMuQithPnRoaXMuUC5ieXRlTGVuZ3RoKXRocm93IENnKCk7dGhpcy5CKz1hfTtwLkxkPWZ1bmN0aW9uKGEpe2lmKHRoaXMuQjxhKXRocm93IENnKCk7dGhpcy5CLT1hfTtwLnNlZWs9ZnVuY3Rpb24oYSl7aWYoMD5hfHxhPnRoaXMuUC5ieXRlTGVuZ3RoKXRocm93IENnKCk7dGhpcy5CPWF9O3AuWmM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5CO3RoaXMudGEoKSYmMCE9dGhpcy5QLmdldFVpbnQ4KHRoaXMuQik7KXRoaXMuQis9MTthPU4odGhpcy5QLGEsdGhpcy5CLWEpO3RoaXMuQis9MTtyZXR1cm4gc2MoYSl9O2Z1bmN0aW9uIENnKCl7cmV0dXJuIG5ldyBMKDIsMywzRTMpfUsoXCJzaGFrYS51dGlsLkRhdGFWaWV3UmVhZGVyXCIsVSk7VS5wcm90b3R5cGUucmVhZFRlcm1pbmF0ZWRTdHJpbmc9VS5wcm90b3R5cGUuWmM7VS5wcm90b3R5cGUuc2Vlaz1VLnByb3RvdHlwZS5zZWVrO1UucHJvdG90eXBlLnJld2luZD1VLnByb3RvdHlwZS5MZDtcblUucHJvdG90eXBlLnNraXA9VS5wcm90b3R5cGUuc2tpcDtVLnByb3RvdHlwZS5yZWFkQnl0ZXM9VS5wcm90b3R5cGUuV2E7VS5wcm90b3R5cGUucmVhZFVpbnQ2ND1VLnByb3RvdHlwZS5wYjtVLnByb3RvdHlwZS5yZWFkSW50MzI9VS5wcm90b3R5cGUuSmQ7VS5wcm90b3R5cGUucmVhZFVpbnQzMj1VLnByb3RvdHlwZS5KO1UucHJvdG90eXBlLnJlYWRVaW50MTY9VS5wcm90b3R5cGUuS2I7VS5wcm90b3R5cGUucmVhZFVpbnQ4PVUucHJvdG90eXBlLm5hO1UucHJvdG90eXBlLmdldExlbmd0aD1VLnByb3RvdHlwZS5qZTtVLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1VLnByb3RvdHlwZS50ZTtVLnByb3RvdHlwZS5oYXNNb3JlRGF0YT1VLnByb3RvdHlwZS50YTt2YXIgQmc9MTtVLkVuZGlhbm5lc3M9e0JJR19FTkRJQU46MCxMSVRUTEVfRU5ESUFOOkJnfTtmdW5jdGlvbiBEZygpe3RoaXMuYz1bXTt0aGlzLmI9W107dGhpcy5hPSExfXA9RGcucHJvdG90eXBlO3AuTD1mdW5jdGlvbihhLGIpe3ZhciBjPUVnKGEpO3RoaXMuY1tjXT1GZzt0aGlzLmJbY109YjtyZXR1cm4gdGhpc307cC5lYT1mdW5jdGlvbihhLGIpe3ZhciBjPUVnKGEpO3RoaXMuY1tjXT1HZzt0aGlzLmJbY109YjtyZXR1cm4gdGhpc307cC5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5hPSEwfTtwLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFUoYSwwKTtmb3IodGhpcy5hPSExO2MudGEoKSYmIXRoaXMuYTspdGhpcy5rYygwLGMsYil9O1xucC5rYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5CLGU9Yi5KKCksZj1iLkooKTtzd2l0Y2goZSl7Y2FzZSAwOmU9Yi5QLmJ5dGVMZW5ndGgtZDticmVhaztjYXNlIDE6ZT1iLnBiKCl9dmFyIGc9dGhpcy5iW2ZdO2lmKGcpe3ZhciBoPW51bGwsaz1udWxsO3RoaXMuY1tmXT09R2cmJihrPWIuSigpLGg9az4+PjI0LGsmPTE2Nzc3MjE1KTtmPWQrZTtjJiZmPmIuUC5ieXRlTGVuZ3RoJiYoZj1iLlAuYnl0ZUxlbmd0aCk7Zi09Yi5CO2I9MDxmP2IuV2EoZik6bmV3IFVpbnQ4QXJyYXkoMCk7Yj1uZXcgVShiLDApO2coe3BhcnNlcjp0aGlzLHBhcnRpYWxPa2F5OmN8fCExLHZlcnNpb246aCxmbGFnczprLHJlYWRlcjpiLHNpemU6ZSxzdGFydDpkK2F9KX1lbHNlIGIuc2tpcChNYXRoLm1pbihkK2UtYi5CLGIuUC5ieXRlTGVuZ3RoLWIuQikpfTtcbmZ1bmN0aW9uIEhnKGEpe2Zvcih2YXIgYj1udWxsIT1hLmZsYWdzPzEyOjg7YS5yZWFkZXIudGEoKSYmIWEucGFyc2VyLmE7KWEucGFyc2VyLmtjKGEuc3RhcnQrYixhLnJlYWRlcixhLnBhcnRpYWxPa2F5KX1mdW5jdGlvbiBJZyhhKXt2YXIgYj1udWxsIT1hLmZsYWdzPzEyOjgsYz1hLnJlYWRlci5KKCk7Yz1xKGZiKGMpKTtmb3IodmFyIGQ9Yy5uZXh0KCk7IWQuZG9uZSYmKGEucGFyc2VyLmtjKGEuc3RhcnQrYixhLnJlYWRlcixhLnBhcnRpYWxPa2F5KSwhYS5wYXJzZXIuYSk7ZD1jLm5leHQoKSk7fWZ1bmN0aW9uIEpnKGEpe3JldHVybiBmdW5jdGlvbihiKXthKGIucmVhZGVyLldhKGIucmVhZGVyLlAuYnl0ZUxlbmd0aC1iLnJlYWRlci5CKSl9fWZ1bmN0aW9uIEVnKGEpe3ZhciBiPTA7YT1xKGEpO2Zvcih2YXIgYz1hLm5leHQoKTshYy5kb25lO2M9YS5uZXh0KCkpYj1iPDw4fGMudmFsdWUuY2hhckNvZGVBdCgwKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEtnKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGE+PjI0JjI1NSxhPj4xNiYyNTUsYT4+OCYyNTUsYSYyNTUpfUsoXCJzaGFrYS51dGlsLk1wNFBhcnNlclwiLERnKTtEZy50eXBlVG9TdHJpbmc9S2c7RGcuYWxsRGF0YT1KZztEZy5zYW1wbGVEZXNjcmlwdGlvbj1JZztEZy5jaGlsZHJlbj1IZztEZy5wcm90b3R5cGUucGFyc2VOZXh0PURnLnByb3RvdHlwZS5rYztEZy5wcm90b3R5cGUucGFyc2U9RGcucHJvdG90eXBlLnBhcnNlO0RnLnByb3RvdHlwZS5zdG9wPURnLnByb3RvdHlwZS5zdG9wO0RnLnByb3RvdHlwZS5mdWxsQm94PURnLnByb3RvdHlwZS5lYTtEZy5wcm90b3R5cGUuYm94PURnLnByb3RvdHlwZS5MO3ZhciBGZz0wLEdnPTE7ZnVuY3Rpb24gTGcoYSxiLGMsZCl7YT1jYyhhLGQpO2lmKDAhPWJ8fG51bGwhPWMpYS5oZWFkZXJzLlJhbmdlPWM/XCJieXRlcz1cIitiK1wiLVwiK2M6XCJieXRlcz1cIitiK1wiLVwiO3JldHVybiBhfTtmdW5jdGlvbiBNZyhhLGIpe3ZhciBjPXRoaXM7dGhpcy5zPWI7dGhpcy5vPWE7dGhpcy5pPW51bGw7dGhpcy5mPTE7dGhpcy5jPXRoaXMuYj1udWxsO3RoaXMuYT1uZXcgTWFwO3RoaXMuaD0hMTt0aGlzLmo9bnVsbDt0aGlzLmc9ITE7dGhpcy5EPW5ldyBqYyhmdW5jdGlvbigpe3JldHVybiBOZyhjKX0pfU1nLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRC5kZXN0cm95KCl9O2Z1bmN0aW9uIE5nKGEpe3ZhciBiLGMsZCxlO3JldHVybiBKKGZ1bmN0aW9uKGYpe2lmKDE9PWYuYSl7Yj1bXTtjPXEoYS5hLnZhbHVlcygpKTtmb3IoZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpZT1kLnZhbHVlLE9nKGUpLGIucHVzaChQZyhlKSk7cmV0dXJuIHQoZixQcm9taXNlLmFsbChiKSwyKX1hLmEuY2xlYXIoKTthLnM9bnVsbDthLm89bnVsbDthLmk9bnVsbDt3KGYpfSl9XG5NZy5wcm90b3R5cGUuY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuaT1hO3RoaXMuaj1uZXcgeGIoe21heEF0dGVtcHRzOk1hdGgubWF4KGEucmV0cnlQYXJhbWV0ZXJzLm1heEF0dGVtcHRzLDIpLGJhc2VEZWxheTphLnJldHJ5UGFyYW1ldGVycy5iYXNlRGVsYXksYmFja29mZkZhY3RvcjphLnJldHJ5UGFyYW1ldGVycy5iYWNrb2ZmRmFjdG9yLGZ1enpGYWN0b3I6YS5yZXRyeVBhcmFtZXRlcnMuZnV6ekZhY3Rvcix0aW1lb3V0OjB9LCEwKX07TWcucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gSihmdW5jdGlvbihiKXtpZigxPT1iLmEpcmV0dXJuIHQoYixRZyhhKSwyKTtrYyhhLkQpO2EuaD0hMDt3KGIpfSl9O1xuZnVuY3Rpb24gUmcoYSxiKXt2YXIgYyxkLGUsZixnLGg7SihmdW5jdGlvbihrKXtzd2l0Y2goay5hKXtjYXNlIDE6cmV0dXJuIGM9TmMseChrLDIpLHQoayxTZShhLnMuSyxjLiQpLDQpO2Nhc2UgNDp1YShrLDMpO2JyZWFrO2Nhc2UgMjppZihkPUMoayksYS5zKWEucy5vbkVycm9yKGQpO2Nhc2UgMzplPVJjKGIubWltZVR5cGUsYi5jb2RlY3MpO0llKGEucy5LLGUpO2Y9YS5zLksuaDtpZihnPWYuaXNUZXh0VmlzaWJsZSgpfHxhLmkuYWx3YXlzU3RyZWFtVGV4dCloPVNnKGIpLGEuYS5zZXQoYy4kLGgpLFRnKGEsaCwwKTt3KGspfX0pfWZ1bmN0aW9uIFVnKGEpe3ZhciBiPWEuYS5nZXQoXCJ0ZXh0XCIpO2ImJihPZyhiKSxQZyhiKVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7fSksYS5hW1wiZGVsZXRlXCJdKFwidGV4dFwiKSk7YS5jPW51bGx9XG5mdW5jdGlvbiBWZyhhLGIpe3ZhciBjPWEuYS5nZXQoXCJ2aWRlb1wiKTtpZihjKXt2YXIgZD1jLnN0cmVhbTtpZihkKWlmKGIpe3ZhciBlPWQudHJpY2tNb2RlVmlkZW87ZSYmIWMuWWEmJihXZyhhLGUsITEsMCwhMSksYy5ZYT1kKX1lbHNlIGlmKGQ9Yy5ZYSljLllhPW51bGwsV2coYSxkLCEwLDAsITEpfX1mdW5jdGlvbiBYZyhhLGIsYyxkKXtjPXZvaWQgMD09PWM/ITE6YztkPXZvaWQgMD09PWQ/MDpkO2EuYj1iO2EuaCYmKGIudmlkZW8mJldnKGEsYi52aWRlbyxjLGQsITEpLGIuYXVkaW8mJldnKGEsYi5hdWRpbyxjLGQsITEpKX1mdW5jdGlvbiBZZyhhLGIpe2EuYz1iO2EuaCYmV2coYSxiLCEwLDAsITEpfVxuZnVuY3Rpb24gV2coYSxiLGMsZCxlKXt2YXIgZj1hLmEuZ2V0KGIudHlwZSk7Znx8XCJ0ZXh0XCIhPWIudHlwZT9mJiYoZi5ZYSYmKGIudHJpY2tNb2RlVmlkZW8/KGYuWWE9YixiPWIudHJpY2tNb2RlVmlkZW8pOmYuWWE9bnVsbCksZi5zdHJlYW0hPWJ8fGUpJiYoXCJ0ZXh0XCI9PWIudHlwZSYmSWUoYS5zLkssUmMoYi5taW1lVHlwZSxiLmNvZGVjcykpLGYuc3RyZWFtPWIsZi5zdHJlYW0uc2VnbWVudEluZGV4P2Yud2E9Zi5zdHJlYW0uc2VnbWVudEluZGV4W1N5bWJvbC5pdGVyYXRvcl0oKTpmLndhPW51bGwsYyYmKGYuemI/Zi5xYz0hMDpmLlZhPyhmLnJiPSEwLGYuYWM9ZCxmLnFjPSEwKTooT2coZiksWmcoYSxmLCEwLGQpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZyl7aWYoYS5zKWEucy5vbkVycm9yKGcpfSkpKSwkZyhhLGYpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZyl7aWYoYS5zKWEucy5vbkVycm9yKGcpfSkpOlJnKGEsYil9XG5mdW5jdGlvbiAkZyhhLGIpe3ZhciBjLGQ7cmV0dXJuIEooZnVuY3Rpb24oZSl7aWYoMT09ZS5hKXtpZighYi5FYSlyZXR1cm4gZVtcInJldHVyblwiXSgpO2M9Yi5zdHJlYW07ZD1iLkVhO3JldHVybiBjLnNlZ21lbnRJbmRleD9lLnUoMik6dChlLGMuY3JlYXRlU2VnbWVudEluZGV4KCksMil9aWYoYi5FYSE9ZHx8Yi5zdHJlYW0hPWMpcmV0dXJuIGVbXCJyZXR1cm5cIl0oKTtiLndhPWIuc3RyZWFtLnNlZ21lbnRJbmRleFtTeW1ib2wuaXRlcmF0b3JdKCk7dmFyIGY9YS5zLmRjKCk7dmFyIGc9TmUoYS5zLkssYi50eXBlKSxoPWFoKGEsYixmLGcpLGs9aD9oLmE/aC5hLWguYjpudWxsOm51bGw7aCYmIWsmJihrPShoLmVuZFRpbWUtaC5zdGFydFRpbWUpKihiLnN0cmVhbS5iYW5kd2lkdGh8fDApLzgpO2s/KChoPWguZikmJihrKz0oaC5hP2guYS1oLmI6bnVsbCl8fDApLGg9YS5zLmdldEJhbmR3aWR0aEVzdGltYXRlKCksZj04KmsvaDwoZ3x8MCktZi1NYXRoLm1heChhLm8ubWluQnVmZmVyVGltZXx8XG4wLGEuaS5yZWJ1ZmZlcmluZ0dvYWwpfHxiLkVhLmIuYT5rPyEwOiExKTpmPSExO2YmJmIuRWEuYWJvcnQoKTt3KGUpfSl9ZnVuY3Rpb24gYmgoYSxiKXtiLnpifHxiLnJifHwoYi5WYT8oYi5yYj0hMCxiLmFjPTApOm51bGw9PUxlKGEucy5LLGIudHlwZSk/bnVsbD09Yi5IYSYmVGcoYSxiLDApOihPZyhiKSxaZyhhLGIsITEsMClbXCJjYXRjaFwiXShmdW5jdGlvbihjKXtpZihhLnMpYS5zLm9uRXJyb3IoYyl9KSkpfVxuZnVuY3Rpb24gUWcoYSl7dmFyIGIsYyxkLGUsZixnLGgsayxsLG07cmV0dXJuIEooZnVuY3Rpb24obil7aWYoMT09bi5hKXtiPU5jO2lmKCFhLmIpdGhyb3cgbmV3IEwoMiw1LDUwMDYpO2M9bmV3IE1hcDtkPW5ldyBTZXQ7YS5iLmF1ZGlvJiYoYy5zZXQoYi5lYixhLmIuYXVkaW8pLGQuYWRkKGEuYi5hdWRpbykpO2EuYi52aWRlbyYmKGMuc2V0KGIuQmEsYS5iLnZpZGVvKSxkLmFkZChhLmIudmlkZW8pKTthLmMmJihjLnNldChiLiQsYS5jKSxkLmFkZChhLmMpKTtlPWEucy5LO2Y9YS5pLmZvcmNlVHJhbnNtdXhUUztyZXR1cm4gdChuLGUuaW5pdChjLGYpLDIpfWtjKGEuRCk7dmFyIHI9YS5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmdldER1cmF0aW9uKCk7SW5maW5pdHk+cj9hLnMuSy54YShyKTphLnMuSy54YShNYXRoLnBvdygyLDMyKSk7Zz1xKGMua2V5cygpKTtmb3IoaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpaz1oLnZhbHVlLGw9Yy5nZXQoayksYS5hLmhhcyhrKXx8XG4obT1TZyhsKSxhLmEuc2V0KGssbSksVGcoYSxtLDApKTt3KG4pfSl9ZnVuY3Rpb24gU2coYSl7dmFyIGI9YS5zZWdtZW50SW5kZXg/YS5zZWdtZW50SW5kZXhbU3ltYm9sLml0ZXJhdG9yXSgpOm51bGw7cmV0dXJue3N0cmVhbTphLHR5cGU6YS50eXBlLEhiOm51bGwsd2E6YixMYTpudWxsLFFjOm51bGwsUmM6bnVsbCxQYzpudWxsLE9jOm51bGwsWWE6bnVsbCxlbmRPZlN0cmVhbTohMSxWYTohMSxIYTpudWxsLHJiOiExLGFjOjAscWM6ITEsemI6ITEsYmQ6ITEsRmI6ITEsRWE6bnVsbH19XG5NZy5wcm90b3R5cGUuSWI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQsZSxmO3JldHVybiBKKGZ1bmN0aW9uKGcpe3N3aXRjaChnLmEpe2Nhc2UgMTprYyhiLkQpO2lmKGEuVmF8fG51bGw9PWEuSGF8fGEuemIpcmV0dXJuIGdbXCJyZXR1cm5cIl0oKTthLkhhPW51bGw7aWYoIWEucmIpe2cudSgyKTticmVha31yZXR1cm4gdChnLFpnKGIsYSxhLnFjLGEuYWMpLDMpO2Nhc2UgMzpyZXR1cm4gZ1tcInJldHVyblwiXSgpO2Nhc2UgMjppZihhLnN0cmVhbS5zZWdtZW50SW5kZXgpe2cudSg0KTticmVha31jPWEuc3RyZWFtO3JldHVybiB0KGcsYS5zdHJlYW0uY3JlYXRlU2VnbWVudEluZGV4KCksNSk7Y2FzZSA1OmlmKGMhPWEuc3RyZWFtKXJldHVybiBudWxsPT1hLkhhJiZUZyhiLGEsMCksZ1tcInJldHVyblwiXSgpO2NoKGEpfHwoYS53YT1hLnN0cmVhbS5zZWdtZW50SW5kZXhbU3ltYm9sLml0ZXJhdG9yXSgpKTtjYXNlIDQ6dHJ5e2Q9ZGgoYixhKSxudWxsIT1kJiYoVGcoYixhLGQpLGEuRmI9XG4hMSl9Y2F0Y2goaCl7cmV0dXJuIGVoKGIsaCksZ1tcInJldHVyblwiXSgpfWU9QXJyYXkuZnJvbShiLmEudmFsdWVzKCkpO2lmKCFiLmh8fCFlLmV2ZXJ5KGZ1bmN0aW9uKGgpe3JldHVybiBoLmVuZE9mU3RyZWFtfSkpe2cudSgwKTticmVha31yZXR1cm4gdChnLGIucy5LLmVuZE9mU3RyZWFtKCksNyk7Y2FzZSA3OmtjKGIuRCksZj1iLnMuSy5nZXREdXJhdGlvbigpLDAhPWYmJmY8Yi5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmdldER1cmF0aW9uKCkmJmIuby5wcmVzZW50YXRpb25UaW1lbGluZS54YShmKSx3KGcpfX0pfTtcbmZ1bmN0aW9uIGRoKGEsYil7aWYoY2goYikpcmV0dXJuIFJlKGEucy5LLGIuc3RyZWFtLm9yaWdpbmFsSWR8fFwiXCIpLG51bGw7dmFyIGM9YS5zLmRjKCksZD1iLkhiJiZiLkxhP2IuTGEuZW5kVGltZTpjLGU9T2UoYS5zLkssYi50eXBlLGMpLGY9TWF0aC5tYXgoYS5vLm1pbkJ1ZmZlclRpbWV8fDAsYS5pLnJlYnVmZmVyaW5nR29hbCxhLmkuYnVmZmVyaW5nR29hbCkqYS5mO2lmKGQ+PWEuby5wcmVzZW50YXRpb25UaW1lbGluZS5nZXREdXJhdGlvbigpKXJldHVybiBiLmVuZE9mU3RyZWFtPSEwLFwidmlkZW9cIj09Yi50eXBlJiYoYz1hLmEuZ2V0KFwidGV4dFwiKSkmJmNoKGMpJiYoYy5lbmRPZlN0cmVhbT0hMCksbnVsbDtiLmVuZE9mU3RyZWFtPSExO2lmKGU+PWYpcmV0dXJuLjU7ZT1OZShhLnMuSyxiLnR5cGUpO2U9YWgoYSxiLGMsZSk7aWYoIWV8fCFmaChhLGUpKXJldHVybiAxO2Y9SW5maW5pdHk7dmFyIGc9QXJyYXkuZnJvbShhLmEudmFsdWVzKCkpO2c9cShnKTtmb3IodmFyIGg9Zy5uZXh0KCk7IWguZG9uZTtoPVxuZy5uZXh0KCkpaD1oLnZhbHVlLGNoKGgpfHwoZj1NYXRoLm1pbihmLGguSGImJmguTGE/aC5MYS5lbmRUaW1lOmMpKTtpZihkPj1mK2Euby5wcmVzZW50YXRpb25UaW1lbGluZS5hKXJldHVybiAxO2doKGEsYixjLGUpW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt9KTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBhaChhLGIsYyxkKXtpZihiLnN0cmVhbT09Yi5IYilyZXR1cm4gYi53YS5jdXJyZW50KCk7aWYoYi5MYSlyZXR1cm4gYi53YS5zZWVrKGIuTGEuZW5kVGltZSk7aWYoZClyZXR1cm4gYi53YS5zZWVrKGQpOyhkPWIud2Euc2VlayhNYXRoLm1heChjLWEuaS5pbmFjY3VyYXRlTWFuaWZlc3RUb2xlcmFuY2UsMCkpKSYmZmgoYSxkKXx8KGQ9Yi53YS5zZWVrKGMpKTtyZXR1cm4gZH1mdW5jdGlvbiBmaChhLGIpe3ZhciBjPWEuby5wcmVzZW50YXRpb25UaW1lbGluZSxkPWMuS2EoKTtyZXR1cm4gYi5lbmRUaW1lPGMuUWEoKXx8Yi5zdGFydFRpbWU+ZD8hMTohMH1cbmZ1bmN0aW9uIGdoKGEsYixjLGQpe3ZhciBlLGYsZyxoLGssbCxtLG47cmV0dXJuIEooZnVuY3Rpb24ocil7c3dpdGNoKHIuYSl7Y2FzZSAxOnJldHVybiBlPU5jLGY9Yi5zdHJlYW0sYi5WYT0hMCxnPWhoKGEsYixkKSxoPWloKGEsYixkKSx4KHIsMiksdChyLFByb21pc2UuYWxsKFtnLGhdKSw0KTtjYXNlIDQ6cmV0dXJuIGs9ci5iLGtjKGEuRCksYS5nP3JbXCJyZXR1cm5cIl0oKTp0KHIsamgoYSxiLGMsZixkLGtbMV0pLDUpO2Nhc2UgNTprYyhhLkQpO2lmKGEuZylyZXR1cm4gcltcInJldHVyblwiXSgpO2IuVmE9ITE7Yi5iZD0hMTtsPWEucy5LLmNjKCk7bT1sW2IudHlwZV07SlNPTi5zdHJpbmdpZnkobSk7Yi5yYnx8YS5zLlhjKCk7VGcoYSxiLDApO3VhKHIsMCk7YnJlYWs7Y2FzZSAyOm49QyhyKTtrYyhhLkQsbik7aWYoYS5nKXJldHVybiByW1wicmV0dXJuXCJdKCk7Yi5WYT0hMTtiLnR5cGU9PWUuJCYmYS5pLmlnbm9yZVRleHRTdHJlYW1GYWlsdXJlcz9hLmFbXCJkZWxldGVcIl0oZS4kKTpcbjcwMDE9PW4uY29kZT8oYi5WYT0hMSxiLkhhPW51bGwsVGcoYSxiLDApKTozMDE3PT1uLmNvZGU/a2goYSxiLG4pOihiLkZiPSEwLG4uc2V2ZXJpdHk9MixlaChhLG4pKTt3KHIpfX0pfWZ1bmN0aW9uIGtoKGEsYixjKXtpZighQXJyYXkuZnJvbShhLmEudmFsdWVzKCkpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPWImJmUuYmR9KSl7dmFyIGQ9TWF0aC5yb3VuZCgxMDAqYS5mKTtpZigyMDxkKWEuZi09LjI7ZWxzZSBpZig0PGQpYS5mLT0uMDQ7ZWxzZXtiLkZiPSEwO2EuZz0hMDthLnMub25FcnJvcihjKTtyZXR1cm59Yi5iZD0hMH1UZyhhLGIsNCl9XG5mdW5jdGlvbiBoaChhLGIsYyl7dmFyIGQsZSxmLGcsaCxrLGw7cmV0dXJuIEooZnVuY3Rpb24obSl7ZD1bXTtlPU1hdGgubWF4KDAsYy5hcHBlbmRXaW5kb3dTdGFydC0uMSk7Zj1jLmFwcGVuZFdpbmRvd0VuZCsuMDE7Zz1jLnRpbWVzdGFtcE9mZnNldDtpZihnIT1iLlJjfHxlIT1iLlBjfHxmIT1iLk9jKWg9ZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gSihmdW5jdGlvbihyKXtpZigxPT1yLmEpcmV0dXJuIHgociwyKSxiLlBjPWUsYi5PYz1mLGIuUmM9Zyx0KHIsVGUoYS5zLkssYi50eXBlLGcsZSxmKSw0KTtpZigyIT1yLmEpcmV0dXJuIHVhKHIsMCk7bj1DKHIpO2IuUGM9bnVsbDtiLk9jPW51bGw7Yi5SYz1udWxsO3Rocm93IG47fSl9LGQucHVzaChoKCkpO2MuZiE9Yi5RYyYmKGIuUWM9Yy5mKSYmKGs9aWgoYSxiLGMuZiksbD1mdW5jdGlvbigpe3ZhciBuLHIsdTtyZXR1cm4gSihmdW5jdGlvbih2KXtzd2l0Y2godi5hKXtjYXNlIDE6cmV0dXJuIHgodiwyKSx0KHYsayw0KTtjYXNlIDQ6cmV0dXJuIG49XG52LmIsa2MoYS5EKSxyPWIuc3RyZWFtLmNsb3NlZENhcHRpb25zJiYwPGIuc3RyZWFtLmNsb3NlZENhcHRpb25zLnNpemUsdCh2LFBlKGEucy5LLGIudHlwZSxuLG51bGwsbnVsbCxyKSw1KTtjYXNlIDU6dWEodiwwKTticmVhaztjYXNlIDI6dGhyb3cgdT1DKHYpLGIuUWM9bnVsbCx1O319KX0sZC5wdXNoKGwoKSkpO3JldHVybiB0KG0sUHJvbWlzZS5hbGwoZCksMCl9KX1cbmZ1bmN0aW9uIGpoKGEsYixjLGQsZSxmKXt2YXIgZztyZXR1cm4gSihmdW5jdGlvbihoKXtpZigxPT1oLmEpcmV0dXJuIGc9ZC5jbG9zZWRDYXB0aW9ucyYmMDxkLmNsb3NlZENhcHRpb25zLnNpemUsbnVsbCE9ZC5lbXNnU2NoZW1lSWRVcmlzJiYwPGQuZW1zZ1NjaGVtZUlkVXJpcy5sZW5ndGgmJihuZXcgRGcpLmVhKFwiZW1zZ1wiLGZ1bmN0aW9uKGspe3ZhciBsPWQuZW1zZ1NjaGVtZUlkVXJpcyxtPWsucmVhZGVyLlpjKCksbj1rLnJlYWRlci5aYygpLHI9ay5yZWFkZXIuSigpLHU9ay5yZWFkZXIuSigpLHY9ay5yZWFkZXIuSigpLHk9ay5yZWFkZXIuSigpO2s9ay5yZWFkZXIuV2Eoay5yZWFkZXIuUC5ieXRlTGVuZ3RoLWsucmVhZGVyLkIpO3ZhciB6PWUuc3RhcnRUaW1lK3UvcjtsLmluY2x1ZGVzKG0pJiYoXCJ1cm46bXBlZzpkYXNoOmV2ZW50OjIwMTJcIj09bT9hLnMuR2UoKToobD1uZXcgUShsaCx7ZGV0YWlsOntzdGFydFRpbWU6eixlbmRUaW1lOnordi9yLHNjaGVtZUlkVXJpOm0sXG52YWx1ZTpuLHRpbWVzY2FsZTpyLHByZXNlbnRhdGlvblRpbWVEZWx0YTp1LGV2ZW50RHVyYXRpb246dixpZDp5LG1lc3NhZ2VEYXRhOmt9fSksYS5zLm9uRXZlbnQobCkpKX0pLnBhcnNlKGYpLHQoaCxtaChhLGIsYyksMik7aWYoMyE9aC5hKXJldHVybiBrYyhhLkQpLHQoaCxQZShhLnMuSyxiLnR5cGUsZixlLnN0YXJ0VGltZSxlLmVuZFRpbWUsZyksMyk7a2MoYS5EKTtiLkhiPWQ7Yi5MYT1lO2Iuc3RyZWFtPT1kJiZiLndhLm5leHQoKTt3KGgpfSl9XG5mdW5jdGlvbiBtaChhLGIsYyl7dmFyIGQsZSxmLGc7cmV0dXJuIEooZnVuY3Rpb24oaCl7aWYoMT09aC5hKXtkPU1hdGgubWF4KGEuaS5idWZmZXJCZWhpbmQsYS5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmEpO2U9TGUoYS5zLkssYi50eXBlKTtpZihudWxsPT1lKXJldHVybiBoW1wicmV0dXJuXCJdKCk7Zj1jLWU7Zz1mLWQ7cmV0dXJuIDA+PWc/aFtcInJldHVyblwiXSgpOnQoaCxhLnMuSy5yZW1vdmUoYi50eXBlLGUsZStnKSwyKX1rYyhhLkQpO3coaCl9KX1mdW5jdGlvbiBjaChhKXtyZXR1cm4gYSYmXCJ0ZXh0XCI9PWEudHlwZSYmXCJhcHBsaWNhdGlvbi9jZWEtNjA4XCI9PWEuc3RyZWFtLm1pbWVUeXBlfVxuZnVuY3Rpb24gaWgoYSxiLGMpe3ZhciBkLGUsZixnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSlyZXR1cm4gZD1pYyxlPUxnKGMuYygpLGMuYixjLmEsYS5pLnJldHJ5UGFyYW1ldGVycyksZj1hLnMubGIucmVxdWVzdChkLGUpLGIuRWE9Zix0KGgsZi5wcm9taXNlLDIpO2c9aC5iO2IuRWE9bnVsbDtyZXR1cm4gaFtcInJldHVyblwiXShnLmRhdGEpfSl9XG5mdW5jdGlvbiBaZyhhLGIsYyxkKXt2YXIgZSxmO3JldHVybiBKKGZ1bmN0aW9uKGcpe2lmKDE9PWcuYSlyZXR1cm4gYi5yYj0hMSxiLnFjPSExLGIuYWM9MCxiLnpiPSEwLGQ/KGU9YS5zLmRjKCksZj1hLnMuSy5nZXREdXJhdGlvbigpLHQoZyxhLnMuSy5yZW1vdmUoYi50eXBlLGUrZCxmKSwzKSk6dChnLFNlKGEucy5LLGIudHlwZSksNCk7aWYoMyE9Zy5hKXJldHVybiBrYyhhLkQpLGM/dChnLGEucy5LLmZsdXNoKGIudHlwZSksMyk6Zy51KDMpO2tjKGEuRCk7Yi5IYj1udWxsO2IuTGE9bnVsbDtiLnpiPSExO2IuZW5kT2ZTdHJlYW09ITE7VGcoYSxiLDApO3coZyl9KX1cbmZ1bmN0aW9uIFRnKGEsYixjKXtiLkhhPShuZXcgd2IoZnVuY3Rpb24oKXt2YXIgZDtyZXR1cm4gSihmdW5jdGlvbihlKXtpZigxPT1lLmEpcmV0dXJuIHgoZSwyKSx0KGUsYS5JYihiKSw0KTtpZigyIT1lLmEpcmV0dXJuIHVhKGUsMCk7ZD1DKGUpO2lmKGEucylhLnMub25FcnJvcihkKTt3KGUpfSl9KSkuUihjKX1mdW5jdGlvbiBPZyhhKXtudWxsIT1hLkhhJiYoYS5IYS5zdG9wKCksYS5IYT1udWxsKX1mdW5jdGlvbiBQZyhhKXtyZXR1cm4gSihmdW5jdGlvbihiKXtyZXR1cm4gYS5FYT90KGIsYS5FYS5hYm9ydCgpLDApOmIudSgwKX0pfWZ1bmN0aW9uIGVoKGEsYil7SihmdW5jdGlvbihjKXtpZigxPT1jLmEpcmV0dXJuIHQoYyx6YihhLmopLDIpO2tjKGEuRCk7YS5zLm9uRXJyb3IoYik7Yi5oYW5kbGVkfHxhLmkuZmFpbHVyZUNhbGxiYWNrKGIpO3coYyl9KX07ZnVuY3Rpb24gbmgoYSxiKXt2YXIgYz1vaCgpLGQ9dGhpczt0aGlzLmg9Yjt0aGlzLmM9YTt0aGlzLmY9Yzt0aGlzLmo9bnVsbDt0aGlzLmc9W107dGhpcy5iPXRoaXMuYT1udWxsO3RoaXMubT1Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHBoKGQpfSk7dGhpcy5EPW5ldyBqYyhmdW5jdGlvbigpe3JldHVybiBxaChkKX0pfW5oLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRC5kZXN0cm95KCl9O2Z1bmN0aW9uIHFoKGEpe3ZhciBiLGMsZDtyZXR1cm4gSihmdW5jdGlvbihlKXtpZigxPT1lLmEpcmV0dXJuIGEuYiYmYS5iLmFib3J0KCkscmgoYSksdChlLGEubSwyKTthLmEmJmEuYS51YS5VYSgpO2I9cShhLmcpO2ZvcihjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlkPWMudmFsdWUsZC51YS5VYSgpO2EuYT1udWxsO2EuZz1bXTthLmg9bnVsbDt3KGUpfSl9XG5mdW5jdGlvbiBzaChhLGIpe3ZhciBjPXtuYjpmdW5jdGlvbigpe30saGM6ZnVuY3Rpb24oKXt9LFVhOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKCl7fSxqYzpmdW5jdGlvbigpe30sS2Y6ZnVuY3Rpb24oKXt9fTthLmcucHVzaCh7Y3JlYXRlOmIsdWE6Y30pO2EuYiYmYS5iLmFib3J0KCk7cmgoYSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBwaChhKXtyZXR1cm4gSihmdW5jdGlvbihiKXtpZihhLkQuYSliPWIudSgwKTtlbHNle2lmKDA9PWEuZy5sZW5ndGh8fGEuYSYmIWEuYS5SYSl2YXIgYz0hMTtlbHNle2EuYSYmKGEuYS51YS5VYSgpLGEuYT1udWxsKTtjPWEuZy5zaGlmdCgpO3ZhciBkPWMuY3JlYXRlKGEuZik7ZD8oYy51YS5uYigpLGEuYT17bm9kZTpkLm5vZGUscGF5bG9hZDpkLnBheWxvYWQsUmE6ZC5SYSx1YTpjLnVhfSk6Yy51YS5qYygpO2M9ITB9Yz9jPVByb21pc2UucmVzb2x2ZSgpOmEuYT9jPXRoKGEpOihhLmguRmUoYS5jKSxhLmo9bmV3IEFiLGM9YS5qKTtiPXQoYixjLDEpfXJldHVybiBifSl9XG5mdW5jdGlvbiB0aChhKXt2YXIgYixjO3JldHVybiBKKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmEpe2Nhc2UgMTpyZXR1cm4gYS5jPWEuaC5wZShhLmMsYS5mLGEuYS5ub2RlLGEuYS5wYXlsb2FkKSx4KGQsMiksYS5iPWEuaC5lZShhLmMsYS5mLGEuYS5wYXlsb2FkKSx0KGQsYS5iLnByb21pc2UsNCk7Y2FzZSA0OmEuYj1udWxsO2EuYz09YS5hLm5vZGUmJihhLmEudWEuaGMoKSxhLmE9bnVsbCk7dWEoZCwwKTticmVhaztjYXNlIDI6Yj1DKGQpO2lmKDcwMDE9PWIuY29kZSlhLmEudWEuVWEoKTtlbHNlIGEuYS51YS5vbkVycm9yKGIpO2EuYT1udWxsO2EuYj1udWxsO2M9YTtyZXR1cm4gdChkLGEuaC5oYW5kbGVFcnJvcihhLmYsYiksNSk7Y2FzZSA1OmMuYz1kLmIsdyhkKX19KX1mdW5jdGlvbiByaChhKXthLmomJihhLmoucmVzb2x2ZSgpLGEuaj1udWxsKX07ZnVuY3Rpb24gdWgoYSl7dGhpcy5hPW51bGw7Zm9yKHZhciBiPXEoQXJyYXkuZnJvbShhLnRleHRUcmFja3MpKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSljPWMudmFsdWUsYy5tb2RlPVwiZGlzYWJsZWRcIixcIlNoYWthIFBsYXllciBUZXh0VHJhY2tcIj09Yy5sYWJlbCYmKHRoaXMuYT1jKTt0aGlzLmF8fCh0aGlzLmE9YS5hZGRUZXh0VHJhY2soXCJzdWJ0aXRsZXNcIixcIlNoYWthIFBsYXllciBUZXh0VHJhY2tcIikpO3RoaXMuYS5tb2RlPVwiaGlkZGVuXCJ9cD11aC5wcm90b3R5cGU7cC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5hKXJldHVybiExO3ZoKHRoaXMuYSxmdW5jdGlvbihjKXtyZXR1cm4gYy5zdGFydFRpbWU8YiYmYy5lbmRUaW1lPmF9KTtyZXR1cm4hMH07XG5wLmFwcGVuZD1mdW5jdGlvbihhKXt2YXIgYj1hLm1hcChmdW5jdGlvbihmKXtpZihmLm5lc3RlZEN1ZXMubGVuZ3RoKXt2YXIgZz1mLm5lc3RlZEN1ZXMubWFwKGZ1bmN0aW9uKGgpe3JldHVybiBoLnNwYWNlcj9cIlxcblwiOmgucGF5bG9hZCtcIiBcIn0pLmpvaW4oXCJcIikucmVwbGFjZSgvICQvbSxcIlwiKTtmPWYuY2xvbmUoKTtmLm5lc3RlZEN1ZXM9W107Zi5wYXlsb2FkPWc7cmV0dXJuIGZ9cmV0dXJuIGZ9KSxjPVtdO2E9dGhpcy5hLmN1ZXM/QXJyYXkuZnJvbSh0aGlzLmEuY3Vlcyk6W107dmFyIGQ9e307Yj1xKGIpO2Zvcih2YXIgZT1iLm5leHQoKTshZS5kb25lO2Q9e2NiOmQuY2J9LGU9Yi5uZXh0KCkpZC5jYj1lLnZhbHVlLGEuc29tZShmdW5jdGlvbihmKXtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcuc3RhcnRUaW1lPT1mLmNiLnN0YXJ0VGltZSYmZy5lbmRUaW1lPT1mLmNiLmVuZFRpbWUmJmcudGV4dD09Zi5jYi5wYXlsb2FkPyEwOiExfX0oZCkpfHwoZT13aChkLmNiKSkmJmMucHVzaChlKTtcbmE9Yy5zbGljZSgpLnNvcnQoZnVuY3Rpb24oZixnKXtyZXR1cm4gZi5zdGFydFRpbWUhPWcuc3RhcnRUaW1lP2Yuc3RhcnRUaW1lLWcuc3RhcnRUaW1lOmYuZW5kVGltZSE9Zy5lbmRUaW1lP2YuZW5kVGltZS1nLnN0YXJ0VGltZTpcImxpbmVcImluIFZUVEN1ZS5wcm90b3R5cGU/Yy5pbmRleE9mKGcpLWMuaW5kZXhPZihmKTpjLmluZGV4T2YoZiktYy5pbmRleE9mKGcpfSk7YT1xKGEpO2ZvcihkPWEubmV4dCgpOyFkLmRvbmU7ZD1hLm5leHQoKSl0aGlzLmEuYWRkQ3VlKGQudmFsdWUpfTtwLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih2aCh0aGlzLmEsZnVuY3Rpb24oKXtyZXR1cm4hMH0pLHRoaXMuYS5tb2RlPVwiZGlzYWJsZWRcIik7dGhpcy5hPW51bGw7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtwLmlzVGV4dFZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm5cInNob3dpbmdcIj09dGhpcy5hLm1vZGV9O1xucC5zZXRUZXh0VmlzaWJpbGl0eT1mdW5jdGlvbihhKXt0aGlzLmEubW9kZT1hP1wic2hvd2luZ1wiOlwiaGlkZGVuXCJ9O1xuZnVuY3Rpb24gd2goYSl7aWYoYS5zdGFydFRpbWU+PWEuZW5kVGltZSlyZXR1cm4gbnVsbDt2YXIgYj1uZXcgVlRUQ3VlKGEuc3RhcnRUaW1lLGEuZW5kVGltZSxhLnBheWxvYWQpO2IubGluZUFsaWduPWEubGluZUFsaWduO2IucG9zaXRpb25BbGlnbj1hLnBvc2l0aW9uQWxpZ247YS5zaXplJiYoYi5zaXplPWEuc2l6ZSk7dHJ5e2IuYWxpZ249YS50ZXh0QWxpZ259Y2F0Y2goYyl7fVwiY2VudGVyXCI9PWEudGV4dEFsaWduJiZcImNlbnRlclwiIT1iLmFsaWduJiYoYi5hbGlnbj1cIm1pZGRsZVwiKTtcInZlcnRpY2FsLWxyXCI9PWEud3JpdGluZ01vZGU/Yi52ZXJ0aWNhbD1cImxyXCI6XCJ2ZXJ0aWNhbC1ybFwiPT1hLndyaXRpbmdNb2RlJiYoYi52ZXJ0aWNhbD1cInJsXCIpOzE9PWEubGluZUludGVycHJldGF0aW9uJiYoYi5zbmFwVG9MaW5lcz0hMSk7bnVsbCE9YS5saW5lJiYoYi5saW5lPWEubGluZSk7bnVsbCE9YS5wb3NpdGlvbiYmKGIucG9zaXRpb249YS5wb3NpdGlvbik7cmV0dXJuIGJ9XG5mdW5jdGlvbiB2aChhLGIpe3ZhciBjPWEubW9kZTthLm1vZGU9XCJzaG93aW5nXCI9PWM/XCJzaG93aW5nXCI6XCJoaWRkZW5cIjtmb3IodmFyIGQ9cShBcnJheS5mcm9tKGEuY3VlcykpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKShlPWUudmFsdWUpJiZiKGUpJiZhLnJlbW92ZUN1ZShlKTthLm1vZGU9Y31LKFwic2hha2EudGV4dC5TaW1wbGVUZXh0RGlzcGxheWVyXCIsdWgpO3VoLnByb3RvdHlwZS5zZXRUZXh0VmlzaWJpbGl0eT11aC5wcm90b3R5cGUuc2V0VGV4dFZpc2liaWxpdHk7dWgucHJvdG90eXBlLmlzVGV4dFZpc2libGU9dWgucHJvdG90eXBlLmlzVGV4dFZpc2libGU7dWgucHJvdG90eXBlLmRlc3Ryb3k9dWgucHJvdG90eXBlLmRlc3Ryb3k7dWgucHJvdG90eXBlLmFwcGVuZD11aC5wcm90b3R5cGUuYXBwZW5kO3VoLnByb3RvdHlwZS5yZW1vdmU9dWgucHJvdG90eXBlLnJlbW92ZTtmdW5jdGlvbiB4aCgpe31LKFwic2hha2EudXRpbC5Eb21cIix4aCk7eGgucmVtb3ZlQWxsQ2hpbGRyZW49ZnVuY3Rpb24oYSl7Zm9yKDthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX07ZnVuY3Rpb24geWgoYSxiKXt2YXIgYz10aGlzO3RoaXMuaD0hMTt0aGlzLmY9W107dGhpcy5hPWE7dGhpcy5nPWI7dGhpcy5iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5iLmNsYXNzTGlzdC5hZGQoXCJzaGFrYS10ZXh0LWNvbnRhaW5lclwiKTt0aGlzLmcuYXBwZW5kQ2hpbGQodGhpcy5iKTt0aGlzLmo9KG5ldyBNKGZ1bmN0aW9uKCl7emgoYyl9KSkub2EoLjI1KTt0aGlzLmM9bmV3IE1hcH1wPXloLnByb3RvdHlwZTtcbnAuYXBwZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2E9cShhKTtmb3IodmFyIGM9YS5uZXh0KCk7IWMuZG9uZTtiPXtiYjpiLmJifSxjPWEubmV4dCgpKWIuYmI9Yy52YWx1ZSx0aGlzLmYuc29tZShmdW5jdGlvbihkKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF5bG9hZD09ZC5iYi5wYXlsb2FkJiZlLnN0YXJ0VGltZT09ZC5iYi5zdGFydFRpbWUmJmUuZW5kVGltZT09ZC5iYi5lbmRUaW1lPyEwOiExfX0oYikpfHx0aGlzLmYucHVzaChiLmJiKTt6aCh0aGlzKX07cC5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nLnJlbW92ZUNoaWxkKHRoaXMuYik7dGhpcy5iPW51bGw7dGhpcy5oPSExO3RoaXMuZj1bXTt0aGlzLmomJnRoaXMuai5zdG9wKCk7dGhpcy5jLmNsZWFyKCl9O1xucC5yZW1vdmU9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5iKXJldHVybiExO3RoaXMuZj10aGlzLmYuZmlsdGVyKGZ1bmN0aW9uKGMpe3JldHVybiBjLnN0YXJ0VGltZTxhfHxjLmVuZFRpbWU+PWJ9KTt6aCh0aGlzKTtyZXR1cm4hMH07cC5pc1RleHRWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07cC5zZXRUZXh0VmlzaWJpbGl0eT1mdW5jdGlvbihhKXt0aGlzLmg9YX07XG5mdW5jdGlvbiB6aChhKXtmdW5jdGlvbiBiKGcpe3JldHVybiBhLmYuaW5jbHVkZXMoZykmJmEuaCYmZy5zdGFydFRpbWU8PWMmJmcuZW5kVGltZT49Y31mb3IodmFyIGM9YS5hLmN1cnJlbnRUaW1lLGQ9cShhLmMua2V5cygpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSlpZihlPWUudmFsdWUsIWIoZSkpe3ZhciBmPWEuYy5nZXQoZSk7YS5iLnJlbW92ZUNoaWxkKGYpO2EuY1tcImRlbGV0ZVwiXShlKX1kPW5ldyBTZXQoYS5jLnZhbHVlcygpKTtlPXEoQXJyYXkuZnJvbShhLmIuY2hpbGROb2RlcykpO2ZvcihmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlmPWYudmFsdWUsZC5oYXMoZil8fGEuYi5yZW1vdmVDaGlsZChmKTtkPWEuZi5maWx0ZXIoZnVuY3Rpb24oZyl7cmV0dXJuIGIoZykmJiFhLmMuaGFzKGcpfSkuc29ydChmdW5jdGlvbihnLGgpe3JldHVybiBnLnN0YXJ0VGltZSE9aC5zdGFydFRpbWU/Zy5zdGFydFRpbWUtaC5zdGFydFRpbWU6Zy5lbmRUaW1lLWguZW5kVGltZX0pO1xuZD1xKGQpO2ZvcihlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSlBaChhLGEuYixlLnZhbHVlKX1mdW5jdGlvbiBCaChhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtkJiZlLmNsYXNzTGlzdC5hZGQoXCJzaGFrYS1uZXN0ZWQtY3VlXCIpO2Muc3BhY2VyP2Uuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI6Q2goYSxlLGMsITApO2IuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGV9ZnVuY3Rpb24gQWgoYSxiLGMpe2lmKGMubmVzdGVkQ3Vlcy5sZW5ndGgpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2Quc3R5bGUud2lkdGg9XCIxMDAlXCI7Q2goYSxkLGMsITEpO2Zvcih2YXIgZT0wO2U8Yy5uZXN0ZWRDdWVzLmxlbmd0aDtlKyspQmgoYSxkLGMubmVzdGVkQ3Vlc1tlXSwhMCk7Yi5hcHBlbmRDaGlsZChkKTthLmMuc2V0KGMsZCl9ZWxzZSBhLmMuc2V0KGMsQmgoYSxiLGMsITEpKX1cbmZ1bmN0aW9uIENoKGEsYixjLGQpe3ZhciBlPWIuc3R5bGU7ZS53aGl0ZVNwYWNlPVwicHJlLWxpbmVcIjtiLnRleHRDb250ZW50PWMucGF5bG9hZDtkJiYoZS5iYWNrZ3JvdW5kQ29sb3I9Yy5iYWNrZ3JvdW5kQ29sb3IpO2UuYm9yZGVyPWMuYm9yZGVyO2UuY29sb3I9Yy5jb2xvcjtlLmRpcmVjdGlvbj1jLmRpcmVjdGlvbjtlLm9wYWNpdHk9Yy5vcGFjaXR5O2UucGFkZGluZ0xlZnQ9RGgoYy5saW5lUGFkZGluZyxjLGEuZyk7ZS5wYWRkaW5nUmlnaHQ9RGgoYy5saW5lUGFkZGluZyxjLGEuZyk7Yy5iYWNrZ3JvdW5kSW1hZ2UmJihlLmJhY2tncm91bmRJbWFnZT1cInVybCgnXCIrYy5iYWNrZ3JvdW5kSW1hZ2UrXCInKVwiLGUuYmFja2dyb3VuZFJlcGVhdD1cIm5vLXJlcGVhdFwiLGUuYmFja2dyb3VuZFNpemU9XCJjb250YWluXCIsZS5iYWNrZ3JvdW5kUG9zaXRpb249XCJjZW50ZXJcIixcIlwiPT1jLmJhY2tncm91bmRDb2xvciYmKGUuYmFja2dyb3VuZENvbG9yPVwidHJhbnNwYXJlbnRcIikpO2MuYmFja2dyb3VuZEltYWdlJiZcbmMucmVnaW9uJiYoYj1jLnJlZ2lvbi53aWR0aFVuaXRzPT11ZT9cIiVcIjpcInB4XCIsZS5oZWlnaHQ9Yy5yZWdpb24uaGVpZ2h0KyhjLnJlZ2lvbi5oZWlnaHRVbml0cz09dWU/XCIlXCI6XCJweFwiKSxlLndpZHRoPWMucmVnaW9uLndpZHRoK2IpO2UuanVzdGlmeUNvbnRlbnQ9XCJiZWZvcmVcIj09Yy5kaXNwbGF5QWxpZ24/XCJmbGV4LXN0YXJ0XCI6XCJjZW50ZXJcIj09Yy5kaXNwbGF5QWxpZ24/XCJjZW50ZXJcIjpcImZsZXgtZW5kXCI7Yy5uZXN0ZWRDdWVzLmxlbmd0aCYmKGUuZGlzcGxheT1cImZsZXhcIixlLmZsZXhEaXJlY3Rpb249XCJyb3dcIixlLm1hcmdpbj1cIjBcIixlLmFsaWduSXRlbXM9ZS5qdXN0aWZ5Q29udGVudCxlLmp1c3RpZnlDb250ZW50PVwiY2VudGVyXCIpO2QmJihlLm1heFdpZHRoPVwiMTAwJVwiKTtlLmZvbnRGYW1pbHk9Yy5mb250RmFtaWx5O2UuZm9udFdlaWdodD1jLmZvbnRXZWlnaHQudG9TdHJpbmcoKTtlLmZvbnRTdHlsZT1jLmZvbnRTdHlsZTtlLmxldHRlclNwYWNpbmc9Yy5sZXR0ZXJTcGFjaW5nO1xuZS5mb250U2l6ZT1EaChjLmZvbnRTaXplLGMsYS5nKTtjLmxpbmU/MT09Yy5saW5lSW50ZXJwcmV0YXRpb24mJihlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixjLndyaXRpbmdNb2RlPT1rZT9jLmxpbmVBbGlnbj09bWU/ZS50b3A9Yy5saW5lK1wiJVwiOlwiZW5kXCI9PWMubGluZUFsaWduJiYoZS5ib3R0b209Yy5saW5lK1wiJVwiKTpcInZlcnRpY2FsLWxyXCI9PWMud3JpdGluZ01vZGU/Yy5saW5lQWxpZ249PW1lP2UubGVmdD1jLmxpbmUrXCIlXCI6XCJlbmRcIj09Yy5saW5lQWxpZ24mJihlLnJpZ2h0PWMubGluZStcIiVcIik6Yy5saW5lQWxpZ249PW1lP2UucmlnaHQ9Yy5saW5lK1wiJVwiOlwiZW5kXCI9PWMubGluZUFsaWduJiYoZS5sZWZ0PWMubGluZStcIiVcIikpOmMucmVnaW9uJiZjLnJlZ2lvbi5pZCYmIWQmJihhPWMucmVnaW9uLndpZHRoVW5pdHM9PXVlP1wiJVwiOlwicHhcIixkPWMucmVnaW9uLnZpZXdwb3J0QW5jaG9yVW5pdHM9PXVlP1wiJVwiOlwicHhcIixlLmhlaWdodD1jLnJlZ2lvbi5oZWlnaHQrKGMucmVnaW9uLmhlaWdodFVuaXRzPT1cbnVlP1wiJVwiOlwicHhcIiksZS53aWR0aD1jLnJlZ2lvbi53aWR0aCthLGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUudG9wPWMucmVnaW9uLnZpZXdwb3J0QW5jaG9yWStkLGUubGVmdD1jLnJlZ2lvbi52aWV3cG9ydEFuY2hvclgrZCk7ZS5saW5lSGVpZ2h0PWMubGluZUhlaWdodDtjLnBvc2l0aW9uJiYoYy53cml0aW5nTW9kZT09a2U/ZS5wYWRkaW5nTGVmdD1jLnBvc2l0aW9uOmUucGFkZGluZ1RvcD1jLnBvc2l0aW9uKTtcImxpbmUtbGVmdFwiPT1jLnBvc2l0aW9uQWxpZ24/ZS5jc3NGbG9hdD1cImxlZnRcIjpcImxpbmUtcmlnaHRcIj09Yy5wb3NpdGlvbkFsaWduJiYoZS5jc3NGbG9hdD1cInJpZ2h0XCIpO2UudGV4dEFsaWduPWMudGV4dEFsaWduO2UudGV4dERlY29yYXRpb249Yy50ZXh0RGVjb3JhdGlvbi5qb2luKFwiIFwiKTtlLndyaXRpbmdNb2RlPWMud3JpdGluZ01vZGU7Yy5zaXplJiYoYy53cml0aW5nTW9kZT09a2U/ZS53aWR0aD1jLnNpemUrXCIlXCI6ZS5oZWlnaHQ9Yy5zaXplK1wiJVwiKX1cbmZ1bmN0aW9uIERoKGEsYixjKXt2YXIgZD0oZD0obmV3IFJlZ0V4cCgvKFxcZCpcXC4/XFxkKykoW2Etel0rfCUrKS8pKS5leGVjKGEpKT97dmFsdWU6TnVtYmVyKGRbMV0pLGFmOmRbMl19Om51bGw7aWYoIWQpcmV0dXJuIGE7dmFyIGU9ZC52YWx1ZTtzd2l0Y2goZC5hZil7Y2FzZSBcIiVcIjpyZXR1cm4gZS8xMDAqYy5jbGllbnRIZWlnaHQvYi5jZWxsUmVzb2x1dGlvbi5yb3dzK1wicHhcIjtjYXNlIFwiY1wiOnJldHVybiBjLmNsaWVudEhlaWdodCplL2IuY2VsbFJlc29sdXRpb24ucm93cytcInB4XCI7ZGVmYXVsdDpyZXR1cm4gYX19SyhcInNoYWthLnRleHQuVUlUZXh0RGlzcGxheWVyXCIseWgpO3loLnByb3RvdHlwZS5zZXRUZXh0VmlzaWJpbGl0eT15aC5wcm90b3R5cGUuc2V0VGV4dFZpc2liaWxpdHk7eWgucHJvdG90eXBlLmlzVGV4dFZpc2libGU9eWgucHJvdG90eXBlLmlzVGV4dFZpc2libGU7eWgucHJvdG90eXBlLnJlbW92ZT15aC5wcm90b3R5cGUucmVtb3ZlO1xueWgucHJvdG90eXBlLmRlc3Ryb3k9eWgucHJvdG90eXBlLmRlc3Ryb3k7eWgucHJvdG90eXBlLmFwcGVuZD15aC5wcm90b3R5cGUuYXBwZW5kO2Z1bmN0aW9uIEVoKCl7fVxuZnVuY3Rpb24gRmgoYSxiLGMsZCxlKXt2YXIgZj1lIGluIGQsZz0hMCxoO2ZvcihoIGluIGIpe3ZhciBrPWUrXCIuXCIraCxsPWY/ZFtlXTpjW2hdO2Z8fGggaW4gYz92b2lkIDA9PT1iW2hdP3ZvaWQgMD09PWx8fGY/ZGVsZXRlIGFbaF06YVtoXT1TYihsKTpsLmNvbnN0cnVjdG9yPT1PYmplY3QmJmJbaF0mJmJbaF0uY29uc3RydWN0b3I9PU9iamVjdD8oYVtoXXx8KGFbaF09U2IobCkpLGs9RmgoYVtoXSxiW2hdLGwsZCxrKSxnPWcmJmspOnR5cGVvZiBiW2hdIT10eXBlb2YgbHx8bnVsbD09YltoXXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYltoXSYmYltoXS5jb25zdHJ1Y3RvciE9bC5jb25zdHJ1Y3Rvcj8oVmEoXCJJbnZhbGlkIGNvbmZpZywgd3JvbmcgdHlwZSBmb3IgXCIrayksZz0hMSk6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGNbaF0mJmNbaF0ubGVuZ3RoIT1iW2hdLmxlbmd0aCYmV2EoXCJVbmV4cGVjdGVkIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIFwiK2spLGFbaF09YltoXSk6KFZhKFwiSW52YWxpZCBjb25maWcsIHVucmVjb2duaXplZCBrZXkgXCIrXG5rKSxnPSExKX1yZXR1cm4gZ31mdW5jdGlvbiBHaChhLGIpe2Zvcih2YXIgYz17fSxkPWMsZT0wLGY9MDs7KXtlPWEuaW5kZXhPZihcIi5cIixlKTtpZigwPmUpYnJlYWs7aWYoMD09ZXx8XCJcXFxcXCIhPWFbZS0xXSlmPWEuc3Vic3RyaW5nKGYsZSkucmVwbGFjZSgvXFxcXFxcLi9nLFwiLlwiKSxkW2ZdPXt9LGQ9ZFtmXSxmPWUrMTtlKz0xfWRbYS5zdWJzdHJpbmcoZikucmVwbGFjZSgvXFxcXFxcLi9nLFwiLlwiKV09YjtyZXR1cm4gY31LKFwic2hha2EudXRpbC5Db25maWdVdGlsc1wiLEVoKTtFaC5jb252ZXJ0VG9Db25maWdPYmplY3Q9R2g7RWgubWVyZ2VDb25maWdPYmplY3RzPUZoO2Z1bmN0aW9uIEhoKCl7fVxuZnVuY3Rpb24gSWgoKXt2YXIgYT0xRTYsYj1JbmZpbml0eTtuYXZpZ2F0b3IuY29ubmVjdGlvbiYmKG5hdmlnYXRvci5jb25uZWN0aW9uLmRvd25saW5rJiYoYT0xRTYqbmF2aWdhdG9yLmNvbm5lY3Rpb24uZG93bmxpbmspLG5hdmlnYXRvci5jb25uZWN0aW9uLnNhdmVEYXRhJiYoYj0zNjApKTt2YXIgYz17cmV0cnlQYXJhbWV0ZXJzOnliKCksc2VydmVyczp7fSxjbGVhcktleXM6e30sYWR2YW5jZWQ6e30sZGVsYXlMaWNlbnNlUmVxdWVzdFVudGlsUGxheWVkOiExLGluaXREYXRhVHJhbnNmb3JtOktkLGxvZ0xpY2Vuc2VFeGNoYW5nZTohMSx1cGRhdGVFeHBpcmF0aW9uVGltZToxfSxkPXtyZXRyeVBhcmFtZXRlcnM6eWIoKSxhdmFpbGFiaWxpdHlXaW5kb3dPdmVycmlkZTpOYU4sZGlzYWJsZUF1ZGlvOiExLGRpc2FibGVWaWRlbzohMSxkaXNhYmxlVGV4dDohMSxkZWZhdWx0UHJlc2VudGF0aW9uRGVsYXk6MCxkYXNoOntjbG9ja1N5bmNVcmk6XCJcIixpZ25vcmVEcm1JbmZvOiExLHhsaW5rRmFpbEdyYWNlZnVsbHk6ITEsXG5pZ25vcmVNaW5CdWZmZXJUaW1lOiExLGF1dG9Db3JyZWN0RHJpZnQ6ITAsaW5pdGlhbFNlZ21lbnRMaW1pdDoxRTMsaWdub3JlU3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXk6ITEsaWdub3JlRW1wdHlBZGFwdGF0aW9uU2V0OiExfSxobHM6e2lnbm9yZVRleHRTdHJlYW1GYWlsdXJlczohMSx1c2VGdWxsU2VnbWVudHNGb3JTdGFydFRpbWU6ITF9fSxlPXtyZXRyeVBhcmFtZXRlcnM6eWIoKSxmYWlsdXJlQ2FsbGJhY2s6ZnVuY3Rpb24oaCl7cmV0dXJuW2hdfSxyZWJ1ZmZlcmluZ0dvYWw6MixidWZmZXJpbmdHb2FsOjEwLGJ1ZmZlckJlaGluZDozMCxpZ25vcmVUZXh0U3RyZWFtRmFpbHVyZXM6ITEsYWx3YXlzU3RyZWFtVGV4dDohMSxzdGFydEF0U2VnbWVudEJvdW5kYXJ5OiExLHNtYWxsR2FwTGltaXQ6LjUsanVtcExhcmdlR2FwczohMSxkdXJhdGlvbkJhY2tvZmY6MSxmb3JjZVRyYW5zbXV4VFM6ITEsc2FmZVNlZWtPZmZzZXQ6NSxzdGFsbEVuYWJsZWQ6ITAsc3RhbGxUaHJlc2hvbGQ6MSxcbnN0YWxsU2tpcDouMSx1c2VOYXRpdmVIbHNPblNhZmFyaTohMCxpbmFjY3VyYXRlTWFuaWZlc3RUb2xlcmFuY2U6Mn07aWYoWmMoXCJXZWIwU1wiKXx8WmMoXCJUaXplblwiKXx8WmMoXCJDcktleVwiKSllLnN0YWxsU2tpcD0wO3ZhciBmPXt0cmFja1NlbGVjdGlvbkNhbGxiYWNrOmZ1bmN0aW9uKGgpe3JldHVybiBKKGZ1bmN0aW9uKGspe3JldHVybiBrW1wicmV0dXJuXCJdKGgpfSl9LHByb2dyZXNzQ2FsbGJhY2s6ZnVuY3Rpb24oaCxrKXtyZXR1cm5baCxrXX0sdXNlUGVyc2lzdGVudExpY2Vuc2U6ITB9LGc9e2RybTpjLG1hbmlmZXN0OmQsc3RyZWFtaW5nOmUsb2ZmbGluZTpmLGFickZhY3Rvcnk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRmfSxhYnI6e2VuYWJsZWQ6ITAsZGVmYXVsdEJhbmR3aWR0aEVzdGltYXRlOmEsc3dpdGNoSW50ZXJ2YWw6OCxiYW5kd2lkdGhVcGdyYWRlVGFyZ2V0Oi44NSxiYW5kd2lkdGhEb3duZ3JhZGVUYXJnZXQ6Ljk1LHJlc3RyaWN0aW9uczp7bWluV2lkdGg6MCxtYXhXaWR0aDpJbmZpbml0eSxcbm1pbkhlaWdodDowLG1heEhlaWdodDpiLG1pblBpeGVsczowLG1heFBpeGVsczpJbmZpbml0eSxtaW5GcmFtZVJhdGU6MCxtYXhGcmFtZVJhdGU6SW5maW5pdHksbWluQmFuZHdpZHRoOjAsbWF4QmFuZHdpZHRoOkluZmluaXR5fX0scHJlZmVycmVkQXVkaW9MYW5ndWFnZTpcIlwiLHByZWZlcnJlZFRleHRMYW5ndWFnZTpcIlwiLHByZWZlcnJlZFZhcmlhbnRSb2xlOlwiXCIscHJlZmVycmVkVGV4dFJvbGU6XCJcIixwcmVmZXJyZWRBdWRpb0NoYW5uZWxDb3VudDoyLHJlc3RyaWN0aW9uczp7bWluV2lkdGg6MCxtYXhXaWR0aDpJbmZpbml0eSxtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6SW5maW5pdHksbWluUGl4ZWxzOjAsbWF4UGl4ZWxzOkluZmluaXR5LG1pbkZyYW1lUmF0ZTowLG1heEZyYW1lUmF0ZTpJbmZpbml0eSxtaW5CYW5kd2lkdGg6MCxtYXhCYW5kd2lkdGg6SW5maW5pdHl9LHBsYXlSYW5nZVN0YXJ0OjAscGxheVJhbmdlRW5kOkluZmluaXR5LHRleHREaXNwbGF5RmFjdG9yeTpmdW5jdGlvbigpe3JldHVybiBudWxsfX07XG5mLnRyYWNrU2VsZWN0aW9uQ2FsbGJhY2s9ZnVuY3Rpb24oaCl7cmV0dXJuIEooZnVuY3Rpb24oayl7cmV0dXJuIGtbXCJyZXR1cm5cIl0oSmgoaCxnLnByZWZlcnJlZEF1ZGlvTGFuZ3VhZ2UpKX0pfTtyZXR1cm4gZ31mdW5jdGlvbiBLaChhLGIsYyl7dmFyIGQ9e1wiLmRybS5zZXJ2ZXJzXCI6XCJcIixcIi5kcm0uY2xlYXJLZXlzXCI6XCJcIixcIi5kcm0uYWR2YW5jZWRcIjp7ZGlzdGluY3RpdmVJZGVudGlmaWVyUmVxdWlyZWQ6ITEscGVyc2lzdGVudFN0YXRlUmVxdWlyZWQ6ITEsdmlkZW9Sb2J1c3RuZXNzOlwiXCIsYXVkaW9Sb2J1c3RuZXNzOlwiXCIsc2VydmVyQ2VydGlmaWNhdGU6bmV3IFVpbnQ4QXJyYXkoMCksaW5kaXZpZHVhbGl6YXRpb25TZXJ2ZXI6XCJcIn19O3JldHVybiBGaChhLGIsY3x8SWgoKSxkLFwiXCIpfVxuZnVuY3Rpb24gSmgoYSxiKXt2YXIgYz1hLmZpbHRlcihmdW5jdGlvbihoKXtyZXR1cm5cInZhcmlhbnRcIj09aC50eXBlfSksZD1bXSxlPWNmKGIsYy5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIGgubGFuZ3VhZ2V9KSk7ZSYmKGQ9Yy5maWx0ZXIoZnVuY3Rpb24oaCl7cmV0dXJuIFIoaC5sYW5ndWFnZSk9PWV9KSk7MD09ZC5sZW5ndGgmJihkPWMuZmlsdGVyKGZ1bmN0aW9uKGgpe3JldHVybiBoLnByaW1hcnl9KSk7MD09ZC5sZW5ndGgmJihjLm1hcChmdW5jdGlvbihoKXtyZXR1cm4gaC5sYW5ndWFnZX0pLGQ9Yyk7dmFyIGY9ZC5maWx0ZXIoZnVuY3Rpb24oaCl7cmV0dXJuIGguaGVpZ2h0JiY0ODA+PWguaGVpZ2h0fSk7Zi5sZW5ndGgmJihmLnNvcnQoZnVuY3Rpb24oaCxrKXtyZXR1cm4gay5oZWlnaHQtaC5oZWlnaHR9KSxkPWYuZmlsdGVyKGZ1bmN0aW9uKGgpe3JldHVybiBoLmhlaWdodD09ZlswXS5oZWlnaHR9KSk7Yz1bXTtpZihkLmxlbmd0aCl7dmFyIGc9TWF0aC5mbG9vcihkLmxlbmd0aC9cbjIpO2Quc29ydChmdW5jdGlvbihoLGspe3JldHVybiBoLmJhbmR3aWR0aC1rLmJhbmR3aWR0aH0pO2MucHVzaChkW2ddKX1kPXEoYSk7Zm9yKGc9ZC5uZXh0KCk7IWcuZG9uZTtnPWQubmV4dCgpKWc9Zy52YWx1ZSxcInRleHRcIj09Zy50eXBlJiZjLnB1c2goZyk7cmV0dXJuIGN9SyhcInNoYWthLnV0aWwuUGxheWVyQ29uZmlndXJhdGlvblwiLEhoKTtIaC5tZXJnZUNvbmZpZ09iamVjdHM9S2g7ZnVuY3Rpb24gTGgoKXt0aGlzLmE9bnVsbDt0aGlzLmI9W119ZnVuY3Rpb24gTWgoYSxiKXtpZihudWxsPT1hLmEpYS5hPXt0aW1lc3RhbXA6RGF0ZS5ub3coKS8xRTMsc3RhdGU6YixkdXJhdGlvbjowfTtlbHNle3ZhciBjPURhdGUubm93KCkvMUUzO2EuYS5kdXJhdGlvbj1jLWEuYS50aW1lc3RhbXA7YS5hLnN0YXRlIT1iJiYoYS5iLnB1c2goYS5hKSxhLmE9e3RpbWVzdGFtcDpjLHN0YXRlOmIsZHVyYXRpb246MH0pfX1mdW5jdGlvbiBOaChhLGIpe3ZhciBjPTA7YS5hJiZhLmEuc3RhdGU9PWImJihjKz1hLmEuZHVyYXRpb24pO2Zvcih2YXIgZD1xKGEuYiksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZT1lLnZhbHVlLGMrPWUuc3RhdGU9PWI/ZS5kdXJhdGlvbjowO3JldHVybiBjfVxuZnVuY3Rpb24gT2goYSl7ZnVuY3Rpb24gYihmKXtyZXR1cm57dGltZXN0YW1wOmYudGltZXN0YW1wLHN0YXRlOmYuc3RhdGUsZHVyYXRpb246Zi5kdXJhdGlvbn19Zm9yKHZhciBjPVtdLGQ9cShhLmIpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKWMucHVzaChiKGUudmFsdWUpKTthLmEmJmMucHVzaChiKGEuYSkpO3JldHVybiBjfTtmdW5jdGlvbiBQaCgpe3RoaXMuYj10aGlzLmM9bnVsbDt0aGlzLmE9W119ZnVuY3Rpb24gUWgoYSxiLGMpe2EuYyE9YiYmKGEuYz1iLGEuYS5wdXNoKHt0aW1lc3RhbXA6RGF0ZS5ub3coKS8xRTMsaWQ6Yi5pZCx0eXBlOlwidmFyaWFudFwiLGZyb21BZGFwdGF0aW9uOmMsYmFuZHdpZHRoOmIuYmFuZHdpZHRofSkpfWZ1bmN0aW9uIFJoKGEsYixjKXthLmIhPWImJihhLmI9YixhLmEucHVzaCh7dGltZXN0YW1wOkRhdGUubm93KCkvMUUzLGlkOmIuaWQsdHlwZTpcInRleHRcIixmcm9tQWRhcHRhdGlvbjpjLGJhbmR3aWR0aDpudWxsfSkpfTtmdW5jdGlvbiBTaCgpe3RoaXMuZz10aGlzLmg9dGhpcy53PXRoaXMubT10aGlzLkM9dGhpcy5jPXRoaXMudj10aGlzLmY9dGhpcy5HPXRoaXMuSD10aGlzLkk9dGhpcy5qPXRoaXMuTT1OYU47dGhpcy5iPW5ldyBMaDt0aGlzLmE9bmV3IFBofTtmdW5jdGlvbiBWKGEsYil7UmIuY2FsbCh0aGlzKTt2YXIgYz10aGlzO3RoaXMuZz1UaDt0aGlzLlliPXRoaXMuYT1udWxsO3RoaXMuVD0hMTt0aGlzLmI9bmV3IGxjO3RoaXMuQWM9dGhpcy5qPXRoaXMud2I9dGhpcy5vPXRoaXMuV2I9dGhpcy5tPXRoaXMuYz10aGlzLlhiPXRoaXMuQz10aGlzLlRiPXRoaXMudz10aGlzLnphPXRoaXMudj10aGlzLkc9dGhpcy5oPXRoaXMuTj1udWxsO3RoaXMucWQ9MUU5O3RoaXMuaT1VaCh0aGlzKTt0aGlzLkdjPXt3aWR0aDpJbmZpbml0eSxoZWlnaHQ6SW5maW5pdHl9O3RoaXMuZj1udWxsO3RoaXMueGI9bmV3IEFmKHRoaXMuaS5wcmVmZXJyZWRBdWRpb0xhbmd1YWdlLHRoaXMuaS5wcmVmZXJyZWRWYXJpYW50Um9sZSx0aGlzLmkucHJlZmVycmVkQXVkaW9DaGFubmVsQ291bnQpO3RoaXMuY2E9dGhpcy5pLnByZWZlcnJlZFRleHRMYW5ndWFnZTt0aGlzLlViPXRoaXMuaS5wcmVmZXJyZWRUZXh0Um9sZTt0aGlzLkJjPVtdO2ImJmIodGhpcyk7dGhpcy5OPVxuVmgodGhpcyk7dGhpcy5IPW51bGw7V2gmJih0aGlzLkg9S2MoV2gpKTt0aGlzLmIubCh3aW5kb3csXCJvbmxpbmVcIixmdW5jdGlvbigpe2MuY2QoKX0pO3RoaXMuZGE9e25hbWU6XCJkZXRhY2hcIn07dGhpcy5DYT17bmFtZTpcImF0dGFjaFwifTt0aGlzLk09e25hbWU6XCJ1bmxvYWRcIn07dGhpcy5yYz17bmFtZTpcIm1hbmlmZXN0LXBhcnNlclwifTt0aGlzLkZjPXtuYW1lOlwibWFuaWZlc3RcIn07dGhpcy5xYT17bmFtZTpcIm1lZGlhLXNvdXJjZVwifTt0aGlzLkNjPXtuYW1lOlwiZHJtLWVuZ2luZVwifTt0aGlzLkk9e25hbWU6XCJsb2FkXCJ9O3RoaXMuSGM9e25hbWU6XCJzcmMtZXF1YWxzLWRybS1lbmdpbmVcIn07dGhpcy5BYT17bmFtZTpcInNyYy1lcXVhbHNcIn07dmFyIGQ9bmV3IE1hcDtkLnNldCh0aGlzLkNhLGZ1bmN0aW9uKGUsZil7cmV0dXJuIEZiKFhoKGMsZSxmKSl9KTtkLnNldCh0aGlzLmRhLGZ1bmN0aW9uKGUpe2UuQSYmKGMuYi5wYShlLkEsXCJlcnJvclwiKSxlLkE9bnVsbCk7Yy5hPW51bGw7ZT1Qcm9taXNlLnJlc29sdmUoKTtcbnJldHVybiBGYihlKX0pO2Quc2V0KHRoaXMuTSxmdW5jdGlvbihlKXtyZXR1cm4gRmIoWWgoYyxlKSl9KTtkLnNldCh0aGlzLnFhLGZ1bmN0aW9uKGUpe2U9WmgoYyxlKTtyZXR1cm4gRmIoZSl9KTtkLnNldCh0aGlzLnJjLGZ1bmN0aW9uKGUsZil7dmFyIGc9JGgoYyxlLGYpO3JldHVybiBGYihnKX0pO2Quc2V0KHRoaXMuRmMsZnVuY3Rpb24oZSl7cmV0dXJuIGFpKGMsZSl9KTtkLnNldCh0aGlzLkNjLGZ1bmN0aW9uKCl7dmFyIGU9YmkoYyk7cmV0dXJuIEZiKGUpfSk7ZC5zZXQodGhpcy5JLGZ1bmN0aW9uKGUsZil7cmV0dXJuIEZiKGNpKGMsZSxmKSl9KTtkLnNldCh0aGlzLkhjLGZ1bmN0aW9uKGUpe2U9ZGkoYyxlKTtyZXR1cm4gRmIoZSl9KTtkLnNldCh0aGlzLkFhLGZ1bmN0aW9uKGUsZil7cmV0dXJuIGVpKGMsZSxmKX0pO3RoaXMuVz1uZXcgbmgodGhpcy5kYSx7cGU6ZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGs9bnVsbDtlPT1jLmRhJiYoaz1nPT1jLmRhP2MuZGE6Yy5DYSk7ZT09XG5jLkNhJiYoaz1nPT1jLmRhfHxmLkEhPWguQT9jLmRhOmc9PWMuQ2E/Yy5DYTpnPT1jLnFhfHxnPT1jLkk/Yy5xYTpnPT1jLkFhP2MuSGM6bnVsbCk7ZT09Yy5xYSYmKGs9Zz09Yy5JJiZmLkE9PWguQT9jLnJjOmMuTSk7ZT09Yy5yYyYmKGs9ZmkoYy5JLGMuRmMsYy5NLGcsZixoKSk7ZT09Yy5GYyYmKGs9ZmkoYy5JLGMuQ2MsYy5NLGcsZixoKSk7ZT09Yy5DYyYmKGs9ZmkoYy5JLGMuSSxjLk0sZyxmLGgpKTtlPT1jLkhjJiYoaz1nPT1jLkFhJiZmLkE9PWguQT9jLkFhOmMuTSk7aWYoZT09Yy5JfHxlPT1jLkFhKWs9Yy5NO2U9PWMuTSYmKGs9aC5BJiZmLkE9PWguQT9jLkNhOmMuZGEpO3JldHVybiBrfSxlZTpmdW5jdGlvbihlLGYsZyl7Yy5kaXNwYXRjaEV2ZW50KGdpKGhpLHtzdGF0ZTplLm5hbWV9KSk7cmV0dXJuIGQuZ2V0KGUpKGYsZyl9LGhhbmRsZUVycm9yOmZ1bmN0aW9uKGUpe3JldHVybiBKKGZ1bmN0aW9uKGYpe3JldHVybiAxPT1mLmE/dChmLFloKGMsZSksMik6ZltcInJldHVyblwiXShlLkE/XG5jLkNhOmMuZGEpfSl9LEZlOmZ1bmN0aW9uKGUpe2MuZGlzcGF0Y2hFdmVudChnaShpaSx7c3RhdGU6ZS5uYW1lfSkpfX0pO2EmJnRoaXMueWIoYSwhMCl9cGEoVixSYik7ZnVuY3Rpb24gZ2koYSxiKXtyZXR1cm4gbmV3IFEoYSxiKX1wPVYucHJvdG90eXBlO1xucC5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiO3JldHVybiBKKGZ1bmN0aW9uKGMpe3N3aXRjaChjLmEpe2Nhc2UgMTppZihhLmc9PWppKXJldHVybiBjW1wicmV0dXJuXCJdKCk7YS5nPWppO2I9c2goYS5XLGZ1bmN0aW9uKCl7cmV0dXJue25vZGU6YS5kYSxwYXlsb2FkOm9oKCksUmE6ITF9fSk7cmV0dXJuIHQoYyxuZXcgUHJvbWlzZShmdW5jdGlvbihkKXtiLm5iPWZ1bmN0aW9uKCl7fTtiLmhjPWZ1bmN0aW9uKCl7ZCgpfTtiLlVhPWZ1bmN0aW9uKCl7ZCgpfTtiLm9uRXJyb3I9ZnVuY3Rpb24oKXtkKCl9O2IuamM9ZnVuY3Rpb24oKXtkKCl9fSksMik7Y2FzZSAyOnJldHVybiB0KGMsYS5XLmRlc3Ryb3koKSwzKTtjYXNlIDM6YS5iJiYoYS5iLnJlbGVhc2UoKSxhLmI9bnVsbCk7YS5BYz1udWxsO2Euaj1udWxsO2EuaT1udWxsO2EuZj1udWxsO2EuWWI9bnVsbDtpZighYS5OKXtjLnUoMCk7YnJlYWt9cmV0dXJuIHQoYyxhLk4uZGVzdHJveSgpLDUpO2Nhc2UgNTphLk49bnVsbCxcbncoYyl9fSl9O3AueWI9ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/ITA6YjtpZih0aGlzLmc9PWppKXJldHVybiBQcm9taXNlLnJlamVjdChraSgpKTt2YXIgYz1vaCgpO2MuQT1hO1ZjKCl8fChiPSExKTt2YXIgZD1iP3RoaXMucWE6dGhpcy5DYSxlPXNoKHRoaXMuVyxmdW5jdGlvbigpe3JldHVybntub2RlOmQscGF5bG9hZDpjLFJhOiExfX0pO2UubmI9ZnVuY3Rpb24oKXt9O3JldHVybiBsaShlKX07cC5kZXRhY2g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKHRoaXMuZz09amkpcmV0dXJuIFByb21pc2UucmVqZWN0KGtpKCkpO3ZhciBiPXNoKHRoaXMuVyxmdW5jdGlvbigpe3JldHVybntub2RlOmEuZGEscGF5bG9hZDpvaCgpLFJhOiExfX0pO2IubmI9ZnVuY3Rpb24oKXt9O3JldHVybiBsaShiKX07XG5wLm9kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT12b2lkIDA9PT1hPyEwOmE7aWYodGhpcy5nPT1qaSlyZXR1cm4gUHJvbWlzZS5yZWplY3Qoa2koKSk7VmMoKXx8KGE9ITEpO3ZhciBjPW9oKCksZD1zaCh0aGlzLlcsZnVuY3Rpb24oZSl7dmFyIGY9ZS5BJiZhP2IucWE6ZS5BP2IuQ2E6Yi5kYTtjLkE9ZS5BO3JldHVybntub2RlOmYscGF5bG9hZDpjLFJhOiExfX0pO2QubmI9ZnVuY3Rpb24oKXt9O3JldHVybiBsaShkKX07XG5wLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXM7aWYodGhpcy5nPT1qaSlyZXR1cm4gUHJvbWlzZS5yZWplY3Qoa2koKSk7dGhpcy5kaXNwYXRjaEV2ZW50KGdpKG1pKSk7dmFyIGU9b2goKTtlLnVyaT1hO2UubGQ9RGF0ZS5ub3coKS8xRTM7YyYmKGUubWltZVR5cGU9Yyk7dm9pZCAwIT09YiYmKGUuc3RhcnRUaW1lPWIpO3ZhciBmPW5pKHRoaXMsZSk/dGhpcy5BYTp0aGlzLkksZz1zaCh0aGlzLlcsZnVuY3Rpb24oaCl7aWYobnVsbD09aC5BKXJldHVybiBudWxsO2UuQT1oLkE7cmV0dXJue25vZGU6ZixwYXlsb2FkOmUsUmE6ITB9fSk7dGhpcy5mPW5ldyBTaDtnLm5iPWZ1bmN0aW9uKCl7fTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oaCxrKXtnLmpjPWZ1bmN0aW9uKCl7cmV0dXJuIGsobmV3IEwoMiw3LDcwMDIpKX07Zy5oYz1mdW5jdGlvbigpe2goKTtkLmRpc3BhdGNoRXZlbnQoZ2kob2kpKX07Zy5VYT1mdW5jdGlvbigpe3JldHVybiBrKGtpKCkpfTtnLm9uRXJyb3I9XG5mdW5jdGlvbihsKXtyZXR1cm4gayhsKX19KX07XG5mdW5jdGlvbiBuaShhLGIpe2lmKCFWYygpKXJldHVybiEwO3ZhciBjPWIubWltZVR5cGUsZD1iLnVyaXx8XCJcIjtjfHwoYz17bXA0OlwidmlkZW8vbXA0XCIsbTR2OlwidmlkZW8vbXA0XCIsbTRhOlwiYXVkaW8vbXA0XCIsd2VibTpcInZpZGVvL3dlYm1cIix3ZWJhOlwiYXVkaW8vd2VibVwiLG1rdjpcInZpZGVvL3dlYm1cIix0czpcInZpZGVvL21wMnRcIixvZ3Y6XCJ2aWRlby9vZ2dcIixvZ2c6XCJhdWRpby9vZ2dcIixtcGc6XCJ2aWRlby9tcGVnXCIsbXBlZzpcInZpZGVvL21wZWdcIixtM3U4OlwiYXBwbGljYXRpb24veC1tcGVndXJsXCIsbXAzOlwiYXVkaW8vbXBlZ1wiLGFhYzpcImF1ZGlvL2FhY1wiLGZsYWM6XCJhdWRpby9mbGFjXCIsd2F2OlwiYXVkaW8vd2F2XCJ9W0xmKGQpXSk7cmV0dXJuIGM/XCJcIj09KGIuQXx8WGMoKSkuY2FuUGxheVR5cGUoYyk/ITE6VmMoKSYmKGMgaW4gS2Z8fExmKGQpaW4gTWYpP1ljKCkmJmEuaS5zdHJlYW1pbmcudXNlTmF0aXZlSGxzT25TYWZhcmk6ITA6ITF9XG5mdW5jdGlvbiBYaChhLGIsYyl7bnVsbD09Yi5BJiYoYi5BPWMuQSxhLmIubChiLkEsXCJlcnJvclwiLGZ1bmN0aW9uKCl7dmFyIGQ9cGkoYSk7ZCYmcWkoYSxkKX0pKTthLmE9Yi5BO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX1cbmZ1bmN0aW9uIFloKGEsYil7dmFyIGMsZCxlLGYsZyxoLGssbCxtO3JldHVybiBKKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmEpe2Nhc2UgMTpyZXR1cm4gYS5nIT1qaSYmKGEuZz1UaCksYz1hLkJjLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gcigpfSksYS5CYz1bXSx0KG4sUHJvbWlzZS5hbGwoYyksMik7Y2FzZSAyOmEuZGlzcGF0Y2hFdmVudChnaShyaSkpO2IubWltZVR5cGU9bnVsbDtiLnN0YXJ0VGltZT1udWxsO2IudXJpPW51bGw7Yi5BJiYoYS5iLnBhKGIuQSxcImxvYWRlZG1ldGFkYXRhXCIpLGEuYi5wYShiLkEsXCJwbGF5aW5nXCIpLGEuYi5wYShiLkEsXCJwYXVzZVwiKSxhLmIucGEoYi5BLFwiZW5kZWRcIiksYS5iLnBhKGIuQSxcInJhdGVjaGFuZ2VcIikpO2EuemEmJihhLnphLnJlbGVhc2UoKSxhLnphPW51bGwpO2EuVGImJihhLlRiLnN0b3AoKSxhLlRiPW51bGwpO2lmKCFhLm0pe24udSgzKTticmVha31yZXR1cm4gdChuLGEubS5zdG9wKCksNCk7Y2FzZSA0OmEubT1udWxsLGEuV2I9bnVsbDtcbmNhc2UgMzppZighYS5qKXtuLnUoNSk7YnJlYWt9cmV0dXJuIHQobixhLmouc3RvcCgpLDUpO2Nhc2UgNTppZighYS5jKXtuLnUoNyk7YnJlYWt9cmV0dXJuIHQobixhLmMuZGVzdHJveSgpLDgpO2Nhc2UgODphLmM9bnVsbDtjYXNlIDc6YS53JiYoYS53LnJlbGVhc2UoKSxhLnc9bnVsbCk7YS52JiYoYS52LnJlbGVhc2UoKSxhLnY9bnVsbCk7aWYoIWEuRyl7bi51KDkpO2JyZWFrfXJldHVybiB0KG4sYS5HLmRlc3Ryb3koKSwxMCk7Y2FzZSAxMDphLkc9bnVsbDtjYXNlIDk6aWYoYS5IKWEuSC5vbkFzc2V0VW5sb2FkKCk7aWYoIWIuQXx8IWIuQS5zcmMpe24udSgxMSk7YnJlYWt9cmV0dXJuIHQobixuZXcgUHJvbWlzZShmdW5jdGlvbihyKXtyZXR1cm4obmV3IE0ocikpLlIoLjEpfSksMTIpO2Nhc2UgMTI6Yi5BLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKSxiLkEubG9hZCgpO2Nhc2UgMTE6aWYoIWEuaCl7bi51KDEzKTticmVha31yZXR1cm4gdChuLGEuaC5kZXN0cm95KCksMTQpO2Nhc2UgMTQ6YS5oPVxubnVsbDtjYXNlIDEzOmEud2I9bnVsbDthLkM9bnVsbDtpZihhLm8pe2Q9cShhLm8udmFyaWFudHMpO2ZvcihlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSlmb3IoZj1lLnZhbHVlLGc9cShbZi5hdWRpbyxmLnZpZGVvXSksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpKGs9aC52YWx1ZSkmJmsuc2VnbWVudEluZGV4JiZrLnNlZ21lbnRJbmRleC5yZWxlYXNlKCk7bD1xKGEuby50ZXh0U3RyZWFtcyk7Zm9yKGg9bC5uZXh0KCk7IWguZG9uZTtoPWwubmV4dCgpKW09aC52YWx1ZSxtLnNlZ21lbnRJbmRleCYmbS5zZWdtZW50SW5kZXgucmVsZWFzZSgpfWEubz1udWxsO2EuZj1uZXcgU2g7YS5EYz1udWxsO3NpKGEpO3cobil9fSl9XG5mdW5jdGlvbiBaaChhLGIpe3ZhciBjLGQsZSxmO3JldHVybiBKKGZ1bmN0aW9uKGcpe2lmKDE9PWcuYSlyZXR1cm4gYz13aW5kb3cubXV4anM/bmV3IFZkOm5ldyBXZCxkPWEuaS50ZXh0RGlzcGxheUZhY3RvcnksZT1LYyhkKSxhLkRjPWQsZj10aShiLkEsYyxlLGZ1bmN0aW9uKGgsayxsKXtoPXEoaCk7Zm9yKHZhciBtPWgubmV4dCgpOyFtLmRvbmU7bT1oLm5leHQoKSlpZihtPW0udmFsdWUsbS5kYXRhJiZtLmN1ZVRpbWUmJm0uZnJhbWVzKXtmb3IodmFyIG49bS5jdWVUaW1lK2sscj1sLHU9cShtLmZyYW1lcyksdj11Lm5leHQoKTshdi5kb25lO3Y9dS5uZXh0KCkpdWkoYSxuLHIsXCJJRDNcIix2LnZhbHVlKTtpZihhLkgpYS5ILm9uSGxzVGltZWRNZXRhZGF0YShtLG4pfX0pLHQoZyxmLncsMik7YS5HPWY7dyhnKX0pfVxuZnVuY3Rpb24gJGgoYSxiLGMpe3ZhciBkLGUsZixnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSlyZXR1cm4gYi5taW1lVHlwZT1jLm1pbWVUeXBlLGIudXJpPWMudXJpLGQ9Yi51cmksZT1hLk4sYS53Yj1kLGY9YSx0KGgsSmYoZCxlLGEuaS5tYW5pZmVzdC5yZXRyeVBhcmFtZXRlcnMsYi5taW1lVHlwZSksMik7Zi5XYj1oLmI7YS5tPUtjKGEuV2IpO2c9U2IoYS5pLm1hbmlmZXN0KTtjLkEmJlwiQVVESU9cIj09PWMuQS5ub2RlTmFtZSYmKGcuZGlzYWJsZVZpZGVvPSEwKTthLm0uY29uZmlndXJlKGcpO3coaCl9KX1cbmZ1bmN0aW9uIGFpKGEsYil7dmFyIGM9Yi51cmksZD1hLk47YS5YYj1uZXcgc2coZnVuY3Rpb24oKXtyZXR1cm4gYS5kZCgpfSk7dGcoYS5YYixmdW5jdGlvbihnKXt2aShhLHdpLGcpO2lmKGEuSClhLkgub25EYXNoVGltZWRNZXRhZGF0YShnKX0pO3ZhciBlPXtuZXR3b3JraW5nRW5naW5lOmQsZmlsdGVyOmZ1bmN0aW9uKGcpe3JldHVybiBKKGZ1bmN0aW9uKGgpe3JldHVybiBoW1wicmV0dXJuXCJdKGEuZmIoZykpfSl9LG9uVGltZWxpbmVSZWdpb25BZGRlZDpmdW5jdGlvbihnKXt2YXIgaD1hLlhiO2E6e3ZhciBrPXEoaC5hKTtmb3IodmFyIGw9ay5uZXh0KCk7IWwuZG9uZTtsPWsubmV4dCgpKWlmKGw9bC52YWx1ZSxsLnNjaGVtZUlkVXJpPT1nLnNjaGVtZUlkVXJpJiZsLmlkPT1nLmlkJiZsLnN0YXJ0VGltZT09Zy5zdGFydFRpbWUmJmwuZW5kVGltZT09Zy5lbmRUaW1lKXtrPWw7YnJlYWsgYX1rPW51bGx9bnVsbD09ayYmKGguYS5hZGQoZyksaC5iKGcpKX0sb25FdmVudDpmdW5jdGlvbihnKXtyZXR1cm4gYS5kaXNwYXRjaEV2ZW50KGcpfSxcbm9uRXJyb3I6ZnVuY3Rpb24oZyl7cmV0dXJuIHFpKGEsZyl9fSxmPURhdGUubm93KCkvMUUzO3JldHVybiBuZXcgQmIoZnVuY3Rpb24oKXt2YXIgZyxoLGssbDtyZXR1cm4gSihmdW5jdGlvbihtKXtpZigxPT1tLmEpcmV0dXJuIGc9YSx0KG0sYS5tLnN0YXJ0KGMsZSksMik7Zy5vPW0uYjtoPWdpKHhpKTthLmRpc3BhdGNoRXZlbnQoaCk7aWYoMD09YS5vLnZhcmlhbnRzLmxlbmd0aCl0aHJvdyBuZXcgTCgyLDQsNDAzNik7eWkoYS5vKTtrPURhdGUubm93KCkvMUUzO2w9ay1mO2EuZi52PWw7dyhtKX0pfSgpLGZ1bmN0aW9uKCl7cmV0dXJuIGEubS5zdG9wKCl9KX1cbmZ1bmN0aW9uIGJpKGEpe3ZhciBiLGM7cmV0dXJuIEooZnVuY3Rpb24oZCl7aWYoMT09ZC5hKXJldHVybiBiPURhdGUubm93KCkvMUUzLGM9ITAsYS5oPXppKGEse2xiOmEuTixvbkVycm9yOmZ1bmN0aW9uKGUpe3FpKGEsZSl9LGljOmZ1bmN0aW9uKGUpe0FpKGEsZSl9LG9uRXhwaXJhdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oZSxmKXtCaShhLGUsZil9LG9uRXZlbnQ6ZnVuY3Rpb24oZSl7YS5kaXNwYXRjaEV2ZW50KGUpO2UudHlwZT09Q2kmJmMmJihjPSExLGEuZi5jPURhdGUubm93KCkvMUUzLWIpfX0pLGEuaC5jb25maWd1cmUoYS5pLmRybSksdChkLHFkKGEuaCxhLm8udmFyaWFudHMsYS5vLm9mZmxpbmVTZXNzaW9uSWRzKSwyKTthLmZiKGEubyk7dyhkKX0pfVxuZnVuY3Rpb24gY2koYSxiLGMpe3ZhciBkLGUsZixnLGgsayxsLG0sbixyO3JldHVybiBKKGZ1bmN0aW9uKHUpe3N3aXRjaCh1LmEpe2Nhc2UgMTpyZXR1cm4gYi5zdGFydFRpbWU9Yy5zdGFydFRpbWUsZD1iLkEsZT1iLnVyaSxhLndiPWUsYS53PW5ldyBsZyh7ZWM6ZnVuY3Rpb24oKXtyZXR1cm4gYi5BLnBsYXliYWNrUmF0ZX0samQ6ZnVuY3Rpb24odil7Yi5BLnBsYXliYWNrUmF0ZT12fSxGZDpmdW5jdGlvbih2KXtiLkEuY3VycmVudFRpbWUrPXZ9fSksZj1mdW5jdGlvbigpe3JldHVybiBEaShhKX0sZz1mdW5jdGlvbigpe3JldHVybiBFaShhKX0sYS5iLmwoZCxcInBsYXlpbmdcIixmKSxhLmIubChkLFwicGF1c2VcIixmKSxhLmIubChkLFwiZW5kZWRcIixmKSxhLmIubChkLFwicmF0ZWNoYW5nZVwiLGcpLGg9YS5pLmFickZhY3RvcnksYS5qJiZhLkFjPT1ofHwoYS5BYz1oLGEuaj1LYyhoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmoucGxheWJhY2tSYXRlQ2hhbmdlZCYmKERjKFwiQWJyTWFuYWdlclwiLFxuXCJQbGVhc2UgdXNlIGFuIEFick1hbmFnZXIgd2l0aCBwbGF5YmFja1JhdGVDaGFuZ2VkIGZ1bmN0aW9uLlwiKSxhLmoucGxheWJhY2tSYXRlQ2hhbmdlZD1mdW5jdGlvbigpe30pLGEuai5jb25maWd1cmUoYS5pLmFicikpLEZpKGEpLGEueGI9bmV3IEFmKGEuaS5wcmVmZXJyZWRBdWRpb0xhbmd1YWdlLGEuaS5wcmVmZXJyZWRWYXJpYW50Um9sZSxhLmkucHJlZmVycmVkQXVkaW9DaGFubmVsQ291bnQpLGEuY2E9YS5pLnByZWZlcnJlZFRleHRMYW5ndWFnZSxHaShhLm8ucHJlc2VudGF0aW9uVGltZWxpbmUsYS5pLnBsYXlSYW5nZVN0YXJ0LGEuaS5wbGF5UmFuZ2VFbmQpLHQodSxhLmgueWIoZCksMik7Y2FzZSAyOmEuai5pbml0KGZ1bmN0aW9uKHYseSx6KXt5PXZvaWQgMD09PXk/ITE6eTt6PXZvaWQgMD09PXo/MDp6O2EuYyYmdiE9YS5jLmImJihRaChhLmYuYSx2LCEwKSxYZyhhLmMsdix5LHopLEhpKGEpKX0pO2Eudj1JaShhLGIuc3RhcnRUaW1lKTthLnphPUppKGEpO2s9TWF0aC5tYXgoYS5vLm1pbkJ1ZmZlclRpbWUsXG5hLmkuc3RyZWFtaW5nLnJlYnVmZmVyaW5nR29hbCk7S2koYSxrKTtkZihhLm8sYS5pLnByZWZlcnJlZEF1ZGlvQ2hhbm5lbENvdW50KTthLmM9TGkoYSk7YS5jLmNvbmZpZ3VyZShhLmkuc3RyZWFtaW5nKTthLmc9TWk7YS5kaXNwYXRjaEV2ZW50KGdpKE5pKSk7bD1PaShhKT9hLmouY2hvb3NlVmFyaWFudCgpOm51bGw7UWgoYS5mLmEsbCwhMCk7WGcoYS5jLGwsITEsMCk7KG09cmYoYS5vLnRleHRTdHJlYW1zLGEuY2EsYS5VYilbMF18fG51bGwpJiZSaChhLmYuYSxtLCEwKTttPyhsLmF1ZGlvJiZQaShhLGwuYXVkaW8sbSkmJihhLlQ9ITApLGEuVCYmYS5HLmguc2V0VGV4dFZpc2liaWxpdHkoITApLFFpKGEpKTphLlQ9ITE7bSYmKGEuaS5zdHJlYW1pbmcuYWx3YXlzU3RyZWFtVGV4dHx8YS5OYygpKSYmWWcoYS5jLG0pO2lmKCFhLmkuc3RyZWFtaW5nLnN0YXJ0QXRTZWdtZW50Qm91bmRhcnkpe3UudSgzKTticmVha31uPWEudi5nKCk7cmV0dXJuIHQodSxSaShsLG4pLDQpO2Nhc2UgNDpyPVxudS5iLGEudi5tKHIpO2Nhc2UgMzpyZXR1cm4gdCh1LGEuYy5zdGFydCgpLDUpO2Nhc2UgNTphLmkuYWJyLmVuYWJsZWQmJihhLmouZW5hYmxlKCksU2koYSkpLGEuZmIoYS5vKSxUaShhKSxIaShhKSxPaShhKSxhLm8udmFyaWFudHMuc29tZShmdW5jdGlvbih2KXtyZXR1cm4gdi5wcmltYXJ5fSksYS5iLmhhKGQsXCJsb2FkZWRtZXRhZGF0YVwiLGZ1bmN0aW9uKCl7YS5mLmY9RGF0ZS5ub3coKS8xRTMtYy5sZH0pLHcodSl9fSl9XG5mdW5jdGlvbiBkaShhLGIpe3ZhciBjLGQsZSxmO3JldHVybiBKKGZ1bmN0aW9uKGcpe3JldHVybiAxPT1nLmE/KGM9TmMsZD1EYXRlLm5vdygpLzFFMyxlPSEwLGEuaD16aShhLHtsYjphLk4sb25FcnJvcjpmdW5jdGlvbihoKXtxaShhLGgpfSxpYzpmdW5jdGlvbihoKXtBaShhLGgpfSxvbkV4cGlyYXRpb25VcGRhdGVkOmZ1bmN0aW9uKGgsayl7QmkoYSxoLGspfSxvbkV2ZW50OmZ1bmN0aW9uKGgpe2EuZGlzcGF0Y2hFdmVudChoKTtoLnR5cGU9PUNpJiZlJiYoZT0hMSxhLmYuYz1EYXRlLm5vdygpLzFFMy1kKX19KSxhLmguY29uZmlndXJlKGEuaS5kcm0pLGY9e2lkOjAsbGFuZ3VhZ2U6XCJ1bmRcIixwcmltYXJ5OiExLGF1ZGlvOm51bGwsdmlkZW86e2lkOjAsb3JpZ2luYWxJZDpudWxsLGNyZWF0ZVNlZ21lbnRJbmRleDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sc2VnbWVudEluZGV4Om51bGwsbWltZVR5cGU6XCJ2aWRlby9tcDRcIixjb2RlY3M6XCJcIixlbmNyeXB0ZWQ6ITAsXG5kcm1JbmZvczpbXSxrZXlJZHM6bmV3IFNldCxsYW5ndWFnZTpcInVuZFwiLGxhYmVsOm51bGwsdHlwZTpjLkJhLHByaW1hcnk6ITEsdHJpY2tNb2RlVmlkZW86bnVsbCxlbXNnU2NoZW1lSWRVcmlzOm51bGwscm9sZXM6W10sY2hhbm5lbHNDb3VudDpudWxsLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsY2xvc2VkQ2FwdGlvbnM6bnVsbH0sYmFuZHdpZHRoOjEwMCxhbGxvd2VkQnlBcHBsaWNhdGlvbjohMCxhbGxvd2VkQnlLZXlTeXN0ZW06ITB9LHQoZyxxZChhLmgsW2ZdLFtdKSwyKSk6dChnLGEuaC55YihiLkEpLDApfSl9XG5mdW5jdGlvbiBlaShhLGIsYyl7ZnVuY3Rpb24gZCgpe3JldHVybiBEaShhKX1iLnVyaT1jLnVyaTtiLnN0YXJ0VGltZT1jLnN0YXJ0VGltZTthLndiPWIudXJpO2Eudj1uZXcgZWcoYi5BKTtudWxsIT1iLnN0YXJ0VGltZSYmYS52Lm0oYi5zdGFydFRpbWUpO2Eudz1uZXcgbGcoe2VjOmZ1bmN0aW9uKCl7cmV0dXJuIGIuQS5wbGF5YmFja1JhdGV9LGpkOmZ1bmN0aW9uKGcpe2IuQS5wbGF5YmFja1JhdGU9Z30sRmQ6ZnVuY3Rpb24oZyl7Yi5BLmN1cnJlbnRUaW1lKz1nfX0pO0tpKGEsYS5pLnN0cmVhbWluZy5yZWJ1ZmZlcmluZ0dvYWwpO2EuYi5sKGIuQSxcInBsYXlpbmdcIixkKTthLmIubChiLkEsXCJwYXVzZVwiLGQpO2EuYi5sKGIuQSxcImVuZGVkXCIsZCk7YS5iLmwoYi5BLFwicmF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIEVpKGEpfSk7XCJub25lXCIhPWEuYS5wcmVsb2FkJiZhLmIuaGEoYS5hLFwibG9hZGVkbWV0YWRhdGFcIixmdW5jdGlvbigpe2EuZi5mPURhdGUubm93KCkvMUUzLWMubGR9KTtcbmEuYS5hdWRpb1RyYWNrcyYmKGEuYi5sKGEuYS5hdWRpb1RyYWNrcyxcImFkZHRyYWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gVGkoYSl9KSxhLmIubChhLmEuYXVkaW9UcmFja3MsXCJyZW1vdmV0cmFja1wiLGZ1bmN0aW9uKCl7cmV0dXJuIFRpKGEpfSksYS5iLmwoYS5hLmF1ZGlvVHJhY2tzLFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtyZXR1cm4gVGkoYSl9KSk7YS5hLnRleHRUcmFja3MmJihhLmIubChhLmEudGV4dFRyYWNrcyxcImFkZHRyYWNrXCIsZnVuY3Rpb24oZyl7VGkoYSk7VWkoYSxnKX0pLGEuYi5sKGEuYS50ZXh0VHJhY2tzLFwicmVtb3ZldHJhY2tcIixmdW5jdGlvbigpe3JldHVybiBUaShhKX0pLGEuYi5sKGEuYS50ZXh0VHJhY2tzLFwiY2hhbmdlXCIsZnVuY3Rpb24oKXtyZXR1cm4gVGkoYSl9KSk7Yi5BLnNyYz1iLnVyaTsoWmMoXCJUaXplblwiKXx8WmMoXCJXZWIwU1wiKSkmJmIuQS5sb2FkKCk7YS5nPVZpO2EuZGlzcGF0Y2hFdmVudChnaShOaSkpO3ZhciBlPW5ldyBBYjtXZihhLmEsSFRNTE1lZGlhRWxlbWVudC5IQVZFX01FVEFEQVRBLFxuYS5iLGZ1bmN0aW9uKCl7ZS5yZXNvbHZlKCl9KTt2YXIgZj0hMTthLkJjLnB1c2goZnVuY3Rpb24oKXtmPSEwfSk7V2YoYS5hLEhUTUxNZWRpYUVsZW1lbnQuSEFWRV9DVVJSRU5UX0RBVEEsYS5iLGZ1bmN0aW9uKCl7dmFyIGc7cmV0dXJuIEooZnVuY3Rpb24oaCl7aWYoMT09aC5hKXtpZihmKXJldHVybiBoW1wicmV0dXJuXCJdKCk7V2koYSk7Zz1YaShhKTtyZXR1cm4gZy5maW5kKGZ1bmN0aW9uKGspe3JldHVyblwiZGlzYWJsZWRcIiE9ay5tb2RlfSk/aC51KDIpOnQoaCxuZXcgUHJvbWlzZShmdW5jdGlvbihrKXthLmIuaGEoYS5hLnRleHRUcmFja3MsXCJjaGFuZ2VcIixrKTsobmV3IE0oaykpLlIoMSl9KSwyKX1pZihmKXJldHVybiBoW1wicmV0dXJuXCJdKCk7WWkoYSk7dyhoKX0pfSk7YS5hLmVycm9yP2UucmVqZWN0KHBpKGEpKTpcIm5vbmVcIj09YS5hLnByZWxvYWQmJihXYSgnV2l0aCA8dmlkZW8gcHJlbG9hZD1cIm5vbmVcIj4sIHRoZSBicm93c2VyIHdpbGwgbm90IGxvYWQgYW55dGhpbmcgdW50aWwgcGxheSgpIGlzIGNhbGxlZC4gV2UgYXJlIHVuYWJsZSB0byBtZWFzdXJlIGxvYWQgbGF0ZW5jeSBpbiBhIG1lYW5pbmdmdWwgd2F5LCBhbmQgd2UgY2Fubm90IHByb3ZpZGUgdHJhY2sgaW5mbyB5ZXQuIFBsZWFzZSBkbyBub3QgdXNlIHByZWxvYWQ9XCJub25lXCIgd2l0aCBTaGFrYSBQbGF5ZXIuJyksXG5lLnJlc29sdmUoKSk7YS5iLmhhKGEuYSxcImVycm9yXCIsZnVuY3Rpb24oKXtlLnJlamVjdChwaShhKSl9KTtyZXR1cm4gbmV3IEJiKGUsZnVuY3Rpb24oKXtlLnJlamVjdChuZXcgTCgyLDcsNzAwMSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pfWZ1bmN0aW9uIFdpKGEpe3ZhciBiPWEuaS5wcmVmZXJyZWRBdWRpb0xhbmd1YWdlO2lmKFwiXCIhPWIpe2EuZWQoYik7dmFyIGM9YS5pLnByZWZlcnJlZFZhcmlhbnRSb2xlO1wiXCIhPWMmJmEuZWQoYixjKX19ZnVuY3Rpb24gWWkoYSl7dmFyIGI9YS5pLnByZWZlcnJlZFRleHRMYW5ndWFnZTtpZihcIlwiIT1iKXthLmZkKGIpO3ZhciBjPWEuaS5wcmVmZXJyZWRUZXh0Um9sZTtcIlwiIT1jJiZhLmZkKGIsYyl9fVxuZnVuY3Rpb24gVWkoYSxiKXt2YXIgYz1iLnRyYWNrO1wibWV0YWRhdGFcIj09Yy5raW5kJiYoYy5tb2RlPVwiaGlkZGVuXCIsYS5iLmwoYyxcImN1ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7aWYoYy5hY3RpdmVDdWVzKWZvcih2YXIgZD1xKGMuYWN0aXZlQ3VlcyksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpaWYoZT1lLnZhbHVlLHVpKGEsZS5zdGFydFRpbWUsZS5lbmRUaW1lLGUudHlwZSxlLnZhbHVlKSxhLkgpYS5ILm9uQ3VlTWV0YWRhdGFDaGFuZ2UoZS52YWx1ZSl9KSwobmV3IE0oZnVuY3Rpb24oKXt2YXIgZD1YaShhKTtkPXEoZCk7Zm9yKHZhciBlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSllLnZhbHVlLm1vZGU9XCJoaWRkZW5cIn0pKS5PYigpLlIoLjUpKX1mdW5jdGlvbiB1aShhLGIsYyxkLGUpe2EuZGlzcGF0Y2hFdmVudChnaShaaSx7c3RhcnRUaW1lOmIsZW5kVGltZTpjLElmOmQscGF5bG9hZDplfSkpfVxuZnVuY3Rpb24geWkoYSl7ZnVuY3Rpb24gYihjKXtyZXR1cm4gYy52aWRlbyYmYy5hdWRpb3x8Yy52aWRlbyYmYy52aWRlby5jb2RlY3MuaW5jbHVkZXMoXCIsXCIpfWEudmFyaWFudHMuc29tZShiKSYmKGEudmFyaWFudHM9YS52YXJpYW50cy5maWx0ZXIoYikpfWZ1bmN0aW9uIHppKGEsYil7cmV0dXJuIG5ldyBqZChiLGEuaS5kcm0udXBkYXRlRXhwaXJhdGlvblRpbWUpfWZ1bmN0aW9uIFZoKGEpe3JldHVybiBuZXcgWmIoZnVuY3Rpb24oYixjKXthLmomJmEuai5zZWdtZW50RG93bmxvYWRlZChiLGMpfSl9XG5mdW5jdGlvbiBJaShhLGIpe3JldHVybiBuZXcgZmcoYS5hLGEubyxhLmkuc3RyZWFtaW5nLGIsZnVuY3Rpb24oKXthLnphJiZvZyhhLnphLCEwKTtpZihhLmMpZm9yKHZhciBjPWEuYyxkPWMucy5kYygpLGU9Yy5pLnNtYWxsR2FwTGltaXQsZj1xKGMuYS5rZXlzKCkpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXtnPWcudmFsdWU7dmFyIGg7aWYoaD1udWxsIT1OZShjLnMuSyxnKSloPWMucy5LLFwidGV4dFwiPT1nPyhoPWguYyxoPW51bGw9PWguYXx8bnVsbD09aC5iPyExOmQ+PWguYSYmZDxoLmIpOihoPU1lKGgsZyksaD1ZZChoLGQsZSkpLGg9IWg7aCYmKGJoKGMsYy5hLmdldChnKSksXCJ0ZXh0XCI9PT1nJiZjLnMuSy52LmMoKSl9YS5DJiYkaShhKX0sZnVuY3Rpb24oYyl7cmV0dXJuIGEuZGlzcGF0Y2hFdmVudChjKX0pfVxuZnVuY3Rpb24gSmkoYSl7dmFyIGI9bmV3IHVnKGEuWGIpO3ZnKGIsZnVuY3Rpb24oZCl7dmkoYSxhaixkKX0sZnVuY3Rpb24oZCl7dmkoYSxiaixkKX0sZnVuY3Rpb24oZCxlKXtlfHwodmkoYSxhaixkKSx2aShhLGJqLGQpKX0pO3ZhciBjPW5ldyBuZyhhLmEpO2MuYS5hZGQoYik7cmV0dXJuIGN9ZnVuY3Rpb24gS2koYSxiKXthLkM9bmV3IEVmO2EuQy5hPUdmO0hmKGEuQyxiLE1hdGgubWluKC41LGIvMikpO3NpKGEpO2EuVGI9KG5ldyBNKGZ1bmN0aW9uKCl7JGkoYSl9KSkub2EoLjI1KX1cbmZ1bmN0aW9uICRpKGEpe3N3aXRjaChhLmcpe2Nhc2UgVmk6aWYoYS5hLmVuZGVkKXZhciBiPSEwO2Vsc2V7dmFyIGM9WGQoYS5hLmJ1ZmZlcmVkKTtiPW51bGwhPWMmJmM+PWEuYS5kdXJhdGlvbi0xfWJyZWFrO2Nhc2UgTWk6YTppZihhLmEuZW5kZWR8fEtlKGEuRykpYj0hMDtlbHNle2lmKGEuby5wcmVzZW50YXRpb25UaW1lbGluZS5TKCkpe2M9YS5vLnByZXNlbnRhdGlvblRpbWVsaW5lLkthKCk7dmFyIGQ9WGQoYS5hLmJ1ZmZlcmVkKTtpZihudWxsIT1kJiZkPj1jKXtiPSEwO2JyZWFrIGF9fWI9ITF9YnJlYWs7ZGVmYXVsdDpiPSExfWQ9WmQoYS5hLmJ1ZmZlcmVkLGEuYS5jdXJyZW50VGltZSk7Yz1hLkM7dmFyIGU9YixmPWMuYi5nZXQoYy5hKTtiPWMuYTtkPWV8fGQ+PWY/RmY6R2Y7Yy5hPWQ7YiE9ZCYmc2koYSl9ZnVuY3Rpb24gdGkoYSxiLGMsZCl7cmV0dXJuIG5ldyBEZShhLGIsYyxkKX1cbmZ1bmN0aW9uIExpKGEpe3JldHVybiBuZXcgTWcoYS5vLHtkYzpmdW5jdGlvbigpe3JldHVybiBhLnYuZygpfSxnZXRCYW5kd2lkdGhFc3RpbWF0ZTpmdW5jdGlvbigpe3JldHVybiBhLmouZ2V0QmFuZHdpZHRoRXN0aW1hdGUoKX0sSzphLkcsbGI6YS5OLG9uRXJyb3I6ZnVuY3Rpb24oYil7cmV0dXJuIHFpKGEsYil9LG9uRXZlbnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGlzcGF0Y2hFdmVudChiKX0sR2U6ZnVuY3Rpb24oKXthLm0mJmEubS51cGRhdGUmJmEubS51cGRhdGUoKX0sWGM6ZnVuY3Rpb24oKXthLnYmJmEudi52KCk7JGkoYSl9fSl9XG5wLmNvbmZpZ3VyZT1mdW5jdGlvbihhLGIpezI9PWFyZ3VtZW50cy5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1HaChhLGIpKTthLm1hbmlmZXN0JiZhLm1hbmlmZXN0LmRhc2gmJlwiZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5XCJpbiBhLm1hbmlmZXN0LmRhc2gmJihEYyhcIm1hbmlmZXN0LmRhc2guZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5IGNvbmZpZ3VyYXRpb25cIixcIlBsZWFzZSBVc2UgbWFuaWZlc3QuZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5IGluc3RlYWQuXCIpLGEubWFuaWZlc3QuZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5PWEubWFuaWZlc3QuZGFzaC5kZWZhdWx0UHJlc2VudGF0aW9uRGVsYXksZGVsZXRlIGEubWFuaWZlc3QuZGFzaC5kZWZhdWx0UHJlc2VudGF0aW9uRGVsYXkpO3ZhciBjPUtoKHRoaXMuaSxhLFVoKHRoaXMpKTtjaih0aGlzKTtyZXR1cm4gY307XG5mdW5jdGlvbiBjaihhKXtpZihhLm0pe3ZhciBiPVNiKGEuaS5tYW5pZmVzdCk7YS5hJiZcIkFVRElPXCI9PT1hLmEubm9kZU5hbWUmJihiLmRpc2FibGVWaWRlbz0hMCk7YS5tLmNvbmZpZ3VyZShiKX1hLmgmJmEuaC5jb25maWd1cmUoYS5pLmRybSk7aWYoYS5jKXthLmMuY29uZmlndXJlKGEuaS5zdHJlYW1pbmcpO3RyeXthLmZiKGEubyl9Y2F0Y2goZil7cWkoYSxmKX1hLmomJk9pKGEpO2I9YS5jLmI7IWJ8fGIuYWxsb3dlZEJ5QXBwbGljYXRpb24mJmIuYWxsb3dlZEJ5S2V5U3lzdGVtfHxkaihhKX1pZihhLkcmJihiPWEuaS50ZXh0RGlzcGxheUZhY3RvcnksYS5EYyE9Yikpe3ZhciBjPUtjKGIpLGQ9YS5HLGU9ZC5oO2QuaD1jO2UmJihjLnNldFRleHRWaXNpYmlsaXR5KGUuaXNUZXh0VmlzaWJsZSgpKSxlLmRlc3Ryb3koKSk7ZC5jJiYoZC5jLmM9Yyk7YS5EYz1iO2EuYyYmKGI9YS5jLChjPWIuYS5nZXQoXCJ0ZXh0XCIpKSYmV2coYixjLnN0cmVhbSwhMCwwLCEwKSl9YS5qJiYoYS5qLmNvbmZpZ3VyZShhLmkuYWJyKSxcbmEuaS5hYnIuZW5hYmxlZD9hLmouZW5hYmxlKCk6YS5qLmRpc2FibGUoKSxTaShhKSk7YS5DJiYoYj1hLmkuc3RyZWFtaW5nLnJlYnVmZmVyaW5nR29hbCxhLm8mJihiPU1hdGgubWF4KGIsYS5vLm1pbkJ1ZmZlclRpbWUpKSxIZihhLkMsYixNYXRoLm1pbiguNSxiLzIpKSl9cC5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9VWgodGhpcyk7S2goYSx0aGlzLmksVWgodGhpcykpO3JldHVybiBhfTtwLlBlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuaSlkZWxldGUgdGhpcy5pW2FdO0toKHRoaXMuaSxVaCh0aGlzKSxVaCh0aGlzKSk7Y2oodGhpcyl9O3Aua2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nfTtwLm9lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07cC5EYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk59O3AuSWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53Yn07XG5wLnhkPWZ1bmN0aW9uKCl7WGEoXCJnZXRBZE1hbmFnZXJcIixcIlNoYWthIFBsYXllcidzIGFkIGZlYXR1cmVzIGFyZSBjdXJyZW50bHkgaW4gQkVUQSBhbmQgYXJlIE5PVCB5ZXQgY292ZXJlZCBieSBzZW1hbnRpYyB2ZXJzaW9uaW5nIGNvbXBhdGliaWxpdHkgZ3VhcmFudGVlcy4gIFRoZSBBUEkgbWF5IGNoYW5nZSBhdCBhbnkgdGltZSFcIik7cmV0dXJuIHRoaXMuSH07cC5TPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz90aGlzLm8ucHJlc2VudGF0aW9uVGltZWxpbmUuUygpOnRoaXMuYSYmdGhpcy5hLnNyYz9JbmZpbml0eT09dGhpcy5hLmR1cmF0aW9uOiExfTtwLlRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubz90aGlzLm8ucHJlc2VudGF0aW9uVGltZWxpbmUuVGEoKTohMX07XG5wLkJlPWZ1bmN0aW9uKCl7aWYodGhpcy5vKXt2YXIgYT10aGlzLm8udmFyaWFudHM7cmV0dXJuIGEubGVuZ3RoPyFhWzBdLnZpZGVvOiExfXJldHVybiB0aGlzLmEmJnRoaXMuYS5zcmM/dGhpcy5hLnZpZGVvVHJhY2tzPzA9PXRoaXMuYS52aWRlb1RyYWNrcy5sZW5ndGg6MD09dGhpcy5hLnZpZGVvSGVpZ2h0OiExfTtwLmRkPWZ1bmN0aW9uKCl7aWYodGhpcy5vKXt2YXIgYT10aGlzLm8ucHJlc2VudGF0aW9uVGltZWxpbmU7cmV0dXJue3N0YXJ0OmEuaWIoKSxlbmQ6YS5EYSgpfX1yZXR1cm4gdGhpcy5hJiZ0aGlzLmEuc3JjJiYoYT10aGlzLmEuc2Vla2FibGUsYS5sZW5ndGgpP3tzdGFydDphLnN0YXJ0KDApLGVuZDphLmVuZChhLmxlbmd0aC0xKX06e3N0YXJ0OjAsZW5kOjB9fTtwLmtleVN5c3RlbT1mdW5jdGlvbigpe3JldHVybiBFZCh0aGlzLmRybUluZm8oKSl9O3AuZHJtSW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmg/dGhpcy5oLmM6bnVsbH07XG5wLkNiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaD90aGlzLmguQ2IoKTpJbmZpbml0eX07cC5NYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkM/dGhpcy5DLmE9PUdmOiExfTtwLnFlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYT90aGlzLnc/dGhpcy53LmI6MTowfTtwLiRlPWZ1bmN0aW9uKGEpezA9PWE/V2EoXCJBIHRyaWNrIHBsYXkgcmF0ZSBvZiAwIGlzIHVuc3VwcG9ydGVkIVwiKToodGhpcy5hLnBhdXNlZCYmdGhpcy5hLnBsYXkoKSx0aGlzLncuc2V0KGEpLHRoaXMuZz09TWkmJih0aGlzLmoucGxheWJhY2tSYXRlQ2hhbmdlZChhKSxWZyh0aGlzLmMsMTxNYXRoLmFicyhhKSkpKX07cC4kZD1mdW5jdGlvbigpe3RoaXMuZz09VmkmJnRoaXMudy5zZXQoMSk7dGhpcy5nPT1NaSYmKHRoaXMudy5zZXQoMSksdGhpcy5qLnBsYXliYWNrUmF0ZUNoYW5nZWQoMSksVmcodGhpcy5jLCExKSl9O1xucC5MYz1mdW5jdGlvbigpe2lmKHRoaXMubyl7Zm9yKHZhciBhPXRoaXMuYz90aGlzLmMuYjpudWxsLGI9W10sYz1xKHRoaXMuby52YXJpYW50cyksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpaWYoZD1kLnZhbHVlLHBmKGQpKXt2YXIgZT1qZihkKTtlLmFjdGl2ZT1kPT1hO2IucHVzaChlKX1yZXR1cm4gYn1yZXR1cm4gdGhpcy5hJiZ0aGlzLmEuYXVkaW9UcmFja3M/QXJyYXkuZnJvbSh0aGlzLmEuYXVkaW9UcmFja3MpLm1hcChmdW5jdGlvbihmKXtyZXR1cm4gbmYoZil9KTpbXX07XG5wLmZjPWZ1bmN0aW9uKCl7aWYodGhpcy5vKXtmb3IodmFyIGE9dGhpcy5jP3RoaXMuYy5jOm51bGwsYj1bXSxjPXEodGhpcy5vLnRleHRTdHJlYW1zKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7ZD1kLnZhbHVlO3ZhciBlPWtmKGQpO2UuYWN0aXZlPWQ9PWE7Yi5wdXNoKGUpfXJldHVybiBifXJldHVybiB0aGlzLmEmJnRoaXMuYS5zcmMmJnRoaXMuYS50ZXh0VHJhY2tzP1hpKHRoaXMpLm1hcChmdW5jdGlvbihmKXt2YXIgZz1vZihmKTtnLmFjdGl2ZT1cImRpc2FibGVkXCIhPWYubW9kZTtnLnR5cGU9XCJ0ZXh0XCI7Zy5vcmlnaW5hbFRleHRJZD1mLmlkO1wiY2FwdGlvbnNcIj09Zi5raW5kJiYoZy5taW1lVHlwZT1cImFwcGxpY2F0aW9uL2NlYS02MDhcIik7Zi5raW5kJiYoZy5yb2xlcz1bZi5raW5kXSk7cmV0dXJuIGd9KTpbXX07XG5wLk5kPWZ1bmN0aW9uKGEpe2lmKHRoaXMubyYmdGhpcy5jKXt2YXIgYj10aGlzLm8udGV4dFN0cmVhbXMuZmluZChmdW5jdGlvbihkKXtyZXR1cm4gZC5pZD09YS5pZH0pO2ImJmIhPXRoaXMuYy5jJiYoUmgodGhpcy5mLmEsYiwhMSksWWcodGhpcy5jLGIpLGVqKHRoaXMpLHRoaXMuY2E9Yi5sYW5ndWFnZSl9ZWxzZSBpZih0aGlzLmEmJnRoaXMuYS5zcmMmJnRoaXMuYS50ZXh0VHJhY2tzKXtiPVhpKHRoaXMpO2I9cShiKTtmb3IodmFyIGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWM9Yy52YWx1ZSxsZihjKT09YS5pZD9jLm1vZGU9dGhpcy5UP1wic2hvd2luZ1wiOlwiaGlkZGVuXCI6Yy5tb2RlPVwiZGlzYWJsZWRcIjtlaih0aGlzKX19O1xucC5RZT1mdW5jdGlvbihhLGIsYyl7Yj12b2lkIDA9PT1iPyExOmI7Yz12b2lkIDA9PT1jPzA6YztpZih0aGlzLm8mJnRoaXMuYyl7dGhpcy5pLmFici5lbmFibGVkJiZXYShcIkNoYW5naW5nIHRyYWNrcyB3aGlsZSBhYnIgbWFuYWdlciBpcyBlbmFibGVkIHdpbGwgbGlrZWx5IHJlc3VsdCBpbiB0aGUgc2VsZWN0ZWQgdHJhY2sgYmVpbmcgb3ZlcnJpZGVuLiBDb25zaWRlciBkaXNhYmxpbmcgYWJyIGJlZm9yZSBjYWxsaW5nIHNlbGVjdFZhcmlhbnRUcmFjaygpLlwiKTt2YXIgZD10aGlzLm8udmFyaWFudHMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09YS5pZH0pO2QmJnBmKGQpJiZkIT10aGlzLmMuYiYmKFFoKHRoaXMuZi5hLGQsITEpLFhnKHRoaXMuYyxkLGIsYyksZmoodGhpcyksdGhpcy54Yj1uZXcgemYoZCksT2kodGhpcykpfWVsc2UgaWYodGhpcy5hJiZ0aGlzLmEuYXVkaW9UcmFja3Mpe2I9QXJyYXkuZnJvbSh0aGlzLmEuYXVkaW9UcmFja3MpO2I9cShiKTtmb3IoYz1cbmIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSljPWMudmFsdWUsbGYoYyk9PWEuaWQmJihjLmVuYWJsZWQ9ITApO2ZqKHRoaXMpfX07cC5nZT1mdW5jdGlvbigpe3JldHVybiBnaih0aGlzLkxjKCkpfTtwLnllPWZ1bmN0aW9uKCl7cmV0dXJuIGdqKHRoaXMuZmMoKSl9O3AuZmU9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbShoaih0aGlzLkxjKCkpKX07cC54ZT1mdW5jdGlvbigpe3JldHVybiBBcnJheS5mcm9tKGhqKHRoaXMuZmMoKSkpfTtcbnAuZWQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLm8mJnRoaXMudil0aGlzLnhiPW5ldyBBZihhLGJ8fFwiXCIsMCxcIlwiLFwiYXVkaW9cIiksZGoodGhpcyk7ZWxzZSBpZih0aGlzLmEmJnRoaXMuYS5hdWRpb1RyYWNrcyl7dmFyIGM9QXJyYXkuZnJvbSh0aGlzLmEuYXVkaW9UcmFja3MpLGQ9UihhKTtjPXEoYyk7Zm9yKHZhciBlPWMubmV4dCgpOyFlLmRvbmU7ZT1jLm5leHQoKSl7ZT1lLnZhbHVlO3ZhciBmPW5mKGUpO1IoZi5sYW5ndWFnZSkhPWR8fGImJiFmLnJvbGVzLmluY2x1ZGVzKGIpfHwoZS5lbmFibGVkPSEwKX1maih0aGlzKX19O1xucC5mZD1mdW5jdGlvbihhLGIpe2lmKHRoaXMubyYmdGhpcy52KXt0aGlzLmNhPWE7dGhpcy5VYj1ifHxcIlwiO3ZhciBjPXJmKHRoaXMuby50ZXh0U3RyZWFtcyx0aGlzLmNhLHRoaXMuVWIpWzBdfHxudWxsO2MmJmMhPXRoaXMuYy5jJiYoUmgodGhpcy5mLmEsYywhMSksdGhpcy5pLnN0cmVhbWluZy5hbHdheXNTdHJlYW1UZXh0fHx0aGlzLk5jKCkpJiYoWWcodGhpcy5jLGMpLGVqKHRoaXMpKX1lbHNle3ZhciBkPVIoYSk7KGM9dGhpcy5mYygpLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFIoZS5sYW5ndWFnZSk9PWQmJighYnx8ZS5yb2xlcy5pbmNsdWRlcyhiKSl9KSkmJnRoaXMuTmQoYyl9fTtcbnAuUmU9ZnVuY3Rpb24oYSl7aWYodGhpcy5vJiZ0aGlzLnYpe2Zvcih2YXIgYj1udWxsLGM9cSh0aGlzLm8udmFyaWFudHMpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWlmKGQ9ZC52YWx1ZSxkLmF1ZGlvLmxhYmVsPT1hKXtiPWQ7YnJlYWt9bnVsbCE9YiYmKHRoaXMueGI9bmV3IEFmKGIubGFuZ3VhZ2UsXCJcIiwwLGEpLGRqKHRoaXMpKX19O3AuTmM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlQ7cmV0dXJuIHRoaXMuRz90aGlzLkcuaC5pc1RleHRWaXNpYmxlKCk6dGhpcy5hJiZ0aGlzLmEuc3JjJiZ0aGlzLmEudGV4dFRyYWNrcz9YaSh0aGlzKS5zb21lKGZ1bmN0aW9uKGIpe3JldHVyblwic2hvd2luZ1wiPT1iLm1vZGV9KTphfTtmdW5jdGlvbiBYaShhKXtyZXR1cm4gQXJyYXkuZnJvbShhLmEudGV4dFRyYWNrcykuZmlsdGVyKGZ1bmN0aW9uKGIpe3JldHVyblwibWV0YWRhdGFcIiE9Yi5raW5kJiZcIlNoYWthIFBsYXllciBUZXh0VHJhY2tcIiE9Yi5sYWJlbH0pfVxucC5YZT1mdW5jdGlvbihhKXthPSEhYTtpZih0aGlzLlQhPWEpe3RoaXMuVD1hO2lmKHRoaXMuZz09TWkpdGhpcy5HLmguc2V0VGV4dFZpc2liaWxpdHkoYSksdGhpcy5pLnN0cmVhbWluZy5hbHdheXNTdHJlYW1UZXh0fHwoYT90aGlzLmMuY3x8KGE9cmYodGhpcy5vLnRleHRTdHJlYW1zLHRoaXMuY2EsdGhpcy5VYiksMDxhLmxlbmd0aCYmKFlnKHRoaXMuYyxhWzBdKSxlaih0aGlzKSkpOlVnKHRoaXMuYykpO2Vsc2UgaWYodGhpcy5hJiZ0aGlzLmEuc3JjJiZ0aGlzLmEudGV4dFRyYWNrcyl7dmFyIGI9WGkodGhpcyk7Yj1xKGIpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpYz1jLnZhbHVlLFwiZGlzYWJsZWRcIiE9Yy5tb2RlJiYoYy5tb2RlPWE/XCJzaG93aW5nXCI6XCJoaWRkZW5cIil9UWkodGhpcyl9fTtcbnAuc2U9ZnVuY3Rpb24oKXtpZighdGhpcy5TKCkpcmV0dXJuIG51bGw7dmFyIGE9dGhpcy5XLmYsYj0wO2lmKHRoaXMudiliPXRoaXMudi5nKCk7ZWxzZSBpZihhKXtpZihudWxsPT1hLnN0YXJ0VGltZSlyZXR1cm4gbmV3IERhdGU7Yj1hLnN0YXJ0VGltZX1yZXR1cm4gdGhpcy5vP25ldyBEYXRlKDFFMyoodGhpcy5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmYrYikpOnRoaXMuYSYmdGhpcy5hLmdldFN0YXJ0RGF0ZT8oYT10aGlzLmEuZ2V0U3RhcnREYXRlKCksaXNOYU4oYS5nZXRUaW1lKCkpP251bGw6bmV3IERhdGUoYS5nZXRUaW1lKCkrMUUzKmIpKTpudWxsfTtcbnAueWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5TKCkpcmV0dXJuIG51bGw7aWYodGhpcy5vKXJldHVybiBuZXcgRGF0ZSgxRTMqdGhpcy5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmYpO2lmKHRoaXMuYSYmdGhpcy5hLmdldFN0YXJ0RGF0ZSl7dmFyIGE9dGhpcy5hLmdldFN0YXJ0RGF0ZSgpO3JldHVybiBpc05hTihhLmdldFRpbWUoKSk/bnVsbDphfXJldHVybiBudWxsfTtwLmNjPWZ1bmN0aW9uKCl7aWYodGhpcy5nPT1NaSlyZXR1cm4gdGhpcy5HLmNjKCk7dmFyIGE9e3RvdGFsOltdLGF1ZGlvOltdLHZpZGVvOltdLHRleHQ6W119O3RoaXMuZz09VmkmJihhLnRvdGFsPSRkKHRoaXMuYS5idWZmZXJlZCkpO3JldHVybiBhfTtcbnAuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtpZih0aGlzLmchPU1pJiZ0aGlzLmchPVZpKXJldHVybnt3aWR0aDpOYU4saGVpZ2h0Ok5hTixzdHJlYW1CYW5kd2lkdGg6TmFOLGRlY29kZWRGcmFtZXM6TmFOLGRyb3BwZWRGcmFtZXM6TmFOLGNvcnJ1cHRlZEZyYW1lczpOYU4sZXN0aW1hdGVkQmFuZHdpZHRoOk5hTixsb2FkTGF0ZW5jeTpOYU4sbWFuaWZlc3RUaW1lU2Vjb25kczpOYU4sZHJtVGltZVNlY29uZHM6TmFOLHBsYXlUaW1lOk5hTixwYXVzZVRpbWU6TmFOLGJ1ZmZlcmluZ1RpbWU6TmFOLGxpY2Vuc2VUaW1lOk5hTixsaXZlTGF0ZW5jeTpOYU4sbWF4U2VnbWVudER1cmF0aW9uOk5hTixzd2l0Y2hIaXN0b3J5OltdLHN0YXRlSGlzdG9yeTpbXX07RGkodGhpcyk7dmFyIGE9dGhpcy5hO2lmKGEuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkpe2E9YS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO3ZhciBiPXRoaXMuZixjPU51bWJlcihhLnRvdGFsVmlkZW9GcmFtZXMpO2IuST1OdW1iZXIoYS5kcm9wcGVkVmlkZW9GcmFtZXMpO1xuYi5IPWM7dGhpcy5mLkc9TnVtYmVyKGEuY29ycnVwdGVkVmlkZW9GcmFtZXMpfXRoaXMuaD8oYT10aGlzLmgsYT1hLkc/YS5HOk5hTik6YT1OYU47dGhpcy5mLkM9YTtpZih0aGlzLmc9PU1pKXtpZihhPXRoaXMuYy5iKXRoaXMuZi5oPSh0aGlzLnc/dGhpcy53LmI6MSkqYS5iYW5kd2lkdGg7YSYmYS52aWRlbyYmKGI9dGhpcy5mLGM9YS52aWRlby5oZWlnaHR8fE5hTixiLk09YS52aWRlby53aWR0aHx8TmFOLGIuaj1jKTt0aGlzLlMoKSYmKGE9dGhpcy55ZCgpLnZhbHVlT2YoKSsxRTMqdGhpcy5kZCgpLmVuZCx0aGlzLmYubT0oRGF0ZS5ub3coKS1hKS8xRTMpO3RoaXMubyYmdGhpcy5vLnByZXNlbnRhdGlvblRpbWVsaW5lJiYodGhpcy5mLnc9dGhpcy5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmEpO2E9dGhpcy5qLmdldEJhbmR3aWR0aEVzdGltYXRlKCk7dGhpcy5mLmc9YX12YXIgZD10aGlzLmY7YT1kLk07Yj1kLmo7Yz1kLmg7dmFyIGU9ZC5ILGY9ZC5JLGc9ZC5HLGg9ZC5nLGs9XG5kLmYsbD1kLnYsbT1kLmMsbj1OaChkLmIsXCJwbGF5aW5nXCIpLHI9TmgoZC5iLFwicGF1c2VkXCIpLHU9TmgoZC5iLFwiYnVmZmVyaW5nXCIpLHY9ZC5DLHk9ZC5tLHo9ZC53LEE9T2goZC5iKSxEPVtdO2Q9cShkLmEuYSk7Zm9yKHZhciBCPWQubmV4dCgpOyFCLmRvbmU7Qj1kLm5leHQoKSlCPUIudmFsdWUsRC5wdXNoKHt0aW1lc3RhbXA6Qi50aW1lc3RhbXAsaWQ6Qi5pZCx0eXBlOkIudHlwZSxmcm9tQWRhcHRhdGlvbjpCLmZyb21BZGFwdGF0aW9uLGJhbmR3aWR0aDpCLmJhbmR3aWR0aH0pO3JldHVybnt3aWR0aDphLGhlaWdodDpiLHN0cmVhbUJhbmR3aWR0aDpjLGRlY29kZWRGcmFtZXM6ZSxkcm9wcGVkRnJhbWVzOmYsY29ycnVwdGVkRnJhbWVzOmcsZXN0aW1hdGVkQmFuZHdpZHRoOmgsbG9hZExhdGVuY3k6ayxtYW5pZmVzdFRpbWVTZWNvbmRzOmwsZHJtVGltZVNlY29uZHM6bSxwbGF5VGltZTpuLHBhdXNlVGltZTpyLGJ1ZmZlcmluZ1RpbWU6dSxsaWNlbnNlVGltZTp2LGxpdmVMYXRlbmN5OnksXG5tYXhTZWdtZW50RHVyYXRpb246eixzdGF0ZUhpc3Rvcnk6QSxzd2l0Y2hIaXN0b3J5OkR9fTtcbnAuYWRkVGV4dFRyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZih0aGlzLmc9PVZpKXRocm93IEVycm9yKFwiU3RhdGUgZXJyb3IhXCIpO2lmKHRoaXMuZyE9TWkpdGhyb3cgRXJyb3IoXCJTdGF0ZSBlcnJvciFcIik7dmFyIGc9dGhpcy5vLnByZXNlbnRhdGlvblRpbWVsaW5lLmdldER1cmF0aW9uKCk7aWYoSW5maW5pdHk9PWcpdGhyb3cgbmV3IEwoMSw0LDQwMzMpO2E9e2lkOnRoaXMucWQrKyxvcmlnaW5hbElkOm51bGwsY3JlYXRlU2VnbWVudEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxzZWdtZW50SW5kZXg6eGcoMCxnLFthXSksbWltZVR5cGU6ZCxjb2RlY3M6ZXx8XCJcIixraW5kOmMsZW5jcnlwdGVkOiExLGRybUluZm9zOltdLGtleUlkczpuZXcgU2V0LGxhbmd1YWdlOmIsbGFiZWw6Znx8bnVsbCx0eXBlOlwidGV4dFwiLHByaW1hcnk6ITEsdHJpY2tNb2RlVmlkZW86bnVsbCxlbXNnU2NoZW1lSWRVcmlzOm51bGwscm9sZXM6W10sY2hhbm5lbHNDb3VudDpudWxsLFxuYXVkaW9TYW1wbGluZ1JhdGU6bnVsbCxjbG9zZWRDYXB0aW9uczpudWxsfTt0aGlzLm8udGV4dFN0cmVhbXMucHVzaChhKTtUaSh0aGlzKTtyZXR1cm4ga2YoYSl9O3AuaGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLkdjLndpZHRoPWE7dGhpcy5HYy5oZWlnaHQ9Yn07cC5jZD1mdW5jdGlvbigpe2lmKHRoaXMuZz09TWkpe3ZhciBhPXRoaXMuYztpZihhLkQuYSlhPSExO2Vsc2UgaWYoYS5nKWE9ITE7ZWxzZXtmb3IodmFyIGI9cShhLmEudmFsdWVzKCkpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWM9Yy52YWx1ZSxjLkZiJiYoYy5GYj0hMSxUZyhhLGMsLjEpKTthPSEwfX1lbHNlIGE9ITE7cmV0dXJuIGF9O1xucC5sZT1mdW5jdGlvbigpe1dhKFwiU2hha2EgUGxheWVyJ3MgaW50ZXJuYWwgTWFuaWZlc3Qgc3RydWN0dXJlIGlzIE5PVCBjb3ZlcmVkIGJ5IHNlbWFudGljIHZlcnNpb25pbmcgY29tcGF0aWJpbGl0eSBndWFyYW50ZWVzLiAgSXQgbWF5IGNoYW5nZSBhdCBhbnkgdGltZSEgIFBsZWFzZSBjb25zaWRlciBmaWxpbmcgYSBmZWF0dXJlIHJlcXVlc3QgZm9yIHdoYXRldmVyIHlvdSB1c2UgZ2V0TWFuaWZlc3QoKSBmb3IuXCIpO3JldHVybiB0aGlzLm99O3AubWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5XYn07XG5mdW5jdGlvbiBVaChhKXt2YXIgYj1JaCgpO2Iuc3RyZWFtaW5nLmZhaWx1cmVDYWxsYmFjaz1mdW5jdGlvbihjKXt2YXIgZD1bMTAwMSwxMDAyLDEwMDNdO2EuUygpJiZkLmluY2x1ZGVzKGMuY29kZSkmJihjLnNldmVyaXR5PTEsYS5jZCgpKX07Yi50ZXh0RGlzcGxheUZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gYS5ZYj9uZXcgeWgoYS5hLGEuWWIpOm5ldyB1aChhLmEpfTtyZXR1cm4gYn1wLlFkPWZ1bmN0aW9uKGEpe3RoaXMuWWI9YX07XG5mdW5jdGlvbiBGaShhKXtmb3IodmFyIGI9bmV3IE1hcCxjPXEoYS5vLnZhcmlhbnRzKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlpZihkPWQudmFsdWUsZC52aWRlbyYmZC52aWRlby5jbG9zZWRDYXB0aW9ucyl7ZD1kLnZpZGVvO2Zvcih2YXIgZT1xKGQuY2xvc2VkQ2FwdGlvbnMua2V5cygpKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSlpZihmPWYudmFsdWUsIWIuaGFzKGYpKXt2YXIgZz17aWQ6YS5xZCsrLG9yaWdpbmFsSWQ6ZixjcmVhdGVTZWdtZW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHNlZ21lbnRJbmRleDpudWxsLG1pbWVUeXBlOlwiYXBwbGljYXRpb24vY2VhLTYwOFwiLGNvZGVjczpcIlwiLGtpbmQ6XCJjYXB0aW9uXCIsZW5jcnlwdGVkOiExLGRybUluZm9zOltdLGtleUlkczpuZXcgU2V0LGxhbmd1YWdlOmQuY2xvc2VkQ2FwdGlvbnMuZ2V0KGYpLGxhYmVsOm51bGwsdHlwZTpcInRleHRcIixwcmltYXJ5OiExLHRyaWNrTW9kZVZpZGVvOm51bGwsXG5lbXNnU2NoZW1lSWRVcmlzOm51bGwscm9sZXM6ZC5yb2xlcyxjaGFubmVsc0NvdW50Om51bGwsYXVkaW9TYW1wbGluZ1JhdGU6bnVsbCxjbG9zZWRDYXB0aW9uczpudWxsfTtiLnNldChmLGcpfX1iPXEoYi52YWx1ZXMoKSk7Zm9yKGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWEuby50ZXh0U3RyZWFtcy5wdXNoKGMudmFsdWUpfVxucC5mYj1mdW5jdGlvbihhKXtnZih0aGlzLmgsdGhpcy5jP3RoaXMuYy5iOm51bGwsYSk7aWYoIWEudmFyaWFudHMuc29tZShwZikpdGhyb3cgbmV3IEwoMiw0LDQwMzIpO2Zvcih2YXIgYj10aGlzLmkucmVzdHJpY3Rpb25zLGM9dGhpcy5HYyxkPSExLGU9cShhLnZhcmlhbnRzKSxmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl7Zj1mLnZhbHVlO3ZhciBnPWYuYWxsb3dlZEJ5QXBwbGljYXRpb247Zi5hbGxvd2VkQnlBcHBsaWNhdGlvbj1mZihmLGIsYyk7ZyE9Zi5hbGxvd2VkQnlBcHBsaWNhdGlvbiYmKGQ9ITApfWQmJnRoaXMuYyYmVGkodGhpcyk7aWYoYj10aGlzLmg/dGhpcy5oLmM6bnVsbClmb3IoYz1xKGEudmFyaWFudHMpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWZvcihkPWQudmFsdWUsZD1xKChkLnZpZGVvP2QudmlkZW8uZHJtSW5mb3M6W10pLmNvbmNhdChkLmF1ZGlvP2QuYXVkaW8uZHJtSW5mb3M6W10pKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSlpZihlPVxuZS52YWx1ZSxlLmtleVN5c3RlbT09Yi5rZXlTeXN0ZW0pZm9yKGU9cShlLmluaXREYXRhfHxbXSksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZj1mLnZhbHVlLEFkKHRoaXMuaCxmLmluaXREYXRhVHlwZSxmLmluaXREYXRhKTtpaih0aGlzLGEpfTtcbmZ1bmN0aW9uIFJpKGEsYil7dmFyIGMsZCxlLGYsZztyZXR1cm4gSihmdW5jdGlvbihoKXtpZigxPT1oLmEpcmV0dXJuIGM9YS5hdWRpbyxkPWEudmlkZW8sZT1mdW5jdGlvbihrLGwpe3ZhciBtLG47cmV0dXJuIEooZnVuY3Rpb24ocil7aWYoMT09ci5hKXJldHVybiBrP3QocixrLmNyZWF0ZVNlZ21lbnRJbmRleCgpLDIpOnJbXCJyZXR1cm5cIl0obnVsbCk7bT1rLnNlZ21lbnRJbmRleFtTeW1ib2wuaXRlcmF0b3JdKCkuc2VlayhsKTtpZighbSlyZXR1cm4gcltcInJldHVyblwiXShudWxsKTtuPW0uc3RhcnRUaW1lO3JldHVybiByW1wicmV0dXJuXCJdKG4pfSl9LHQoaCxlKGMsYiksMik7aWYoMyE9aC5hKXJldHVybiBmPWguYix0KGgsZShkLGIpLDMpO2c9aC5iO3JldHVybiBudWxsIT1nJiZudWxsIT1mP2hbXCJyZXR1cm5cIl0oTWF0aC5tYXgoZyxmKSk6bnVsbCE9Zz9oW1wicmV0dXJuXCJdKGcpOm51bGwhPWY/aFtcInJldHVyblwiXShmKTpoW1wicmV0dXJuXCJdKGIpfSl9XG5mdW5jdGlvbiBzaShhKXt2YXIgYj1hLk1jKCk7aWYoYS5mJiZhLkMmJmEudil7dmFyIGM9YS53O2MuZj1iO21nKGMpO0RpKGEpfWEuZGlzcGF0Y2hFdmVudChnaShqaix7YnVmZmVyaW5nOmJ9KSl9ZnVuY3Rpb24gRWkoYSl7dmFyIGI9YS5hLnBsYXliYWNrUmF0ZTswIT1iJiYoYS53JiZhLncuc2V0KGIpLGI9Z2koa2opLGEuZGlzcGF0Y2hFdmVudChiKSl9ZnVuY3Rpb24gRGkoYSl7aWYoYS5mJiZhLkMpe3ZhciBiPWEuZi5iO2EuQy5hPT1HZj9NaChiLFwiYnVmZmVyaW5nXCIpOmEuYS5wYXVzZWQ/TWgoYixcInBhdXNlZFwiKTphLmEuZW5kZWQ/TWgoYixcImVuZGVkXCIpOk1oKGIsXCJwbGF5aW5nXCIpfX1cbmZ1bmN0aW9uIE9pKGEpe3RyeXtpaihhLGEubyl9Y2F0Y2goYyl7cmV0dXJuIHFpKGEsYyksITF9dmFyIGI9YS5vLnZhcmlhbnRzLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4gcGYoYyl9KTtiPWEueGIuY3JlYXRlKGIpO2Euai5zZXRWYXJpYW50cyhBcnJheS5mcm9tKGIudmFsdWVzKCkpKTtyZXR1cm4hMH1mdW5jdGlvbiBkaihhKXt2YXIgYjtpZihiPU9pKGEpP2Euai5jaG9vc2VWYXJpYW50KCk6bnVsbCl7aWYoYj09YS5jLmIpcmV0dXJuO1FoKGEuZi5hLGIsITApO1hnKGEuYyxiLCEwLDApO2ZqKGEpfUhpKGEpfWZ1bmN0aW9uIFBpKGEsYixjKXthPVIoYS5pLnByZWZlcnJlZFRleHRMYW5ndWFnZSk7Yj1SKGIubGFuZ3VhZ2UpO2M9UihjLmxhbmd1YWdlKTtyZXR1cm4gWGUoYyxhKSYmIVhlKGIsYyl9ZnVuY3Rpb24gSGkoYSl7dmFyIGI9Z2kobGopO21qKGEsYil9ZnVuY3Rpb24gVGkoYSl7dmFyIGI9Z2kobmopO21qKGEsYil9XG5mdW5jdGlvbiBmaihhKXt2YXIgYj1naShvaik7bWooYSxiKX1mdW5jdGlvbiBlaihhKXt2YXIgYj1naShwaik7bWooYSxiKX1mdW5jdGlvbiBRaShhKXt2YXIgYj1naShxaik7bWooYSxiKX1mdW5jdGlvbiBTaShhKXt2YXIgYj1naShyaix7SmY6YS5pLmFici5lbmFibGVkfSk7bWooYSxiKX1mdW5jdGlvbiBxaShhLGIpe2lmKGEuZyE9amkpe3ZhciBjPWdpKHNqLHtkZXRhaWw6Yn0pO2EuZGlzcGF0Y2hFdmVudChjKTtjLmRlZmF1bHRQcmV2ZW50ZWQmJihiLmhhbmRsZWQ9ITApfX1mdW5jdGlvbiB2aShhLGIsYyl7YS5kaXNwYXRjaEV2ZW50KGdpKGIse2RldGFpbDp7c2NoZW1lSWRVcmk6Yy5zY2hlbWVJZFVyaSx2YWx1ZTpjLnZhbHVlLHN0YXJ0VGltZTpjLnN0YXJ0VGltZSxlbmRUaW1lOmMuZW5kVGltZSxpZDpjLmlkLGV2ZW50RWxlbWVudDpjLmV2ZW50RWxlbWVudH19KSl9XG5mdW5jdGlvbiBwaShhKXtpZighYS5hLmVycm9yKXJldHVybiBudWxsO3ZhciBiPWEuYS5lcnJvci5jb2RlO2lmKDE9PWIpcmV0dXJuIG51bGw7dmFyIGM9YS5hLmVycm9yLm1zRXh0ZW5kZWRDb2RlO2MmJigwPmMmJihjKz1NYXRoLnBvdygyLDMyKSksYz1jLnRvU3RyaW5nKDE2KSk7cmV0dXJuIG5ldyBMKDIsMywzMDE2LGIsYyxhLmEuZXJyb3IubWVzc2FnZSl9XG5mdW5jdGlvbiBBaShhLGIpe2lmKGEuYyl7dmFyIGM9T2JqZWN0LmtleXMoYiksZD0xPT1jLmxlbmd0aCYmXCIwMFwiPT1jWzBdLGU9ITE7aWYoYy5sZW5ndGgpe2M9cShhLm8udmFyaWFudHMpO2Zvcih2YXIgZj1jLm5leHQoKTshZi5kb25lO2Y9Yy5uZXh0KCkpe2Y9Zi52YWx1ZTt2YXIgZz1bXTtmLmF1ZGlvJiZnLnB1c2goZi5hdWRpbyk7Zi52aWRlbyYmZy5wdXNoKGYudmlkZW8pO2c9cShnKTtmb3IodmFyIGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKXt2YXIgaz1oLnZhbHVlO2g9Zi5hbGxvd2VkQnlLZXlTeXN0ZW07aWYoay5rZXlJZHMuc2l6ZSl7Zi5hbGxvd2VkQnlLZXlTeXN0ZW09ITA7az1xKGsua2V5SWRzKTtmb3IodmFyIGw9ay5uZXh0KCk7IWwuZG9uZTtsPWsubmV4dCgpKWw9bC52YWx1ZSxsPWJbZD9cIjAwXCI6bF0sZi5hbGxvd2VkQnlLZXlTeXN0ZW09Zi5hbGxvd2VkQnlLZXlTeXN0ZW0mJiEhbCYmIXRqLmluY2x1ZGVzKGwpfWghPWYuYWxsb3dlZEJ5S2V5U3lzdGVtJiZcbihlPSEwKX19fWUmJk9pKGEpOyhkPWEuYy5iKSYmIWQuYWxsb3dlZEJ5S2V5U3lzdGVtJiZkaihhKTtlJiZUaShhKX19ZnVuY3Rpb24gQmkoYSxiLGMpe2lmKGEubSYmYS5tLm9uRXhwaXJhdGlvblVwZGF0ZWQpYS5tLm9uRXhwaXJhdGlvblVwZGF0ZWQoYixjKTtiPWdpKHVqKTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gR2koYSxiLGMpezA8YiYmKGEuUygpfHxhLlBkKGIpKTtiPWEuZ2V0RHVyYXRpb24oKTtjPGImJihhLlMoKXx8YS54YShjKSl9XG5mdW5jdGlvbiBpaihhLGIpe3ZhciBjPWEuaD9QYyhhLmguVCk6e30sZD1PYmplY3Qua2V5cyhjKTtkPWQubGVuZ3RoJiZcIjAwXCI9PWRbMF07Zm9yKHZhciBlPSExLGY9ITEsZz1uZXcgU2V0LGg9bmV3IFNldCxrPXEoYi52YXJpYW50cyksbD1rLm5leHQoKTshbC5kb25lO2w9ay5uZXh0KCkpe2w9bC52YWx1ZTt2YXIgbT1bXTtsLmF1ZGlvJiZtLnB1c2gobC5hdWRpbyk7bC52aWRlbyYmbS5wdXNoKGwudmlkZW8pO209cShtKTtmb3IodmFyIG49bS5uZXh0KCk7IW4uZG9uZTtuPW0ubmV4dCgpKWlmKG49bi52YWx1ZSxuLmtleUlkcy5zaXplKXtuPXEobi5rZXlJZHMpO2Zvcih2YXIgcj1uLm5leHQoKTshci5kb25lO3I9bi5uZXh0KCkpe3I9ci52YWx1ZTt2YXIgdT1jW2Q/XCIwMFwiOnJdO3U/dGouaW5jbHVkZXModSkmJmguYWRkKHUpOmcuYWRkKHIpfX1sLmFsbG93ZWRCeUFwcGxpY2F0aW9uP2wuYWxsb3dlZEJ5S2V5U3lzdGVtJiYoZT0hMCk6Zj0hMH1pZighZSl0aHJvdyBjPXtoYXNBcHBSZXN0cmljdGlvbnM6Zixcbm1pc3NpbmdLZXlzOkFycmF5LmZyb20oZykscmVzdHJpY3RlZEtleVN0YXR1c2VzOkFycmF5LmZyb20oaCl9LG5ldyBMKDIsNCw0MDEyLGMpO31mdW5jdGlvbiBtaihhLGIpe0ooZnVuY3Rpb24oYyl7aWYoMT09Yy5hKXJldHVybiB0KGMsUHJvbWlzZS5yZXNvbHZlKCksMik7YS5nIT1qaSYmYS5kaXNwYXRjaEV2ZW50KGIpO3coYyl9KX1mdW5jdGlvbiBoaihhKXt2YXIgYj1uZXcgU2V0O2E9cShhKTtmb3IodmFyIGM9YS5uZXh0KCk7IWMuZG9uZTtjPWEubmV4dCgpKWM9Yy52YWx1ZSxjLmxhbmd1YWdlP2IuYWRkKFIoYy5sYW5ndWFnZSkpOmIuYWRkKFwidW5kXCIpO3JldHVybiBifVxuZnVuY3Rpb24gZ2ooYSl7dmFyIGI9bmV3IE1hcDthPXEoYSk7Zm9yKHZhciBjPWEubmV4dCgpOyFjLmRvbmU7Yz1hLm5leHQoKSl7dmFyIGQ9Yy52YWx1ZTtjPVwidW5kXCI7dmFyIGU9W107ZC5sYW5ndWFnZSYmKGM9UihkLmxhbmd1YWdlKSk7XCJ2YXJpYW50XCI9PWQudHlwZT9lPWQuYXVkaW9Sb2xlczplPWQucm9sZXM7ZSYmZS5sZW5ndGh8fChlPVtcIlwiXSk7Yi5oYXMoYyl8fGIuc2V0KGMsbmV3IFNldCk7ZD1xKGUpO2ZvcihlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSllPWUudmFsdWUsYi5nZXQoYykuYWRkKGUpfXZhciBmPVtdO2IuZm9yRWFjaChmdW5jdGlvbihnLGgpe2Zvcih2YXIgaz1xKGcpLGw9ay5uZXh0KCk7IWwuZG9uZTtsPWsubmV4dCgpKWYucHVzaCh7bGFuZ3VhZ2U6aCxyb2xlOmwudmFsdWV9KX0pO3JldHVybiBmfWZ1bmN0aW9uIGtpKCl7cmV0dXJuIG5ldyBMKDIsNyw3RTMpfVxuZnVuY3Rpb24gZmkoYSxiLGMsZCxlLGYpe3JldHVybiBkPT1hJiZlLkE9PWYuQSYmZS51cmk9PWYudXJpJiZlLm1pbWVUeXBlPT1mLm1pbWVUeXBlP2I6Y31mdW5jdGlvbiBvaCgpe3JldHVybntBOm51bGwsbWltZVR5cGU6bnVsbCxzdGFydFRpbWU6bnVsbCxsZDpOYU4sdXJpOm51bGx9fWZ1bmN0aW9uIGxpKGEpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihiLGMpe2EuVWE9ZnVuY3Rpb24oKXtyZXR1cm4gYyhraSgpKX07YS5oYz1mdW5jdGlvbigpe3JldHVybiBiKCl9O2Eub25FcnJvcj1mdW5jdGlvbihkKXtyZXR1cm4gYyhkKX07YS5qYz1mdW5jdGlvbigpe3JldHVybiBjKGtpKCkpfX0pfUsoXCJzaGFrYS5QbGF5ZXJcIixWKTtWLnByb3RvdHlwZS5zZXRWaWRlb0NvbnRhaW5lcj1WLnByb3RvdHlwZS5RZDtWLnByb3RvdHlwZS5nZXRNYW5pZmVzdFBhcnNlckZhY3Rvcnk9Vi5wcm90b3R5cGUubWU7Vi5wcm90b3R5cGUuZ2V0TWFuaWZlc3Q9Vi5wcm90b3R5cGUubGU7XG5WLnByb3RvdHlwZS5yZXRyeVN0cmVhbWluZz1WLnByb3RvdHlwZS5jZDtWLnByb3RvdHlwZS5zZXRNYXhIYXJkd2FyZVJlc29sdXRpb249Vi5wcm90b3R5cGUuaGQ7Vi5wcm90b3R5cGUuYWRkVGV4dFRyYWNrPVYucHJvdG90eXBlLmFkZFRleHRUcmFjaztWLnByb3RvdHlwZS5nZXRTdGF0cz1WLnByb3RvdHlwZS5nZXRTdGF0cztWLnByb3RvdHlwZS5nZXRCdWZmZXJlZEluZm89Vi5wcm90b3R5cGUuY2M7Vi5wcm90b3R5cGUuZ2V0UHJlc2VudGF0aW9uU3RhcnRUaW1lQXNEYXRlPVYucHJvdG90eXBlLnlkO1YucHJvdG90eXBlLmdldFBsYXloZWFkVGltZUFzRGF0ZT1WLnByb3RvdHlwZS5zZTtWLnByb3RvdHlwZS5zZXRUZXh0VHJhY2tWaXNpYmlsaXR5PVYucHJvdG90eXBlLlhlO1YucHJvdG90eXBlLmlzVGV4dFRyYWNrVmlzaWJsZT1WLnByb3RvdHlwZS5OYztWLnByb3RvdHlwZS5zZWxlY3RWYXJpYW50c0J5TGFiZWw9Vi5wcm90b3R5cGUuUmU7XG5WLnByb3RvdHlwZS5zZWxlY3RUZXh0TGFuZ3VhZ2U9Vi5wcm90b3R5cGUuZmQ7Vi5wcm90b3R5cGUuc2VsZWN0QXVkaW9MYW5ndWFnZT1WLnByb3RvdHlwZS5lZDtWLnByb3RvdHlwZS5nZXRUZXh0TGFuZ3VhZ2VzPVYucHJvdG90eXBlLnhlO1YucHJvdG90eXBlLmdldEF1ZGlvTGFuZ3VhZ2VzPVYucHJvdG90eXBlLmZlO1YucHJvdG90eXBlLmdldFRleHRMYW5ndWFnZXNBbmRSb2xlcz1WLnByb3RvdHlwZS55ZTtWLnByb3RvdHlwZS5nZXRBdWRpb0xhbmd1YWdlc0FuZFJvbGVzPVYucHJvdG90eXBlLmdlO1YucHJvdG90eXBlLnNlbGVjdFZhcmlhbnRUcmFjaz1WLnByb3RvdHlwZS5RZTtWLnByb3RvdHlwZS5zZWxlY3RUZXh0VHJhY2s9Vi5wcm90b3R5cGUuTmQ7Vi5wcm90b3R5cGUuZ2V0VGV4dFRyYWNrcz1WLnByb3RvdHlwZS5mYztWLnByb3RvdHlwZS5nZXRWYXJpYW50VHJhY2tzPVYucHJvdG90eXBlLkxjO1YucHJvdG90eXBlLmNhbmNlbFRyaWNrUGxheT1WLnByb3RvdHlwZS4kZDtcblYucHJvdG90eXBlLnRyaWNrUGxheT1WLnByb3RvdHlwZS4kZTtWLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vi5wcm90b3R5cGUucWU7Vi5wcm90b3R5cGUuaXNCdWZmZXJpbmc9Vi5wcm90b3R5cGUuTWM7Vi5wcm90b3R5cGUuZ2V0RXhwaXJhdGlvbj1WLnByb3RvdHlwZS5DYjtWLnByb3RvdHlwZS5kcm1JbmZvPVYucHJvdG90eXBlLmRybUluZm87Vi5wcm90b3R5cGUua2V5U3lzdGVtPVYucHJvdG90eXBlLmtleVN5c3RlbTtWLnByb3RvdHlwZS5zZWVrUmFuZ2U9Vi5wcm90b3R5cGUuZGQ7Vi5wcm90b3R5cGUuaXNBdWRpb09ubHk9Vi5wcm90b3R5cGUuQmU7Vi5wcm90b3R5cGUuaXNJblByb2dyZXNzPVYucHJvdG90eXBlLlRhO1YucHJvdG90eXBlLmlzTGl2ZT1WLnByb3RvdHlwZS5TO1YucHJvdG90eXBlLmdldEFkTWFuYWdlcj1WLnByb3RvdHlwZS54ZDtWLnByb3RvdHlwZS5nZXRBc3NldFVyaT1WLnByb3RvdHlwZS5JYztcblYucHJvdG90eXBlLmdldE5ldHdvcmtpbmdFbmdpbmU9Vi5wcm90b3R5cGUuRGI7Vi5wcm90b3R5cGUuZ2V0TWVkaWFFbGVtZW50PVYucHJvdG90eXBlLm9lO1YucHJvdG90eXBlLmdldExvYWRNb2RlPVYucHJvdG90eXBlLmtlO1YucHJvdG90eXBlLnJlc2V0Q29uZmlndXJhdGlvbj1WLnByb3RvdHlwZS5QZTtWLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVYucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb247Vi5wcm90b3R5cGUuY29uZmlndXJlPVYucHJvdG90eXBlLmNvbmZpZ3VyZTtWLnByb3RvdHlwZS5sb2FkPVYucHJvdG90eXBlLmxvYWQ7Vi5wcm90b3R5cGUudW5sb2FkPVYucHJvdG90eXBlLm9kO1YucHJvdG90eXBlLmRldGFjaD1WLnByb3RvdHlwZS5kZXRhY2g7Vi5wcm90b3R5cGUuYXR0YWNoPVYucHJvdG90eXBlLnliO1xuVi5wcm9iZVN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7aWYoMT09Zy5hKXJldHVybiB0KGcsT2QoKSwyKTthPWcuYjt2YXIgaD17fTtpZihWYygpKXtmb3IodmFyIGsgaW4gS2YpaFtrXT0hMDtmb3IodmFyIGwgaW4gTWYpaFtsXT0hMH1rPXttcGQ6XCJhcHBsaWNhdGlvbi9kYXNoK3htbFwiLG0zdTg6XCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixpc206XCJhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWxcIn07bD1xKFtcImFwcGxpY2F0aW9uL2Rhc2greG1sXCIsXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIixcImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsXCIsXCJhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWxcIl0pO2Zvcih2YXIgbT1sLm5leHQoKTshbS5kb25lO209bC5uZXh0KCkpbT1tLnZhbHVlLGhbbV09VmMoKT8hIUtmW21dOldjKG0pO2Zvcih2YXIgbiBpbiBrKWhbbl09VmMoKT8hIU1mW25dOldjKGtbbl0pO2I9aDtoPXt9O249cSgndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiLHZpZGVvL21wNDsgY29kZWNzPVwiYXZjMy40MkUwMUVcIix2aWRlby9tcDQ7IGNvZGVjcz1cImhldjEuMS42Lkw5My45MFwiLHZpZGVvL21wNDsgY29kZWNzPVwiaHZjMS4xLjYuTDkzLjkwXCIsdmlkZW8vbXA0OyBjb2RlY3M9XCJoZXYxLjIuNC5MMTUzLkIwXCI7IGVvdGY9XCJzbXB0ZTIwODRcIix2aWRlby9tcDQ7IGNvZGVjcz1cImh2YzEuMi40LkwxNTMuQjBcIjsgZW90Zj1cInNtcHRlMjA4NFwiLHZpZGVvL21wNDsgY29kZWNzPVwidnA5XCIsdmlkZW8vbXA0OyBjb2RlY3M9XCJ2cDA5LjAwLjEwLjA4XCIsdmlkZW8vbXA0OyBjb2RlY3M9XCJhdjAxLjAuMDFNLjA4XCIsYXVkaW8vbXA0OyBjb2RlY3M9XCJtcDRhLjQwLjJcIixhdWRpby9tcDQ7IGNvZGVjcz1cImFjLTNcIixhdWRpby9tcDQ7IGNvZGVjcz1cImVjLTNcIixhdWRpby9tcDQ7IGNvZGVjcz1cIm9wdXNcIixhdWRpby9tcDQ7IGNvZGVjcz1cImZsYWNcIix2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDhcIix2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDlcIix2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDA5LjAwLjEwLjA4XCIsYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCIsYXVkaW8vd2VibTsgY29kZWNzPVwib3B1c1wiLHZpZGVvL21wMnQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCIsdmlkZW8vbXAydDsgY29kZWNzPVwiYXZjMy40MkUwMUVcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJodmMxLjEuNi5MOTMuOTBcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJtcDRhLjQwLjJcIix2aWRlby9tcDJ0OyBjb2RlY3M9XCJhYy0zXCIsdmlkZW8vbXAydDsgY29kZWNzPVwiZWMtM1wiLHRleHQvdnR0LGFwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwid3Z0dFwiLGFwcGxpY2F0aW9uL3R0bWwreG1sLGFwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwic3RwcFwiJy5zcGxpdChcIixcIikpO1xuZm9yKGs9bi5uZXh0KCk7IWsuZG9uZTtrPW4ubmV4dCgpKWs9ay52YWx1ZSxoW2tdPVZjKCk/eGUoayk/ITA6TWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGspfHxjZShrKTpXYyhrKSxsPWsuc3BsaXQoXCI7XCIpWzBdLGhbbF09aFtsXXx8aFtrXTtjPWg7ZD17bWFuaWZlc3Q6YixtZWRpYTpjLGRybTphfTtlPXZqO2ZvcihmIGluIGUpZFtmXT1lW2ZdKCk7cmV0dXJuIGdbXCJyZXR1cm5cIl0oZCl9KX07XG5WLmlzQnJvd3NlclN1cHBvcnRlZD1mdW5jdGlvbigpe2lmKCEod2luZG93LlByb21pc2UmJndpbmRvdy5VaW50OEFycmF5JiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaCkpcmV0dXJuITE7dmFyIGE9JGMoKTtyZXR1cm4gYSYmMTI+YXx8ISh3aW5kb3cuTWVkaWFLZXlzJiZ3aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyYmd2luZG93Lk1lZGlhS2V5U3lzdGVtQWNjZXNzJiZ3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3MucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb24pPyExOlZjKCk/ITA6V2MoXCJhcHBsaWNhdGlvbi94LW1wZWd1cmxcIil9O1Yuc2V0QWRNYW5hZ2VyRmFjdG9yeT1mdW5jdGlvbihhKXtXaD1hfTtWLnJlZ2lzdGVyU3VwcG9ydFBsdWdpbj1mdW5jdGlvbihhLGIpe3ZqW2FdPWJ9O1YucHJvdG90eXBlLmRlc3Ryb3k9Vi5wcm90b3R5cGUuZGVzdHJveTtcbnZhciByaj1cImFicnN0YXR1c2NoYW5nZWRcIixsaj1cImFkYXB0YXRpb25cIixqaj1cImJ1ZmZlcmluZ1wiLENpPVwiZHJtc2Vzc2lvbnVwZGF0ZVwiLGxoPVwiZW1zZ1wiLHNqPVwiZXJyb3JcIix1aj1cImV4cGlyYXRpb251cGRhdGVkXCIsb2k9XCJsb2FkZWRcIixtaT1cImxvYWRpbmdcIix4aT1cIm1hbmlmZXN0cGFyc2VkXCIsWmk9XCJtZXRhZGF0YVwiLGhpPVwib25zdGF0ZWNoYW5nZVwiLGlpPVwib25zdGF0ZWlkbGVcIixraj1cInJhdGVjaGFuZ2VcIixOaT1cInN0cmVhbWluZ1wiLHBqPVwidGV4dGNoYW5nZWRcIixxaj1cInRleHR0cmFja3Zpc2liaWxpdHlcIix3aT1cInRpbWVsaW5lcmVnaW9uYWRkZWRcIixhaj1cInRpbWVsaW5lcmVnaW9uZW50ZXJcIixiaj1cInRpbWVsaW5lcmVnaW9uZXhpdFwiLG5qPVwidHJhY2tzY2hhbmdlZFwiLHJpPVwidW5sb2FkaW5nXCIsb2o9XCJ2YXJpYW50Y2hhbmdlZFwiLHdqPXtnZjpyaixoZjpsaixqZjpqaixrZjpDaSxtZjpsaCxFcnJvcjpzaixuZjp1aixxZjpcImxhcmdlZ2FwXCIscmY6b2ksc2Y6bWksdGY6eGksTWV0YWRhdGE6WmksXG51ZjpoaSx2ZjppaSx3Zjpraix4ZjpOaSx5Zjpwaix6ZjpxaixBZjp3aSxCZjphaixDZjpiaixEZjpuaixFZjpyaSxGZjpvan0samk9MCxUaD0xLE1pPTIsVmk9MztWLkxvYWRNb2RlPXtERVNUUk9ZRUQ6amksTk9UX0xPQURFRDpUaCxNRURJQV9TT1VSQ0U6TWksU1JDX0VRVUFMUzpWaX07Vi52ZXJzaW9uPVwidjMuMC40XCI7dmFyIHhqPVtcIjNcIixcIjBcIl07RWM9bmV3IGZ1bmN0aW9uKGEpe3RoaXMuYT1hO3RoaXMuYz1GYzt0aGlzLmI9R2N9KG5ldyBDYyhOdW1iZXIoeGpbMF0pLE51bWJlcih4alsxXSkpKTt2YXIgdGo9W1wib3V0cHV0LXJlc3RyaWN0ZWRcIixcImludGVybmFsLWVycm9yXCJdLHZqPXt9LFdoPW51bGw7ZnVuY3Rpb24geWooKXt0aGlzLmE9W107dGhpcy5mPXRoaXMuYj10aGlzLmM9MH07ZnVuY3Rpb24gVyhhLGIpe3ZhciBjPXRoaXM7dGhpcy5jPWE7dGhpcy5hPWI7dGhpcy5mPSExO3RoaXMuZz10aGlzLmEuZ2V0Vm9sdW1lKCk7dGhpcy5iPW5ldyBsYzt0aGlzLmIubCh0aGlzLmEsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuUEFVU0VELGZ1bmN0aW9uKCl7Yy5mPSEwfSk7dGhpcy5iLmwodGhpcy5hLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlJFU1VNRUQsZnVuY3Rpb24oKXtjLmY9ITF9KX1wPVcucHJvdG90eXBlO3AuZ2V0RHVyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jLmdldER1cmF0aW9uKCl9O3AuZ2V0UmVtYWluaW5nVGltZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0UmVtYWluaW5nVGltZSgpfTtwLmlzUGF1c2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07cC5pc1NraXBwYWJsZT1mdW5jdGlvbigpe3JldHVybiAwPD10aGlzLmMuZ2V0U2tpcFRpbWVPZmZzZXQoKX07XG5wLmdldFRpbWVVbnRpbFNraXBwYWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5nZXRTa2lwVGltZU9mZnNldCgpO2E9dGhpcy5nZXRSZW1haW5pbmdUaW1lKCktYTtyZXR1cm4gTWF0aC5tYXgoYSwwKX07cC5jYW5Ta2lwTm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5nZXRBZFNraXBwYWJsZVN0YXRlKCl9O3Auc2tpcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuc2tpcCgpfTtwLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5wYXVzZSgpfTtwLnBsYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnJlc3VtZSgpfTtwLmdldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0Vm9sdW1lKCl9O3Auc2V0Vm9sdW1lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuc2V0Vm9sdW1lKGEpfTtwLmlzTXV0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5hLmdldFZvbHVtZSgpfTtcbnAucmVzaXplPWZ1bmN0aW9uKGEsYil7dGhpcy5hLnJlc2l6ZShhLGIsZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/Z29vZ2xlLmltYS5WaWV3TW9kZS5GVUxMU0NSRUVOOmdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMKX07cC5zZXRNdXRlZD1mdW5jdGlvbihhKXthPyh0aGlzLmc9dGhpcy5nZXRWb2x1bWUoKSx0aGlzLnNldFZvbHVtZSgwKSk6dGhpcy5zZXRWb2x1bWUodGhpcy5nKX07cC5nZXRTZXF1ZW5jZUxlbmd0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy5nZXRBZFBvZEluZm8oKTtyZXR1cm4gbnVsbD09YT8xOmEuZ2V0VG90YWxBZHMoKX07cC5nZXRQb3NpdGlvbkluU2VxdWVuY2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuZ2V0QWRQb2RJbmZvKCk7cmV0dXJuIG51bGw9PWE/MTphLmdldEFkUG9zaXRpb24oKX07cC5yZWxlYXNlPWZ1bmN0aW9uKCl7dGhpcy5hPXRoaXMuYz1udWxsfTtLKFwic2hha2EuYWRzLkNsaWVudFNpZGVBZFwiLFcpO1xuVy5wcm90b3R5cGUucmVsZWFzZT1XLnByb3RvdHlwZS5yZWxlYXNlO1cucHJvdG90eXBlLmdldFBvc2l0aW9uSW5TZXF1ZW5jZT1XLnByb3RvdHlwZS5nZXRQb3NpdGlvbkluU2VxdWVuY2U7Vy5wcm90b3R5cGUuZ2V0U2VxdWVuY2VMZW5ndGg9Vy5wcm90b3R5cGUuZ2V0U2VxdWVuY2VMZW5ndGg7Vy5wcm90b3R5cGUuc2V0TXV0ZWQ9Vy5wcm90b3R5cGUuc2V0TXV0ZWQ7Vy5wcm90b3R5cGUucmVzaXplPVcucHJvdG90eXBlLnJlc2l6ZTtXLnByb3RvdHlwZS5pc011dGVkPVcucHJvdG90eXBlLmlzTXV0ZWQ7Vy5wcm90b3R5cGUuc2V0Vm9sdW1lPVcucHJvdG90eXBlLnNldFZvbHVtZTtXLnByb3RvdHlwZS5nZXRWb2x1bWU9Vy5wcm90b3R5cGUuZ2V0Vm9sdW1lO1cucHJvdG90eXBlLnBsYXk9Vy5wcm90b3R5cGUucGxheTtXLnByb3RvdHlwZS5wYXVzZT1XLnByb3RvdHlwZS5wYXVzZTtXLnByb3RvdHlwZS5za2lwPVcucHJvdG90eXBlLnNraXA7XG5XLnByb3RvdHlwZS5jYW5Ta2lwTm93PVcucHJvdG90eXBlLmNhblNraXBOb3c7Vy5wcm90b3R5cGUuZ2V0VGltZVVudGlsU2tpcHBhYmxlPVcucHJvdG90eXBlLmdldFRpbWVVbnRpbFNraXBwYWJsZTtXLnByb3RvdHlwZS5pc1NraXBwYWJsZT1XLnByb3RvdHlwZS5pc1NraXBwYWJsZTtXLnByb3RvdHlwZS5pc1BhdXNlZD1XLnByb3RvdHlwZS5pc1BhdXNlZDtXLnByb3RvdHlwZS5nZXRSZW1haW5pbmdUaW1lPVcucHJvdG90eXBlLmdldFJlbWFpbmluZ1RpbWU7Vy5wcm90b3R5cGUuZ2V0RHVyYXRpb249Vy5wcm90b3R5cGUuZ2V0RHVyYXRpb247ZnVuY3Rpb24gemooYSxiLGMsZCl7dmFyIGU9dGhpczt0aGlzLmo9YTt0aGlzLmE9Yjt0aGlzLm09TmFOO3RoaXMuZj1kO3RoaXMuaD1udWxsO3RoaXMuYj1uZXcgbGM7Z29vZ2xlLmltYS5zZXR0aW5ncy5zZXRMb2NhbGUoYyk7YT1uZXcgZ29vZ2xlLmltYS5BZERpc3BsYXlDb250YWluZXIodGhpcy5qLHRoaXMuYSk7YS5pbml0aWFsaXplKCk7dGhpcy5nPW5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcihhKTt0aGlzLmcuZ2V0U2V0dGluZ3MoKS5zZXRQbGF5ZXJUeXBlKFwic2hha2EtcGxheWVyXCIpO3RoaXMuZy5nZXRTZXR0aW5ncygpLnNldFBsYXllclZlcnNpb24oXCJ2My4wLjRcIik7dGhpcy5jPW51bGw7dGhpcy5iLmhhKHRoaXMuZyxnb29nbGUuaW1hLkFkc01hbmFnZXJMb2FkZWRFdmVudC5UeXBlLkFEU19NQU5BR0VSX0xPQURFRCxmdW5jdGlvbihmKXtBaihlLGYpfSk7dGhpcy5iLmwodGhpcy5nLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0VSUk9SLGZ1bmN0aW9uKGYpe0JqKGUsXG5mKX0pO3RoaXMuYS5vbmVuZGVkPWZ1bmN0aW9uKCl7ZS5nLmNvbnRlbnRDb21wbGV0ZSgpfX16ai5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuYy5zdG9wKCl9O2Z1bmN0aW9uIEJqKGEsYil7Yi5nZXRFcnJvcigpO0NqKGEsbnVsbCk7YS5mKG5ldyBRKFwiYWQtY3VlLXBvaW50cy1jaGFuZ2VkXCIse2N1ZXBvaW50czpbXX0pKX1cbmZ1bmN0aW9uIEFqKGEsYil7YS5mKG5ldyBRKFwiYWRzLWxvYWRlZFwiLHtsb2FkVGltZTpEYXRlLm5vdygpLzFFMy1hLm19KSk7YS5jPWIuZ2V0QWRzTWFuYWdlcihhLmEpO2EuZihuZXcgUShcImltYS1hZC1tYW5hZ2VyLWxvYWRlZFwiLHtpbWFBZHNNYW5hZ2VyOmEuY30pKTt2YXIgYz1hLmMuZ2V0Q3VlUG9pbnRzKCk7aWYoYy5sZW5ndGgpe3ZhciBkPVtdO2M9cShjKTtmb3IodmFyIGU9Yy5uZXh0KCk7IWUuZG9uZTtlPWMubmV4dCgpKWQucHVzaChuZXcgRGooZS52YWx1ZSkpO2EuZihuZXcgUShcImFkLWN1ZS1wb2ludHMtY2hhbmdlZFwiLHtjdWVwb2ludHM6ZH0pKX1FaihhKTt0cnl7YS5jLmluaXQoYS5hLm9mZnNldFdpZHRoLGEuYS5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/Z29vZ2xlLmltYS5WaWV3TW9kZS5GVUxMU0NSRUVOOmdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMKSxhLmIubChhLmEsXCJsb2FkZWRkYXRhXCIsZnVuY3Rpb24oKXthLmMucmVzaXplKGEuYS5vZmZzZXRXaWR0aCxcbmEuYS5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ/Z29vZ2xlLmltYS5WaWV3TW9kZS5GVUxMU0NSRUVOOmdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMKX0pLGEuYy5zdGFydCgpfWNhdGNoKGYpe0NqKGEsbnVsbCl9fVxuZnVuY3Rpb24gRWooYSl7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFcnJvckV2ZW50LlR5cGUuQURfRVJST1IsZnVuY3Rpb24oYil7QmooYSxiKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRCxmdW5jdGlvbihiKXtGaihhLGIpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNUQVJURUQsZnVuY3Rpb24oYil7RmooYSxiKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5GSVJTVF9RVUFSVElMRSxmdW5jdGlvbihiKXthLmYobmV3IFEoXCJhZC1maXJzdC1xdWFydGlsZVwiLHtvcmlnaW5hbEV2ZW50OmJ9KSl9KTthLmIubChhLmMsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTUlEUE9JTlQsZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtbWlkcG9pbnRcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlRISVJEX1FVQVJUSUxFLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLXRoaXJkLXF1YXJ0aWxlXCIsXG57b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLWNvbXBsZXRlXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1JFU1VNRV9SRVFVRVNURUQsZnVuY3Rpb24oYil7Q2ooYSxiKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BTExfQURTX0NPTVBMRVRFRCxmdW5jdGlvbihiKXtDaihhLGIpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNLSVBQRUQsZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtc2tpcHBlZFwiLHtvcmlnaW5hbEV2ZW50OmJ9KSl9KTthLmIubChhLmMsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuVk9MVU1FX0NIQU5HRUQsZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtdm9sdW1lLWNoYW5nZWRcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlZPTFVNRV9NVVRFRCxcbmZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLW11dGVkXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5QQVVTRUQsZnVuY3Rpb24oYil7YS5oLmY9ITA7YS5mKG5ldyBRKFwiYWQtcGF1c2VkXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5SRVNVTUVELGZ1bmN0aW9uKGIpe2EuaC5mPSExO2EuZihuZXcgUShcImFkLXJlc3VtZWRcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNLSVBQQUJMRV9TVEFURV9DSEFOR0VELGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLXNraXAtc3RhdGUtY2hhbmdlZFwiLHtvcmlnaW5hbEV2ZW50OmJ9KSl9KTthLmIubChhLmMsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ0xJQ0ssZnVuY3Rpb24oKXthLmYobmV3IFEoXCJhZC1jbGlja2VkXCIpKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9QUk9HUkVTUyxcbmZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLXByb2dyZXNzXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9CVUZGRVJJTkcsZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtYnVmZmVyaW5nXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5JTVBSRVNTSU9OLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLWltcHJlc3Npb25cIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkRVUkFUSU9OX0NIQU5HRSxmdW5jdGlvbihiKXthLmYobmV3IFEoXCJhZC1kdXJhdGlvbi1jaGFuZ2VkXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5VU0VSX0NMT1NFLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLWNsb3NlZFwiLHtvcmlnaW5hbEV2ZW50OmJ9KSl9KTthLmIubChhLmMsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTE9BREVELFxuZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtbG9hZGVkXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BTExfQURTX0NPTVBMRVRFRCxmdW5jdGlvbihiKXthLmYobmV3IFEoXCJhbGwtYWRzLWNvbXBsZXRlZFwiLHtvcmlnaW5hbEV2ZW50OmJ9KSl9KTthLmIubChhLmMsZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTElORUFSX0NIQU5HRUQsZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtbGluZWFyLWNoYW5nZWRcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX01FVEFEQVRBLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLW1ldGFkYXRhXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pO2EuYi5sKGEuYyxnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0csZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtcmVjb3ZlcmFibGUtZXJyb3JcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLFxuZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQURfQlJFQUtfUkVBRFksZnVuY3Rpb24oYil7YS5mKG5ldyBRKFwiYWQtYnJlYWstcmVhZHlcIix7b3JpZ2luYWxFdmVudDpifSkpfSk7YS5iLmwoYS5jLGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLklOVEVSQUNUSU9OLGZ1bmN0aW9uKGIpe2EuZihuZXcgUShcImFkLWludGVyYWN0aW9uXCIse29yaWdpbmFsRXZlbnQ6Yn0pKX0pfWZ1bmN0aW9uIEZqKGEsYil7dmFyIGM9Yi5nZXRBZCgpO2EuaD1uZXcgVyhjLGEuYyk7YS5mKG5ldyBRKFwiYWQtc3RhcnRlZFwiLHthZDphLmgsc2RrQWRPYmplY3Q6YyxvcmlnaW5hbEV2ZW50OmJ9KSk7YS5qLnNldEF0dHJpYnV0ZShcImFkLWFjdGl2ZVwiLFwidHJ1ZVwiKTthLmEucGF1c2UoKX1mdW5jdGlvbiBDaihhLGIpe2EuZihuZXcgUShcImFkLXN0b3BwZWRcIix7b3JpZ2luYWxFdmVudDpifSkpO2Euai5yZW1vdmVBdHRyaWJ1dGUoXCJhZC1hY3RpdmVcIik7YS5hLnBsYXkoKX07ZnVuY3Rpb24gWShhLGIpe3RoaXMuYz1hO3RoaXMuYj1udWxsO3RoaXMuYT1ifXA9WS5wcm90b3R5cGU7cC5nZXREdXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/dGhpcy5iLmR1cmF0aW9uOi0xfTtwLmdldFJlbWFpbmluZ1RpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi5kdXJhdGlvbi10aGlzLmIuY3VycmVudFRpbWU6LTF9O3AuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnBhdXNlZH07cC5pc1NraXBwYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaXNTa2lwcGFibGUoKX07cC5nZXRUaW1lVW50aWxTa2lwcGFibGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMuZ2V0U2tpcFRpbWVPZmZzZXQoKTthPXRoaXMuZ2V0UmVtYWluaW5nVGltZSgpLWE7cmV0dXJuIE1hdGgubWF4KGEsMCl9O3AuY2FuU2tpcE5vdz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmdldFRpbWVVbnRpbFNraXBwYWJsZSgpfTtcbnAuc2tpcD1mdW5jdGlvbigpe3RoaXMuYS5jdXJyZW50VGltZSs9dGhpcy5nZXRSZW1haW5pbmdUaW1lKCl9O3AucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLnBhdXNlKCl9O3AucGxheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEucGxheSgpfTtwLmdldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEudm9sdW1lfTtwLnNldFZvbHVtZT1mdW5jdGlvbihhKXt0aGlzLmEudm9sdW1lPWF9O3AuaXNNdXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubXV0ZWR9O3AucmVzaXplPWZ1bmN0aW9uKCl7fTtwLnNldE11dGVkPWZ1bmN0aW9uKGEpe3RoaXMuYS5tdXRlZD1hfTtwLmdldFNlcXVlbmNlTGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmdldEFkUG9kSW5mbygpO3JldHVybiBudWxsPT1hPzE6YS5nZXRUb3RhbEFkcygpfTtcbnAuZ2V0UG9zaXRpb25JblNlcXVlbmNlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLmdldEFkUG9kSW5mbygpO3JldHVybiBudWxsPT1hPzE6YS5nZXRBZFBvc2l0aW9uKCl9O3AucmVsZWFzZT1mdW5jdGlvbigpe3RoaXMuYT10aGlzLmI9dGhpcy5jPW51bGx9O0soXCJzaGFrYS5hZHMuU2VydmVyU2lkZUFkXCIsWSk7WS5wcm90b3R5cGUucmVsZWFzZT1ZLnByb3RvdHlwZS5yZWxlYXNlO1kucHJvdG90eXBlLmdldFBvc2l0aW9uSW5TZXF1ZW5jZT1ZLnByb3RvdHlwZS5nZXRQb3NpdGlvbkluU2VxdWVuY2U7WS5wcm90b3R5cGUuZ2V0U2VxdWVuY2VMZW5ndGg9WS5wcm90b3R5cGUuZ2V0U2VxdWVuY2VMZW5ndGg7WS5wcm90b3R5cGUuc2V0TXV0ZWQ9WS5wcm90b3R5cGUuc2V0TXV0ZWQ7WS5wcm90b3R5cGUucmVzaXplPVkucHJvdG90eXBlLnJlc2l6ZTtZLnByb3RvdHlwZS5pc011dGVkPVkucHJvdG90eXBlLmlzTXV0ZWQ7WS5wcm90b3R5cGUuc2V0Vm9sdW1lPVkucHJvdG90eXBlLnNldFZvbHVtZTtcblkucHJvdG90eXBlLmdldFZvbHVtZT1ZLnByb3RvdHlwZS5nZXRWb2x1bWU7WS5wcm90b3R5cGUucGxheT1ZLnByb3RvdHlwZS5wbGF5O1kucHJvdG90eXBlLnBhdXNlPVkucHJvdG90eXBlLnBhdXNlO1kucHJvdG90eXBlLnNraXA9WS5wcm90b3R5cGUuc2tpcDtZLnByb3RvdHlwZS5jYW5Ta2lwTm93PVkucHJvdG90eXBlLmNhblNraXBOb3c7WS5wcm90b3R5cGUuZ2V0VGltZVVudGlsU2tpcHBhYmxlPVkucHJvdG90eXBlLmdldFRpbWVVbnRpbFNraXBwYWJsZTtZLnByb3RvdHlwZS5pc1NraXBwYWJsZT1ZLnByb3RvdHlwZS5pc1NraXBwYWJsZTtZLnByb3RvdHlwZS5pc1BhdXNlZD1ZLnByb3RvdHlwZS5pc1BhdXNlZDtZLnByb3RvdHlwZS5nZXRSZW1haW5pbmdUaW1lPVkucHJvdG90eXBlLmdldFJlbWFpbmluZ1RpbWU7WS5wcm90b3R5cGUuZ2V0RHVyYXRpb249WS5wcm90b3R5cGUuZ2V0RHVyYXRpb247ZnVuY3Rpb24gR2ooYSxiLGMsZCl7dmFyIGU9dGhpczt0aGlzLnY9YTt0aGlzLmE9Yjt0aGlzLmc9bnVsbDt0aGlzLkc9TmFOO3RoaXMuZj1kO3RoaXMuQz0hMTt0aGlzLnc9dGhpcy5oPXRoaXMuaj1udWxsO3RoaXMubT1cIlwiO3RoaXMuYj1uZXcgbGM7YT1uZXcgZ29vZ2xlLmltYS5kYWkuYXBpLlVpU2V0dGluZ3M7YS5zZXRMb2NhbGUoYyk7dGhpcy5jPW5ldyBnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtTWFuYWdlcih0aGlzLmEsdGhpcy52LGEpO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5MT0FERUQsZnVuY3Rpb24oZil7SGooZSxmKX0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5FUlJPUixmdW5jdGlvbigpe2UubS5sZW5ndGg/ZS5nLnJlc29sdmUoZS5tKTplLmcucmVqZWN0KFwiSU1BIFN0cmVhbSByZXF1ZXN0IHJldHVybmVkIGFuIGVycm9yIGFuZCB0aGVyZSB3YXMgbm8gYmFja3VwIGFzc2V0IHVyaSBwcm92aWRlZC5cIik7XG5lLmc9bnVsbH0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5BRF9CUkVBS19TVEFSVEVELGZ1bmN0aW9uKCl7fSk7dGhpcy5iLmwodGhpcy5jLGdvb2dsZS5pbWEuZGFpLmFwaS5TdHJlYW1FdmVudC5UeXBlLlNUQVJURUQsZnVuY3Rpb24oZil7Zj1mLmdldEFkKCk7ZS5oPW5ldyBZKGYsZS5hKTtlLncmJihlLmguYj1lLncpO2UuZihuZXcgUShcImFkLXN0YXJ0ZWRcIix7YWQ6ZS5ofSkpO2Uudi5zZXRBdHRyaWJ1dGUoXCJhZC1hY3RpdmVcIixcInRydWVcIil9KTt0aGlzLmIubCh0aGlzLmMsZ29vZ2xlLmltYS5kYWkuYXBpLlN0cmVhbUV2ZW50LlR5cGUuQURfQlJFQUtfRU5ERUQsZnVuY3Rpb24oKXtlLnYucmVtb3ZlQXR0cmlidXRlKFwiYWQtYWN0aXZlXCIpO3ZhciBmPWUuYS5jdXJyZW50VGltZTtlLmomJmUuaj5mJiYoZS5hLmN1cnJlbnRUaW1lPWUuaixlLmo9bnVsbCl9KTt0aGlzLmIubCh0aGlzLmMsZ29vZ2xlLmltYS5kYWkuYXBpLlN0cmVhbUV2ZW50LlR5cGUuQURfUFJPR1JFU1MsXG5mdW5jdGlvbihmKXtlLnc9Zi5nZXRTdHJlYW1EYXRhKCkuYWRQcm9ncmVzc0RhdGE7ZS5oJiYoZS5oLmI9ZS53KX0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5GSVJTVF9RVUFSVElMRSxmdW5jdGlvbigpe2UuZihuZXcgUShcImFkLWZpcnN0LXF1YXJ0aWxlXCIpKX0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5NSURQT0lOVCxmdW5jdGlvbigpe2UuZihuZXcgUShcImFkLW1pZHBvaW50XCIpKX0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5USElSRF9RVUFSVElMRSxmdW5jdGlvbigpe2UuZihuZXcgUShcImFkLXRoaXJkLXF1YXJ0aWxlXCIpKX0pO3RoaXMuYi5sKHRoaXMuYyxnb29nbGUuaW1hLmRhaS5hcGkuU3RyZWFtRXZlbnQuVHlwZS5DT01QTEVURSxmdW5jdGlvbigpe2UuZihuZXcgUShcImFkLWNvbXBsZXRlXCIpKTtlLmYobmV3IFEoXCJhZC1zdG9wcGVkXCIpKTtcbmUudi5yZW1vdmVBdHRyaWJ1dGUoXCJhZC1hY3RpdmVcIik7ZS5oPW51bGx9KTt0aGlzLmIubCh0aGlzLmMsZ29vZ2xlLmltYS5kYWkuYXBpLlN0cmVhbUV2ZW50LlR5cGUuU0tJUFBFRCxmdW5jdGlvbigpe2UuZihuZXcgUShcImFkLXNraXBwZWRcIikpO2UuZihuZXcgUShcImFkLXN0b3BwZWRcIikpfSk7dGhpcy5iLmwodGhpcy5jLGdvb2dsZS5pbWEuZGFpLmFwaS5TdHJlYW1FdmVudC5UeXBlLkNVRVBPSU5UU19DSEFOR0VELGZ1bmN0aW9uKGYpe3ZhciBnPWYuZ2V0U3RyZWFtRGF0YSgpO2Y9W107Zz1xKGcuY3VlcG9pbnRzKTtmb3IodmFyIGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKWg9aC52YWx1ZSxmLnB1c2gobmV3IERqKGguc3RhcnQsaC5lbmQpKTtlLmYobmV3IFEoXCJhZC1jdWUtcG9pbnRzLWNoYW5nZWRcIix7Y3VlcG9pbnRzOmZ9KSl9KX1Hai5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuYy5yZXNldCgpO3RoaXMubT1cIlwiO3RoaXMuaj1udWxsfTtcbkdqLnByb3RvdHlwZS5vbkN1ZU1ldGFkYXRhQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKGEua2V5JiZhLmRhdGEpe3ZhciBiPXt9O2JbYS5rZXldPWEuZGF0YTt0aGlzLmMub25UaW1lZE1ldGFkYXRhKGIpfX07ZnVuY3Rpb24gSGooYSxiKXthLmYobmV3IFEoXCJhZHMtbG9hZGVkXCIse2xvYWRUaW1lOkRhdGUubm93KCkvMUUzLWEuR30pKTt2YXIgYz1iLmdldFN0cmVhbURhdGEoKS51cmw7YS5nLnJlc29sdmUoYyk7YS5nPW51bGw7YS5DfHxhLmIubChhLmEsXCJzZWVrZWRcIixmdW5jdGlvbigpe3ZhciBkPWEuYS5jdXJyZW50VGltZTtpZigwIT1kKXthLmMuc3RyZWFtVGltZUZvckNvbnRlbnRUaW1lKGQpO3ZhciBlPWEuYy5wcmV2aW91c0N1ZVBvaW50Rm9yU3RyZWFtVGltZShkKTtlJiYhZS5wbGF5ZWQmJihhLmo9ZCxhLmEuY3VycmVudFRpbWU9ZS5zdGFydCl9fSl9O2Z1bmN0aW9uIFooKXtSYi5jYWxsKHRoaXMpO3RoaXMuYT10aGlzLmI9bnVsbDt0aGlzLmY9bmV3IHlqO3RoaXMuYz1uYXZpZ2F0b3IubGFuZ3VhZ2V9cGEoWixSYik7cD1aLnByb3RvdHlwZTtwLnNldExvY2FsZT1mdW5jdGlvbihhKXt0aGlzLmM9YX07cC5pbml0Q2xpZW50U2lkZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoIXdpbmRvdy5nb29nbGV8fCFnb29nbGUuaW1hfHwhZ29vZ2xlLmltYS5BZHNMb2FkZXIpdGhyb3cgbmV3IEwoMiwxMCwxRTQpO3RoaXMuYj1uZXcgemooYSxiLHRoaXMuYyxmdW5jdGlvbihkKXtpZihkJiZkLnR5cGUpc3dpdGNoKGQudHlwZSl7Y2FzZSBcImFkcy1sb2FkZWRcIjpjLmYuYS5wdXNoKGQubG9hZFRpbWUpO2JyZWFrO2Nhc2UgXCJhZC1zdGFydGVkXCI6Yy5mLmMrKzticmVhaztjYXNlIFwiYWQtY29tcGxldGVcIjpjLmYuYisrO2JyZWFrO2Nhc2UgXCJhZC1za2lwcGVkXCI6Yy5mLmYrK31jLmRpc3BhdGNoRXZlbnQoZCl9KX07XG5wLm9uQXNzZXRVbmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLmImJnRoaXMuYi5zdG9wKCk7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBRKFwiYWQtc3RvcHBlZFwiKSk7dGhpcy5mPW5ldyB5an07cC5yZXF1ZXN0Q2xpZW50U2lkZUFkcz1mdW5jdGlvbihhKXtpZighdGhpcy5iKXRocm93IG5ldyBMKDEsMTAsMTAwMDEpO3ZhciBiPXRoaXMuYjtiLm09RGF0ZS5ub3coKS8xRTM7Yi5nLnJlcXVlc3RBZHMoYSl9O1xucC5pbml0U2VydmVyU2lkZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoIXdpbmRvdy5nb29nbGV8fCFnb29nbGUuaW1hfHwhZ29vZ2xlLmltYS5kYWkpdGhyb3cgbmV3IEwoMiwxMCwxMDAwMik7dGhpcy5hPW5ldyBHaihhLGIsdGhpcy5jLGZ1bmN0aW9uKGQpe2lmKGQmJmQudHlwZSlzd2l0Y2goZC50eXBlKXtjYXNlIFwiYWRzLWxvYWRlZFwiOmMuZi5hLnB1c2goZC5sb2FkVGltZSk7YnJlYWs7Y2FzZSBcImFkLXN0YXJ0ZWRcIjpjLmYuYysrO2JyZWFrO2Nhc2UgXCJhZC1jb21wbGV0ZVwiOmMuZi5iKys7YnJlYWs7Y2FzZSBcImFkLXNraXBwZWRcIjpjLmYuZisrfWMuZGlzcGF0Y2hFdmVudChkKX0pfTtcbnAucmVxdWVzdFNlcnZlclNpZGVTdHJlYW09ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMD09PWI/XCJcIjpiO2lmKCF0aGlzLmEpdGhyb3cgbmV3IEwoMSwxMCwxMDAwMyk7YS5hZFRhZ1BhcmFtZXRlcnN8fChhLmFkVGFnUGFyYW1ldGVycz17fSk7dmFyIGM9YS5hZFRhZ1BhcmFtZXRlcnM7KGMubXB0fHxjLm1wdikmJldhKCdZb3UgaGF2ZSBhdHRlbXB0ZWQgdG8gc2V0IFwibXB0XCIgYW5kL29yIFwibXB2XCIgcGFyYW1ldGVycyBvZiB0aGUgYWQgdGFnLiBQbGVhc2Ugbm90ZSB0aGF0IHRob3NlIHBhcmFtZXRlcnMgYXJlIHVzZWQgZm9yIFNoYWthIGFkb3B0aW9uIHRyYWNraW5nIGFuZCB3aWxsIGJlIG92ZXJyaWRlbi4nKTthLmFkVGFnUGFyYW1ldGVycy5tcHQ9XCJTaGFrYSBQbGF5ZXJcIjthLmFkVGFnUGFyYW1ldGVycy5tcHY9XCJ2My4wLjRcIjtjPXRoaXMuYTt2YXIgZD1iO2MuZz9jPVByb21pc2UucmVqZWN0KG5ldyBMKDEsMTAsMTAwMDQpKTooYSBpbnN0YW5jZW9mIGdvb2dsZS5pbWEuZGFpLmFwaS5MaXZlU3RyZWFtUmVxdWVzdCYmXG4oYy5DPSEwKSxjLmc9bmV3IEFiLGMuYy5yZXF1ZXN0U3RyZWFtKGEpLGMubT1kfHxcIlwiLGMuRz1EYXRlLm5vdygpLzFFMyxjPWMuZyk7cmV0dXJuIGN9O3AucmVwbGFjZVNlcnZlclNpZGVBZFRhZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYSl0aHJvdyBuZXcgTCgxLDEwLDEwMDAzKTsoYS5tcHR8fGEubXB2KSYmV2EoJ1lvdSBoYXZlIGF0dGVtcHRlZCB0byBzZXQgXCJtcHRcIiBhbmQvb3IgXCJtcHZcIiBwYXJhbWV0ZXJzIG9mIHRoZSBhZCB0YWcuIFBsZWFzZSBub3RlIHRoYXQgdGhvc2UgcGFyYW1ldGVycyBhcmUgdXNlZCBmb3IgU2hha2EgYWRvcHRpb24gdHJhY2tpbmcgYW5kIHdpbGwgYmUgb3ZlcnJpZGVuLicpO2EubXB0PVwiU2hha2EgUGxheWVyXCI7YS5tcHY9XCJ2My4wLjRcIjt0aGlzLmEuYy5yZXBsYWNlQWRUYWdQYXJhbWV0ZXJzKGEpfTtcbnAuZ2V0U3RhdHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmY7cmV0dXJue2xvYWRUaW1lczphLmEsc3RhcnRlZDphLmMscGxheWVkQ29tcGxldGVseTphLmIsc2tpcHBlZDphLmZ9fTtwLm9uRGFzaFRpbWVkTWV0YWRhdGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5hJiZcInVybjpnb29nbGU6ZGFpOjIwMThcIj09YS5zY2hlbWVJZFVyaSl7dmFyIGI9YS5zY2hlbWVJZFVyaSxjPWEuZXZlbnRFbGVtZW50P2EuZXZlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcIm1lc3NhZ2VEYXRhXCIpOm51bGw7dGhpcy5hLmMucHJvY2Vzc01ldGFkYXRhKGIsYyxhLnN0YXJ0VGltZSl9fTtwLm9uSGxzVGltZWRNZXRhZGF0YT1mdW5jdGlvbihhLGIpe3RoaXMuYSYmdGhpcy5hLmMucHJvY2Vzc01ldGFkYXRhKFwiSUQzXCIsYS5kYXRhLGIpfTtwLm9uQ3VlTWV0YWRhdGFDaGFuZ2U9ZnVuY3Rpb24oYSl7aWYodGhpcy5hKXRoaXMuYS5vbkN1ZU1ldGFkYXRhQ2hhbmdlKGEpfTtLKFwic2hha2EuYWRzLkFkTWFuYWdlclwiLFopO1xuWi5wcm90b3R5cGUub25DdWVNZXRhZGF0YUNoYW5nZT1aLnByb3RvdHlwZS5vbkN1ZU1ldGFkYXRhQ2hhbmdlO1oucHJvdG90eXBlLm9uSGxzVGltZWRNZXRhZGF0YT1aLnByb3RvdHlwZS5vbkhsc1RpbWVkTWV0YWRhdGE7Wi5wcm90b3R5cGUub25EYXNoVGltZWRNZXRhZGF0YT1aLnByb3RvdHlwZS5vbkRhc2hUaW1lZE1ldGFkYXRhO1oucHJvdG90eXBlLmdldFN0YXRzPVoucHJvdG90eXBlLmdldFN0YXRzO1oucHJvdG90eXBlLnJlcGxhY2VTZXJ2ZXJTaWRlQWRUYWdQYXJhbWV0ZXJzPVoucHJvdG90eXBlLnJlcGxhY2VTZXJ2ZXJTaWRlQWRUYWdQYXJhbWV0ZXJzO1oucHJvdG90eXBlLnJlcXVlc3RTZXJ2ZXJTaWRlU3RyZWFtPVoucHJvdG90eXBlLnJlcXVlc3RTZXJ2ZXJTaWRlU3RyZWFtO1oucHJvdG90eXBlLmluaXRTZXJ2ZXJTaWRlPVoucHJvdG90eXBlLmluaXRTZXJ2ZXJTaWRlO1oucHJvdG90eXBlLnJlcXVlc3RDbGllbnRTaWRlQWRzPVoucHJvdG90eXBlLnJlcXVlc3RDbGllbnRTaWRlQWRzO1xuWi5wcm90b3R5cGUub25Bc3NldFVubG9hZD1aLnByb3RvdHlwZS5vbkFzc2V0VW5sb2FkO1oucHJvdG90eXBlLmluaXRDbGllbnRTaWRlPVoucHJvdG90eXBlLmluaXRDbGllbnRTaWRlO1oucHJvdG90eXBlLnNldExvY2FsZT1aLnByb3RvdHlwZS5zZXRMb2NhbGU7ZnVuY3Rpb24gRGooYSxiKXt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9dm9pZCAwPT09Yj9udWxsOmJ9Wi5BRFNfTE9BREVEPVwiYWRzLWxvYWRlZFwiO1ouQURfU1RBUlRFRD1cImFkLXN0YXJ0ZWRcIjtaLkFEX0ZJUlNUX1FVQVJUSUxFPVwiYWQtZmlyc3QtcXVhcnRpbGVcIjtaLkFEX01JRFBPSU5UPVwiYWQtbWlkcG9pbnRcIjtaLkFEX1RISVJEX1FVQVJUSUxFPVwiYWQtdGhpcmQtcXVhcnRpbGVcIjtaLkFEX0NPTVBMRVRFPVwiYWQtY29tcGxldGVcIjtaLkFEX1NUT1BQRUQ9XCJhZC1zdG9wcGVkXCI7Wi5BRF9TS0lQUEVEPVwiYWQtc2tpcHBlZFwiO1ouQURfVk9MVU1FX0NIQU5HRUQ9XCJhZC12b2x1bWUtY2hhbmdlZFwiO1ouQURfTVVURUQ9XCJhZC1tdXRlZFwiO1xuWi5BRF9QQVVTRUQ9XCJhZC1wYXVzZWRcIjtaLkFEX1JFU1VNRUQ9XCJhZC1yZXN1bWVkXCI7Wi5BRF9TS0lQX1NUQVRFX0NIQU5HRUQ9XCJhZC1za2lwLXN0YXRlLWNoYW5nZWRcIjtaLkNVRVBPSU5UU19DSEFOR0VEPVwiYWQtY3VlLXBvaW50cy1jaGFuZ2VkXCI7Wi5JTUFfQURfTUFOQUdFUl9MT0FERUQ9XCJpbWEtYWQtbWFuYWdlci1sb2FkZWRcIjtaLkFEX0NMSUNLRUQ9XCJhZC1jbGlja2VkXCI7Wi5BRF9QUk9HUkVTUz1cImFkLXByb2dyZXNzXCI7Wi5BRF9CVUZGRVJJTkc9XCJhZC1idWZmZXJpbmdcIjtaLkFEX0lNUFJFU1NJT049XCJhZC1pbXByZXNzaW9uXCI7Wi5BRF9EVVJBVElPTl9DSEFOR0VEPVwiYWQtZHVyYXRpb24tY2hhbmdlZFwiO1ouQURfQ0xPU0VEPVwiYWQtY2xvc2VkXCI7Wi5BRF9MT0FERUQ9XCJhZC1sb2FkZWRcIjtaLkFMTF9BRFNfQ09NUExFVEVEPVwiYWxsLWFkcy1jb21wbGV0ZWRcIjtaLkFEX0xJTkVBUl9DSEFOR0VEPVwiYWQtbGluZWFyLWNoYW5nZWRcIjtaLkFEX01FVEFEQVRBPVwiYWQtbWV0YWRhdGFcIjtcblouQURfUkVDT1ZFUkFCTEVfRVJST1I9XCJhZC1yZWNvdmVyYWJsZS1lcnJvclwiO1ouQURfQlJFQUtfUkVBRFk9XCJhZC1icmVhay1yZWFkeVwiO1ouQURfSU5URVJBQ1RJT049XCJhZC1pbnRlcmFjdGlvblwiO1doPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBafTtmdW5jdGlvbiBJaihhKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSxmdW5jdGlvbihiLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpe2lmKGMgaW5zdGFuY2VvZiBFdmVudHx8YyBpbnN0YW5jZW9mIFEpe3ZhciBkPXt9O2ZvcihmIGluIGMpe3ZhciBlPWNbZl07ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/XCJkZXRhaWxcIj09ZiYmKGRbZl09ZSk6ZiBpbiBFdmVudHx8KGRbZl09ZSl9cmV0dXJuIGR9aWYoYyBpbnN0YW5jZW9mIEVycm9yKXt2YXIgZj1uZXcgU2V0KFtcIm5hbWVcIixcIm1lc3NhZ2VcIixcInN0YWNrXCJdKTtmb3IoZCBpbiBjKWYuYWRkKGQpO2U9cShPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjKSk7Zm9yKGQ9ZS5uZXh0KCk7IWQuZG9uZTtkPWUubmV4dCgpKWYuYWRkKGQudmFsdWUpO2U9e307Zj1xKGYpO2ZvcihkPWYubmV4dCgpOyFkLmRvbmU7ZD1mLm5leHQoKSlkPWQudmFsdWUsZVtkXT1jW2RdO2Y9e19fdHlwZV9fOlwiRXJyb3JcIixjb250ZW50czplfX1lbHNlIGlmKGMgaW5zdGFuY2VvZlxuVGltZVJhbmdlcylmb3IoZj17X190eXBlX186XCJUaW1lUmFuZ2VzXCIsbGVuZ3RoOmMubGVuZ3RoLHN0YXJ0OltdLGVuZDpbXX0sZD1xKCRkKGMpKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO3ZhciBnPWUuZW5kO2Yuc3RhcnQucHVzaChlLnN0YXJ0KTtmLmVuZC5wdXNoKGcpfWVsc2UgZj1jIGluc3RhbmNlb2YgVWludDhBcnJheT97X190eXBlX186XCJVaW50OEFycmF5XCIsZW50cmllczpBcnJheS5mcm9tKGMpfTpcIm51bWJlclwiPT10eXBlb2YgYz9pc05hTihjKT9cIk5hTlwiOmlzRmluaXRlKGMpP2M6MD5jP1wiLUluZmluaXR5XCI6XCJJbmZpbml0eVwiOmM7cmV0dXJuIGZ9fSl9XG5mdW5jdGlvbiBKaihhKXtyZXR1cm4gSlNPTi5wYXJzZShhLGZ1bmN0aW9uKGIsYyl7aWYoXCJOYU5cIj09Yyl2YXIgZD1OYU47ZWxzZSBpZihcIi1JbmZpbml0eVwiPT1jKWQ9LUluZmluaXR5O2Vsc2UgaWYoXCJJbmZpbml0eVwiPT1jKWQ9SW5maW5pdHk7ZWxzZSBpZihjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmXCJUaW1lUmFuZ2VzXCI9PWMuX190eXBlX18pZD1LaihjKTtlbHNlIGlmKGMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiZcIlVpbnQ4QXJyYXlcIj09Yy5fX3R5cGVfXylkPW5ldyBVaW50OEFycmF5KGMuZW50cmllcyk7ZWxzZSBpZihjJiZcIm9iamVjdFwiPT10eXBlb2YgYyYmXCJFcnJvclwiPT1jLl9fdHlwZV9fKXtkPWMuY29udGVudHM7dmFyIGU9RXJyb3IoZC5tZXNzYWdlKSxmO2ZvcihmIGluIGQpZVtmXT1kW2ZdO2Q9ZX1lbHNlIGQ9YztyZXR1cm4gZH0pfVxuZnVuY3Rpb24gS2ooYSl7cmV0dXJue2xlbmd0aDphLmxlbmd0aCxzdGFydDpmdW5jdGlvbihiKXtyZXR1cm4gYS5zdGFydFtiXX0sZW5kOmZ1bmN0aW9uKGIpe3JldHVybiBhLmVuZFtiXX19fVxudmFyIExqPVwiZW5kZWQgcGxheSBwbGF5aW5nIHBhdXNlIHBhdXNpbmcgcmF0ZWNoYW5nZSBzZWVrZWQgc2Vla2luZyB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZVwiLnNwbGl0KFwiIFwiKSxNaj1cImJ1ZmZlcmVkIGN1cnJlbnRUaW1lIGR1cmF0aW9uIGVuZGVkIGxvb3AgbXV0ZWQgcGF1c2VkIHBsYXliYWNrUmF0ZSBzZWVraW5nIHZpZGVvSGVpZ2h0IHZpZGVvV2lkdGggdm9sdW1lXCIuc3BsaXQoXCIgXCIpLE5qPVtcImxvb3BcIixcInBsYXliYWNrUmF0ZVwiXSxPaj1bXCJwYXVzZVwiLFwicGxheVwiXSxQaj17Z2V0QXNzZXRVcmk6MixnZXRBdWRpb0xhbmd1YWdlczoyLGdldEF1ZGlvTGFuZ3VhZ2VzQW5kUm9sZXM6MixnZXRCdWZmZXJlZEluZm86MixnZXRDb25maWd1cmF0aW9uOjIsZ2V0RXhwaXJhdGlvbjoyLGdldFBsYXliYWNrUmF0ZToyLGdldFRleHRMYW5ndWFnZXM6MixnZXRUZXh0TGFuZ3VhZ2VzQW5kUm9sZXM6MixnZXRUZXh0VHJhY2tzOjIsZ2V0U3RhdHM6NSxnZXRWYXJpYW50VHJhY2tzOjIsaXNBdWRpb09ubHk6MTAsXG5pc0J1ZmZlcmluZzoxLGlzSW5Qcm9ncmVzczoxLGlzTGl2ZToxMCxpc1RleHRUcmFja1Zpc2libGU6MSxrZXlTeXN0ZW06MTAsc2Vla1JhbmdlOjEsZ2V0TG9hZE1vZGU6MTB9LFFqPXtnZXRQbGF5aGVhZFRpbWVBc0RhdGU6MSxnZXRQcmVzZW50YXRpb25TdGFydFRpbWVBc0RhdGU6MjB9LFJqPVtbXCJnZXRDb25maWd1cmF0aW9uXCIsXCJjb25maWd1cmVcIl1dLFNqPVtbXCJpc1RleHRUcmFja1Zpc2libGVcIixcInNldFRleHRUcmFja1Zpc2liaWxpdHlcIl1dLFRqPVwiYWRkVGV4dFRyYWNrIGNhbmNlbFRyaWNrUGxheSBjb25maWd1cmUgcmVzZXRDb25maWd1cmF0aW9uIHJldHJ5U3RyZWFtaW5nIHNlbGVjdEF1ZGlvTGFuZ3VhZ2Ugc2VsZWN0VGV4dExhbmd1YWdlIHNlbGVjdFRleHRUcmFjayBzZWxlY3RWYXJpYW50VHJhY2sgc2VsZWN0VmFyaWFudHNCeUxhYmVsIHNldFRleHRUcmFja1Zpc2liaWxpdHkgdHJpY2tQbGF5XCIuc3BsaXQoXCIgXCIpLFVqPVtcImF0dGFjaFwiLFwiZGV0YWNoXCIsXCJsb2FkXCIsXG5cInVubG9hZFwiXTtmdW5jdGlvbiBWaihhLGIsYyxkLGUsZil7dmFyIGc9dGhpczt0aGlzLlQ9YTt0aGlzLmY9bmV3IE0oYik7dGhpcy5XPWM7dGhpcy5tPSExO3RoaXMuQz1kO3RoaXMuTT1lO3RoaXMuSD1mO3RoaXMuYj10aGlzLmg9ITE7dGhpcy5JPVwiXCI7dGhpcy5qPW51bGw7dGhpcy52PWZ1bmN0aW9uKCl7cmV0dXJuIFdqKGcpfTt0aGlzLnc9ZnVuY3Rpb24oaCxrKXt2YXIgbD1KaihrKTtzd2l0Y2gobC50eXBlKXtjYXNlIFwiZXZlbnRcIjp2YXIgbT1sLnRhcmdldE5hbWU7bD1sLmV2ZW50O2w9bmV3IFEobC50eXBlLGwpO2cuQyhtLGwpO2JyZWFrO2Nhc2UgXCJ1cGRhdGVcIjptPWwudXBkYXRlO2Zvcih2YXIgbiBpbiBtKXtsPWcuYVtuXXx8e307Zm9yKHZhciByIGluIG1bbl0pbFtyXT1tW25dW3JdfWcubSYmKGcuVygpLGcubT0hMSk7YnJlYWs7Y2FzZSBcImFzeW5jQ29tcGxldGVcIjppZihuPWwuaWQsbD1sLmVycm9yLHI9Zy5jW25dLGRlbGV0ZSBnLmNbbl0scilpZihsKXtuPW5ldyBMKGwuc2V2ZXJpdHksXG5sLmNhdGVnb3J5LGwuY29kZSk7Zm9yKG0gaW4gbCluW21dPWxbbV07ci5yZWplY3Qobil9ZWxzZSByLnJlc29sdmUoKX19O3RoaXMuYT17dmlkZW86e30scGxheWVyOnt9fTt0aGlzLkc9MDt0aGlzLmM9e307dGhpcy5nPW51bGw7WGouYWRkKHRoaXMpfXA9VmoucHJvdG90eXBlO3AuZGVzdHJveT1mdW5jdGlvbigpe1hqW1wiZGVsZXRlXCJdKHRoaXMpO1lqKHRoaXMpO1pqJiZhayh0aGlzKTt0aGlzLmYmJih0aGlzLmYuc3RvcCgpLHRoaXMuZj1udWxsKTt0aGlzLk09dGhpcy5DPW51bGw7dGhpcy5iPXRoaXMuaD0hMTt0aGlzLnc9dGhpcy52PXRoaXMuZz10aGlzLmM9dGhpcy5hPXRoaXMuaj1udWxsO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07cC5mYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O3AuJGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JfTtcbnAuaW5pdD1mdW5jdGlvbigpe2lmKHdpbmRvdy5jaHJvbWUmJmNocm9tZS5jYXN0JiZjaHJvbWUuY2FzdC5pc0F2YWlsYWJsZSYmdGhpcy5ULmxlbmd0aCl7dGhpcy5oPSEwO3RoaXMuZi5PYigpO3ZhciBhPW5ldyBjaHJvbWUuY2FzdC5TZXNzaW9uUmVxdWVzdCh0aGlzLlQpO2E9bmV3IGNocm9tZS5jYXN0LkFwaUNvbmZpZyhhLGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1xKFhqKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSliayhkLnZhbHVlLGIpfSxmdW5jdGlvbihiKXtmb3IodmFyIGM9cShYaiksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpZD1kLnZhbHVlLGNrPVwiYXZhaWxhYmxlXCI9PWIsZC5mLk9iKCl9LFwib3JpZ2luX3Njb3BlZFwiKTtjaHJvbWUuY2FzdC5pbml0aWFsaXplKGEsZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSk7Y2smJnRoaXMuZi5SKGRrKTsoYT1aaikmJmEuc3RhdHVzIT1jaHJvbWUuY2FzdC5TZXNzaW9uU3RhdHVzLlNUT1BQRUQ/YmsodGhpcyxcbmEpOlpqPW51bGx9fTtwLmdkPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYiYmZWsodGhpcyx7dHlwZTpcImFwcERhdGFcIixhcHBEYXRhOnRoaXMuan0pfTtwLmNhc3Q9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gSihmdW5jdGlvbihjKXtpZighYi5oKXRocm93IG5ldyBMKDEsOCw4RTMpO2lmKCFjayl0aHJvdyBuZXcgTCgxLDgsODAwMSk7aWYoYi5iKXRocm93IG5ldyBMKDEsOCw4MDAyKTtiLmc9bmV3IEFiO2Nocm9tZS5jYXN0LnJlcXVlc3RTZXNzaW9uKGZ1bmN0aW9uKGQpe3JldHVybiBmayhiLGEsZCl9LGZ1bmN0aW9uKGQpe3JldHVybiBnayhiLGQpfSk7cmV0dXJuIHQoYyxiLmcsMCl9KX07ZnVuY3Rpb24gaGsoYSl7aWYoYS5iKXt2YXIgYj1hLkgoKTtjaHJvbWUuY2FzdC5yZXF1ZXN0U2Vzc2lvbihmdW5jdGlvbihjKXtyZXR1cm4gZmsoYSxiLGMpfSxmdW5jdGlvbihjKXtyZXR1cm4gZ2soYSxjKX0pfX1cbnAuZ2I9ZnVuY3Rpb24oKXtpZih0aGlzLmIpe1lqKHRoaXMpO2lmKFpqKXthayh0aGlzKTt0cnl7Wmouc3RvcChmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KX1jYXRjaChhKXt9Wmo9bnVsbH1Xaih0aGlzKX19O1xucC5nZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2lmKFwidmlkZW9cIj09YSl7aWYoT2ouaW5jbHVkZXMoYikpcmV0dXJuIGZ1bmN0aW9uKGQpe2Zvcih2YXIgZT1bXSxmPTA7Zjxhcmd1bWVudHMubGVuZ3RoOysrZillW2ZdPWFyZ3VtZW50c1tmXTtyZXR1cm4gYy5LZC5hcHBseShjLFthLGJdLmNvbmNhdChoYShlKSkpfX1lbHNlIGlmKFwicGxheWVyXCI9PWEpe2lmKFFqW2JdJiYhdGhpcy5nZXQoXCJwbGF5ZXJcIixcImlzTGl2ZVwiKSgpKXJldHVybiBmdW5jdGlvbigpe307aWYoVGouaW5jbHVkZXMoYikpcmV0dXJuIGZ1bmN0aW9uKGQpe2Zvcih2YXIgZT1bXSxmPTA7Zjxhcmd1bWVudHMubGVuZ3RoOysrZillW2ZdPWFyZ3VtZW50c1tmXTtyZXR1cm4gYy5LZC5hcHBseShjLFthLGJdLmNvbmNhdChoYShlKSkpfTtpZihVai5pbmNsdWRlcyhiKSlyZXR1cm4gZnVuY3Rpb24oZCl7Zm9yKHZhciBlPVtdLGY9MDtmPGFyZ3VtZW50cy5sZW5ndGg7KytmKWVbZl09YXJndW1lbnRzW2ZdO3JldHVybiBjLk1lLmFwcGx5KGMsXG5bYSxiXS5jb25jYXQoaGEoZSkpKX07aWYoUGpbYl0pcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMuYVthXVtiXX19cmV0dXJuIHRoaXMuYVthXVtiXX07cC5zZXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYVthXVtiXT1jO2VrKHRoaXMse3R5cGU6XCJzZXRcIix0YXJnZXROYW1lOmEscHJvcGVydHk6Yix2YWx1ZTpjfSl9O2Z1bmN0aW9uIGZrKGEsYixjKXtaaj1jO2MuYWRkVXBkYXRlTGlzdGVuZXIoYS52KTtjLmFkZE1lc3NhZ2VMaXN0ZW5lcihcInVybjp4LWNhc3Q6Y29tLmdvb2dsZS5zaGFrYS52MlwiLGEudyk7V2ooYSk7ZWsoYSx7dHlwZTpcImluaXRcIixpbml0U3RhdGU6YixhcHBEYXRhOmEuan0pO2EuZy5yZXNvbHZlKCl9XG5mdW5jdGlvbiBnayhhLGIpe3ZhciBjPTgwMDM7c3dpdGNoKGIuY29kZSl7Y2FzZSBcImNhbmNlbFwiOmM9ODAwNDticmVhaztjYXNlIFwidGltZW91dFwiOmM9ODAwNTticmVhaztjYXNlIFwicmVjZWl2ZXJfdW5hdmFpbGFibGVcIjpjPTgwMDZ9YS5nLnJlamVjdChuZXcgTCgyLDgsYyxiKSl9cC5LZD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVtdLGU9MjtlPGFyZ3VtZW50cy5sZW5ndGg7KytlKWRbZS0yXT1hcmd1bWVudHNbZV07ZWsodGhpcyx7dHlwZTpcImNhbGxcIix0YXJnZXROYW1lOmEsbWV0aG9kTmFtZTpiLGFyZ3M6ZH0pfTtwLk1lPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9W10sZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2UpZFtlLTJdPWFyZ3VtZW50c1tlXTtlPW5ldyBBYjt2YXIgZj10aGlzLkcudG9TdHJpbmcoKTt0aGlzLkcrKzt0aGlzLmNbZl09ZTt0cnl7ZWsodGhpcyx7dHlwZTpcImFzeW5jQ2FsbFwiLHRhcmdldE5hbWU6YSxtZXRob2ROYW1lOmIsYXJnczpkLGlkOmZ9KX1jYXRjaChnKXtlLnJlamVjdChnKX1yZXR1cm4gZX07XG5mdW5jdGlvbiBiayhhLGIpe3ZhciBjPWEuSCgpO2EuZz1uZXcgQWI7YS5tPSEwO2ZrKGEsYyxiKX1mdW5jdGlvbiBhayhhKXt2YXIgYj1aajtiLnJlbW92ZVVwZGF0ZUxpc3RlbmVyKGEudik7Yi5yZW1vdmVNZXNzYWdlTGlzdGVuZXIoXCJ1cm46eC1jYXN0OmNvbS5nb29nbGUuc2hha2EudjJcIixhLncpfWZ1bmN0aW9uIFdqKGEpe3ZhciBiPVpqP1wiY29ubmVjdGVkXCI9PVpqLnN0YXR1czohMTtpZihhLmImJiFiKXthLk0oKTtmb3IodmFyIGMgaW4gYS5hKWEuYVtjXT17fTtZaihhKX1hLmI9YjthLkk9Yj9aai5yZWNlaXZlci5mcmllbmRseU5hbWU6XCJcIjthLmYuT2IoKX1mdW5jdGlvbiBZaihhKXtmb3IodmFyIGIgaW4gYS5jKXt2YXIgYz1hLmNbYl07ZGVsZXRlIGEuY1tiXTtjLnJlamVjdChuZXcgTCgxLDcsN0UzKSl9fVxuZnVuY3Rpb24gZWsoYSxiKXt2YXIgYz1JaihiKSxkPVpqO3RyeXtkLnNlbmRNZXNzYWdlKFwidXJuOngtY2FzdDpjb20uZ29vZ2xlLnNoYWthLnYyXCIsYyxmdW5jdGlvbigpe30sWmEpfWNhdGNoKGUpe3Rocm93IGM9bmV3IEwoMiw4LDgwMDUsZSksZD1uZXcgUShcImVycm9yXCIse2RldGFpbDpjfSksYS5DKFwicGxheWVyXCIsZCksYS5nYigpLGM7fX12YXIgZGs9LjAyLGNrPSExLFpqPW51bGwsWGo9bmV3IFNldDt3aW5kb3cuX19vbkdDYXN0QXBpQXZhaWxhYmxlPWZ1bmN0aW9uKGEpe2lmKGEpe2E9cShYaik7Zm9yKHZhciBiPWEubmV4dCgpOyFiLmRvbmU7Yj1hLm5leHQoKSliLnZhbHVlLmluaXQoKX19O2Z1bmN0aW9uIGlrKGEsYixjKXtSYi5jYWxsKHRoaXMpO3ZhciBkPXRoaXM7dGhpcy5mPWE7dGhpcy5jPWI7dGhpcy5iPXRoaXMuaj10aGlzLmc9dGhpcy5tPXRoaXMuaD1udWxsO3RoaXMudz1jO3RoaXMudj1uZXcgTWFwO3RoaXMuYT1uZXcgVmooYyxmdW5jdGlvbigpe3JldHVybiBqayhkKX0sZnVuY3Rpb24oKXtyZXR1cm4ga2soZCl9LGZ1bmN0aW9uKGUsZil7cmV0dXJuIGxrKGQsZSxmKX0sZnVuY3Rpb24oKXtyZXR1cm4gbWsoZCl9LGZ1bmN0aW9uKCl7cmV0dXJuIG5rKGQpfSk7b2sodGhpcyl9cGEoaWssUmIpO3A9aWsucHJvdG90eXBlO1xucC5kZXN0cm95PWZ1bmN0aW9uKGEpe2EmJnRoaXMuYS5nYigpO3RoaXMuYiYmKHRoaXMuYi5yZWxlYXNlKCksdGhpcy5iPW51bGwpO2E9W107dGhpcy5jJiYoYS5wdXNoKHRoaXMuYy5kZXN0cm95KCkpLHRoaXMuYz1udWxsKTt0aGlzLmEmJihhLnB1c2godGhpcy5hLmRlc3Ryb3koKSksdGhpcy5hPW51bGwpO3RoaXMubT10aGlzLmg9dGhpcy5mPW51bGw7cmV0dXJuIFByb21pc2UuYWxsKGEpfTtwLnplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH07cC5yZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O3AuWmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmgmJmNrfTtwLmZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5mYSgpfTtwLiRjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS4kYygpfTtcbnAuY2FzdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtyZXR1cm4gSihmdW5jdGlvbihjKXtyZXR1cm4gMT09Yy5hPyhiPW5rKGEpLHQoYyxhLmEuY2FzdChiKSwyKSk6YS5jP3QoYyxhLmMub2QoKSwwKTpjW1wicmV0dXJuXCJdKCl9KX07cC5nZD1mdW5jdGlvbihhKXt0aGlzLmEuZ2QoYSl9O3AuWWU9ZnVuY3Rpb24oKXtoayh0aGlzLmEpfTtwLmdiPWZ1bmN0aW9uKCl7dGhpcy5hLmdiKCl9O1xucC5hZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiBKKGZ1bmN0aW9uKGMpe2lmKDE9PWMuYSl7aWYoYT09Yi53KXJldHVybiBjW1wicmV0dXJuXCJdKCk7Yi53PWE7Yi5hLmdiKCk7cmV0dXJuIHQoYyxiLmEuZGVzdHJveSgpLDIpfWIuYT1udWxsO2IuYT1uZXcgVmooYSxmdW5jdGlvbigpe3JldHVybiBqayhiKX0sZnVuY3Rpb24oKXtyZXR1cm4ga2soYil9LGZ1bmN0aW9uKGQsZSl7cmV0dXJuIGxrKGIsZCxlKX0sZnVuY3Rpb24oKXtyZXR1cm4gbWsoYil9LGZ1bmN0aW9uKCl7cmV0dXJuIG5rKGIpfSk7Yi5hLmluaXQoKTt3KGMpfSl9O1xuZnVuY3Rpb24gb2soYSl7YS5hLmluaXQoKTthLmI9bmV3IGxjO2Zvcih2YXIgYj1xKExqKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlhLmIubChhLmYsYy52YWx1ZSxmdW5jdGlvbihmKXthLmEuZmEoKXx8KGY9bmV3IFEoZi50eXBlLGYpLGEuZy5kaXNwYXRjaEV2ZW50KGYpKX0pO2Zvcih2YXIgZCBpbiB3ailhLmIubChhLmMsd2pbZF0sZnVuY3Rpb24oZil7YS5hLmZhKCl8fGEuai5kaXNwYXRjaEV2ZW50KGYpfSk7YS5oPXt9O2I9e307Zm9yKHZhciBlIGluIGEuZiliLnNiPWUsT2JqZWN0LmRlZmluZVByb3BlcnR5KGEuaCxiLnNiLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oZil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHBrKGEsZi5zYil9fShiKSxzZXQ6ZnVuY3Rpb24oZil7cmV0dXJuIGZ1bmN0aW9uKGcpe3ZhciBoPWYuc2I7YS5hLmZhKCk/YS5hLnNldChcInZpZGVvXCIsaCxnKTphLmZbaF09Z319KGIpfSksYj17c2I6Yi5zYn07XG5hLm09e307cWsoYSxmdW5jdGlvbihmKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYS5tLGYse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByayhhLGYpfX0pfSk7c2soYSk7YS5nPW5ldyBSYjthLmcuVmI9YS5oO2Euaj1uZXcgUmI7YS5qLlZiPWEubX1mdW5jdGlvbiBzayhhKXt2YXIgYj1uZXcgTWFwO3FrKGEsZnVuY3Rpb24oYyxkKXtpZihiLmhhcyhkKSl7dmFyIGU9Yi5nZXQoZCk7Yy5sZW5ndGg8ZS5sZW5ndGg/YS52LnNldChjLGUpOmEudi5zZXQoZSxjKX1lbHNlIGIuc2V0KGQsYyl9KX1cbmZ1bmN0aW9uIHFrKGEsYil7ZnVuY3Rpb24gYyhsKXtyZXR1cm5cImNvbnN0cnVjdG9yXCI9PWx8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGRbbF0/ITE6IWUuaGFzKGwpfXZhciBkPWEuYyxlPW5ldyBTZXQ7Zm9yKGYgaW4gZCljKGYpJiYoZS5hZGQoZiksYihmLGRbZl0pKTt2YXIgZj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZCk7Zm9yKHZhciBnPU9iamVjdC5nZXRQcm90b3R5cGVPZih7fSk7ZiYmZiE9Zzspe2Zvcih2YXIgaD1xKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGYpKSxrPWgubmV4dCgpOyFrLmRvbmU7az1oLm5leHQoKSlrPWsudmFsdWUsYyhrKSYmKGUuYWRkKGspLGIoayxkW2tdKSk7Zj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZil9fVxuZnVuY3Rpb24gbmsoYSl7dmFyIGI9e3ZpZGVvOnt9LHBsYXllcjp7fSxwbGF5ZXJBZnRlckxvYWQ6e30sbWFuaWZlc3Q6YS5jLkljKCksc3RhcnRUaW1lOm51bGx9O2EuZi5wYXVzZSgpO2Zvcih2YXIgYz1xKE5qKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlkPWQudmFsdWUsYi52aWRlb1tkXT1hLmZbZF07YS5mLmVuZGVkfHwoYi5zdGFydFRpbWU9YS5mLmN1cnJlbnRUaW1lKTtjPXEoUmopO2ZvcihkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7dmFyIGU9ZC52YWx1ZTtkPWVbMV07ZT1hLmNbZVswXV0oKTtiLnBsYXllcltkXT1lfWM9cShTaik7Zm9yKGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWU9ZC52YWx1ZSxkPWVbMV0sZT1hLmNbZVswXV0oKSxiLnBsYXllckFmdGVyTG9hZFtkXT1lO3JldHVybiBifWZ1bmN0aW9uIGprKGEpe3ZhciBiPW5ldyBRKFwiY2FzdHN0YXR1c2NoYW5nZWRcIik7YS5kaXNwYXRjaEV2ZW50KGIpfVxuZnVuY3Rpb24ga2soYSl7dmFyIGI9bmV3IFEoYS5oLnBhdXNlZD9cInBhdXNlXCI6XCJwbGF5XCIpO2EuZy5kaXNwYXRjaEV2ZW50KGIpfVxuZnVuY3Rpb24gbWsoYSl7Zm9yKHZhciBiPXEoUmopLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKXt2YXIgZD1jLnZhbHVlO2M9ZFsxXTtkPWEuYS5nZXQoXCJwbGF5ZXJcIixkWzBdKSgpO2EuY1tjXShkKX12YXIgZT1hLmEuZ2V0KFwicGxheWVyXCIsXCJnZXRBc3NldFVyaVwiKSgpO2M9YS5hLmdldChcInZpZGVvXCIsXCJlbmRlZFwiKTtiPVByb21pc2UucmVzb2x2ZSgpO3ZhciBmPWEuZi5hdXRvcGxheTtkPW51bGw7Y3x8KGQ9YS5hLmdldChcInZpZGVvXCIsXCJjdXJyZW50VGltZVwiKSk7ZSYmKGEuZi5hdXRvcGxheT0hMSxiPWEuYy5sb2FkKGUsZCkpO3ZhciBnPXt9O2M9cShOaik7Zm9yKGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWQ9ZC52YWx1ZSxnW2RdPWEuYS5nZXQoXCJ2aWRlb1wiLGQpO2IudGhlbihmdW5jdGlvbigpe2lmKGEuZil7Zm9yKHZhciBoPXEoTmopLGs9aC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKWs9ay52YWx1ZSxhLmZba109Z1trXTtoPXEoU2opO2ZvcihrPVxuaC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKXt2YXIgbD1rLnZhbHVlO2s9bFsxXTtsPWEuYS5nZXQoXCJwbGF5ZXJcIixsWzBdKSgpO2EuY1trXShsKX1hLmYuYXV0b3BsYXk9ZjtlJiZhLmYucGxheSgpfX0sZnVuY3Rpb24oaCl7aD1uZXcgUShzaix7ZGV0YWlsOmh9KTthLmMuZGlzcGF0Y2hFdmVudChoKX0pfVxuZnVuY3Rpb24gcGsoYSxiKXtpZihcImFkZEV2ZW50TGlzdGVuZXJcIj09YilyZXR1cm4gZnVuY3Rpb24oZCxlLGYpe3JldHVybiBhLmcuYWRkRXZlbnRMaXN0ZW5lcihkLGUsZil9O2lmKFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiPT1iKXJldHVybiBmdW5jdGlvbihkLGUsZil7cmV0dXJuIGEuZy5yZW1vdmVFdmVudExpc3RlbmVyKGQsZSxmKX07aWYoYS5hLmZhKCkmJjA9PU9iamVjdC5rZXlzKGEuYS5hLnZpZGVvKS5sZW5ndGgpe3ZhciBjPWEuZltiXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjKXJldHVybiBjfXJldHVybiBhLmEuZmEoKT9hLmEuZ2V0KFwidmlkZW9cIixiKTooYz1hLmZbYl0sXCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGM9Yy5iaW5kKGEuZikpLGMpfVxuZnVuY3Rpb24gcmsoYSxiKXthLnYuaGFzKGIpJiYoYj1hLnYuZ2V0KGIpKTtpZihcImFkZEV2ZW50TGlzdGVuZXJcIj09YilyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe3JldHVybiBhLmouYWRkRXZlbnRMaXN0ZW5lcihjLGQsZSl9O2lmKFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiPT1iKXJldHVybiBmdW5jdGlvbihjLGQsZSl7cmV0dXJuIGEuai5yZW1vdmVFdmVudExpc3RlbmVyKGMsZCxlKX07aWYoXCJnZXRNZWRpYUVsZW1lbnRcIj09YilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5ofTtpZihcImdldFNoYXJlZENvbmZpZ3VyYXRpb25cIj09YilyZXR1cm4gYS5hLmdldChcInBsYXllclwiLFwiZ2V0Q29uZmlndXJhdGlvblwiKTtpZihcImdldE5ldHdvcmtpbmdFbmdpbmVcIj09YilyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5jLkRiKCl9O2lmKFwiZ2V0QWRNYW5hZ2VyXCI9PWIpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYy54ZCgpfTtpZihcInNldFZpZGVvQ29udGFpbmVyXCI9PWIpcmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBhLmMuUWQoYyl9O1xuaWYoYS5hLmZhKCkpe2lmKFwiZ2V0TWFuaWZlc3RcIj09Ynx8XCJkcm1JbmZvXCI9PWIpcmV0dXJuIGZ1bmN0aW9uKCl7V2EoYitcIigpIGRvZXMgbm90IHdvcmsgd2hpbGUgY2FzdGluZyFcIik7cmV0dXJuIG51bGx9O2lmKFwiYXR0YWNoXCI9PWJ8fFwiZGV0YWNoXCI9PWIpcmV0dXJuIGZ1bmN0aW9uKCl7V2EoYitcIigpIGRvZXMgbm90IHdvcmsgd2hpbGUgY2FzdGluZyFcIik7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfX1yZXR1cm4gYS5hLmZhKCkmJjA9PU9iamVjdC5rZXlzKGEuYS5hLnZpZGVvKS5sZW5ndGgmJlBqW2JdfHwhYS5hLmZhKCk/YS5jW2JdLmJpbmQoYS5jKTphLmEuZ2V0KFwicGxheWVyXCIsYil9ZnVuY3Rpb24gbGsoYSxiLGMpe2EuYS5mYSgpJiYoXCJ2aWRlb1wiPT1iP2EuZy5kaXNwYXRjaEV2ZW50KGMpOlwicGxheWVyXCI9PWImJmEuai5kaXNwYXRjaEV2ZW50KGMpKX1LKFwic2hha2EuY2FzdC5DYXN0UHJveHlcIixpayk7aWsucHJvdG90eXBlLmNoYW5nZVJlY2VpdmVySWQ9aWsucHJvdG90eXBlLmFlO1xuaWsucHJvdG90eXBlLmZvcmNlRGlzY29ubmVjdD1pay5wcm90b3R5cGUuZ2I7aWsucHJvdG90eXBlLnN1Z2dlc3REaXNjb25uZWN0PWlrLnByb3RvdHlwZS5ZZTtpay5wcm90b3R5cGUuc2V0QXBwRGF0YT1pay5wcm90b3R5cGUuZ2Q7aWsucHJvdG90eXBlLmNhc3Q9aWsucHJvdG90eXBlLmNhc3Q7aWsucHJvdG90eXBlLnJlY2VpdmVyTmFtZT1pay5wcm90b3R5cGUuJGM7aWsucHJvdG90eXBlLmlzQ2FzdGluZz1pay5wcm90b3R5cGUuZmE7aWsucHJvdG90eXBlLmNhbkNhc3Q9aWsucHJvdG90eXBlLlpkO2lrLnByb3RvdHlwZS5nZXRQbGF5ZXI9aWsucHJvdG90eXBlLnJlO2lrLnByb3RvdHlwZS5nZXRWaWRlbz1pay5wcm90b3R5cGUuemU7aWsucHJvdG90eXBlLmRlc3Ryb3k9aWsucHJvdG90eXBlLmRlc3Ryb3k7ZnVuY3Rpb24gdGsoYSxiLGMsZCl7UmIuY2FsbCh0aGlzKTt2YXIgZT10aGlzO3RoaXMuYT1hO3RoaXMuYz1iO3RoaXMuYj1uZXcgbGM7dGhpcy5JPXt2aWRlbzphLHBsYXllcjpifTt0aGlzLkM9Y3x8ZnVuY3Rpb24oKXt9O3RoaXMuTT1kfHxmdW5jdGlvbihmKXtyZXR1cm4gZn07dGhpcy5mPW51bGw7dGhpcy5HPSExO3RoaXMuaj0hMDt0aGlzLmg9MDt0aGlzLnc9ITE7dGhpcy52PSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLkg9bmV3IE0oZnVuY3Rpb24oKXt1ayhlKX0pO3ZrKHRoaXMpfXBhKHRrLFJiKTtwPXRrLnByb3RvdHlwZTtwLmlzQ29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR307cC5DZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O3AuVWU9ZnVuY3Rpb24oYSl7dGhpcy5mPWF9O3AuZGU9ZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH07XG5wLlZlPWZ1bmN0aW9uKGEpe3RoaXMuZnx8KHRoaXMuZj17bWV0YWRhdGFUeXBlOmNhc3QucmVjZWl2ZXIubWVkaWEuTWV0YWRhdGFUeXBlLkdFTkVSSUN9KTt0aGlzLmYudGl0bGU9YX07cC5UZT1mdW5jdGlvbihhKXt0aGlzLmZ8fCh0aGlzLmY9e21ldGFkYXRhVHlwZTpjYXN0LnJlY2VpdmVyLm1lZGlhLk1ldGFkYXRhVHlwZS5HRU5FUklDfSk7dGhpcy5mLmltYWdlcz1be3VybDphfV19O3AuU2U9ZnVuY3Rpb24oYSl7dGhpcy5mfHwodGhpcy5mPXt9KTt0aGlzLmYuYXJ0aXN0PWE7dGhpcy5mLm1ldGFkYXRhVHlwZT1jYXN0LnJlY2VpdmVyLm1lZGlhLk1ldGFkYXRhVHlwZS5NVVNJQ19UUkFDS307XG5wLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYztyZXR1cm4gSihmdW5jdGlvbihkKXtpZigxPT1kLmEpcmV0dXJuIGEuYiYmKGEuYi5yZWxlYXNlKCksYS5iPW51bGwpLGI9W10sYS5jJiYoYi5wdXNoKGEuYy5kZXN0cm95KCkpLGEuYz1udWxsKSxhLkgmJihhLkguc3RvcCgpLGEuSD1udWxsKSxhLmE9bnVsbCxhLkk9bnVsbCxhLkM9bnVsbCxhLkc9ITEsYS5qPSEwLGEuZz1udWxsLGEubT1udWxsLHQoZCxQcm9taXNlLmFsbChiKSwyKTtjPWNhc3QucmVjZWl2ZXIuQ2FzdFJlY2VpdmVyTWFuYWdlci5nZXRJbnN0YW5jZSgpO2Muc3RvcCgpO3coZCl9KX07XG5mdW5jdGlvbiB2ayhhKXt2YXIgYj1jYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtiLm9uU2VuZGVyQ29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHdrKGEpfTtiLm9uU2VuZGVyRGlzY29ubmVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHdrKGEpfTtiLm9uU3lzdGVtVm9sdW1lQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciBlPWNhc3QucmVjZWl2ZXIuQ2FzdFJlY2VpdmVyTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN5c3RlbVZvbHVtZSgpO2UmJnhrKGEse3R5cGU6XCJ1cGRhdGVcIix1cGRhdGU6e3ZpZGVvOnt2b2x1bWU6ZS5sZXZlbCxtdXRlZDplLm11dGVkfX19LGEuZyk7eGsoYSx7dHlwZTpcImV2ZW50XCIsdGFyZ2V0TmFtZTpcInZpZGVvXCIsZXZlbnQ6e3R5cGU6XCJ2b2x1bWVjaGFuZ2VcIn19LGEuZyl9O2EubT1iLmdldENhc3RNZXNzYWdlQnVzKFwidXJuOngtY2FzdDpjb20uZ29vZ2xlLmNhc3QubWVkaWFcIik7YS5tLm9uTWVzc2FnZT1mdW5jdGlvbihlKXtyZXR1cm4geWsoYSxcbmUpfTthLmc9Yi5nZXRDYXN0TWVzc2FnZUJ1cyhcInVybjp4LWNhc3Q6Y29tLmdvb2dsZS5zaGFrYS52MlwiKTthLmcub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3JldHVybiB6ayhhLGUpfTtiLnN0YXJ0KCk7Yj1xKExqKTtmb3IodmFyIGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWEuYi5sKGEuYSxjLnZhbHVlLGZ1bmN0aW9uKGUpe3JldHVybiBBayhhLFwidmlkZW9cIixlKX0pO2Zvcih2YXIgZCBpbiB3ailhLmIubChhLmMsd2pbZF0sZnVuY3Rpb24oZSl7cmV0dXJuIEFrKGEsXCJwbGF5ZXJcIixlKX0pO2Nhc3QuX19wbGF0Zm9ybV9fJiZjYXN0Ll9fcGxhdGZvcm1fXy5jYW5EaXNwbGF5VHlwZSgndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjY0MDAyOFwiOyB3aWR0aD0zODQwOyBoZWlnaHQ9MjE2MCcpP2EuYy5oZCgzODQwLDIxNjApOmEuYy5oZCgxOTIwLDEwODApO2EuYi5sKGEuYSxcImxvYWRlZGRhdGFcIixmdW5jdGlvbigpe2Eudz0hMH0pO2EuYi5sKGEuYyxcImxvYWRpbmdcIixmdW5jdGlvbigpe2Euaj1cbiExO0JrKGEpfSk7YS5iLmwoYS5hLFwicGxheWluZ1wiLGZ1bmN0aW9uKCl7YS5qPSExO0JrKGEpfSk7YS5iLmwoYS5hLFwicGF1c2VcIixmdW5jdGlvbigpe0JrKGEpfSk7YS5iLmwoYS5jLFwidW5sb2FkaW5nXCIsZnVuY3Rpb24oKXthLmo9ITA7QmsoYSl9KTthLmIubChhLmEsXCJlbmRlZFwiLGZ1bmN0aW9uKCl7KG5ldyBNKGZ1bmN0aW9uKCl7YS5hJiZhLmEuZW5kZWQmJihhLmo9ITAsQmsoYSkpfSkpLlIoQ2spfSl9ZnVuY3Rpb24gd2soYSl7YS5oPTA7YS52PSEwO2EuRz0wIT1jYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRTZW5kZXJzKCkubGVuZ3RoO0JrKGEpfVxuZnVuY3Rpb24gQmsoYSl7dmFyIGI7SihmdW5jdGlvbihjKXtpZigxPT1jLmEpcmV0dXJuIHQoYyxQcm9taXNlLnJlc29sdmUoKSwyKTtpZighYS5jKXJldHVybiBjW1wicmV0dXJuXCJdKCk7Yj1uZXcgUShcImNhc3RzdGF0dXNjaGFuZ2VkXCIpO2EuZGlzcGF0Y2hFdmVudChiKTtEayhhKXx8RWsoYSk7dyhjKX0pfVxuZnVuY3Rpb24gRmsoYSxiLGMpe3ZhciBkLGUsZixnLGgsayxsLG0sbixyO0ooZnVuY3Rpb24odSl7c3dpdGNoKHUuYSl7Y2FzZSAxOmZvcihkIGluIGIucGxheWVyKWU9Yi5wbGF5ZXJbZF0sYS5jW2RdKGUpO2EuQyhjKTtmPWEuYS5hdXRvcGxheTtyZXR1cm4gYi5tYW5pZmVzdD8oYS5hLmF1dG9wbGF5PSExLHgodSw1KSx0KHUsYS5jLmxvYWQoYi5tYW5pZmVzdCxiLnN0YXJ0VGltZSksNykpOnQodSxQcm9taXNlLnJlc29sdmUoKSwzKTtjYXNlIDc6dWEodSwzKTticmVhaztjYXNlIDU6cmV0dXJuIGc9Qyh1KSxoPXNqLGs9bmV3IFEoaCx7ZGV0YWlsOmd9KSxhLmMuZGlzcGF0Y2hFdmVudChrKSx1W1wicmV0dXJuXCJdKCk7Y2FzZSAzOmlmKCFhLmMpcmV0dXJuIHVbXCJyZXR1cm5cIl0oKTtmb3IobCBpbiBiLnZpZGVvKW09Yi52aWRlb1tsXSxhLmFbbF09bTtmb3IobiBpbiBiLnBsYXllckFmdGVyTG9hZClyPWIucGxheWVyQWZ0ZXJMb2FkW25dLGEuY1tuXShyKTthLmEuYXV0b3BsYXk9ZjtcbmIubWFuaWZlc3QmJihhLmEucGxheSgpLEVrKGEpKTt3KHUpfX0pfWZ1bmN0aW9uIEFrKGEsYixjKXthLmMmJih1ayhhKSx4ayhhLHt0eXBlOlwiZXZlbnRcIix0YXJnZXROYW1lOmIsZXZlbnQ6Y30sYS5nKSl9XG5mdW5jdGlvbiB1ayhhKXthLkguUihHayk7Zm9yKHZhciBiPXt2aWRlbzp7fSxwbGF5ZXI6e319LGM9cShNaiksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpZD1kLnZhbHVlLGIudmlkZW9bZF09YS5hW2RdO2lmKGEuYy5TKCkpZm9yKHZhciBlIGluIFFqKTA9PWEuaCVRaltlXSYmKGIucGxheWVyW2VdPWEuY1tlXSgpKTtmb3IodmFyIGYgaW4gUGopMD09YS5oJVBqW2ZdJiYoYi5wbGF5ZXJbZl09YS5jW2ZdKCkpO2lmKGM9Y2FzdC5yZWNlaXZlci5DYXN0UmVjZWl2ZXJNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3lzdGVtVm9sdW1lKCkpYi52aWRlby52b2x1bWU9Yy5sZXZlbCxiLnZpZGVvLm11dGVkPWMubXV0ZWQ7YS53JiYoYS5oKz0xKTt4ayhhLHt0eXBlOlwidXBkYXRlXCIsdXBkYXRlOmJ9LGEuZyk7RGsoYSl9ZnVuY3Rpb24gRGsoYSl7cmV0dXJuIGEudiYmKGEuYS5kdXJhdGlvbnx8YS5jLlMoKSk/KEhrKGEpLGEudj0hMSwhMCk6ITF9XG5mdW5jdGlvbiBIayhhLGIpe3ZhciBjPXtjb250ZW50SWQ6YS5jLkljKCksc3RyZWFtVHlwZTphLmMuUygpP1wiTElWRVwiOlwiQlVGRkVSRURcIixjb250ZW50VHlwZTpcIlwifTthLmMuUygpfHwoYy5kdXJhdGlvbj1hLmEuZHVyYXRpb24pO2EuZiYmKGMubWV0YWRhdGE9YS5mKTtFayhhLHZvaWQgMD09PWI/MDpiLGMpfVxuZnVuY3Rpb24gemsoYSxiKXt2YXIgYz1KaihiLmRhdGEpO3N3aXRjaChjLnR5cGUpe2Nhc2UgXCJpbml0XCI6YS5oPTA7YS53PSExO2Eudj0hMDtGayhhLGMuaW5pdFN0YXRlLGMuYXBwRGF0YSk7dWsoYSk7YnJlYWs7Y2FzZSBcImFwcERhdGFcIjphLkMoYy5hcHBEYXRhKTticmVhaztjYXNlIFwic2V0XCI6dmFyIGQ9Yy50YXJnZXROYW1lLGU9Yy5wcm9wZXJ0eTtjPWMudmFsdWU7aWYoXCJ2aWRlb1wiPT1kKXt2YXIgZj1jYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtpZihcInZvbHVtZVwiPT1lKXtmLnNldFN5c3RlbVZvbHVtZUxldmVsKGMpO2JyZWFrfWVsc2UgaWYoXCJtdXRlZFwiPT1lKXtmLnNldFN5c3RlbVZvbHVtZU11dGVkKGMpO2JyZWFrfX1hLklbZF1bZV09YzticmVhaztjYXNlIFwiY2FsbFwiOmQ9YS5JW2MudGFyZ2V0TmFtZV07ZFtjLm1ldGhvZE5hbWVdLmFwcGx5KGQsYy5hcmdzKTticmVhaztjYXNlIFwiYXN5bmNDYWxsXCI6ZD1jLnRhcmdldE5hbWU7ZT1cbmMubWV0aG9kTmFtZTtcInBsYXllclwiPT1kJiZcImxvYWRcIj09ZSYmKGEuaD0wLGEudz0hMSk7dmFyIGc9Yy5pZCxoPWIuc2VuZGVySWQ7Zj1hLklbZF07Yz1mW2VdLmFwcGx5KGYsYy5hcmdzKTtcInBsYXllclwiPT1kJiZcImxvYWRcIj09ZSYmKGM9Yy50aGVuKGZ1bmN0aW9uKCl7YS52PSEwfSkpO2MudGhlbihmdW5jdGlvbigpe3JldHVybiBJayhhLGgsZyxudWxsKX0sZnVuY3Rpb24oayl7cmV0dXJuIElrKGEsaCxnLGspfSl9fVxuZnVuY3Rpb24geWsoYSxiKXt2YXIgYz1KaihiLmRhdGEpO3N3aXRjaChjLnR5cGUpe2Nhc2UgXCJQTEFZXCI6YS5hLnBsYXkoKTtFayhhKTticmVhaztjYXNlIFwiUEFVU0VcIjphLmEucGF1c2UoKTtFayhhKTticmVhaztjYXNlIFwiU0VFS1wiOnZhciBkPWMuY3VycmVudFRpbWUsZT1jLnJlc3VtZVN0YXRlO251bGwhPWQmJihhLmEuY3VycmVudFRpbWU9TnVtYmVyKGQpKTtlJiZcIlBMQVlCQUNLX1NUQVJUXCI9PWU/KGEuYS5wbGF5KCksRWsoYSkpOmUmJlwiUExBWUJBQ0tfUEFVU0VcIj09ZSYmKGEuYS5wYXVzZSgpLEVrKGEpKTticmVhaztjYXNlIFwiU1RPUFwiOmEuYy5vZCgpLnRoZW4oZnVuY3Rpb24oKXthLmMmJkVrKGEpfSk7YnJlYWs7Y2FzZSBcIkdFVF9TVEFUVVNcIjpIayhhLE51bWJlcihjLnJlcXVlc3RJZCkpO2JyZWFrO2Nhc2UgXCJWT0xVTUVcIjplPWMudm9sdW1lO2Q9ZS5sZXZlbDtlPWUubXV0ZWQ7dmFyIGY9YS5hLnZvbHVtZSxnPWEuYS5tdXRlZDtudWxsIT1kJiYoYS5hLnZvbHVtZT1OdW1iZXIoZCkpO1xubnVsbCE9ZSYmKGEuYS5tdXRlZD1lKTtmPT1hLmEudm9sdW1lJiZnPT1hLmEubXV0ZWR8fEVrKGEpO2JyZWFrO2Nhc2UgXCJMT0FEXCI6YS5oPTA7YS53PSExO2Eudj0hMTtkPWMubWVkaWE7ZT1jLmN1cnJlbnRUaW1lO2Y9YS5NKGQuY29udGVudElkKTtnPWMuYXV0b3BsYXl8fCEwO2EuQyhkLmN1c3RvbURhdGEpO2cmJihhLmEuYXV0b3BsYXk9ITApO2EuYy5sb2FkKGYsZSkudGhlbihmdW5jdGlvbigpe2EuYyYmSGsoYSl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKGgpe3ZhciBrPVwiTE9BRF9GQUlMRURcIjs3PT1oLmNhdGVnb3J5JiY3RTM9PWguY29kZSYmKGs9XCJMT0FEX0NBTkNFTExFRFwiKTt4ayhhLHtyZXF1ZXN0SWQ6TnVtYmVyKGMucmVxdWVzdElkKSx0eXBlOmt9LGEubSl9KTticmVhaztkZWZhdWx0OnhrKGEse3JlcXVlc3RJZDpOdW1iZXIoYy5yZXF1ZXN0SWQpLHR5cGU6XCJJTlZBTElEX1JFUVVFU1RcIixyZWFzb246XCJJTlZBTElEX0NPTU1BTkRcIn0sYS5tKX19XG5mdW5jdGlvbiBJayhhLGIsYyxkKXthLmMmJnhrKGEse3R5cGU6XCJhc3luY0NvbXBsZXRlXCIsaWQ6YyxlcnJvcjpkfSxhLmcsYil9ZnVuY3Rpb24geGsoYSxiLGMsZCl7YS5HJiYoYT1JaihiKSxkP2MuZ2V0Q2FzdENoYW5uZWwoZCkuc2VuZChhKTpjLmJyb2FkY2FzdChhKSl9ZnVuY3Rpb24gRWsoYSxiLGMpe2M9dm9pZCAwPT09Yz9udWxsOmM7dmFyIGQ9e21lZGlhU2Vzc2lvbklkOjAscGxheWJhY2tSYXRlOmEuYS5wbGF5YmFja1JhdGUscGxheWVyU3RhdGU6YS5qP0prOmEuYy5NYygpP0trOmEuYS5wYXVzZWQ/TGs6TWssY3VycmVudFRpbWU6YS5hLmN1cnJlbnRUaW1lLHN1cHBvcnRlZE1lZGlhQ29tbWFuZHM6NjMsdm9sdW1lOntsZXZlbDphLmEudm9sdW1lLG11dGVkOmEuYS5tdXRlZH19O2MmJihkLm1lZGlhPWMpO3hrKGEse3JlcXVlc3RJZDp2b2lkIDA9PT1iPzA6Yix0eXBlOlwiTUVESUFfU1RBVFVTXCIsc3RhdHVzOltkXX0sYS5tKX1cbksoXCJzaGFrYS5jYXN0LkNhc3RSZWNlaXZlclwiLHRrKTt0ay5wcm90b3R5cGUuZGVzdHJveT10ay5wcm90b3R5cGUuZGVzdHJveTt0ay5wcm90b3R5cGUuc2V0Q29udGVudEFydGlzdD10ay5wcm90b3R5cGUuU2U7dGsucHJvdG90eXBlLnNldENvbnRlbnRJbWFnZT10ay5wcm90b3R5cGUuVGU7dGsucHJvdG90eXBlLnNldENvbnRlbnRUaXRsZT10ay5wcm90b3R5cGUuVmU7dGsucHJvdG90eXBlLmNsZWFyQ29udGVudE1ldGFkYXRhPXRrLnByb3RvdHlwZS5kZTt0ay5wcm90b3R5cGUuc2V0Q29udGVudE1ldGFkYXRhPXRrLnByb3RvdHlwZS5VZTt0ay5wcm90b3R5cGUuaXNJZGxlPXRrLnByb3RvdHlwZS5DZTt0ay5wcm90b3R5cGUuaXNDb25uZWN0ZWQ9dGsucHJvdG90eXBlLmlzQ29ubmVjdGVkO3ZhciBHaz0uNSxDaz01LEprPVwiSURMRVwiLE1rPVwiUExBWUlOR1wiLEtrPVwiQlVGRkVSSU5HXCIsTGs9XCJQQVVTRURcIjtmdW5jdGlvbiBOayhhKXt2YXIgYj10aGlzO3RoaXMuYT1bXTt0aGlzLmI9W107dGhpcy5kYXRhPVtdOyhuZXcgRGcpLkwoXCJtb292XCIsSGcpLmVhKFwicHNzaFwiLGZ1bmN0aW9uKGMpe2lmKCEoMTxjLnZlcnNpb24pKXt2YXIgZD1OKGMucmVhZGVyLlAsLTEyLGMuc2l6ZSk7Yi5kYXRhLnB1c2goZCk7Yi5hLnB1c2goaGQoYy5yZWFkZXIuV2EoMTYpKSk7aWYoMDxjLnZlcnNpb24pe2Q9Yy5yZWFkZXIuSigpO2Q9cShmYihkKSk7Zm9yKHZhciBlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSllPWhkKGMucmVhZGVyLldhKDE2KSksYi5iLnB1c2goZSl9fX0pLnBhcnNlKGEpfVxuZnVuY3Rpb24gT2soYSl7aWYoIWEpcmV0dXJuIGE7dmFyIGI9bmV3IE5rKGEpO2lmKDE+PWIuZGF0YS5sZW5ndGgpcmV0dXJuIGE7YT1bXTt2YXIgYz17fTtiPXEoYi5kYXRhKTtmb3IodmFyIGQ9Yi5uZXh0KCk7IWQuZG9uZTtjPXtQYjpjLlBifSxkPWIubmV4dCgpKWMuUGI9ZC52YWx1ZSxhLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBKYihmLGUuUGIpfX0oYykpfHxhLnB1c2goYy5QYik7cmV0dXJuIGlkLmFwcGx5KGNkLGhhKGEpKX07ZnVuY3Rpb24gUGsoYSxiKXt2YXIgYz1RayhhLGIpO3JldHVybiAxIT1jLmxlbmd0aD9udWxsOmNbMF19ZnVuY3Rpb24gUmsoYSxiLGMpe2E9U2soYSxiLGMpO3JldHVybiAxIT1hLmxlbmd0aD9udWxsOmFbMF19ZnVuY3Rpb24gUWsoYSxiKXtyZXR1cm4gQXJyYXkuZnJvbShhLmNoaWxkTm9kZXMpLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4gYyBpbnN0YW5jZW9mIEVsZW1lbnQmJmMudGFnTmFtZT09Yn0pfWZ1bmN0aW9uIFNrKGEsYixjKXtyZXR1cm4gQXJyYXkuZnJvbShhLmNoaWxkTm9kZXMpLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZCBpbnN0YW5jZW9mIEVsZW1lbnQmJmQubG9jYWxOYW1lPT1jJiZkLm5hbWVzcGFjZVVSST09Yn0pfWZ1bmN0aW9uIFRrKGEsYixjKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGVOUyhiLGMpP2EuZ2V0QXR0cmlidXRlTlMoYixjKTpudWxsfVxuZnVuY3Rpb24gVWsoYSl7cmV0dXJuIEFycmF5LmZyb20oYS5jaGlsZE5vZGVzKS5ldmVyeShmdW5jdGlvbihiKXtyZXR1cm4gYi5ub2RlVHlwZT09Tm9kZS5URVhUX05PREV8fGIubm9kZVR5cGU9PU5vZGUuQ0RBVEFfU0VDVElPTl9OT0RFfSk/YS50ZXh0Q29udGVudC50cmltKCk6bnVsbH1mdW5jdGlvbiBWayhhLGIsYyxkKXtkPXZvaWQgMD09PWQ/bnVsbDpkO3ZhciBlPW51bGw7YT1hLmdldEF0dHJpYnV0ZShiKTtudWxsIT1hJiYoZT1jKGEpKTtyZXR1cm4gbnVsbD09ZT9kOmV9ZnVuY3Rpb24gV2soYSl7aWYoIWEpcmV0dXJuIG51bGw7L15cXGQrLVxcZCstXFxkK1RcXGQrOlxcZCs6XFxkKyhcXC5cXGQrKT8kLy50ZXN0KGEpJiYoYSs9XCJaXCIpO2E9RGF0ZS5wYXJzZShhKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpNYXRoLmZsb29yKGEvMUUzKX1cbmZ1bmN0aW9uIGJsKGEpe2lmKCFhKXJldHVybiBudWxsO2E9L15QKD86KFswLTldKilZKT8oPzooWzAtOV0qKU0pPyg/OihbMC05XSopRCk/KD86VCg/OihbMC05XSopSCk/KD86KFswLTldKilNKT8oPzooWzAtOS5dKilTKT8pPyQvLmV4ZWMoYSk7aWYoIWEpcmV0dXJuIG51bGw7YT0zMTUzNkUzKk51bWJlcihhWzFdfHxudWxsKSsyNTkyRTMqTnVtYmVyKGFbMl18fG51bGwpKzg2NDAwKk51bWJlcihhWzNdfHxudWxsKSszNjAwKk51bWJlcihhWzRdfHxudWxsKSs2MCpOdW1iZXIoYVs1XXx8bnVsbCkrTnVtYmVyKGFbNl18fG51bGwpO3JldHVybiBpc0Zpbml0ZShhKT9hOm51bGx9ZnVuY3Rpb24gY2woYSl7dmFyIGI9LyhbMC05XSspLShbMC05XSspLy5leGVjKGEpO2lmKCFiKXJldHVybiBudWxsO2E9TnVtYmVyKGJbMV0pO2lmKCFpc0Zpbml0ZShhKSlyZXR1cm4gbnVsbDtiPU51bWJlcihiWzJdKTtyZXR1cm4gaXNGaW5pdGUoYik/e3N0YXJ0OmEsZW5kOmJ9Om51bGx9XG5mdW5jdGlvbiBkbChhKXthPU51bWJlcihhKTtyZXR1cm4gMD09PWElMT9hOm51bGx9ZnVuY3Rpb24gZWwoYSl7YT1OdW1iZXIoYSk7cmV0dXJuIDA9PT1hJTEmJjA8YT9hOm51bGx9ZnVuY3Rpb24gZmwoYSl7YT1OdW1iZXIoYSk7cmV0dXJuIDA9PT1hJTEmJjA8PWE/YTpudWxsfWZ1bmN0aW9uIGdsKGEpe3ZhciBiO2E9KGI9YS5tYXRjaCgvXihcXGQrKVxcLyhcXGQrKSQvKSk/TnVtYmVyKGJbMV0pL051bWJlcihiWzJdKTpOdW1iZXIoYSk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBobChhLGIpe3ZhciBjPW5ldyBET01QYXJzZXIsZD1udWxsLGU9bnVsbDt0cnl7ZT1jLnBhcnNlRnJvbVN0cmluZyhhLFwidGV4dC94bWxcIil9Y2F0Y2goZil7fWUmJmUuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWU9PWImJihkPWUuZG9jdW1lbnRFbGVtZW50KTtyZXR1cm4gZCYmMDxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoP251bGw6ZH1cbmZ1bmN0aW9uIGlsKGEsYil7dHJ5e3ZhciBjPXNjKGEpO3JldHVybiBobChjLGIpfWNhdGNoKGQpe3JldHVybiBudWxsfX07ZnVuY3Rpb24gamwoYSxiKXt2YXIgYz1rbChhKSxkPW51bGwsZT1bXSxmPVtdLGc9bmV3IFNldChjLm1hcChmdW5jdGlvbihrKXtyZXR1cm4gay5rZXlJZH0pKTtnW1wiZGVsZXRlXCJdKG51bGwpO2lmKDE8Zy5zaXplKXRocm93IG5ldyBMKDIsNCw0MDEwKTtifHwoZj1jLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm5cInVybjptcGVnOmRhc2g6bXA0cHJvdGVjdGlvbjoyMDExXCI9PWsuTWQ/KGQ9ay5pbml0fHxkLCExKTohMH0pLGYubGVuZ3RoJiYoZT1sbChkLGYpLDA9PWUubGVuZ3RoJiYoZT1bTWMoXCJcIixkKV0pKSk7aWYoYy5sZW5ndGgmJihifHwhZi5sZW5ndGgpKWZvcihlPVtdLGM9cShtbC52YWx1ZXMoKSksZj1jLm5leHQoKTshZi5kb25lO2Y9Yy5uZXh0KCkpZj1mLnZhbHVlLFwib3JnLnczLmNsZWFya2V5XCIhPWYmJmUucHVzaChNYyhmLGQpKTtpZihnPUFycmF5LmZyb20oZylbMF18fG51bGwpZm9yKGM9cShlKSxmPWMubmV4dCgpOyFmLmRvbmU7Zj1jLm5leHQoKSl7Zj1xKGYudmFsdWUuaW5pdERhdGEpO1xuZm9yKHZhciBoPWYubmV4dCgpOyFoLmRvbmU7aD1mLm5leHQoKSloLnZhbHVlLmtleUlkPWd9cmV0dXJue3RkOmcsR2Y6ZCxkcm1JbmZvczplLHdkOiEwfX1mdW5jdGlvbiBubChhLGIsYyl7dmFyIGQ9amwoYSxjKTtpZihiLndkKXthPTE9PWIuZHJtSW5mb3MubGVuZ3RoJiYhYi5kcm1JbmZvc1swXS5rZXlTeXN0ZW07Yz0wPT1kLmRybUluZm9zLmxlbmd0aDtpZigwPT1iLmRybUluZm9zLmxlbmd0aHx8YSYmIWMpYi5kcm1JbmZvcz1kLmRybUluZm9zO2Iud2Q9ITF9ZWxzZSBpZigwPGQuZHJtSW5mb3MubGVuZ3RoJiYoYi5kcm1JbmZvcz1iLmRybUluZm9zLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZC5kcm1JbmZvcy5zb21lKGZ1bmN0aW9uKGYpe3JldHVybiBmLmtleVN5c3RlbT09ZS5rZXlTeXN0ZW19KX0pLDA9PWIuZHJtSW5mb3MubGVuZ3RoKSl0aHJvdyBuZXcgTCgyLDQsNDAwOCk7cmV0dXJuIGQudGR8fGIudGR9XG5mdW5jdGlvbiBvbChhKXt2YXIgYj0wLGM9TmIoYSksZD1jLmdldFVpbnQzMihiLCEwKTtpZihkIT1hLmJ5dGVMZW5ndGgpcmV0dXJuW107YTp7YT1iKzY7Zm9yKGI9W107YTxjLmJ5dGVMZW5ndGgtMTspe2Q9Yy5nZXRVaW50MTYoYSwhMCk7YSs9Mjt2YXIgZT1jLmdldFVpbnQxNihhLCEwKTthKz0yO2lmKDAhPShlJjEpfHxlK2E+Yy5ieXRlTGVuZ3RoKXtjPVtdO2JyZWFrIGF9dmFyIGY9TihjLGEsZSk7Yi5wdXNoKHt0eXBlOmQsdmFsdWU6Zn0pO2ErPWV9Yz1ifXJldHVybiBjfVxuZnVuY3Rpb24gcGwoYSl7YT1xKGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJEQVRBXCIpKTtmb3IodmFyIGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKXtiPXEoYi52YWx1ZS5jaGlsZE5vZGVzKTtmb3IodmFyIGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWlmKGM9Yy52YWx1ZSxjIGluc3RhbmNlb2YgRWxlbWVudCYmXCJMQV9VUkxcIj09Yy50YWdOYW1lKXJldHVybiBjLnRleHRDb250ZW50fXJldHVyblwiXCJ9XG5mdW5jdGlvbiBsbChhLGIpe2Zvcih2YXIgYz1bXSxkPXEoYiksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe2U9ZS52YWx1ZTt2YXIgZj1tbC5nZXQoZS5NZCk7aWYoZil7dmFyIGc7aWYoZz1SayhlLm5vZGUsXCJ1cm46bWljcm9zb2Z0OnBsYXlyZWFkeVwiLFwicHJvXCIpKXtnPWZkKGcudGV4dENvbnRlbnQpO3ZhciBoPW5ldyBVaW50OEFycmF5KFsxNTQsNCwyNDAsMTIxLDE1Miw2NCw2NiwxMzQsMTcxLDE0NiwyMzAsOTEsMjI0LDEzNiw5NSwxNDldKSxrPWcubGVuZ3RoLGw9aC5sZW5ndGgrMTYrayxtPW5ldyBVaW50OEFycmF5KGwpLG49TmIobSkscj0wO24uc2V0VWludDMyKHIsbCk7cis9NDtuLnNldFVpbnQzMihyLDE4ODY2MTQzNzYpO3IrPTQ7bi5zZXRVaW50MzIociwwKTtyKz00O20uc2V0KGgscik7cis9aC5sZW5ndGg7bi5zZXRVaW50MzIocixrKTtyKz00O20uc2V0KGcscik7Zz1be2luaXREYXRhOm0saW5pdERhdGFUeXBlOlwiY2VuY1wiLGtleUlkOmUua2V5SWR9XX1lbHNlIGc9XG5udWxsO2c9TWMoZixlLmluaXR8fGF8fGcpO2lmKGY9cWwuZ2V0KGYpKWcubGljZW5zZVNlcnZlclVyaT1mKGUpO2MucHVzaChnKX19cmV0dXJuIGN9ZnVuY3Rpb24ga2woYSl7dmFyIGI9W107YT1xKGEpO2Zvcih2YXIgYz1hLm5leHQoKTshYy5kb25lO2M9YS5uZXh0KCkpKGM9cmwoYy52YWx1ZSkpJiZiLnB1c2goYyk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBybChhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpLGM9VGsoYSxcInVybjptcGVnOmNlbmM6MjAxM1wiLFwiZGVmYXVsdF9LSURcIiksZD1TayhhLFwidXJuOm1wZWc6Y2VuYzoyMDEzXCIsXCJwc3NoXCIpLm1hcChVayk7aWYoIWIpcmV0dXJuIG51bGw7Yj1iLnRvTG93ZXJDYXNlKCk7aWYoYyYmKGM9Yy5yZXBsYWNlKC8tL2csXCJcIikudG9Mb3dlckNhc2UoKSxjLmluY2x1ZGVzKFwiIFwiKSkpdGhyb3cgbmV3IEwoMiw0LDQwMDkpO3ZhciBlPVtdO3RyeXtlPWQubWFwKGZ1bmN0aW9uKGYpe3JldHVybntpbml0RGF0YVR5cGU6XCJjZW5jXCIsaW5pdERhdGE6ZmQoZiksa2V5SWQ6bnVsbH19KX1jYXRjaChmKXt0aHJvdyBuZXcgTCgyLDQsNDAwNyk7fXJldHVybntub2RlOmEsTWQ6YixrZXlJZDpjLGluaXQ6MDxlLmxlbmd0aD9lOm51bGx9fVxudmFyIG1sPShuZXcgTWFwKS5zZXQoXCJ1cm46dXVpZDoxMDc3ZWZlYy1jMGIyLTRkMDItYWNlMy0zYzFlNTJlMmZiNGJcIixcIm9yZy53My5jbGVhcmtleVwiKS5zZXQoXCJ1cm46dXVpZDplZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWRcIixcImNvbS53aWRldmluZS5hbHBoYVwiKS5zZXQoXCJ1cm46dXVpZDo5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTVcIixcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCIpLnNldChcInVybjp1dWlkOjc5ZjAwNDlhLTQwOTgtODY0Mi1hYjkyLWU2NWJlMDg4NWY5NVwiLFwiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHlcIikuc2V0KFwidXJuOnV1aWQ6ZjIzOWU3NjktZWZhMy00ODUwLTljMTYtYTkwM2M2OTMyZWZiXCIsXCJjb20uYWRvYmUucHJpbWV0aW1lXCIpLHFsPShuZXcgTWFwKS5zZXQoXCJjb20ud2lkZXZpbmUuYWxwaGFcIixmdW5jdGlvbihhKXtyZXR1cm4oYT1SayhhLm5vZGUsXCJ1cm46bWljcm9zb2Z0XCIsXCJsYXVybFwiKSk/YS5nZXRBdHRyaWJ1dGUoXCJsaWNlbnNlVXJsXCIpfHxcblwiXCI6XCJcIn0pLnNldChcImNvbS5taWNyb3NvZnQucGxheXJlYWR5XCIsZnVuY3Rpb24oYSl7YT1SayhhLm5vZGUsXCJ1cm46bWljcm9zb2Z0OnBsYXlyZWFkeVwiLFwicHJvXCIpO2lmKCFhKXJldHVyblwiXCI7YT1mZChhLnRleHRDb250ZW50KTthPW9sKGEpLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4gMT09PWIudHlwZX0pWzBdO2lmKCFhKXJldHVyblwiXCI7YT11YyhhLnZhbHVlLCEwKTtyZXR1cm4oYT1obChhLFwiV1JNSEVBREVSXCIpKT9wbChhKTpcIlwifSk7ZnVuY3Rpb24gc2woYSxiLGMsZCxlKXt2YXIgZj17UmVwcmVzZW50YXRpb25JRDpiLE51bWJlcjpjLEJhbmR3aWR0aDpkLFRpbWU6ZX07cmV0dXJuIGEucmVwbGFjZSgvXFwkKFJlcHJlc2VudGF0aW9uSUR8TnVtYmVyfEJhbmR3aWR0aHxUaW1lKT8oPzolMChbMC05XSspKFtkaW91eFhdKSk/XFwkL2csZnVuY3Rpb24oZyxoLGssbCl7aWYoXCIkJFwiPT1nKXJldHVyblwiJFwiO3ZhciBtPWZbaF07aWYobnVsbD09bSlyZXR1cm4gZztcIlJlcHJlc2VudGF0aW9uSURcIj09aCYmayYmKGs9dm9pZCAwKTtcIlRpbWVcIj09aCYmKG09TWF0aC5yb3VuZChtKSk7c3dpdGNoKGwpe2Nhc2Ugdm9pZCAwOmNhc2UgXCJkXCI6Y2FzZSBcImlcIjpjYXNlIFwidVwiOmc9bS50b1N0cmluZygpO2JyZWFrO2Nhc2UgXCJvXCI6Zz1tLnRvU3RyaW5nKDgpO2JyZWFrO2Nhc2UgXCJ4XCI6Zz1tLnRvU3RyaW5nKDE2KTticmVhaztjYXNlIFwiWFwiOmc9bS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTticmVhaztkZWZhdWx0Omc9bS50b1N0cmluZygpfWs9XG53aW5kb3cucGFyc2VJbnQoaywxMCl8fDE7cmV0dXJuIEFycmF5KE1hdGgubWF4KDAsay1nLmxlbmd0aCkrMSkuam9pbihcIjBcIikrZ30pfVxuZnVuY3Rpb24gdGwoYSxiKXt2YXIgYz11bChhLGIsXCJ0aW1lc2NhbGVcIiksZD0xO2MmJihkPWVsKGMpfHwxKTtjPXVsKGEsYixcImR1cmF0aW9uXCIpOyhjPWVsKGN8fFwiXCIpKSYmKGMvPWQpO3ZhciBlPXVsKGEsYixcInN0YXJ0TnVtYmVyXCIpLGY9TnVtYmVyKHVsKGEsYixcInByZXNlbnRhdGlvblRpbWVPZmZzZXRcIikpfHwwLGc9ZmwoZXx8XCJcIik7aWYobnVsbD09ZXx8bnVsbD09ZylnPTE7dmFyIGg9dmwoYSxiLFwiU2VnbWVudFRpbWVsaW5lXCIpO2U9bnVsbDtpZihoKXtlPWQ7dmFyIGs9YS5PLmR1cmF0aW9ufHxJbmZpbml0eSxsPVFrKGgsXCJTXCIpO2g9W107dmFyIG09LWY7bD1xKGhiKGwpKTtmb3IodmFyIG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKXtuPW4udmFsdWU7dmFyIHI9bi5pdGVtLHU9bi5uZXh0LHY9VmsocixcInRcIixmbCk7bj1WayhyLFwiZFwiLGZsKTt2YXIgeT1WayhyLFwiclwiLGRsKTtudWxsIT12JiYodi09Zik7aWYoIW4pYnJlYWs7cj1udWxsIT12P3Y6bTt2PXl8fDA7aWYoMD5cbnYpaWYodSl7dT1Wayh1LFwidFwiLGZsKTtpZihudWxsPT11KWJyZWFrO2Vsc2UgaWYocj49dSlicmVhazt2PU1hdGguY2VpbCgodS1yKS9uKS0xfWVsc2V7aWYoSW5maW5pdHk9PWspYnJlYWs7ZWxzZSBpZihyL2U+PWspYnJlYWs7dj1NYXRoLmNlaWwoKGsqZS1yKS9uKS0xfTA8aC5sZW5ndGgmJnIhPW0mJihoW2gubGVuZ3RoLTFdLmVuZD1yL2UpO3U9cShmYih2KzEpKTtmb3Iodj11Lm5leHQoKTshdi5kb25lO3Y9dS5uZXh0KCkpbT1yK24saC5wdXNoKHtzdGFydDpyL2UsZW5kOm0vZSxkZjpyfSkscj1tfWU9aH1yZXR1cm57dGltZXNjYWxlOmQsWjpjLHFiOmcsR2E6Zi9kfHwwLHBkOmYsdGltZWxpbmU6ZX19ZnVuY3Rpb24gdWwoYSxiLGMpe3JldHVybltiKGEuRiksYihhLmFhKSxiKGEuamEpXS5maWx0ZXIoSmMpLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRBdHRyaWJ1dGUoYyl9KS5yZWR1Y2UoZnVuY3Rpb24oZCxlKXtyZXR1cm4gZHx8ZX0pfVxuZnVuY3Rpb24gdmwoYSxiLGMpe3JldHVybltiKGEuRiksYihhLmFhKSxiKGEuamEpXS5maWx0ZXIoSmMpLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gUGsoZCxjKX0pLnJlZHVjZShmdW5jdGlvbihkLGUpe3JldHVybiBkfHxlfSl9XG5mdW5jdGlvbiB3bChhLGIsYyxkLGUsZil7Zm9yKHZhciBnPVRrKGEsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJocmVmXCIpLGg9VGsoYSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImFjdHVhdGVcIil8fFwib25SZXF1ZXN0XCIsaz1xKEFycmF5LmZyb20oYS5hdHRyaWJ1dGVzKSksbD1rLm5leHQoKTshbC5kb25lO2w9ay5uZXh0KCkpbD1sLnZhbHVlLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPT1sLm5hbWVzcGFjZVVSSSYmYS5yZW1vdmVBdHRyaWJ1dGVOUyhsLm5hbWVzcGFjZVVSSSxsLmxvY2FsTmFtZSk7aWYoNTw9ZilyZXR1cm4gQ2IobmV3IEwoMiw0LDQwMjgpKTtpZihcIm9uTG9hZFwiIT1oKXJldHVybiBDYihuZXcgTCgyLDQsNDAyNykpO3ZhciBtPUxjKFtkXSxbZ10pO3JldHVybiBlLnJlcXVlc3QoMCxjYyhtLGIpKS5VKGZ1bmN0aW9uKG4pe249aWwobi5kYXRhLGEudGFnTmFtZSk7aWYoIW4pcmV0dXJuIENiKG5ldyBMKDIsNCw0MDAxLGcpKTtcbmZvcig7YS5jaGlsZE5vZGVzLmxlbmd0aDspYS5yZW1vdmVDaGlsZChhLmNoaWxkTm9kZXNbMF0pO2Zvcig7bi5jaGlsZE5vZGVzLmxlbmd0aDspe3ZhciByPW4uY2hpbGROb2Rlc1swXTtuLnJlbW92ZUNoaWxkKHIpO2EuYXBwZW5kQ2hpbGQocil9bj1xKEFycmF5LmZyb20obi5hdHRyaWJ1dGVzKSk7Zm9yKHI9bi5uZXh0KCk7IXIuZG9uZTtyPW4ubmV4dCgpKWEuc2V0QXR0cmlidXRlTm9kZShyLnZhbHVlLmNsb25lTm9kZSghMSkpO3JldHVybiB4bChhLGIsYyxtWzBdLGUsZisxKX0pfVxuZnVuY3Rpb24geGwoYSxiLGMsZCxlLGYpe2Y9dm9pZCAwPT09Zj8wOmY7aWYoVGsoYSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImhyZWZcIikpe3ZhciBnPXdsKGEsYixjLGQsZSxmKTtjJiYoZz1nLlUodm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIHhsKGEsYixjLGQsZSxmKX0pKTtyZXR1cm4gZ31nPVtdO2Zvcih2YXIgaD1xKEFycmF5LmZyb20oYS5jaGlsZE5vZGVzKSksaz1oLm5leHQoKTshay5kb25lO2s9aC5uZXh0KCkpaz1rLnZhbHVlLGsgaW5zdGFuY2VvZiBFbGVtZW50JiYoXCJ1cm46bXBlZzpkYXNoOnJlc29sdmUtdG8temVybzoyMDEzXCI9PVRrKGssXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXCJocmVmXCIpP2EucmVtb3ZlQ2hpbGQoayk6XCJTZWdtZW50VGltZWxpbmVcIiE9ay50YWdOYW1lJiZnLnB1c2goeGwoayxiLGMsZCxlLGYpKSk7cmV0dXJuIEdiKGcpLlUoZnVuY3Rpb24oKXtyZXR1cm4gYX0pfTtmdW5jdGlvbiB5bChhLGIsYyxkLGUsZixnKXt2YXIgaCxrPShuZXcgRGcpLmVhKFwic2lkeFwiLGZ1bmN0aW9uKGwpe2g9emwoYixkLGUsZixnLGMsbCl9KTthJiZrLnBhcnNlKGEpO2lmKGgpcmV0dXJuIGg7dGhyb3cgbmV3IEwoMiwzLDMwMDQpO31cbmZ1bmN0aW9uIHpsKGEsYixjLGQsZSxmLGcpe3ZhciBoPVtdO2cucmVhZGVyLnNraXAoNCk7dmFyIGs9Zy5yZWFkZXIuSigpO2lmKDA9PWspdGhyb3cgbmV3IEwoMiwzLDMwMDUpO2lmKDA9PWcudmVyc2lvbil7dmFyIGw9Zy5yZWFkZXIuSigpO3ZhciBtPWcucmVhZGVyLkooKX1lbHNlIGw9Zy5yZWFkZXIucGIoKSxtPWcucmVhZGVyLnBiKCk7Zy5yZWFkZXIuc2tpcCgyKTt2YXIgbj1nLnJlYWRlci5LYigpO2E9YStnLnNpemUrbTtuPXEoZmIobikpO2ZvcihtPW4ubmV4dCgpOyFtLmRvbmU7bT1uLm5leHQoKSl7dmFyIHI9Zy5yZWFkZXIuSigpO209KHImMjE0NzQ4MzY0OCk+Pj4zMTtyJj0yMTQ3NDgzNjQ3O3ZhciB1PWcucmVhZGVyLkooKTtnLnJlYWRlci5za2lwKDQpO2lmKDE9PW0pdGhyb3cgbmV3IEwoMiwzLDMwMDYpO2gucHVzaChuZXcgUGYobC9rK2MsKGwrdSkvaytjLGZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGEsYStyLTEsYixjLGQsZSkpO2wrPXU7YSs9cn1nLnBhcnNlci5zdG9wKCk7XG5yZXR1cm4gaH07ZnVuY3Rpb24gQWwoYSl7dGhpcy5iPU5iKGEpO3RoaXMuYT1uZXcgVSh0aGlzLmIsMCl9QWwucHJvdG90eXBlLnRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS50YSgpfTtcbmZ1bmN0aW9uIEJsKGEpe3ZhciBiPUNsKGEpO2lmKDc8Yi5sZW5ndGgpdGhyb3cgbmV3IEwoMiwzLDMwMDIpO3ZhciBjPTA7Yj1xKGIpO2Zvcih2YXIgZD1iLm5leHQoKTshZC5kb25lO2Q9Yi5uZXh0KCkpYz0yNTYqYytkLnZhbHVlO2I9Q2woYSk7YTp7ZD1xKERsKTtmb3IodmFyIGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKWlmKEpiKGIsbmV3IFVpbnQ4QXJyYXkoZS52YWx1ZSkpKXtkPSEwO2JyZWFrIGF9ZD0hMX1pZihkKWI9YS5iLmJ5dGVMZW5ndGgtYS5hLkI7ZWxzZXtpZig4PT1iLmxlbmd0aCYmYlsxXSYyMjQpdGhyb3cgbmV3IEwoMiwzLDMwMDEpO2Q9MDtlPXEoaGIoYikpO2Zvcih2YXIgZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpe2Y9Zi52YWx1ZTt2YXIgZz1mLml0ZW07ZD0wPT1mLlk/ZyYoMTw8OC1iLmxlbmd0aCktMToyNTYqZCtnfWI9ZH1iPWEuYS5CK2I8PWEuYi5ieXRlTGVuZ3RoP2I6YS5iLmJ5dGVMZW5ndGgtYS5hLkI7ZD1OYihhLmIsYS5hLkIsXG5iKTthLmEuc2tpcChiKTtyZXR1cm4gbmV3IEVsKGMsZCl9ZnVuY3Rpb24gQ2woYSl7dmFyIGI9YS5hLkIsYz1hLmEubmEoKTtpZigwPT1jKXRocm93IG5ldyBMKDIsMywzMDAyKTtjPTgtTWF0aC5mbG9vcihNYXRoLmxvZzIoYykpO2EuYS5za2lwKGMtMSk7cmV0dXJuIE4oYS5iLGIsYyl9dmFyIERsPVtbMjU1XSxbMTI3LDI1NV0sWzYzLDI1NSwyNTVdLFszMSwyNTUsMjU1LDI1NV0sWzE1LDI1NSwyNTUsMjU1LDI1NV0sWzcsMjU1LDI1NSwyNTUsMjU1LDI1NV0sWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdLFsxLDI1NSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NV1dO2Z1bmN0aW9uIEVsKGEsYil7dGhpcy5pZD1hO3RoaXMuYT1ifVxuZnVuY3Rpb24gRmwoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgTCgyLDMsMzAwMik7aWYoOD09YS5hLmJ5dGVMZW5ndGgmJmEuYS5nZXRVaW50OCgwKSYyMjQpdGhyb3cgbmV3IEwoMiwzLDMwMDEpO2Zvcih2YXIgYj0wLGM9cShmYihhLmEuYnl0ZUxlbmd0aCkpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWQ9YS5hLmdldFVpbnQ4KGQudmFsdWUpLGI9MjU2KmIrZDtyZXR1cm4gYn07ZnVuY3Rpb24gR2woYSxiLGMsZCxlLGYsZyxoLGspe2Z1bmN0aW9uIGwoKXtyZXR1cm4gZX12YXIgbT1bXTthPW5ldyBBbChhLmEpO2Zvcih2YXIgbj1udWxsLHI9bnVsbDthLnRhKCk7KXt2YXIgdT1CbChhKTtpZigxODc9PXUuaWQpe3ZhciB2PUhsKHUpO3YmJih1PWMqdi5lZix2PWIrdi5MZSxudWxsIT1uJiZtLnB1c2gobmV3IFBmKG4rZyx1K2csbCxyLHYtMSxmLGcsaCxrKSksbj11LHI9dil9fW51bGwhPW4mJm0ucHVzaChuZXcgUGYobitnLGQrZyxsLHIsbnVsbCxmLGcsaCxrKSk7cmV0dXJuIG19XG5mdW5jdGlvbiBIbChhKXt2YXIgYj1uZXcgQWwoYS5hKTthPUJsKGIpO2lmKDE3OSE9YS5pZCl0aHJvdyBuZXcgTCgyLDMsMzAxMyk7YT1GbChhKTtiPUJsKGIpO2lmKDE4MyE9Yi5pZCl0aHJvdyBuZXcgTCgyLDMsMzAxMik7Yj1uZXcgQWwoYi5hKTtmb3IodmFyIGM9MDtiLnRhKCk7KXt2YXIgZD1CbChiKTtpZigyNDE9PWQuaWQpe2M9RmwoZCk7YnJlYWt9fXJldHVybntlZjphLExlOmN9fTtmdW5jdGlvbiBJbChhLGIpe3ZhciBjPXZsKGEsYixcIkluaXRpYWxpemF0aW9uXCIpO2lmKCFjKXJldHVybiBudWxsO3ZhciBkPWEuRi5tYSxlPWMuZ2V0QXR0cmlidXRlKFwic291cmNlVVJMXCIpO2UmJihkPUxjKGEuRi5tYSxbZV0pKTtlPTA7dmFyIGY9bnVsbDtpZihjPVZrKGMsXCJyYW5nZVwiLGNsKSllPWMuc3RhcnQsZj1jLmVuZDtyZXR1cm4gbmV3IE9mKGZ1bmN0aW9uKCl7cmV0dXJuIGR9LGUsZil9XG5mdW5jdGlvbiBKbChhLGIpe3ZhciBjPU51bWJlcih1bChhLEtsLFwicHJlc2VudGF0aW9uVGltZU9mZnNldFwiKSl8fDAsZD11bChhLEtsLFwidGltZXNjYWxlXCIpLGU9MTtkJiYoZT1lbChkKXx8MSk7dmFyIGY9Yy9lfHwwLGc9SWwoYSxLbCk7TGwoYSxnKTt2YXIgaD1UYihhKTtyZXR1cm57aGI6ZnVuY3Rpb24oKXt2YXIgaz12bChoLEtsLFwiUmVwcmVzZW50YXRpb25JbmRleFwiKSxsPWguRi5tYTtrJiYoaz1rLmdldEF0dHJpYnV0ZShcInNvdXJjZVVSTFwiKSkmJihsPUxjKGguRi5tYSxba10pKTtrPU1sKGgpO3JldHVybiBObChoLGIsZyxsLGsuc3RhcnQsay5lbmQsZil9fX1cbmZ1bmN0aW9uIE5sKGEsYixjLGQsZSxmLGcpe3ZhciBoLGssbCxtLG4scix1LHYseSx6LEEsRCxCLEUsSDtyZXR1cm4gSihmdW5jdGlvbihHKXt2YXIgRjtpZigxPT1HLmEpcmV0dXJuIGg9YS5wcmVzZW50YXRpb25UaW1lbGluZSxrPSFhLk5hfHwhYS5PLkNkLGw9YS5PLnN0YXJ0LG09YS5PLmR1cmF0aW9uLG49YS5GLm1pbWVUeXBlLnNwbGl0KFwiL1wiKVsxXSxyPWIsdT1udWxsLHY9W3IoZCxlLGYpLFwid2VibVwiPT1uP3IoYy5jKCksYy5iLGMuYSk6bnVsbF0scj1udWxsLHQoRyxQcm9taXNlLmFsbCh2KSwyKTt5PUcuYjt6PXlbMF07QT15WzFdfHxudWxsO0Q9bnVsbDtCPWwtZztFPWw7SD1tP2wrbTpJbmZpbml0eTtpZihcIm1wNFwiPT1uKXZhciBJPXlsKHosZSxkLGMsQixFLEgpO2Vsc2V7ST1uZXcgQWwoQSk7aWYoNDQwNzg2ODUxIT1CbChJKS5pZCl0aHJvdyBuZXcgTCgyLDMsMzAwOCk7dmFyIE89QmwoSSk7aWYoNDA4MTI1NTQzIT1PLmlkKXRocm93IG5ldyBMKDIsMywzMDA5KTtJPVxuTy5hLmJ5dGVPZmZzZXQ7Tz1uZXcgQWwoTy5hKTtmb3IoRj1udWxsO08udGEoKTspe3ZhciBYPUJsKE8pO2lmKDM1NzE0OTAzMD09WC5pZCl7Rj1YO2JyZWFrfX1pZighRil0aHJvdyBuZXcgTCgyLDMsMzAxMCk7Rj1uZXcgQWwoRi5hKTtYPTFFNjtmb3IoTz1udWxsO0YudGEoKTspe3ZhciBQPUJsKEYpO2lmKDI4MDc3Mjk9PVAuaWQpWD1GbChQKTtlbHNlIGlmKDE3NTQ1PT1QLmlkKWlmKDQ9PVAuYS5ieXRlTGVuZ3RoKU89UC5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1QLmEuYnl0ZUxlbmd0aClPPVAuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IEwoMiwzLDMwMDMpO31pZihudWxsPT1PKXRocm93IG5ldyBMKDIsMywzMDExKTtGPVgvMUU5O0Y9e1plOkYsZHVyYXRpb246TypGfTtPPUYuWmU7Rj1GLmR1cmF0aW9uO1g9QmwobmV3IEFsKHopKTtpZig0NzUyNDk1MTUhPVguaWQpdGhyb3cgbmV3IEwoMiwzLDMwMDcpO0k9R2woWCxJLE8sRixkLGMsQixFLEgpfUQ9STtoLm1iKEQpO1xudT1uZXcgVChEKTtrJiZ1LkphKEUsSCk7cmV0dXJuIEdbXCJyZXR1cm5cIl0odSl9KX1mdW5jdGlvbiBLbChhKXtyZXR1cm4gYS5MYn1mdW5jdGlvbiBNbChhKXt2YXIgYj12bChhLEtsLFwiUmVwcmVzZW50YXRpb25JbmRleFwiKTthPXVsKGEsS2wsXCJpbmRleFJhbmdlXCIpO2E9Y2woYXx8XCJcIik7YiYmKGE9VmsoYixcInJhbmdlXCIsY2wsYSkpO3JldHVybiBhfWZ1bmN0aW9uIExsKGEsYil7T2woYSxiKTtpZighTWwoYSkpdGhyb3cgbmV3IEwoMiw0LDQwMDIpO31mdW5jdGlvbiBPbChhLGIpe3ZhciBjPWEuRi5taW1lVHlwZS5zcGxpdChcIi9cIilbMV07aWYoXCJ0ZXh0XCIhPWEuRi5jb250ZW50VHlwZSYmXCJtcDRcIiE9YyYmXCJ3ZWJtXCIhPWMpdGhyb3cgbmV3IEwoMiw0LDQwMDYpO2lmKFwid2VibVwiPT1jJiYhYil0aHJvdyBuZXcgTCgyLDQsNDAwNSk7fTtmdW5jdGlvbiBQbChhLGIpe3ZhciBjPUlsKGEsUWwpLGQ9UmwoYSk7aWYoIWQuWiYmIWQudGltZWxpbmUmJjE8ZC5qYi5sZW5ndGgpdGhyb3cgbmV3IEwoMiw0LDQwMDIpO2lmKCFkLlomJiFhLk8uZHVyYXRpb24mJiFkLnRpbWVsaW5lJiYxPT1kLmpiLmxlbmd0aCl0aHJvdyBuZXcgTCgyLDQsNDAwMik7aWYoZC50aW1lbGluZSYmMD09ZC50aW1lbGluZS5sZW5ndGgpdGhyb3cgbmV3IEwoMiw0LDQwMDIpO3ZhciBlPW51bGwsZj1udWxsO2EuamEuaWQmJmEuRi5pZCYmKGY9YS5qYS5pZCtcIixcIithLkYuaWQsZT1iW2ZdKTtjPVNsKGEuTy5zdGFydCxhLk8uZHVyYXRpb24sYS5GLm1hLGQsYyk7ZT8oZS5rYihjKSxlLk9hKGEucHJlc2VudGF0aW9uVGltZWxpbmUuUWEoKSkpOihhLnByZXNlbnRhdGlvblRpbWVsaW5lLm1iKGMpLGU9bmV3IFQoYyksZiYmYS5OYSYmKGJbZl09ZSkpO2EuTmEmJmEuTy5DZHx8ZS5KYShhLk8uc3RhcnQsYS5PLmR1cmF0aW9uP2EuTy5zdGFydCthLk8uZHVyYXRpb246XG5JbmZpbml0eSk7cmV0dXJue2hiOmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShlKX19fWZ1bmN0aW9uIFFsKGEpe3JldHVybiBhLk1hfWZ1bmN0aW9uIFJsKGEpe3ZhciBiPVRsKGEpO2E9dGwoYSxRbCk7dmFyIGM9YS5xYjswPT1jJiYoYz0xKTt2YXIgZD0wO2EuWj9kPWEuWiooYy0xKTphLnRpbWVsaW5lJiYwPGEudGltZWxpbmUubGVuZ3RoJiYoZD1hLnRpbWVsaW5lWzBdLnN0YXJ0KTtyZXR1cm57WjphLlosc3RhcnRUaW1lOmQscWI6YyxHYTphLkdhLHRpbWVsaW5lOmEudGltZWxpbmUsamI6Yn19XG5mdW5jdGlvbiBTbChhLGIsYyxkLGUpe3ZhciBmPWQuamIubGVuZ3RoO2QudGltZWxpbmUmJmQudGltZWxpbmUubGVuZ3RoIT1kLmpiLmxlbmd0aCYmKGY9TWF0aC5taW4oZC50aW1lbGluZS5sZW5ndGgsZC5qYi5sZW5ndGgpKTt2YXIgZz1hLWQuR2EsaD1iP2ErYjpJbmZpbml0eSxrPVtdLGw9ZC5zdGFydFRpbWUsbT17fTtmPXEoZmIoZikpO2Zvcih2YXIgbj1mLm5leHQoKTshbi5kb25lO209e3VjOm0udWN9LG49Zi5uZXh0KCkpe249bi52YWx1ZTt2YXIgcj1kLmpiW25dO20udWM9TGMoYyxbci5FZV0pO3ZhciB1PXZvaWQgMDt1PW51bGwhPWQuWj9sK2QuWjpkLnRpbWVsaW5lP2QudGltZWxpbmVbbl0uZW5kOmwrYjtrLnB1c2gobmV3IFBmKGErbCxhK3UsZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHYudWN9fShtKSxyLnN0YXJ0LHIuZW5kLGUsZyxhLGgpKTtsPXV9cmV0dXJuIGt9XG5mdW5jdGlvbiBUbChhKXtyZXR1cm5bYS5GLk1hLGEuYWEuTWEsYS5qYS5NYV0uZmlsdGVyKEpjKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIFFrKGIsXCJTZWdtZW50VVJMXCIpfSkucmVkdWNlKGZ1bmN0aW9uKGIsYyl7cmV0dXJuIDA8Yi5sZW5ndGg/YjpjfSkubWFwKGZ1bmN0aW9uKGIpe2IuZ2V0QXR0cmlidXRlKFwiaW5kZXhSYW5nZVwiKSYmIWEuemQmJihhLnpkPSEwKTt2YXIgYz1iLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO2I9VmsoYixcIm1lZGlhUmFuZ2VcIixjbCx7c3RhcnQ6MCxlbmQ6bnVsbH0pO3JldHVybntFZTpjLHN0YXJ0OmIuc3RhcnQsZW5kOmIuZW5kfX0pfTtmdW5jdGlvbiBVbChhLGIsYyxkLGUpe3ZhciBmPVZsKGEpLGc9V2woYSk7WGwoZyk7dmFyIGg9VGIoYSk7aWYoZy5HYilyZXR1cm4gT2woYSxmKSx7aGI6ZnVuY3Rpb24oKXt2YXIgdT1zbChnLkdiLGguRi5pZCxudWxsLGguYmFuZHdpZHRofHxudWxsLG51bGwpO3U9TGMoaC5GLm1hLFt1XSk7cmV0dXJuIE5sKGgsYixmLHUsMCxudWxsLGcuR2EpfX07aWYoZy5aKXJldHVybiBkfHwoYS5wcmVzZW50YXRpb25UaW1lbGluZS5UYyhnLlopLGEucHJlc2VudGF0aW9uVGltZWxpbmUuVWMoYS5PLnN0YXJ0KSkse2hiOmZ1bmN0aW9uKCl7cmV0dXJuIFlsKGgsZyxlLGYpfX07dmFyIGs9bnVsbDtkPW51bGw7YS5qYS5pZCYmYS5GLmlkJiYoZD1hLmphLmlkK1wiLFwiK2EuRi5pZCxrPWNbZF0pO3ZhciBsPVpsKGgsZyxmKSxtPWEuTy5zdGFydCxuPWEuTy5kdXJhdGlvbj9hLk8uc3RhcnQrYS5PLmR1cmF0aW9uOkluZmluaXR5LHI9SW5maW5pdHkhPW47az8ociYmKG5ldyBUKGwpKS5KYShtLG4pLFxuay5rYihsKSxrLk9hKGEucHJlc2VudGF0aW9uVGltZWxpbmUuUWEoKSkpOihhLnByZXNlbnRhdGlvblRpbWVsaW5lLm1iKGwpLGs9bmV3IFQobCksZCYmYS5OYSYmKGNbZF09aykpO3ImJmsuSmEobSxuKTtyZXR1cm57aGI6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGspfX19ZnVuY3Rpb24gJGwoYSl7cmV0dXJuIGEuTWJ9ZnVuY3Rpb24gV2woYSl7dmFyIGI9dGwoYSwkbCksYz11bChhLCRsLFwibWVkaWFcIik7YT11bChhLCRsLFwiaW5kZXhcIik7cmV0dXJue1o6Yi5aLHRpbWVzY2FsZTpiLnRpbWVzY2FsZSxxYjpiLnFiLEdhOmIuR2EscGQ6Yi5wZCx0aW1lbGluZTpiLnRpbWVsaW5lLFNjOmMsR2I6YX19XG5mdW5jdGlvbiBYbChhKXt2YXIgYj1hLkdiPzE6MDtiKz1hLnRpbWVsaW5lPzE6MDtiKz1hLlo/MTowO2lmKDA9PWIpdGhyb3cgbmV3IEwoMiw0LDQwMDIpOzEhPWImJihhLkdiJiYoYS50aW1lbGluZT1udWxsKSxhLlo9bnVsbCk7aWYoIWEuR2ImJiFhLlNjKXRocm93IG5ldyBMKDIsNCw0MDAyKTt9XG5mdW5jdGlvbiBZbChhLGIsYyxkKXtmdW5jdGlvbiBlKEcpe3ZhciBGPShHLW4pKm0sST1GK2IuR2E7Ris9aDtyZXR1cm4gbmV3IFBmKEYsTWF0aC5taW4oRittLGwpLGZ1bmN0aW9uKCl7dmFyIE89c2wodSx5LEcsdixJKnIpO3JldHVybiBMYyh6LFtPXSl9LDAsbnVsbCxkLEEsaCxsKX1mdW5jdGlvbiBmKCl7dmFyIEc9W01hdGgubWF4KGcuUWEoKSxoKSxNYXRoLm1pbihnLkthKCksbCldLm1hcChmdW5jdGlvbihGKXtyZXR1cm4gRi1ofSk7cmV0dXJuW01hdGguY2VpbChHWzBdL20pLE1hdGguY2VpbChHWzFdL20pLTFdLm1hcChmdW5jdGlvbihGKXtyZXR1cm4gRitufSl9dmFyIGc9YS5wcmVzZW50YXRpb25UaW1lbGluZSxoPWEuTy5zdGFydCxrPWEuTy5kdXJhdGlvbixsPWs/aCtrOkluZmluaXR5LG09Yi5aLG49Yi5xYixyPWIudGltZXNjYWxlLHU9Yi5TYyx2PWEuYmFuZHdpZHRofHxudWxsLHk9YS5GLmlkLHo9YS5GLm1hLEE9aC1iLkdhLEQ9ZigpO2s9RFsxXTt2YXIgQj1bXTtcbmZvcihhPWEuTmE/TWF0aC5tYXgoRFswXSxEWzFdLWMrMSk6RFswXTthPD1rOysrYSljPWUoYSksQi5wdXNoKGMpO3ZhciBFPW5ldyBUKEIpO2lmKGcuS2EoKTxsKXt2YXIgSD1rKzE7RS5uYyhtLGZ1bmN0aW9uKCl7RS5PYShnLlFhKCkpO3ZhciBHPXEoZigpKTtHLm5leHQoKTtHPUcubmV4dCgpLnZhbHVlO2Zvcih2YXIgRj1bXTtIPD1HOyl7dmFyIEk9ZShIKTtGLnB1c2goSSk7SCsrfXJldHVybiBGfSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShFKX1cbmZ1bmN0aW9uIFpsKGEsYixjKXt2YXIgZD1hLk8uc3RhcnQsZT1hLk8uZHVyYXRpb24sZj1kLWIuR2E7ZT1lP2QrZTpJbmZpbml0eTtmb3IodmFyIGc9W10saD17fSxrPXEoaGIoYi50aW1lbGluZSkpLGw9ay5uZXh0KCk7IWwuZG9uZTtoPXt2YzpoLnZjLHljOmgueWMsc2M6aC5zYyx6YzpoLnpjfSxsPWsubmV4dCgpKXtsPWwudmFsdWU7dmFyIG09bC5pdGVtLG49bS5zdGFydCxyPW0uZGY7bT1tLmVuZDtoLnljPWwuWStiLnFiO2guemM9citiLnBkO2gudmM9YS5GLmlkO2guc2M9YS5iYW5kd2lkdGh8fG51bGw7Zy5wdXNoKG5ldyBQZihkK24sZCttLGZ1bmN0aW9uKHUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB2PXNsKGIuU2MsdS52Yyx1LnljLHUuc2N8fG51bGwsdS56Yyk7cmV0dXJuIExjKGEuRi5tYSxbdl0pLm1hcChmdW5jdGlvbih5KXtyZXR1cm4geS50b1N0cmluZygpfSl9fShoKSwwLG51bGwsYyxmLGQsZSkpfXJldHVybiBnfVxuZnVuY3Rpb24gVmwoYSl7dmFyIGI9dWwoYSwkbCxcImluaXRpYWxpemF0aW9uXCIpO2lmKCFiKXJldHVybiBudWxsO3ZhciBjPWEuRi5pZCxkPWEuYmFuZHdpZHRofHxudWxsLGU9YS5GLm1hO3JldHVybiBuZXcgT2YoZnVuY3Rpb24oKXt2YXIgZj1zbChiLGMsbnVsbCxkLG51bGwpO3JldHVybiBMYyhlLFtmXSl9LDAsbnVsbCl9O2Z1bmN0aW9uIGFtKCl7dGhpcy5mPVtdO3RoaXMuYT1bXTt0aGlzLmI9W107dGhpcy5jPVtdO3RoaXMuZz1uZXcgU2V0fWFtLnByb3RvdHlwZS5yZWxlYXNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXEodGhpcy5hLmNvbmNhdCh0aGlzLmIsdGhpcy5jKSksYj1hLm5leHQoKTshYi5kb25lO2I9YS5uZXh0KCkpYj1iLnZhbHVlLGIuc2VnbWVudEluZGV4JiZiLnNlZ21lbnRJbmRleC5yZWxlYXNlKCk7dGhpcy5hPVtdO3RoaXMuYj1bXTt0aGlzLmM9W107dGhpcy5mPVtdfTtcbmZ1bmN0aW9uIGJtKGEsYixjKXt2YXIgZCxlLGYsZyxoLGssbCxtLG4scix1LHYseSx6LEEsRCxCLEUsSCxHLEYsSSxPLFgsUCxrYSx6YSxRYSxDYSxSYTtyZXR1cm4gSihmdW5jdGlvbihIYSl7c3dpdGNoKEhhLmEpe2Nhc2UgMTpkPU5jO2NtKGIpO2RtKGIpO2lmKCFjJiYxPT1iLmxlbmd0aCl7ZT1iWzBdO2EuYT1lLlpiO2EuYj1lLnBjO2EuYz1lLnRleHRTdHJlYW1zO0hhLnUoMik7YnJlYWt9Zj0tMTtnPXEoaGIoYikpO2ZvcihoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSlsPWs9aC52YWx1ZSxtPWwuWSxuPWwuaXRlbSxhLmcuaGFzKG4uaWQpfHwoYS5nLmFkZChuLmlkKSwtMT09ZiYmKGY9bSkpO2lmKC0xPT1mKXJldHVybiBIYVtcInJldHVyblwiXSgpO3I9Yi5tYXAoZnVuY3Rpb24oQWEpe3JldHVybiBBYS5aYn0pO3U9Yi5tYXAoZnVuY3Rpb24oQWEpe3JldHVybiBBYS5wY30pO3Y9Yi5tYXAoZnVuY3Rpb24oQWEpe3JldHVybiBBYS50ZXh0U3RyZWFtc30pO3k9cSh2KTtmb3Ioej1cbnkubmV4dCgpOyF6LmRvbmU7ej15Lm5leHQoKSlBPXoudmFsdWUsQS5wdXNoKGVtKCkpO3JldHVybiB0KEhhLGZtKGEuYSxyLGYsZ20saG0pLDMpO2Nhc2UgMzpyZXR1cm4gdChIYSxmbShhLmIsdSxmLGdtLGhtKSw0KTtjYXNlIDQ6cmV0dXJuIHQoSGEsZm0oYS5jLHYsZixnbSxobSksMik7Y2FzZSAyOkQ9MDtCPVtdO2lmKGEuYi5sZW5ndGgmJmEuYS5sZW5ndGgpZm9yKE89cShhLmEpLFg9Ty5uZXh0KCk7IVguZG9uZTtYPU8ubmV4dCgpKWZvcihQPVgudmFsdWUsa2E9cShhLmIpLHphPWthLm5leHQoKTshemEuZG9uZTt6YT1rYS5uZXh0KCkpUWE9emEudmFsdWUsQ2E9U2QoUC5kcm1JbmZvcyxRYS5kcm1JbmZvcyksUC5kcm1JbmZvcy5sZW5ndGgmJlFhLmRybUluZm9zLmxlbmd0aCYmIUNhLmxlbmd0aHx8KFJhPUQrKyxCLnB1c2goe2lkOlJhLGxhbmd1YWdlOlAubGFuZ3VhZ2UscHJpbWFyeTpQLnByaW1hcnksYXVkaW86UCx2aWRlbzpRYSxiYW5kd2lkdGg6KFAuYmFuZHdpZHRofHxcbjApKyhRYS5iYW5kd2lkdGh8fDApLGRybUluZm9zOkNhLGFsbG93ZWRCeUFwcGxpY2F0aW9uOiEwLGFsbG93ZWRCeUtleVN5c3RlbTohMH0pKTtlbHNlIGZvcihFPWEuYi5jb25jYXQoYS5hKSxIPXEoRSksRz1ILm5leHQoKTshRy5kb25lO0c9SC5uZXh0KCkpRj1HLnZhbHVlLEk9RCsrLEIucHVzaCh7aWQ6SSxsYW5ndWFnZTpGLmxhbmd1YWdlLHByaW1hcnk6Ri5wcmltYXJ5LGF1ZGlvOkYudHlwZT09ZC5lYj9GOm51bGwsdmlkZW86Ri50eXBlPT1kLkJhP0Y6bnVsbCxiYW5kd2lkdGg6Ri5iYW5kd2lkdGh8fDAsZHJtSW5mb3M6Ri5kcm1JbmZvcyxhbGxvd2VkQnlBcHBsaWNhdGlvbjohMCxhbGxvd2VkQnlLZXlTeXN0ZW06ITB9KTthLmY9Qjt3KEhhKX19KX1cbmZ1bmN0aW9uIGNtKGEpe2E9cShhKTtmb3IodmFyIGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKXtiPWIudmFsdWU7Zm9yKHZhciBjPVtdLGQ9cShiLlpiKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO2Zvcih2YXIgZj0hMSxnPXEoYyksaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpaD1oLnZhbHVlLGUuaWQhPWguaWQmJmUuY2hhbm5lbHNDb3VudD09aC5jaGFubmVsc0NvdW50JiZlLmxhbmd1YWdlPT1oLmxhbmd1YWdlJiZlLmJhbmR3aWR0aD09aC5iYW5kd2lkdGgmJldiKGUucm9sZXMsaC5yb2xlcykmJmUuYXVkaW9TYW1wbGluZ1JhdGU9PWguYXVkaW9TYW1wbGluZ1JhdGUmJmUucHJpbWFyeT09aC5wcmltYXJ5JiYoZj0hMCk7Znx8Yy5wdXNoKGUpfWIuWmI9Y319XG5mdW5jdGlvbiBkbShhKXthPXEoYSk7Zm9yKHZhciBiPWEubmV4dCgpOyFiLmRvbmU7Yj1hLm5leHQoKSl7Yj1iLnZhbHVlO2Zvcih2YXIgYz1bXSxkPXEoYi5wYyksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe2U9ZS52YWx1ZTtmb3IodmFyIGY9ITEsZz1xKGMpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKWg9aC52YWx1ZSxlLmlkIT1oLmlkJiZlLndpZHRoPT1oLndpZHRoJiZlLmZyYW1lUmF0ZT09aC5mcmFtZVJhdGUmJldiKGUucm9sZXMsaC5yb2xlcykmJlFjKGUuY2xvc2VkQ2FwdGlvbnMsaC5jbG9zZWRDYXB0aW9ucykmJmUuYmFuZHdpZHRoPT1oLmJhbmR3aWR0aCYmKGY9ITApO2Z8fGMucHVzaChlKX1iLnBjPWN9fVxuZnVuY3Rpb24gaW0oYSl7dmFyIGIsYyxkLGUsZixnLGgsayxsLG0sbixyLHUsdix5LHosQSxELEIsRSxILEc7cmV0dXJuIEooZnVuY3Rpb24oRil7c3dpdGNoKEYuYSl7Y2FzZSAxOmI9TmM7aWYoMT09YS5sZW5ndGgpcmV0dXJuIEZbXCJyZXR1cm5cIl0oYVswXSk7Yz1hLm1hcChmdW5jdGlvbihJKXtyZXR1cm4gSS5maWx0ZXIoZnVuY3Rpb24oTyl7cmV0dXJuIE8udHlwZT09Yi5lYn0pfSk7ZD1hLm1hcChmdW5jdGlvbihJKXtyZXR1cm4gSS5maWx0ZXIoZnVuY3Rpb24oTyl7cmV0dXJuIE8udHlwZT09Yi5CYX0pfSk7ZT1hLm1hcChmdW5jdGlvbihJKXtyZXR1cm4gSS5maWx0ZXIoZnVuY3Rpb24oTyl7cmV0dXJuIE8udHlwZT09Yi4kfSl9KTtmPXEoZSk7Zm9yKGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKWg9Zy52YWx1ZSxoLnB1c2goe2lkOjAsb3JpZ2luYWxJZDpcIlwiLHByaW1hcnk6ITEsdHlwZTpcInRleHRcIixtaW1lVHlwZTpcIlwiLGNvZGVjczpcIlwiLGxhbmd1YWdlOlwiXCIsbGFiZWw6bnVsbCxcbndpZHRoOm51bGwsaGVpZ2h0Om51bGwsZW5jcnlwdGVkOiExLGtleUlkczpuZXcgU2V0LHNlZ21lbnRzOltdLHZhcmlhbnRJZHM6W10scm9sZXM6W10sY2hhbm5lbHNDb3VudDpudWxsLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsY2xvc2VkQ2FwdGlvbnM6bnVsbH0pO3JldHVybiB0KEYsZm0oW10sYywwLGptLGttKSwyKTtjYXNlIDI6cmV0dXJuIGs9Ri5iLHQoRixmbShbXSxkLDAsam0sa20pLDMpO2Nhc2UgMzpyZXR1cm4gbD1GLmIsdChGLGZtKFtdLGUsMCxqbSxrbSksNCk7Y2FzZSA0Om09Ri5iO249MDtpZihsLmxlbmd0aCYmay5sZW5ndGgpZm9yKHo9cShrKSxBPXoubmV4dCgpOyFBLmRvbmU7QT16Lm5leHQoKSlmb3IoRD1BLnZhbHVlLEI9cShsKSxFPUIubmV4dCgpOyFFLmRvbmU7RT1CLm5leHQoKSlIPUUudmFsdWUsRz1uKyssSC52YXJpYW50SWRzLnB1c2goRyksRC52YXJpYW50SWRzLnB1c2goRyk7ZWxzZSBmb3Iocj1sLmNvbmNhdChrKSx1PXEociksdj11Lm5leHQoKTshdi5kb25lO3Y9XG51Lm5leHQoKSl5PXYudmFsdWUseS52YXJpYW50SWRzPVtuKytdO3JldHVybiBGW1wicmV0dXJuXCJdKGwuY29uY2F0KGssbSkpfX0pfVxuZnVuY3Rpb24gZm0oYSxiLGMsZCxlKXt2YXIgZixnLGgsayxsLG0sbixyLHUsdix5LHosQSxELEIsRSxILEcsRixJLE8sWCxQO3JldHVybiBKKGZ1bmN0aW9uKGthKXtzd2l0Y2goa2EuYSl7Y2FzZSAxOmY9TmM7Zz1bXTtoPXEoaGIoYikpO2ZvcihrPWgubmV4dCgpOyFrLmRvbmU7az1oLm5leHQoKSltPWw9ay52YWx1ZSxuPW0uWSxyPW0uaXRlbSxuPj1jP2cucHVzaChuZXcgU2V0KHIpKTpnLnB1c2gobmV3IFNldCk7dT1xKGEpO3Y9dS5uZXh0KCk7Y2FzZSAyOmlmKHYuZG9uZSl7a2EudSg0KTticmVha315PXYudmFsdWU7cmV0dXJuIHQoa2EsbG0oeSxiLGMsZSxnKSw1KTtjYXNlIDU6ej1rYS5iO2lmKCF6KXRocm93IG5ldyBMKDIsNCw0MDM3KTt2PXUubmV4dCgpO2thLnUoMik7YnJlYWs7Y2FzZSA0OkE9cShnKSxEPUEubmV4dCgpO2Nhc2UgNjppZihELmRvbmUpe2thLnUoOCk7YnJlYWt9Qj1ELnZhbHVlO0U9cShCKTtIPUUubmV4dCgpO2Nhc2UgOTppZihILmRvbmUpe0Q9QS5uZXh0KCk7XG5rYS51KDYpO2JyZWFrfUc9SC52YWx1ZTtyZXR1cm4gdChrYSxtbShHLGIsZCxlLGcpLDEyKTtjYXNlIDEyOihGPWthLmIpJiZhLnB1c2goRik7SD1FLm5leHQoKTtrYS51KDkpO2JyZWFrO2Nhc2UgODpJPXEoZyk7Zm9yKEQ9SS5uZXh0KCk7IUQuZG9uZTtEPUkubmV4dCgpKWZvcihPPUQudmFsdWUsWD1xKE8pLEg9WC5uZXh0KCk7IUguZG9uZTtIPVgubmV4dCgpKWlmKFA9SC52YWx1ZSxQLnR5cGUhPWYuJHx8UC5sYW5ndWFnZSl0aHJvdyBuZXcgTCgyLDQsNDAzNyk7cmV0dXJuIGthW1wicmV0dXJuXCJdKGEpfX0pfWZ1bmN0aW9uIGxtKGEsYixjLGQsZSl7dmFyIGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7aWYoMT09Zy5hKXJldHVybihmPW5tKGIsYSkpP3QoZyxQcm9taXNlLmFsbChmLm1hcChmdW5jdGlvbihoKXtyZXR1cm4gaC5jcmVhdGVTZWdtZW50SW5kZXgoKX0pKSwyKTpnW1wicmV0dXJuXCJdKCExKTtvbShhLGYsYyxkLGUpO3JldHVybiBnW1wicmV0dXJuXCJdKCEwKX0pfVxuZnVuY3Rpb24gbW0oYSxiLGMsZCxlKXt2YXIgZixnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSlyZXR1cm4gZj1jKGEpLChnPW5tKGIsZikpP2YuY3JlYXRlU2VnbWVudEluZGV4P3QoaCxQcm9taXNlLmFsbChnLm1hcChmdW5jdGlvbihrKXtyZXR1cm4gay5jcmVhdGVTZWdtZW50SW5kZXgoKX0pKSwyKTpoLnUoMik6aFtcInJldHVyblwiXShudWxsKTtvbShmLGcsMCxkLGUpO3JldHVybiBoW1wicmV0dXJuXCJdKGYpfSl9ZnVuY3Rpb24gb20oYSxiLGMsZCxlKXtiPXEoaGIoYikpO2Zvcih2YXIgZj1iLm5leHQoKTshZi5kb25lO2Y9Yi5uZXh0KCkpe3ZhciBnPWYudmFsdWU7Zj1nLlk7Zz1nLml0ZW07aWYoZj49Yyl7ZChhLGcpO3ZhciBoPSEwO1wiYXVkaW9cIj09YS50eXBlJiYwPT1hZihhLmxhbmd1YWdlLGcubGFuZ3VhZ2UpJiYoaD0hMSk7aCYmZVtmXVtcImRlbGV0ZVwiXShnKX19fVxuZnVuY3Rpb24gZ20oYSl7YT1PYmplY3QuYXNzaWduKHt9LGEpO2Eub3JpZ2luYWxJZD1udWxsO2EuY3JlYXRlU2VnbWVudEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTthLnNlZ21lbnRJbmRleD1uZXcgQWc7YS5lbXNnU2NoZW1lSWRVcmlzPVtdO2Eua2V5SWRzPW5ldyBTZXQ7YS5jbG9zZWRDYXB0aW9ucz1udWxsO2EudHJpY2tNb2RlVmlkZW89bnVsbDtyZXR1cm4gYX1mdW5jdGlvbiBqbShhKXthPU9iamVjdC5hc3NpZ24oe30sYSk7YS5rZXlJZHM9bmV3IFNldDthLnNlZ21lbnRzPVtdO2EudmFyaWFudElkcz1bXTthLmNsb3NlZENhcHRpb25zPW51bGw7cmV0dXJuIGF9XG5mdW5jdGlvbiBobShhLGIpe2Eucm9sZXM9QXJyYXkuZnJvbShuZXcgU2V0KGEucm9sZXMuY29uY2F0KGIucm9sZXMpKSk7Yi5lbXNnU2NoZW1lSWRVcmlzJiYoYS5lbXNnU2NoZW1lSWRVcmlzPUFycmF5LmZyb20obmV3IFNldChhLmVtc2dTY2hlbWVJZFVyaXMuY29uY2F0KGIuZW1zZ1NjaGVtZUlkVXJpcykpKSk7dmFyIGM9Yi5rZXlJZHM7Yz1uZXcgU2V0KGhhKGEua2V5SWRzKS5jb25jYXQoaGEoYykpKTthLmtleUlkcz1jO251bGw9PWEub3JpZ2luYWxJZD9hLm9yaWdpbmFsSWQ9Yi5vcmlnaW5hbElkOmEub3JpZ2luYWxJZCs9XCIsXCIrKGIub3JpZ2luYWxJZHx8XCJcIik7Yz1TZChhLmRybUluZm9zLGIuZHJtSW5mb3MpO2lmKGIuZHJtSW5mb3MubGVuZ3RoJiZhLmRybUluZm9zLmxlbmd0aCYmIWMubGVuZ3RoKXRocm93IG5ldyBMKDIsNCw0MDM4KTthLmRybUluZm9zPWM7YS5lbmNyeXB0ZWQ9YS5lbmNyeXB0ZWR8fGIuZW5jcnlwdGVkO2lmKGIuY2xvc2VkQ2FwdGlvbnMpe2EuY2xvc2VkQ2FwdGlvbnN8fFxuKGEuY2xvc2VkQ2FwdGlvbnM9bmV3IE1hcCk7Yz1xKGIuY2xvc2VkQ2FwdGlvbnMpO2Zvcih2YXIgZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpe3ZhciBlPXEoZC52YWx1ZSk7ZD1lLm5leHQoKS52YWx1ZTtlPWUubmV4dCgpLnZhbHVlO2EuY2xvc2VkQ2FwdGlvbnMuc2V0KGQsZSl9fWEuc2VnbWVudEluZGV4LmYucHVzaChiLnNlZ21lbnRJbmRleCk7Yi50cmlja01vZGVWaWRlbz8oYS50cmlja01vZGVWaWRlb3x8KGEudHJpY2tNb2RlVmlkZW89Z20oYi50cmlja01vZGVWaWRlbyksYS50cmlja01vZGVWaWRlby5zZWdtZW50SW5kZXg9YS5zZWdtZW50SW5kZXguY2xvbmUoKSksaG0oYS50cmlja01vZGVWaWRlbyxiLnRyaWNrTW9kZVZpZGVvKSk6YS50cmlja01vZGVWaWRlbyYmaG0oYS50cmlja01vZGVWaWRlbyxiKX1cbmZ1bmN0aW9uIGttKGEsYil7YS5yb2xlcz1BcnJheS5mcm9tKG5ldyBTZXQoYS5yb2xlcy5jb25jYXQoYi5yb2xlcykpKTt2YXIgYz1iLmtleUlkcztjPW5ldyBTZXQoaGEoYS5rZXlJZHMpLmNvbmNhdChoYShjKSkpO2Eua2V5SWRzPWM7YS5lbmNyeXB0ZWQ9YS5lbmNyeXB0ZWQmJmIuZW5jcnlwdGVkO2Euc2VnbWVudHMucHVzaC5hcHBseShhLnNlZ21lbnRzLGhhKGIuc2VnbWVudHMpKTtpZihiLmNsb3NlZENhcHRpb25zKXthLmNsb3NlZENhcHRpb25zfHwoYS5jbG9zZWRDYXB0aW9ucz1uZXcgTWFwKTtjPXEoYi5jbG9zZWRDYXB0aW9ucyk7Zm9yKHZhciBkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSl7dmFyIGU9cShkLnZhbHVlKTtkPWUubmV4dCgpLnZhbHVlO2U9ZS5uZXh0KCkudmFsdWU7YS5jbG9zZWRDYXB0aW9ucy5zZXQoZCxlKX19fVxuZnVuY3Rpb24gbm0oYSxiKXtmb3IodmFyIGM9W10sZD1xKGEpLGU9ZC5uZXh0KCk7IWUuZG9uZTtlPWQubmV4dCgpKXt2YXIgZj1iLGc9e2F1ZGlvOnBtLHZpZGVvOnBtLHRleHQ6cW19W2YudHlwZV0saD17YXVkaW86cm0sdmlkZW86c20sdGV4dDp0bX1bZi50eXBlXSxrPW51bGw7ZT1xKGUudmFsdWUpO2Zvcih2YXIgbD1lLm5leHQoKTshbC5kb25lO2w9ZS5uZXh0KCkpbD1sLnZhbHVlLCFnKGYsbCl8fGsmJiFoKGYsayxsKXx8KGs9bCk7Zj1rO2lmKCFmKXJldHVybiBudWxsO2MucHVzaChmKX1yZXR1cm4gY31mdW5jdGlvbiBwbShhLGIpe3ZhciBjO2lmKCEoYz1iLm1pbWVUeXBlIT1hLm1pbWVUeXBlfHxVYyhiLmNvZGVjcylbMF0hPVVjKGEuY29kZWNzKVswXSkmJihjPWEuZHJtSW5mb3MpKXtjPWEuZHJtSW5mb3M7dmFyIGQ9Yi5kcm1JbmZvcztjPSEoYy5sZW5ndGgmJmQubGVuZ3RoPzA8U2QoYyxkKS5sZW5ndGg6MSl9cmV0dXJuIGM/ITE6ITB9XG5mdW5jdGlvbiBxbShhLGIpe3JldHVybiBhLmxhbmd1YWdlP2IubGFuZ3VhZ2U/MD09YWYoYS5sYW5ndWFnZSxiLmxhbmd1YWdlKXx8Yi5raW5kIT1hLmtpbmQ/ITE6ITA6ITA6ITF9XG5mdW5jdGlvbiBybShhLGIsYyl7aWYoYS5pZD09Yy5pZClyZXR1cm4hMDt2YXIgZD1hZihhLmxhbmd1YWdlLGIubGFuZ3VhZ2UpLGU9YWYoYS5sYW5ndWFnZSxjLmxhbmd1YWdlKTtpZihlPmQpcmV0dXJuITA7aWYoZTxkKXJldHVybiExO2lmKCFiLnByaW1hcnkmJmMucHJpbWFyeSlyZXR1cm4hMDtpZihiLnByaW1hcnkmJiFjLnByaW1hcnkpcmV0dXJuITE7aWYoYS5yb2xlcy5sZW5ndGgpcmV0dXJuIGQ9Yi5yb2xlcy5maWx0ZXIoZnVuY3Rpb24oZil7cmV0dXJuIGEucm9sZXMuaW5jbHVkZXMoZil9KSxlPWMucm9sZXMuZmlsdGVyKGZ1bmN0aW9uKGYpe3JldHVybiBhLnJvbGVzLmluY2x1ZGVzKGYpfSksZS5sZW5ndGg+ZC5sZW5ndGg/ITA6ZS5sZW5ndGg8ZC5sZW5ndGg/ITE6Yy5yb2xlcy5sZW5ndGg8Yi5yb2xlcy5sZW5ndGg7ZD11bShhLmNoYW5uZWxzQ291bnQsYi5jaGFubmVsc0NvdW50LGMuY2hhbm5lbHNDb3VudCk7aWYoZD09dm0pcmV0dXJuITA7aWYoZD09d20pcmV0dXJuITE7XG5kPXVtKGEuYXVkaW9TYW1wbGluZ1JhdGUsYi5hdWRpb1NhbXBsaW5nUmF0ZSxjLmF1ZGlvU2FtcGxpbmdSYXRlKTtyZXR1cm4gZD09dm0/ITA6ZD09d20/ITE6YS5iYW5kd2lkdGgmJnhtKGEuYmFuZHdpZHRoLGIuYmFuZHdpZHRoLGMuYmFuZHdpZHRoKT09dm0/ITA6ITF9ZnVuY3Rpb24gc20oYSxiLGMpe2lmKGEuaWQ9PWMuaWQpcmV0dXJuITA7dmFyIGQ9dW0oYS53aWR0aCphLmhlaWdodCxiLndpZHRoKmIuaGVpZ2h0LGMud2lkdGgqYy5oZWlnaHQpO2lmKGQ9PXZtKXJldHVybiEwO2lmKGQ9PXdtKXJldHVybiExO2lmKGEuZnJhbWVSYXRlKXtkPXVtKGEuZnJhbWVSYXRlLGIuZnJhbWVSYXRlLGMuZnJhbWVSYXRlKTtpZihkPT12bSlyZXR1cm4hMDtpZihkPT13bSlyZXR1cm4hMX1yZXR1cm4gYS5iYW5kd2lkdGgmJnhtKGEuYmFuZHdpZHRoLGIuYmFuZHdpZHRoLGMuYmFuZHdpZHRoKT09dm0/ITA6ITF9XG5mdW5jdGlvbiB0bShhLGIsYyl7aWYoYS5pZD09Yy5pZClyZXR1cm4hMDt2YXIgZD1hZihhLmxhbmd1YWdlLGIubGFuZ3VhZ2UpLGU9YWYoYS5sYW5ndWFnZSxjLmxhbmd1YWdlKTtpZihlPmQpcmV0dXJuITA7aWYoZTxkKXJldHVybiExO2lmKCFiLnByaW1hcnkmJmMucHJpbWFyeSlyZXR1cm4hMDtpZihiLnByaW1hcnkmJiFjLnByaW1hcnkpcmV0dXJuITE7aWYoYS5yb2xlcy5sZW5ndGgpe2Q9Yi5yb2xlcy5maWx0ZXIoZnVuY3Rpb24oZil7cmV0dXJuIGEucm9sZXMuaW5jbHVkZXMoZil9KTtlPWMucm9sZXMuZmlsdGVyKGZ1bmN0aW9uKGYpe3JldHVybiBhLnJvbGVzLmluY2x1ZGVzKGYpfSk7aWYoZS5sZW5ndGg+ZC5sZW5ndGgpcmV0dXJuITA7aWYoZS5sZW5ndGg8ZC5sZW5ndGgpcmV0dXJuITF9cmV0dXJuIGMubWltZVR5cGUhPWEubWltZVR5cGV8fGMuY29kZWNzIT1hLmNvZGVjc3x8Yi5taW1lVHlwZT09YS5taW1lVHlwZSYmYi5jb2RlY3M9PWEuY29kZWNzPyExOiEwfVxuZnVuY3Rpb24gZW0oKXtyZXR1cm57aWQ6MCxvcmlnaW5hbElkOlwiXCIsY3JlYXRlU2VnbWVudEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSxzZWdtZW50SW5kZXg6bmV3IFQoW10pLG1pbWVUeXBlOlwiXCIsY29kZWNzOlwiXCIsZW5jcnlwdGVkOiExLGRybUluZm9zOltdLGtleUlkczpuZXcgU2V0LGxhbmd1YWdlOlwiXCIsbGFiZWw6bnVsbCx0eXBlOlwidGV4dFwiLHByaW1hcnk6ITEsdHJpY2tNb2RlVmlkZW86bnVsbCxlbXNnU2NoZW1lSWRVcmlzOm51bGwscm9sZXM6W10sY2hhbm5lbHNDb3VudDpudWxsLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsY2xvc2VkQ2FwdGlvbnM6bnVsbH19XG5mdW5jdGlvbiB1bShhLGIsYyl7aWYoYj09YSYmYSE9YylyZXR1cm4gd207aWYoYz09YSYmYSE9YilyZXR1cm4gdm07aWYoYj5hKXtpZihjPD1hfHxjLWE8Yi1hKXJldHVybiB2bTtpZihjLWE+Yi1hKXJldHVybiB3bX1lbHNle2lmKGM+YSlyZXR1cm4gd207aWYoYS1jPGEtYilyZXR1cm4gdm07aWYoYS1jPmEtYilyZXR1cm4gd219cmV0dXJuIHltfWZ1bmN0aW9uIHhtKGEsYixjKXtiPU1hdGguYWJzKGEtYik7YT1NYXRoLmFicyhhLWMpO3JldHVybiBhPGI/dm06YjxhP3dtOnltfXZhciB2bT0xLHltPTAsd209LTE7ZnVuY3Rpb24gem0oKXt2YXIgYT10aGlzO3RoaXMucz10aGlzLmk9bnVsbDt0aGlzLmI9W107dGhpcy5vPW51bGw7dGhpcy5tPTE7dGhpcy5mPXt9O3RoaXMuYT1uZXcgYW07dGhpcy5oPTA7dGhpcy5qPW5ldyBOYSg1KTt0aGlzLmc9bmV3IE0oZnVuY3Rpb24oKXthLkliKCl9KTt0aGlzLmM9bmV3IFhifXA9em0ucHJvdG90eXBlO3AuY29uZmlndXJlPWZ1bmN0aW9uKGEpe3RoaXMuaT1hfTtwLnN0YXJ0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkO3JldHVybiBKKGZ1bmN0aW9uKGUpe2lmKDE9PWUuYSlyZXR1cm4gYy5iPVthXSxjLnM9Yix0KGUsQW0oYyksMik7ZD1lLmI7Yy5zJiZCbShjLGQpO2lmKCFjLnMpdGhyb3cgbmV3IEwoMiw3LDcwMDEpO3JldHVybiBlW1wicmV0dXJuXCJdKGMubyl9KX07XG5wLnN0b3A9ZnVuY3Rpb24oKXtmb3IodmFyIGE9cShPYmplY3QudmFsdWVzKHRoaXMuZikpLGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKWIudmFsdWUucmVsZWFzZSgpO3RoaXMuYSYmdGhpcy5hLnJlbGVhc2UoKTt0aGlzLmk9dGhpcy5zPW51bGw7dGhpcy5iPVtdO3RoaXMubz1udWxsO3RoaXMuZj17fTt0aGlzLmE9bnVsbDtudWxsIT10aGlzLmcmJih0aGlzLmcuc3RvcCgpLHRoaXMuZz1udWxsKTtyZXR1cm4gdGhpcy5jLmRlc3Ryb3koKX07cC51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7cmV0dXJuIEooZnVuY3Rpb24oYyl7aWYoMT09Yy5hKXJldHVybiB4KGMsMiksdChjLEFtKGEpLDQpO2lmKDIhPWMuYSlyZXR1cm4gdWEoYywwKTtiPUMoYyk7aWYoIWEuc3x8IWIpcmV0dXJuIGNbXCJyZXR1cm5cIl0oKTthLnMub25FcnJvcihiKTt3KGMpfSl9O3Aub25FeHBpcmF0aW9uVXBkYXRlZD1mdW5jdGlvbigpe307XG5mdW5jdGlvbiBBbShhKXt2YXIgYixjLGQsZSxmLGcsaDtyZXR1cm4gSihmdW5jdGlvbihrKXtpZigxPT1rLmEpcmV0dXJuIGI9Y2MoYS5iLGEuaS5yZXRyeVBhcmFtZXRlcnMpLGM9YS5zLm5ldHdvcmtpbmdFbmdpbmUsZD1EYXRlLm5vdygpLGU9Yy5yZXF1ZXN0KDAsYiksWWIoYS5jLGUpLHQoayxlLnByb21pc2UsMik7aWYoMyE9ay5hKXtmPWsuYjtpZighYS5zKXJldHVybiBrW1wicmV0dXJuXCJdKDApO2YudXJpJiYhYS5iLmluY2x1ZGVzKGYudXJpKSYmYS5iLnVuc2hpZnQoZi51cmkpO3JldHVybiB0KGssQ20oYSxmLmRhdGEsZi51cmkpLDMpfWc9RGF0ZS5ub3coKTtoPShnLWQpLzFFMztPYShhLmosMSxoKTtyZXR1cm4ga1tcInJldHVyblwiXShoKX0pfVxuZnVuY3Rpb24gQ20oYSxiLGMpe3ZhciBkLGUsZixnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSl7ZD1pbChiLFwiTVBEXCIpO2lmKCFkKXRocm93IG5ldyBMKDIsNCw0MDAxLGMpO2U9YS5pLmRhc2gueGxpbmtGYWlsR3JhY2VmdWxseTtmPXhsKGQsYS5pLnJldHJ5UGFyYW1ldGVycyxlLGMsYS5zLm5ldHdvcmtpbmdFbmdpbmUpO1liKGEuYyxmKTtyZXR1cm4gdChoLGYucHJvbWlzZSwyKX1nPWguYjtyZXR1cm4gaFtcInJldHVyblwiXShEbShhLGcsYykpfSl9XG5mdW5jdGlvbiBEbShhLGIsYyl7dmFyIGQsZSxmLGcsaCxrLGwsbSxuLHIsdSx2LHkseixBLEQsQixFLEgsRyxGLEksTztyZXR1cm4gSihmdW5jdGlvbihYKXtzd2l0Y2goWC5hKXtjYXNlIDE6ZD1bY107ZT1RayhiLFwiTG9jYXRpb25cIikubWFwKFVrKS5maWx0ZXIoSmMpOzA8ZS5sZW5ndGgmJihmPUxjKGQsZSksZD1hLmI9Zik7Zz1RayhiLFwiQmFzZVVSTFwiKS5tYXAoVWspO2g9TGMoZCxnKTtrPWEuaS5kYXNoLmlnbm9yZU1pbkJ1ZmZlclRpbWU7bD0wO2t8fChsPVZrKGIsXCJtaW5CdWZmZXJUaW1lXCIsYmwpfHwwKTthLmg9VmsoYixcIm1pbmltdW1VcGRhdGVQZXJpb2RcIixibCwtMSk7bT1WayhiLFwiYXZhaWxhYmlsaXR5U3RhcnRUaW1lXCIsV2spO249VmsoYixcInRpbWVTaGlmdEJ1ZmZlckRlcHRoXCIsYmwpO3I9YS5pLmRhc2guaWdub3JlU3VnZ2VzdGVkUHJlc2VudGF0aW9uRGVsYXk7dT1udWxsO3J8fCh1PVZrKGIsXCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheVwiLGJsKSk7dj1WayhiLFxuXCJtYXhTZWdtZW50RHVyYXRpb25cIixibCk7eT1iLmdldEF0dHJpYnV0ZShcInR5cGVcIil8fFwic3RhdGljXCI7YS5vP3o9YS5vLnByZXNlbnRhdGlvblRpbWVsaW5lOihBPWEuaS5kZWZhdWx0UHJlc2VudGF0aW9uRGVsYXl8fDEuNSpsLEQ9bnVsbCE9dT91OkEsej1uZXcgUyhtLEQsYS5pLmRhc2guYXV0b0NvcnJlY3REcmlmdCkpO0I9e05hOlwic3RhdGljXCIhPXkscHJlc2VudGF0aW9uVGltZWxpbmU6eixqYTpudWxsLE86bnVsbCxhYTpudWxsLEY6bnVsbCxiYW5kd2lkdGg6MCx6ZDohMX07dmFyIFA9VmsoYixcIm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb25cIixibCksa2E9W10semE9MCxRYT1RayhiLFwiUGVyaW9kXCIpO1FhPXEoaGIoUWEpKTtmb3IodmFyIENhPVFhLm5leHQoKTshQ2EuZG9uZTtDYT1RYS5uZXh0KCkpe3ZhciBSYT1DYS52YWx1ZTtDYT1SYS5pdGVtO1JhPVJhLm5leHQ7emE9VmsoQ2EsXCJzdGFydFwiLGJsLHphKTt2YXIgSGE9VmsoQ2EsXCJkdXJhdGlvblwiLGJsKSxBYT1udWxsO1xuaWYoUmEpe3ZhciBQYj1WayhSYSxcInN0YXJ0XCIsYmwpO251bGwhPVBiJiYoQWE9UGItemEpfWVsc2UgbnVsbCE9UCYmKEFhPVAtemEpO251bGw9PUFhJiYoQWE9SGEpO0NhPUVtKGEsQixoLHtzdGFydDp6YSxkdXJhdGlvbjpBYSxub2RlOkNhLENkOm51bGw9PUFhfHwhUmF9KTtrYS5wdXNoKENhKTtpZihudWxsPT1BYSl7emE9bnVsbDticmVha316YSs9QWF9RT1udWxsIT1QP3twZXJpb2RzOmthLGR1cmF0aW9uOlAsdWQ6ITF9OntwZXJpb2RzOmthLGR1cmF0aW9uOnphLHVkOiEwfTtIPUUuZHVyYXRpb247Rz1FLnBlcmlvZHM7ei5OYihcInN0YXRpY1wiPT15KTtcInN0YXRpY1wiIT15JiZFLnVkfHx6LnhhKEh8fEluZmluaXR5KTsoRj16LlMoKSkmJiFpc05hTihhLmkuYXZhaWxhYmlsaXR5V2luZG93T3ZlcnJpZGUpJiYobj1hLmkuYXZhaWxhYmlsaXR5V2luZG93T3ZlcnJpZGUpO251bGw9PW4mJihuPUluZmluaXR5KTt6LmtkKG4pO3ouVGModnx8MSk7cmV0dXJuIHQoWCxibShhLmEsRyxCLk5hKSxcbjIpO2Nhc2UgMjppZihhLm8pe2Euby52YXJpYW50cz1hLmEuZjthLm8udGV4dFN0cmVhbXM9YS5hLmM7WC51KDMpO2JyZWFrfWEubz17cHJlc2VudGF0aW9uVGltZWxpbmU6eix2YXJpYW50czphLmEuZix0ZXh0U3RyZWFtczphLmEuYyxvZmZsaW5lU2Vzc2lvbklkczpbXSxtaW5CdWZmZXJUaW1lOmx8fDB9O2lmKCF6LlNkKCkpe1gudSgzKTticmVha31JPVFrKGIsXCJVVENUaW1pbmdcIik7cmV0dXJuIHQoWCxGbShhLGgsSSksNSk7Y2FzZSA1Ok89WC5iO2lmKCFhLnMpcmV0dXJuIFhbXCJyZXR1cm5cIl0oKTt6Lk9kKE8pO2Nhc2UgMzpyZXR1cm4gdChYLGEucy5maWx0ZXIoYS5vKSwwKX19KX1cbmZ1bmN0aW9uIEVtKGEsYixjLGQpe2IuamE9R20oZC5ub2RlLG51bGwsYyk7Yi5PPWQ7Yi5qYS5pZHx8KGIuamEuaWQ9XCJfX3NoYWthX3BlcmlvZF9cIitkLnN0YXJ0KTtjPVFrKGQubm9kZSxcIkV2ZW50U3RyZWFtXCIpO2M9cShjKTtmb3IodmFyIGU9Yy5uZXh0KCk7IWUuZG9uZTtlPWMubmV4dCgpKUhtKGEsZC5zdGFydCxkLmR1cmF0aW9uLGUudmFsdWUpO2M9UWsoZC5ub2RlLFwiQWRhcHRhdGlvblNldFwiKS5tYXAoZnVuY3Rpb24obCl7cmV0dXJuIEltKGEsYixsKX0pLmZpbHRlcihKYyk7aWYoYi5OYSl7ZD1bXTtlPXEoYyk7Zm9yKHZhciBmPWUubmV4dCgpOyFmLmRvbmU7Zj1lLm5leHQoKSl7Zj1xKGYudmFsdWUuT2UpO2Zvcih2YXIgZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpZC5wdXNoKGcudmFsdWUpfWlmKGQubGVuZ3RoIT0obmV3IFNldChkKSkuc2l6ZSl0aHJvdyBuZXcgTCgyLDQsNDAxOCk7fWQ9Yy5maWx0ZXIoZnVuY3Rpb24obCl7cmV0dXJuIWwubmR9KTtjPWMuZmlsdGVyKGZ1bmN0aW9uKGwpe3JldHVybiBsLm5kfSk7XG5jPXEoYyk7Zm9yKGU9Yy5uZXh0KCk7IWUuZG9uZTtlPWMubmV4dCgpKXtmPWUudmFsdWU7ZT1mLnN0cmVhbXNbMF07Zj1mLm5kO2c9cShkKTtmb3IodmFyIGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKWlmKGg9aC52YWx1ZSxoLmlkPT1mKXtoPXEoaC5zdHJlYW1zKTtmb3IodmFyIGs9aC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKWsudmFsdWUudHJpY2tNb2RlVmlkZW89ZX19ZT1hLmkuZGlzYWJsZUF1ZGlvP1tdOkptKGQsXCJhdWRpb1wiKTtmPWEuaS5kaXNhYmxlVmlkZW8/W106Sm0oZCxcInZpZGVvXCIpO2M9YS5pLmRpc2FibGVUZXh0P1tdOkptKGQsXCJ0ZXh0XCIpO2lmKCFmLmxlbmd0aCYmIWUubGVuZ3RoKXRocm93IG5ldyBMKDIsNCw0MDA0KTtkPVtdO2U9cShlKTtmb3IoZz1lLm5leHQoKTshZy5kb25lO2c9ZS5uZXh0KCkpZC5wdXNoLmFwcGx5KGQsaGEoZy52YWx1ZS5zdHJlYW1zKSk7ZT1bXTtmPXEoZik7Zm9yKGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKWUucHVzaC5hcHBseShlLFxuaGEoZy52YWx1ZS5zdHJlYW1zKSk7Zj1bXTtjPXEoYyk7Zm9yKGc9Yy5uZXh0KCk7IWcuZG9uZTtnPWMubmV4dCgpKWYucHVzaC5hcHBseShmLGhhKGcudmFsdWUuc3RyZWFtcykpO3JldHVybntpZDpiLmphLmlkLFpiOmQscGM6ZSx0ZXh0U3RyZWFtczpmfX1mdW5jdGlvbiBKbShhLGIpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4gYy5jb250ZW50VHlwZT09Yn0pfVxuZnVuY3Rpb24gSW0oYSxiLGMpe2IuYWE9R20oYyxiLmphLG51bGwpO2lmKFwiaW1hZ2VcIj09Yi5hYS5jb250ZW50VHlwZSlyZXR1cm4gbnVsbDt2YXIgZD0hMSxlPVFrKGMsXCJSb2xlXCIpLGY9ZS5tYXAoZnVuY3Rpb24oQil7cmV0dXJuIEIuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KS5maWx0ZXIoSmMpLGc9dm9pZCAwLGg9XCJ0ZXh0XCI9PWIuYWEuY29udGVudFR5cGU7aCYmKGc9XCJzdWJ0aXRsZVwiKTtlPXEoZSk7Zm9yKHZhciBrPWUubmV4dCgpOyFrLmRvbmU7az1lLm5leHQoKSl7az1rLnZhbHVlO3ZhciBsPWsuZ2V0QXR0cmlidXRlKFwic2NoZW1lSWRVcmlcIik7aWYobnVsbD09bHx8XCJ1cm46bXBlZzpkYXNoOnJvbGU6MjAxMVwiPT1sKXN3aXRjaChrPWsuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksayl7Y2FzZSBcIm1haW5cIjpkPSEwO2JyZWFrO2Nhc2UgXCJjYXB0aW9uXCI6Y2FzZSBcInN1YnRpdGxlXCI6Zz1rfX1sPVFrKGMsXCJFc3NlbnRpYWxQcm9wZXJ0eVwiKTtlPW51bGw7az0hMTtsPXEobCk7Zm9yKHZhciBtPVxubC5uZXh0KCk7IW0uZG9uZTttPWwubmV4dCgpKW09bS52YWx1ZSxcImh0dHA6Ly9kYXNoaWYub3JnL2d1aWRlbGluZXMvdHJpY2ttb2RlXCI9PW0uZ2V0QXR0cmlidXRlKFwic2NoZW1lSWRVcmlcIik/ZT1tLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpOms9ITA7bD1RayhjLFwiQWNjZXNzaWJpbGl0eVwiKTt2YXIgbj1uZXcgTWFwO2w9cShsKTtmb3IobT1sLm5leHQoKTshbS5kb25lO209bC5uZXh0KCkpe3ZhciByPW0udmFsdWU7bT1yLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpO3I9ci5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtpZihcInVybjpzY3RlOmRhc2g6Y2M6Y2VhLTYwODoyMDE1XCI9PW18fFwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNzA4OjIwMTVcIj09bSlpZihtPTEsbnVsbCE9cil7cj1xKHIuc3BsaXQoXCI7XCIpKTtmb3IodmFyIHU9ci5uZXh0KCk7IXUuZG9uZTt1PXIubmV4dCgpKXt2YXIgdj11LnZhbHVlLHk9dT12b2lkIDA7di5pbmNsdWRlcyhcIj1cIik/KHY9di5zcGxpdChcIj1cIiksdT12WzBdLnN0YXJ0c1dpdGgoXCJDQ1wiKT9cbnZbMF06XCJDQ1wiK3ZbMF0seT12WzFdLnNwbGl0KFwiLFwiKVswXS5zcGxpdChcIjpcIikucG9wKCkpOih1PVwiQ0NcIittLG0rPTIseT12KTtuLnNldCh1LFIoeSkpfX1lbHNlIG4uc2V0KFwiQ0MxXCIsXCJ1bmRcIik7ZWxzZVwidXJuOm1wZWc6ZGFzaDpyb2xlOjIwMTFcIj09bSYmbnVsbCE9ciYmKGYucHVzaChyKSxcImNhcHRpb25zXCI9PXImJihnPVwiY2FwdGlvblwiKSl9aWYoaylyZXR1cm4gbnVsbDtrPVFrKGMsXCJDb250ZW50UHJvdGVjdGlvblwiKTt2YXIgej1qbChrLGEuaS5kYXNoLmlnbm9yZURybUluZm8pLEE9UihjLmdldEF0dHJpYnV0ZShcImxhbmdcIil8fFwidW5kXCIpLEQ9Yy5nZXRBdHRyaWJ1dGUoXCJsYWJlbFwiKTsoaz1RayhjLFwiTGFiZWxcIikpJiZrLmxlbmd0aCYmKGs9a1swXSxrLnRleHRDb250ZW50JiYoRD1rLnRleHRDb250ZW50KSk7az1RayhjLFwiUmVwcmVzZW50YXRpb25cIik7Yz1rLm1hcChmdW5jdGlvbihCKXtyZXR1cm4gS20oYSxiLHosZyxBLEQsZCxmLG4sQil9KS5maWx0ZXIoZnVuY3Rpb24oQil7cmV0dXJuISFCfSk7XG5pZigwPT1jLmxlbmd0aCl7aWYoYS5pLmRhc2guaWdub3JlRW1wdHlBZGFwdGF0aW9uU2V0fHxoKXJldHVybiBudWxsO3Rocm93IG5ldyBMKDIsNCw0MDAzKTt9aWYoIWIuYWEuY29udGVudFR5cGV8fFwiYXBwbGljYXRpb25cIj09Yi5hYS5jb250ZW50VHlwZSlmb3IoYi5hYS5jb250ZW50VHlwZT1MbShjWzBdLm1pbWVUeXBlLGNbMF0uY29kZWNzKSxoPXEoYyksbD1oLm5leHQoKTshbC5kb25lO2w9aC5uZXh0KCkpbC52YWx1ZS50eXBlPWIuYWEuY29udGVudFR5cGU7aD1xKGMpO2ZvcihsPWgubmV4dCgpOyFsLmRvbmU7bD1oLm5leHQoKSlmb3IobD1sLnZhbHVlLG09cSh6LmRybUluZm9zKSxyPW0ubmV4dCgpOyFyLmRvbmU7cj1tLm5leHQoKSlyPXIudmFsdWUsci5rZXlJZHM9ci5rZXlJZHMmJmwua2V5SWRzP25ldyBTZXQoaGEoci5rZXlJZHMpLmNvbmNhdChoYShsLmtleUlkcykpKTpyLmtleUlkc3x8bC5rZXlJZHM7aD1rLm1hcChmdW5jdGlvbihCKXtyZXR1cm4gQi5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pLmZpbHRlcihKYyk7XG5yZXR1cm57aWQ6Yi5hYS5pZHx8XCJfX2Zha2VfX1wiK2EubSsrLGNvbnRlbnRUeXBlOmIuYWEuY29udGVudFR5cGUsbGFuZ3VhZ2U6QSxIZjpkLHN0cmVhbXM6Yyxkcm1JbmZvczp6LmRybUluZm9zLG5kOmUsT2U6aH19XG5mdW5jdGlvbiBLbShhLGIsYyxkLGUsZixnLGgsayxsKXtiLkY9R20obCxiLmFhLG51bGwpO2lmKCFNbShiLkYpKXJldHVybiBudWxsO3ZhciBtPWIuTy5zdGFydDtiLmJhbmR3aWR0aD1WayhsLFwiYmFuZHdpZHRoXCIsZWwpfHwwO3ZhciBuPWIuRi5jb250ZW50VHlwZTtuPVwidGV4dFwiPT1ufHxcImFwcGxpY2F0aW9uXCI9PW47dHJ5e3ZhciByPWZ1bmN0aW9uKEEsRCxCKXtyZXR1cm4gTm0oYSxBLEQsQil9O2lmKGIuRi5MYil2YXIgdT1KbChiLHIpO2Vsc2UgaWYoYi5GLk1hKXU9UGwoYixhLmYpO2Vsc2UgaWYoYi5GLk1iKXU9VWwoYixyLGEuZiwhIWEubyxhLmkuZGFzaC5pbml0aWFsU2VnbWVudExpbWl0KTtlbHNle3ZhciB2PWIuRi5tYSx5PWIuTy5kdXJhdGlvbnx8MDt1PXtoYjpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoeGcobSx5LHYpKX19fX1jYXRjaChBKXtpZihuJiY0MDAyPT1BLmNvZGUpcmV0dXJuIG51bGw7dGhyb3cgQTt9bj1RayhsLFwiQ29udGVudFByb3RlY3Rpb25cIik7XG5uPW5sKG4sYyxhLmkuZGFzaC5pZ25vcmVEcm1JbmZvKTtuPW5ldyBTZXQobj9bbl06W10pO1FrKGwsXCJTdXBwbGVtZW50YWxQcm9wZXJ0eVwiKS5zb21lKGZ1bmN0aW9uKEEpe3JldHVyblwidGFnOmRvbGJ5LmNvbSwyMDE4OmRhc2g6RUMzX0V4dGVuc2lvblR5cGU6MjAxOFwiPT1BLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpJiZcIkpPQ1wiPT1BLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSkmJihiLkYubWltZVR5cGU9XCJhdWRpby9lYWMzLWpvY1wiKTt2YXIgej17aWQ6YS5tKyssb3JpZ2luYWxJZDpiLkYuaWQsY3JlYXRlU2VnbWVudEluZGV4OmZ1bmN0aW9uKCl7dmFyIEE7cmV0dXJuIEooZnVuY3Rpb24oRCl7aWYoMT09RC5hKXtpZih6LnNlZ21lbnRJbmRleClyZXR1cm4gRC51KDApO0E9ejtyZXR1cm4gdChELHUuaGIoKSwzKX1BLnNlZ21lbnRJbmRleD1ELmI7dyhEKX0pfSxzZWdtZW50SW5kZXg6bnVsbCxtaW1lVHlwZTpiLkYubWltZVR5cGUsY29kZWNzOmIuRi5jb2RlY3MsZnJhbWVSYXRlOmIuRi5mcmFtZVJhdGUsXG5waXhlbEFzcGVjdFJhdGlvOmIuRi5waXhlbEFzcGVjdFJhdGlvLGJhbmR3aWR0aDpiLmJhbmR3aWR0aCx3aWR0aDpiLkYud2lkdGgsaGVpZ2h0OmIuRi5oZWlnaHQsa2luZDpkLGVuY3J5cHRlZDowPGMuZHJtSW5mb3MubGVuZ3RoLGRybUluZm9zOmMuZHJtSW5mb3Msa2V5SWRzOm4sbGFuZ3VhZ2U6ZSxsYWJlbDpmLHR5cGU6Yi5hYS5jb250ZW50VHlwZSxwcmltYXJ5OmcsdHJpY2tNb2RlVmlkZW86bnVsbCxlbXNnU2NoZW1lSWRVcmlzOmIuRi5lbXNnU2NoZW1lSWRVcmlzLHJvbGVzOmgsY2hhbm5lbHNDb3VudDpiLkYuVmMsYXVkaW9TYW1wbGluZ1JhdGU6Yi5GLmF1ZGlvU2FtcGxpbmdSYXRlLGNsb3NlZENhcHRpb25zOmt9O3JldHVybiB6fVxucC5JYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYixjO3JldHVybiBKKGZ1bmN0aW9uKGQpe3N3aXRjaChkLmEpe2Nhc2UgMTpyZXR1cm4gYj0wLHgoZCwyKSx0KGQsQW0oYSksNCk7Y2FzZSA0OmI9ZC5iO3VhKGQsMyk7YnJlYWs7Y2FzZSAyOmM9QyhkKSxhLnMmJihjLnNldmVyaXR5PTEsYS5zLm9uRXJyb3IoYykpO2Nhc2UgMzppZighYS5zKXJldHVybiBkW1wicmV0dXJuXCJdKCk7Qm0oYSxiKTt3KGQpfX0pfTtmdW5jdGlvbiBCbShhLGIpezA+YS5ofHxhLmcuUihNYXRoLm1heCgzLGEuaC1iLFBhKGEuaikpKX1cbmZ1bmN0aW9uIEdtKGEsYixjKXtiPWJ8fHtjb250ZW50VHlwZTpcIlwiLG1pbWVUeXBlOlwiXCIsY29kZWNzOlwiXCIsZW1zZ1NjaGVtZUlkVXJpczpbXSxmcmFtZVJhdGU6dm9pZCAwLHBpeGVsQXNwZWN0UmF0aW86dm9pZCAwLFZjOm51bGwsYXVkaW9TYW1wbGluZ1JhdGU6bnVsbH07Yz1jfHxiLm1hO3ZhciBkPVFrKGEsXCJCYXNlVVJMXCIpLm1hcChVayksZT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRUeXBlXCIpfHxiLmNvbnRlbnRUeXBlLGY9YS5nZXRBdHRyaWJ1dGUoXCJtaW1lVHlwZVwiKXx8Yi5taW1lVHlwZSxnPWEuZ2V0QXR0cmlidXRlKFwiY29kZWNzXCIpfHxiLmNvZGVjcyxoPVZrKGEsXCJmcmFtZVJhdGVcIixnbCl8fGIuZnJhbWVSYXRlLGs9YS5nZXRBdHRyaWJ1dGUoXCJzYXJcIil8fGIucGl4ZWxBc3BlY3RSYXRpbyxsPVFrKGEsXCJJbmJhbmRFdmVudFN0cmVhbVwiKSxtPWIuZW1zZ1NjaGVtZUlkVXJpcy5zbGljZSgpO2w9cShsKTtmb3IodmFyIG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKW49XG5uLnZhbHVlLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpLG0uaW5jbHVkZXMobil8fG0ucHVzaChuKTtsPVFrKGEsXCJBdWRpb0NoYW5uZWxDb25maWd1cmF0aW9uXCIpO2w9T20obCl8fGIuVmM7bj1WayhhLFwiYXVkaW9TYW1wbGluZ1JhdGVcIixmbCl8fGIuYXVkaW9TYW1wbGluZ1JhdGU7ZXx8KGU9TG0oZixnKSk7cmV0dXJue21hOkxjKGMsZCksTGI6UGsoYSxcIlNlZ21lbnRCYXNlXCIpfHxiLkxiLE1hOlBrKGEsXCJTZWdtZW50TGlzdFwiKXx8Yi5NYSxNYjpQayhhLFwiU2VnbWVudFRlbXBsYXRlXCIpfHxiLk1iLHdpZHRoOlZrKGEsXCJ3aWR0aFwiLGZsKXx8Yi53aWR0aCxoZWlnaHQ6VmsoYSxcImhlaWdodFwiLGZsKXx8Yi5oZWlnaHQsY29udGVudFR5cGU6ZSxtaW1lVHlwZTpmLGNvZGVjczpnLGZyYW1lUmF0ZTpoLHBpeGVsQXNwZWN0UmF0aW86ayxlbXNnU2NoZW1lSWRVcmlzOm0saWQ6YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxWYzpsLGF1ZGlvU2FtcGxpbmdSYXRlOm59fVxuZnVuY3Rpb24gT20oYSl7YT1xKGEpO2Zvcih2YXIgYj1hLm5leHQoKTshYi5kb25lO2I9YS5uZXh0KCkpe3ZhciBjPWIudmFsdWU7aWYoYj1jLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpKWlmKGM9Yy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSlzd2l0Y2goYil7Y2FzZSBcInVybjptcGVnOmRhc2g6b3V0cHV0Q2hhbm5lbFBvc2l0aW9uTGlzdDoyMDEyXCI6cmV0dXJuIGMudHJpbSgpLnNwbGl0KC8gKy8pLmxlbmd0aDtjYXNlIFwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExXCI6Y2FzZSBcInVybjpkdHM6ZGFzaDphdWRpb19jaGFubmVsX2NvbmZpZ3VyYXRpb246MjAxMlwiOmI9cGFyc2VJbnQoYywxMCk7aWYoIWIpY29udGludWU7cmV0dXJuIGI7Y2FzZSBcInRhZzpkb2xieS5jb20sMjAxNDpkYXNoOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExXCI6Y2FzZSBcInVybjpkb2xieTpkYXNoOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExXCI6aWYoYj1cbnBhcnNlSW50KGMsMTYpKXtmb3IoYT0wO2I7KWImMSYmKythLGI+Pj0xO3JldHVybiBhfX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gTW0oYSl7dmFyIGI9YS5MYj8xOjA7Yis9YS5NYT8xOjA7Yis9YS5NYj8xOjA7aWYoMD09YilyZXR1cm5cInRleHRcIj09YS5jb250ZW50VHlwZXx8XCJhcHBsaWNhdGlvblwiPT1hLmNvbnRlbnRUeXBlPyEwOiExOzEhPWImJihhLkxiJiYoYS5NYT1udWxsKSxhLk1iPW51bGwpO3JldHVybiEwfVxuZnVuY3Rpb24gUG0oYSxiLGMsZCl7dmFyIGUsZixnLGgsayxsO3JldHVybiBKKGZ1bmN0aW9uKG0pe2lmKDE9PW0uYSlyZXR1cm4gZT1MYyhiLFtjXSksZj1jYyhlLGEuaS5yZXRyeVBhcmFtZXRlcnMpLGYubWV0aG9kPWQsZz1hLnMubmV0d29ya2luZ0VuZ2luZS5yZXF1ZXN0KDQsZiksWWIoYS5jLGcpLHQobSxnLnByb21pc2UsMik7aD1tLmI7aWYoXCJIRUFEXCI9PWQpe2lmKCFoLmhlYWRlcnN8fCFoLmhlYWRlcnMuZGF0ZSlyZXR1cm4gbVtcInJldHVyblwiXSgwKTtrPWguaGVhZGVycy5kYXRlfWVsc2Ugaz1zYyhoLmRhdGEpO2w9RGF0ZS5wYXJzZShrKTtyZXR1cm4gaXNOYU4obCk/bVtcInJldHVyblwiXSgwKTptW1wicmV0dXJuXCJdKGwtRGF0ZS5ub3coKSl9KX1cbmZ1bmN0aW9uIEZtKGEsYixjKXt2YXIgZCxlLGYsZyxoLGssbCxtO3JldHVybiBKKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmEpe2Nhc2UgMTpkPWMubWFwKGZ1bmN0aW9uKHIpe3JldHVybntzY2hlbWU6ci5nZXRBdHRyaWJ1dGUoXCJzY2hlbWVJZFVyaVwiKSx2YWx1ZTpyLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfX0pLGU9YS5pLmRhc2guY2xvY2tTeW5jVXJpLCFkLmxlbmd0aCYmZSYmZC5wdXNoKHtzY2hlbWU6XCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLWhlYWQ6MjAxNFwiLHZhbHVlOmV9KSxmPXEoZCksZz1mLm5leHQoKTtjYXNlIDI6aWYoZy5kb25lKXtuLnUoNCk7YnJlYWt9aD1nLnZhbHVlO3gobiw1KTtrPWguc2NoZW1lO2w9aC52YWx1ZTtzd2l0Y2goayl7Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaGVhZDoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAtaGVhZDoyMDEyXCI6cmV0dXJuIG4udSg3KTtjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC14c2RhdGU6MjAxNFwiOmNhc2UgXCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLWlzbzoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOmh0dHAteHNkYXRlOjIwMTJcIjpjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6aHR0cC1pc286MjAxMlwiOnJldHVybiBuLnUoOCk7XG5jYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6ZGlyZWN0OjIwMTRcIjpjYXNlIFwidXJuOm1wZWc6ZGFzaDp1dGM6ZGlyZWN0OjIwMTJcIjpyZXR1cm4gbT1EYXRlLnBhcnNlKGwpLG5bXCJyZXR1cm5cIl0oaXNOYU4obSk/MDptLURhdGUubm93KCkpO2Nhc2UgXCJ1cm46bXBlZzpkYXNoOnV0YzpodHRwLW50cDoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOm50cDoyMDE0XCI6Y2FzZSBcInVybjptcGVnOmRhc2g6dXRjOnNudHA6MjAxNFwiOldhKFwiTlRQIFVUQ1RpbWluZyBzY2hlbWUgaXMgbm90IHN1cHBvcnRlZFwiKTticmVhaztkZWZhdWx0OldhKFwiVW5yZWNvZ25pemVkIHNjaGVtZSBpbiBVVENUaW1pbmcgZWxlbWVudFwiLGspfW4udSg5KTticmVhaztjYXNlIDc6cmV0dXJuIHQobixQbShhLGIsbCxcIkhFQURcIiksMTApO2Nhc2UgMTA6cmV0dXJuIG5bXCJyZXR1cm5cIl0obi5iKTtjYXNlIDg6cmV0dXJuIHQobixQbShhLGIsbCxcIkdFVFwiKSwxMSk7Y2FzZSAxMTpyZXR1cm4gbltcInJldHVyblwiXShuLmIpO1xuY2FzZSA5OnVhKG4sMyk7YnJlYWs7Y2FzZSA1OkMobik7Y2FzZSAzOmc9Zi5uZXh0KCk7bi51KDIpO2JyZWFrO2Nhc2UgNDpyZXR1cm4gV2EoXCJBIFVUQ1RpbWluZyBlbGVtZW50IHNob3VsZCBhbHdheXMgYmUgZ2l2ZW4gaW4gbGl2ZSBtYW5pZmVzdHMhIFRoaXMgY29udGVudCBtYXkgbm90IHBsYXkgb24gY2xpZW50cyB3aXRoIGJhZCBjbG9ja3MhXCIpLG5bXCJyZXR1cm5cIl0oMCl9fSl9XG5mdW5jdGlvbiBIbShhLGIsYyxkKXt2YXIgZT1kLmdldEF0dHJpYnV0ZShcInNjaGVtZUlkVXJpXCIpfHxcIlwiLGY9ZC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKXx8XCJcIixnPVZrKGQsXCJ0aW1lc2NhbGVcIixmbCl8fDE7ZD1xKFFrKGQsXCJFdmVudFwiKSk7Zm9yKHZhciBoPWQubmV4dCgpOyFoLmRvbmU7aD1kLm5leHQoKSl7aD1oLnZhbHVlO3ZhciBrPVZrKGgsXCJwcmVzZW50YXRpb25UaW1lXCIsZmwpfHwwLGw9VmsoaCxcImR1cmF0aW9uXCIsZmwpfHwwO2s9ay9nK2I7bD1rK2wvZztudWxsIT1jJiYoaz1NYXRoLm1pbihrLGIrYyksbD1NYXRoLm1pbihsLGIrYykpO2g9e3NjaGVtZUlkVXJpOmUsdmFsdWU6ZixzdGFydFRpbWU6ayxlbmRUaW1lOmwsaWQ6aC5nZXRBdHRyaWJ1dGUoXCJpZFwiKXx8XCJcIixldmVudEVsZW1lbnQ6aH07YS5zLm9uVGltZWxpbmVSZWdpb25BZGRlZChoKX19XG5mdW5jdGlvbiBObShhLGIsYyxkKXt2YXIgZSxmLGcsaCxrO3JldHVybiBKKGZ1bmN0aW9uKGwpe2lmKDE9PWwuYSlyZXR1cm4gZT1pYyxmPUxnKGIsYyxkLGEuaS5yZXRyeVBhcmFtZXRlcnMpLGc9YS5zLm5ldHdvcmtpbmdFbmdpbmUsaD1nLnJlcXVlc3QoZSxmKSxZYihhLmMsaCksdChsLGgucHJvbWlzZSwyKTtrPWwuYjtyZXR1cm4gbFtcInJldHVyblwiXShrLmRhdGEpfSl9ZnVuY3Rpb24gTG0oYSxiKXtyZXR1cm4geGUoUmMoYSxiKSk/XCJ0ZXh0XCI6YS5zcGxpdChcIi9cIilbMF19SyhcInNoYWthLmRhc2guRGFzaFBhcnNlclwiLHptKTtNZi5tcGQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHptfTtLZltcImFwcGxpY2F0aW9uL2Rhc2greG1sXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6bX07S2ZbXCJ2aWRlby92bmQubXBlZy5kYXNoLm1wZFwiXT1mdW5jdGlvbigpe3JldHVybiBuZXcgem19O2Z1bmN0aW9uIFFtKGEsYixjLGQpe3RoaXMuYT1hO3RoaXMudHlwZT1iO3RoaXMuVj1jO3RoaXMuc2VnbWVudHM9ZHx8bnVsbH1mdW5jdGlvbiBSbShhLGIsYyxkKXt0aGlzLmlkPWE7dGhpcy5uYW1lPWI7dGhpcy5hPWM7dGhpcy52YWx1ZT12b2lkIDA9PT1kP251bGw6ZH1SbS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGQpe3JldHVybiBkLm5hbWUrXCI9XCIrKGlzTmFOKE51bWJlcihkLnZhbHVlKSk/J1wiJytkLnZhbHVlKydcIic6ZC52YWx1ZSl9dmFyIGI9XCIjXCIrdGhpcy5uYW1lLGM9dGhpcy5hP3RoaXMuYS5tYXAoYSk6W107dGhpcy52YWx1ZSYmYy51bnNoaWZ0KHRoaXMudmFsdWUpOzA8Yy5sZW5ndGgmJihiKz1cIjpcIitjLmpvaW4oXCIsXCIpKTtyZXR1cm4gYn07XG5SbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGMubmFtZT09YX0pO3JldHVybiBiLmxlbmd0aD9iWzBdOm51bGx9O2Z1bmN0aW9uIFNtKGEsYixjKXtyZXR1cm4oYT1hLmdldEF0dHJpYnV0ZShiKSk/YS52YWx1ZTpjfHxudWxsfWZ1bmN0aW9uIFRtKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoYik7aWYoIWMpdGhyb3cgbmV3IEwoMiw0LDQwMjMsYik7cmV0dXJuIGMudmFsdWV9ZnVuY3Rpb24gVW0oYSxiKXt0aGlzLlY9Yjt0aGlzLmE9YX1mdW5jdGlvbiBWbShhLGIpe3RoaXMubmFtZT1hO3RoaXMudmFsdWU9Yn07ZnVuY3Rpb24gV20oYSxiKXtyZXR1cm4gYS5maWx0ZXIoZnVuY3Rpb24oYyl7cmV0dXJuIGMubmFtZT09Yn0pfWZ1bmN0aW9uIFhtKGEsYil7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGMpe3JldHVybiBUbShjLFwiVFlQRVwiKT09Yn0pfWZ1bmN0aW9uIFltKGEsYil7dmFyIGM9V20oYSxiKTtyZXR1cm4gYy5sZW5ndGg/Y1swXTpudWxsfWZ1bmN0aW9uIFptKGEsYixjKXtjPXZvaWQgMD09PWM/MDpjO3JldHVybihhPVltKGEsYikpP051bWJlcihhLnZhbHVlKTpjfTtmdW5jdGlvbiAkbShhKXt0aGlzLmI9YTt0aGlzLmE9MH1mdW5jdGlvbiBhbihhKXtibihhLC9bIFxcdF0rL2dtKX1mdW5jdGlvbiBibihhLGIpe2IubGFzdEluZGV4PWEuYTt2YXIgYz1iLmV4ZWMoYS5iKTtjPW51bGw9PWM/bnVsbDp7cG9zaXRpb246Yy5pbmRleCxsZW5ndGg6Y1swXS5sZW5ndGgscmVzdWx0czpjfTtpZihhLmE9PWEuYi5sZW5ndGh8fG51bGw9PWN8fGMucG9zaXRpb24hPWEuYSlyZXR1cm4gbnVsbDthLmErPWMubGVuZ3RoO3JldHVybiBjLnJlc3VsdHN9ZnVuY3Rpb24gY24oYSl7cmV0dXJuIGEuYT09YS5iLmxlbmd0aD9udWxsOihhPWJuKGEsL1teIFxcdFxcbl0qL2dtKSk/YVswXTpudWxsfTtmdW5jdGlvbiBkbigpe3RoaXMuYT0wfVxuZnVuY3Rpb24gZW4oYSxiLGMpe2I9c2MoYik7Yj1iLnJlcGxhY2UoL1xcclxcbnxcXHIoPz1bXlxcbl18JCkvZ20sXCJcXG5cIikudHJpbSgpO3ZhciBkPWIuc3BsaXQoL1xcbisvbSk7aWYoIS9eI0VYVE0zVSgkfFsgXFx0XFxuXSkvbS50ZXN0KGRbMF0pKXRocm93IG5ldyBMKDIsNCw0MDE1KTtiPTA7Zm9yKHZhciBlPSEwLGY9cShkKSxnPWYubmV4dCgpOyFnLmRvbmU7Zz1mLm5leHQoKSlpZihnPWcudmFsdWUsL14jKD8hRVhUKS9tLnRlc3QoZyl8fGUpZT0hMTtlbHNlIGlmKGc9Zm4oYS5hKyssZyksLS1hLmEsZ24uaW5jbHVkZXMoZy5uYW1lKSl7Yj0xO2JyZWFrfWVsc2VcIkVYVC1YLVNUUkVBTS1JTkZcIj09Zy5uYW1lJiYoZT0hMCk7Zj1bXTtlPSEwO2c9cShoYihkKSk7Zm9yKHZhciBoPWcubmV4dCgpOyFoLmRvbmU7aD1nLm5leHQoKSl7dmFyIGs9aC52YWx1ZTtoPWsuWTt2YXIgbD1rLml0ZW07az1rLm5leHQ7aWYoL14jKD8hRVhUKS9tLnRlc3QobCl8fGUpZT0hMTtlbHNle2w9Zm4oYS5hKyssXG5sKTtpZihobi5pbmNsdWRlcyhsLm5hbWUpKXtpZigxIT1iKXRocm93IG5ldyBMKDIsNCw0MDE3KTtsPWQuc3BsaWNlKGgsZC5sZW5ndGgtaCk7ZD1jO2U9W107Zz1bXTtoPW51bGw7bD1xKGwpO2ZvcihrPWwubmV4dCgpOyFrLmRvbmU7az1sLm5leHQoKSlrPWsudmFsdWUsL14oI0VYVCkvLnRlc3Qoayk/KGs9Zm4oYS5hKyssayksZ24uaW5jbHVkZXMoay5uYW1lKT9mLnB1c2goayk6XCJFWFQtWC1NQVBcIj09ay5uYW1lP2g9azpnLnB1c2goaykpOi9eIyg/IUVYVCkvbS50ZXN0KGspfHwoaz1MYyhbZF0sW2sudHJpbSgpXSlbMF0saCYmZy5wdXNoKGgpLGUucHVzaChuZXcgVW0oayxnKSksZz1bXSk7cmV0dXJuIG5ldyBRbShjLGIsZixlKX1mLnB1c2gobCk7XCJFWFQtWC1TVFJFQU0tSU5GXCI9PWwubmFtZSYmKGwuYS5wdXNoKG5ldyBWbShcIlVSSVwiLGspKSxlPSEwKX19cmV0dXJuIG5ldyBRbShjLGIsZil9XG5mdW5jdGlvbiBmbihhLGIpe3ZhciBjPWIubWF0Y2goL14jKEVYVFteOl0qKSg/OjooLiopKT8kLyk7aWYoIWMpdGhyb3cgbmV3IEwoMiw0LDQwMTYsYik7dmFyIGQ9Y1sxXSxlPWNbMl07Yz1bXTt2YXIgZjtpZihlKXtlPW5ldyAkbShlKTt2YXIgZzsoZz1ibihlLC9eKFteLD1dKykoPzosfCQpL2cpKSYmKGY9Z1sxXSk7Zm9yKHZhciBoPS8oW149XSspPSg/OlwiKFteXCJdKilcInwoW15cIixdKikpKD86LHwkKS9nO2c9Ym4oZSxoKTspYy5wdXNoKG5ldyBWbShnWzFdLGdbMl18fGdbM10pKX1yZXR1cm4gbmV3IFJtKGEsZCxjLGYpfXZhciBnbj1cIkVYVC1YLVRBUkdFVERVUkFUSU9OIEVYVC1YLU1FRElBLVNFUVVFTkNFIEVYVC1YLURJU0NPTlRJTlVJVFktU0VRVUVOQ0UgRVhULVgtUExBWUxJU1QtVFlQRSBFWFQtWC1JLUZSQU1FUy1PTkxZIEVYVC1YLUVORExJU1RcIi5zcGxpdChcIiBcIiksaG49XCJFWFRJTkYgRVhULVgtQllURVJBTkdFIEVYVC1YLURJU0NPTlRJTlVJVFkgRVhULVgtUFJPR1JBTS1EQVRFLVRJTUUgRVhULVgtS0VZIEVYVC1YLURBVEVSQU5HRSBFWFQtWC1NQVBcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gam4oKXt9ZnVuY3Rpb24ga24oYSl7dHJ5e3ZhciBiPWxuKGEpO3JldHVybiBFYih7dXJpOmEsSWQ6YSxkYXRhOmIuZGF0YSxoZWFkZXJzOntcImNvbnRlbnQtdHlwZVwiOmIuY29udGVudFR5cGV9fSl9Y2F0Y2goYyl7cmV0dXJuIENiKGMpfX1mdW5jdGlvbiBsbihhKXt2YXIgYj1hLnNwbGl0KFwiOlwiKTtpZigyPmIubGVuZ3RofHxcImRhdGFcIiE9YlswXSl0aHJvdyBuZXcgTCgyLDEsMTAwNCxhKTtiPWIuc2xpY2UoMSkuam9pbihcIjpcIikuc3BsaXQoXCIsXCIpO2lmKDI+Yi5sZW5ndGgpdGhyb3cgbmV3IEwoMiwxLDEwMDQsYSk7dmFyIGM9YlswXTthPXdpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoYi5zbGljZSgxKS5qb2luKFwiLFwiKSk7Yj1jLnNwbGl0KFwiO1wiKTtjPWJbMF07dmFyIGQ9ITE7MTxiLmxlbmd0aCYmXCJiYXNlNjRcIj09YltiLmxlbmd0aC0xXSYmKGQ9ITAsYi5wb3AoKSk7dmFyIGU7ZD9lPWZkKGEpOmU9d2MoYSk7cmV0dXJue2RhdGE6ZSxjb250ZW50VHlwZTpjfX1cbksoXCJzaGFrYS5uZXQuRGF0YVVyaVBsdWdpblwiLGpuKTtqbi5wYXJzZT1rbjskYihcImRhdGFcIixrbik7ZnVuY3Rpb24gbW4oKXt2YXIgYT10aGlzO3RoaXMuaT10aGlzLnM9bnVsbDt0aGlzLkFhPTE7dGhpcy5qPW5ldyBNYXA7dGhpcy5nPW5ldyBNYXA7dGhpcy5xYT1uZXcgU2V0O3RoaXMuYT1uZXcgTWFwO3RoaXMuYj1udWxsO3RoaXMuST1cIlwiO3RoaXMuRz1uZXcgZG47dGhpcy5jYT0wO3RoaXMuaD1uZXcgTShmdW5jdGlvbigpe2EuSWIoKX0pO3RoaXMuYz1ubjt0aGlzLm89bnVsbDt0aGlzLk09MDt0aGlzLlQ9SW5maW5pdHk7dGhpcy5tPW5ldyBYYjt0aGlzLlc9W107dGhpcy53PW5ldyBNYXA7dGhpcy56YT0hMTt0aGlzLmY9bmV3IE1hcDt0aGlzLkM9bnVsbDt0aGlzLkg9bmV3IE1hcDt0aGlzLnY9bmV3IE1hcH1wPW1uLnByb3RvdHlwZTtwLmNvbmZpZ3VyZT1mdW5jdGlvbihhKXt0aGlzLmk9YX07XG5wLnN0YXJ0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkLGU7cmV0dXJuIEooZnVuY3Rpb24oZil7aWYoMT09Zi5hKXJldHVybiBjLnM9Yix0KGYsb24oYyxjYyhbYV0sYy5pLnJldHJ5UGFyYW1ldGVycyksMCksMik7aWYoMyE9Zi5hKXJldHVybiBkPWYuYixjLkk9ZC51cmksdChmLHBuKGMsZC5kYXRhKSwzKTtlPWMuY2E7MDxlJiZjLmguUihlKTtyZXR1cm4gZltcInJldHVyblwiXShjLm8pfSl9O3Auc3RvcD1mdW5jdGlvbigpe3RoaXMuaCYmKHRoaXMuaC5zdG9wKCksdGhpcy5oPW51bGwpO3ZhciBhPVtdO3RoaXMubSYmKGEucHVzaCh0aGlzLm0uZGVzdHJveSgpKSx0aGlzLm09bnVsbCk7dGhpcy5pPXRoaXMucz1udWxsO3RoaXMucWEuY2xlYXIoKTt0aGlzLm89bnVsbDt0aGlzLmEuY2xlYXIoKTt0aGlzLmcuY2xlYXIoKTt0aGlzLmYuY2xlYXIoKTt0aGlzLmouY2xlYXIoKTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9O1xucC51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYyxkO3JldHVybiBKKGZ1bmN0aW9uKGUpe2lmKDE9PWUuYSl7aWYoYS5jPT1ubilyZXR1cm4gZVtcInJldHVyblwiXSgpO2I9W107YS5DPW51bGw7Yz1BcnJheS5mcm9tKGEuYS52YWx1ZXMoKSk7cmV0dXJuIGMubGVuZ3RoP3QoZSxxbihhLGNbMF0pLDIpOmUudSgyKX1mb3IoZD0xO2Q8Yy5sZW5ndGg7ZCsrKWIucHVzaChxbihhLGNbZF0pKTtyZXR1cm4gdChlLFByb21pc2UuYWxsKGIpLDApfSl9O1xuZnVuY3Rpb24gcW4oYSxiKXt2YXIgYyxkLGUsZixnLGgsayxsLG0sbjtyZXR1cm4gSihmdW5jdGlvbihyKXtpZigxPT1yLmEpcmV0dXJuIGM9cm4sZD1iLlhkLHQocixvbihhLGNjKFtkXSxhLmkucmV0cnlQYXJhbWV0ZXJzKSwwKSwyKTtpZigzIT1yLmEpe2U9ci5iO2Y9ZW4oYS5HLGUuZGF0YSxlLnVyaSk7aWYoMSE9Zi50eXBlKXRocm93IG5ldyBMKDIsNCw0MDE3KTtnPVdtKGYuVixcIkVYVC1YLURFRklORVwiKTtoPXNuKGEsZyk7az1iLnN0cmVhbTtyZXR1cm4gdChyLHRuKGEsYi5vYyxmLGsubWltZVR5cGUsYi5EZCxoKSwzKX1sPXIuYjtrLnNlZ21lbnRJbmRleC5rYihsKTtsLmxlbmd0aCYmay5zZWdtZW50SW5kZXguT2EobFswXS5zdGFydFRpbWUpO209bFtsLmxlbmd0aC0xXTtpZihuPVltKGYuVixcIkVYVC1YLUVORExJU1RcIikpdW4oYSxjLlZkKSxhLmIueGEobS5lbmRUaW1lKTt3KHIpfSl9cC5vbkV4cGlyYXRpb25VcGRhdGVkPWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIHBuKGEsYil7dmFyIGMsZCxlLGYsZyxoLGssbCxtLG4scix1LHYseSx6O3JldHVybiBKKGZ1bmN0aW9uKEEpe3N3aXRjaChBLmEpe2Nhc2UgMTpjPWVuKGEuRyxiLGEuSSk7aWYoMCE9Yy50eXBlKXRocm93IG5ldyBMKDIsNCw0MDIyKTtkPVdtKGMuVixcIkVYVC1YLURFRklORVwiKTtmb3IodmFyIEQ9cShkKSxCPUQubmV4dCgpOyFCLmRvbmU7Qj1ELm5leHQoKSl7dmFyIEU9Qi52YWx1ZTtCPVNtKEUsXCJOQU1FXCIpO0U9U20oRSxcIlZBTFVFXCIpO0ImJkUmJihhLmouaGFzKEIpfHxhLmouc2V0KEIsRSkpfWU9V20oYy5WLFwiRVhULVgtTUVESUFcIik7Zj1XbShjLlYsXCJFWFQtWC1TVFJFQU0tSU5GXCIpO0Q9cShmKTtmb3IoQj1ELm5leHQoKTshQi5kb25lO0I9RC5uZXh0KCkpe3ZhciBIPUIudmFsdWU7RT1TbShILFwiQVVESU9cIik7Qj1TbShILFwiVklERU9cIik7dmFyIEc9U20oSCxcIlNVQlRJVExFU1wiKTtIPXZuKEgpO2lmKEcpe3ZhciBGPXduKFwidGV4dFwiLEgpO2EuZi5zZXQoRyxGKTtcblZiKEgsRil9RSYmKEc9eG4oXCJhdWRpb1wiLEgpLGEuZi5zZXQoRSxHKSk7QiYmKEU9eG4oXCJ2aWRlb1wiLEgpLGEuZi5zZXQoQixFKSl9cmV0dXJuIHQoQSx5bihhLGUpLDIpO2Nhc2UgMjpEPVhtKGUsXCJDTE9TRUQtQ0FQVElPTlNcIik7RD1xKEQpO2ZvcihCPUQubmV4dCgpOyFCLmRvbmU7Qj1ELm5leHQoKSlHPUIudmFsdWUsQj16bihHKSxFPVRtKEcsXCJHUk9VUC1JRFwiKSxHPVRtKEcsXCJJTlNUUkVBTS1JRFwiKSxhLncuZ2V0KEUpfHxhLncuc2V0KEUsbmV3IE1hcCksYS53LmdldChFKS5zZXQoRyxCKTtyZXR1cm4gdChBLEFuKGEsZiksMyk7Y2FzZSAzOnJldHVybiBnPUEuYix0KEEsQm4oYSxlKSw0KTtjYXNlIDQ6aD1BLmI7aWYoIWEucyl0aHJvdyBuZXcgTCgyLDcsNzAwMSk7aWYoYS56YSYmMD09Zy5sZW5ndGgpdGhyb3cgbmV3IEwoMiw0LDQwMzQpO2w9az1JbmZpbml0eTttPXEoYS5hLnZhbHVlcygpKTtmb3Iobj1tLm5leHQoKTshbi5kb25lO249bS5uZXh0KCkpcj1uLnZhbHVlLGs9XG5NYXRoLm1pbihrLHIuRWQpLFwidGV4dFwiIT1yLnN0cmVhbS50eXBlJiYobD1NYXRoLm1pbihsLHIuRGUtci5FZCkpO2EuYyE9bm4/KGEuYj1uZXcgUygwLGEuaS5kZWZhdWx0UHJlc2VudGF0aW9uRGVsYXl8fDMqYS5NKSxhLmIuTmIoITEpKTooYS5iPW5ldyBTKG51bGwsMCksYS5iLk5iKCEwKSk7Q24oYSk7aWYoYS5jIT1ubilhLmNhPWEuVCx1PXJuLGEuYz09dS5VZCYmKHY9YS5iLmxjLGlzTmFOKGEuaS5hdmFpbGFiaWxpdHlXaW5kb3dPdmVycmlkZSl8fCh2PWEuaS5hdmFpbGFiaWxpdHlXaW5kb3dPdmVycmlkZSksYS5iLmtkKHYpKTtlbHNlIGZvcihhLmIueGEobCksYS5iLm9mZnNldCgtaykseT1xKGEuYS52YWx1ZXMoKSksbj15Lm5leHQoKTshbi5kb25lO249eS5uZXh0KCkpej1uLnZhbHVlLHouc3RyZWFtLnNlZ21lbnRJbmRleC5vZmZzZXQoLWspLHouc3RyZWFtLnNlZ21lbnRJbmRleC5KYSgwLGwpO2Eubz17cHJlc2VudGF0aW9uVGltZWxpbmU6YS5iLHZhcmlhbnRzOmcsdGV4dFN0cmVhbXM6aCxcbm9mZmxpbmVTZXNzaW9uSWRzOltdLG1pbkJ1ZmZlclRpbWU6MH07cmV0dXJuIHQoQSxhLnMuZmlsdGVyKGEubyksMCl9fSl9ZnVuY3Rpb24gc24oYSxiKXtmb3IodmFyIGM9bmV3IE1hcCxkPXEoYiksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe3ZhciBmPWUudmFsdWU7ZT1TbShmLFwiTkFNRVwiKTt2YXIgZz1TbShmLFwiVkFMVUVcIik7Zj1TbShmLFwiSU1QT1JUXCIpO2UmJmcmJmMuc2V0KGUsZyk7ZiYmKGU9YS5qLmdldChmKSkmJmMuc2V0KGYsZSl9cmV0dXJuIGN9XG5mdW5jdGlvbiBCbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxrLGwsbSxuLHIsdTtyZXR1cm4gSihmdW5jdGlvbih2KXtpZigxPT12LmEpcmV0dXJuIGM9WG0oYixcIlNVQlRJVExFU1wiKSxkPWMubWFwKGZ1bmN0aW9uKHkpe3ZhciB6LEEsRDtyZXR1cm4gSihmdW5jdGlvbihCKXtpZigxPT1CLmEpe2lmKHo9YS5pLmRpc2FibGVUZXh0KXJldHVybiBCW1wicmV0dXJuXCJdKG51bGwpO3goQiwyKTtyZXR1cm4gdChCLERuKGEseSksNCl9aWYoMiE9Qi5hKXJldHVybiBBPUIuYixCW1wicmV0dXJuXCJdKEEuc3RyZWFtKTtEPUMoQik7aWYoYS5pLmhscy5pZ25vcmVUZXh0U3RyZWFtRmFpbHVyZXMpcmV0dXJuIEJbXCJyZXR1cm5cIl0obnVsbCk7dGhyb3cgRDt9KX0pLHQodixQcm9taXNlLmFsbChkKSwyKTtlPXYuYjtmPXEoYyk7Zm9yKGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKWlmKGg9Zy52YWx1ZSxrPVRtKGgsXCJHUk9VUC1JRFwiKSxsPWEuZi5nZXQoaykpaWYobT1hLmcuZ2V0KGspKWZvcihuPVxucShtKSxyPW4ubmV4dCgpOyFyLmRvbmU7cj1uLm5leHQoKSl1PXIudmFsdWUsdS5zdHJlYW0uY29kZWNzPWw7cmV0dXJuIHZbXCJyZXR1cm5cIl0oZS5maWx0ZXIoZnVuY3Rpb24oeSl7cmV0dXJuIHl9KSl9KX1mdW5jdGlvbiB5bihhLGIpe3ZhciBjO3JldHVybiBKKGZ1bmN0aW9uKGQpe2lmKDE9PWQuYSlyZXR1cm4gYj1iLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgZj1TbShlLFwiVVJJXCIpfHxcIlwiO3JldHVyblwiU1VCVElUTEVTXCIhPVNtKGUsXCJUWVBFXCIpJiZcIlwiIT1mfSksYi5sZW5ndGg/dChkLERuKGEsYlswXSksMik6ZC51KDIpO2M9Yi5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIERuKGEsZSl9KTtyZXR1cm4gdChkLFByb21pc2UuYWxsKGMpLDApfSl9XG5mdW5jdGlvbiBBbihhLGIpe3ZhciBjLGQsZTtyZXR1cm4gSihmdW5jdGlvbihmKXtpZigxPT1mLmEpcmV0dXJuIGM9Yi5tYXAoZnVuY3Rpb24oZyl7dmFyIGgsayxsLG0sbixyLHU7cmV0dXJuIEooZnVuY3Rpb24odil7cmV0dXJuIDE9PXYuYT8oaD1TbShnLFwiRlJBTUUtUkFURVwiKSxrPU51bWJlcihUbShnLFwiQkFORFdJRFRIXCIpKSxsPVNtKGcsXCJSRVNPTFVUSU9OXCIpLG09cShsP2wuc3BsaXQoXCJ4XCIpOltudWxsLG51bGxdKSxuPW0ubmV4dCgpLnZhbHVlLHI9bS5uZXh0KCkudmFsdWUsdCh2LEVuKGEsZyxsLGgpLDIpKToodT12LmIpP3ZbXCJyZXR1cm5cIl0oRm4oYSx1LmF1ZGlvLHUudmlkZW8sayxuLHIsaCkpOnZbXCJyZXR1cm5cIl0oW10pfSl9KSx0KGYsUHJvbWlzZS5hbGwoYyksMik7ZD1mLmI7ZT1kLnJlZHVjZShIYyxbXSk7ZT1lLmZpbHRlcihmdW5jdGlvbihnKXtyZXR1cm4gbnVsbCE9Z30pO3JldHVybiBmW1wicmV0dXJuXCJdKGUpfSl9XG5mdW5jdGlvbiBFbihhLGIsYyxkKXt2YXIgZSxmLGcsaCxrLGwsbSxuLHIsdSx2LHkseixBO3JldHVybiBKKGZ1bmN0aW9uKEQpe2lmKDE9PUQuYSlyZXR1cm4gZT1OYyxmPXZuKGIpLGc9U20oYixcIkFVRElPXCIpLGg9U20oYixcIlZJREVPXCIpLGw9KGs9Z3x8aCkmJmEuZy5oYXMoayk/YS5nLmdldChrKTpbXSxtPXthdWRpbzpnP2w6W10sdmlkZW86aD9sOltdfSxyPSExLHU9VG0oYixcIlVSSVwiKSx2PW0uYXVkaW8uZmluZChmdW5jdGlvbihCKXtyZXR1cm4gQiYmQi5vYz09dX0pLHk9d24oZS5CYSxmKSx6PWN8fGR8fHksMSE9Zi5sZW5ndGh8fHo/IWwubGVuZ3RoJiYxPGYubGVuZ3RoPyhuPWUuQmEsZj1bZi5qb2luKFwiLFwiKV0pOm0uYXVkaW8ubGVuZ3RoJiZ2PyhuPWUuZWIscj0hMCk6bj1tLnZpZGVvLmxlbmd0aD9lLmViOmUuQmE6bj1lLmViLHI/RC51KDIpOnQoRCxHbihhLGIsZixuKSwzKTsyIT1ELmEmJihBPUQuYik7aWYoQSltW0Euc3RyZWFtLnR5cGVdPVtBXTtlbHNlIGlmKG51bGw9PT1cbkEpcmV0dXJuIERbXCJyZXR1cm5cIl0obnVsbCk7SG4obSk7cmV0dXJuIERbXCJyZXR1cm5cIl0obSl9KX1mdW5jdGlvbiB2bihhKXt2YXIgYj1TbShhLFwiQ09ERUNTXCIsXCJhdmMxLjQyRTAxRSxtcDRhLjQwLjJcIikuc3BsaXQoL1xccyosXFxzKi8pO2E9bmV3IFNldDt2YXIgYz1bXTtiPXEoYik7Zm9yKHZhciBkPWIubmV4dCgpOyFkLmRvbmU7ZD1iLm5leHQoKSl7ZD1kLnZhbHVlO3ZhciBlPVVjKGQpWzBdO2EuaGFzKGUpfHwoYy5wdXNoKGQpLGEuYWRkKGUpKX1yZXR1cm4gY31mdW5jdGlvbiB6bihhKXthPVNtKGEsXCJMQU5HVUFHRVwiKXx8XCJ1bmRcIjtyZXR1cm4gUihhKX1cbmZ1bmN0aW9uIEhuKGEpe2E9cShhLmF1ZGlvLmNvbmNhdChhLnZpZGVvKSk7Zm9yKHZhciBiPWEubmV4dCgpOyFiLmRvbmU7Yj1hLm5leHQoKSlpZihiPWIudmFsdWUpe3ZhciBjPWIuc3RyZWFtLmNvZGVjcy5zcGxpdChcIixcIik7Yz1jLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm5cIm1wNGEuNDAuMzRcIiE9ZH0pO2Iuc3RyZWFtLmNvZGVjcz1jLmpvaW4oXCIsXCIpfX1cbmZ1bmN0aW9uIEZuKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1xKGMpLGs9aC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKXtrPWsudmFsdWUuc3RyZWFtO3ZhciBsPWYsbT1nO2smJihrLndpZHRoPU51bWJlcihlKXx8dm9pZCAwLGsuaGVpZ2h0PU51bWJlcihsKXx8dm9pZCAwLGsuZnJhbWVSYXRlPU51bWJlcihtKXx8dm9pZCAwKX1lPWEuaS5kaXNhYmxlQXVkaW87aWYoIWIubGVuZ3RofHxlKWI9W251bGxdO2U9YS5pLmRpc2FibGVWaWRlbztpZighYy5sZW5ndGh8fGUpYz1bbnVsbF07ZT1bXTtiPXEoYik7Zm9yKGY9Yi5uZXh0KCk7IWYuZG9uZTtmPWIubmV4dCgpKWZvcihmPWYudmFsdWUsZz1xKGMpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKXt2YXIgbj1oLnZhbHVlO2g9Zj9mLnN0cmVhbTpudWxsO2s9bj9uLnN0cmVhbTpudWxsO2w9Zj9mLnN0cmVhbS5kcm1JbmZvczpudWxsO209bj9uLnN0cmVhbS5kcm1JbmZvczpudWxsO249KG4/bi5vYzpcIlwiKStcIiAtIFwiKyhmP1xuZi5vYzpcIlwiKTtoJiZrJiYhKGwubGVuZ3RoJiZtLmxlbmd0aD8wPFNkKGwsbSkubGVuZ3RoOjEpfHxhLnFhLmhhcyhuKXx8KGg9e2lkOmEuQWErKyxsYW5ndWFnZTpoP2gubGFuZ3VhZ2U6XCJ1bmRcIixwcmltYXJ5OiEhaCYmaC5wcmltYXJ5fHwhIWsmJmsucHJpbWFyeSxhdWRpbzpoLHZpZGVvOmssYmFuZHdpZHRoOmQsYWxsb3dlZEJ5QXBwbGljYXRpb246ITAsYWxsb3dlZEJ5S2V5U3lzdGVtOiEwfSxlLnB1c2goaCksYS5xYS5hZGQobikpfXJldHVybiBlfVxuZnVuY3Rpb24gRG4oYSxiKXt2YXIgYyxkLGUsZixnLGgsayxsLG0sbixyLHU7cmV0dXJuIEooZnVuY3Rpb24odil7aWYoMT09di5hKXtjPVRtKGIsXCJHUk9VUC1JRFwiKTtkPVwiXCI7dmFyIHk9VG0oYixcIlRZUEVcIikudG9Mb3dlckNhc2UoKTtcInN1YnRpdGxlc1wiPT15JiYoeT1cInRleHRcIik7ZT15O1widGV4dFwiIT1lJiZjJiZhLmYuaGFzKGMpJiYoZD1hLmYuZ2V0KGMpKTtmPUluKFRtKGIsXCJVUklcIiksYS5qKTtpZihhLmEuaGFzKGYpKXJldHVybiB2W1wicmV0dXJuXCJdKGEuYS5nZXQoZikpO2c9em4oYik7aD1TbShiLFwiTkFNRVwiKTtrPWIuZ2V0QXR0cmlidXRlKFwiREVGQVVMVFwiKTtsPWIuZ2V0QXR0cmlidXRlKFwiQVVUT1NFTEVDVFwiKTttPSEha3x8ISFsO1wiYXVkaW9cIj09ZT95PSh5PVNtKGIsXCJDSEFOTkVMU1wiKSk/cGFyc2VJbnQoeS5zcGxpdChcIi9cIilbMF0sMTApOm51bGw6eT1udWxsO249eTtyPVNtKGIsXCJDSEFSQUNURVJJU1RJQ1NcIik7cmV0dXJuIHQodixKbihhLGYsZCxlLGcsbSxoLG4sXG5udWxsLHIpLDIpfXU9di5iO2EuZy5oYXMoYyk/YS5nLmdldChjKS5wdXNoKHUpOmEuZy5zZXQoYyxbdV0pO2lmKG51bGw9PXUpcmV0dXJuIHZbXCJyZXR1cm5cIl0obnVsbCk7aWYoYS5hLmhhcyhmKSlyZXR1cm4gdltcInJldHVyblwiXShhLmEuZ2V0KGYpKTthLmEuc2V0KGYsdSk7cmV0dXJuIHZbXCJyZXR1cm5cIl0odSl9KX1cbmZ1bmN0aW9uIEduKGEsYixjLGQpe3ZhciBlLGYsZyxoO3JldHVybiBKKGZ1bmN0aW9uKGspe2lmKDE9PWsuYSl7ZT1JbihUbShiLFwiVVJJXCIpLGEuaik7aWYoYS5hLmhhcyhlKSlyZXR1cm4ga1tcInJldHVyblwiXShhLmEuZ2V0KGUpKTt2YXIgbD1TbShiLFwiQ0xPU0VELUNBUFRJT05TXCIpO2Y9XCJ2aWRlb1wiPT1kJiZsJiZcIk5PTkVcIiE9bD9hLncuZ2V0KGwpOm51bGw7Zz14bihkLGMpO3JldHVybiB0KGssSm4oYSxlLGcsZCxcInVuZFwiLCExLG51bGwsbnVsbCxmLG51bGwpLDIpfWg9ay5iO2lmKG51bGw9PWgpcmV0dXJuIGtbXCJyZXR1cm5cIl0obnVsbCk7aWYoYS5hLmhhcyhlKSlyZXR1cm4ga1tcInJldHVyblwiXShhLmEuZ2V0KGUpKTthLmEuc2V0KGUsaCk7cmV0dXJuIGtbXCJyZXR1cm5cIl0oaCl9KX1cbmZ1bmN0aW9uIEpuKGEsYixjLGQsZSxmLGcsaCxrLGwpe3ZhciBtLG4scix1LHYseSx6LEEsRCxCLEUsSCxHLEYsSSxPLFgsUCxrYSx6YSxRYSxDYSxSYSxIYSxBYSxQYix5ZyxYayxZayxaaywkayx6ZyxhbDtyZXR1cm4gSihmdW5jdGlvbihTYSl7c3dpdGNoKFNhLmEpe2Nhc2UgMTpyZXR1cm4gbT1MYyhbYS5JXSxbYl0pWzBdLHQoU2Esb24oYSxjYyhbbV0sYS5pLnJldHJ5UGFyYW1ldGVycyksMCksMik7Y2FzZSAyOm49U2EuYjttPW4udXJpO3I9ZW4oYS5HLG4uZGF0YSxtKTtpZigxIT1yLnR5cGUpdGhyb3cgbmV3IEwoMiw0LDQwMTcpO3U9W107aWYoci5zZWdtZW50cylmb3Iodj1xKHIuc2VnbWVudHMpLHk9di5uZXh0KCk7IXkuZG9uZTt5PXYubmV4dCgpKXo9eS52YWx1ZSxBPVdtKHouVixcIkVYVC1YLUtFWVwiKSx1LnB1c2guYXBwbHkodSxoYShBKSk7RD0hMTtCPVtdO0U9bmV3IFNldDtIPXEodSk7Zm9yKEc9SC5uZXh0KCk7IUcuZG9uZTtHPUgubmV4dCgpKWlmKEY9Ry52YWx1ZSxcbkk9VG0oRixcIk1FVEhPRFwiKSxcIk5PTkVcIiE9SSl7RD0hMDtpZihcIkFFUy0xMjhcIj09SSlyZXR1cm4gYS56YT0hMCxTYVtcInJldHVyblwiXShudWxsKTtPPVRtKEYsXCJLRVlGT1JNQVRcIik7aWYoUD0oWD1LbltPXSk/WChGKTpudWxsKXtpZihQLmtleUlkcylmb3Ioa2E9cShQLmtleUlkcyksemE9a2EubmV4dCgpOyF6YS5kb25lO3phPWthLm5leHQoKSlRYT16YS52YWx1ZSxFLmFkZChRYSk7Qi5wdXNoKFApfX1pZihEJiYhQi5sZW5ndGgpdGhyb3cgbmV3IEwoMiw0LDQwMjYpO0NhPVdtKHIuVixcIkVYVC1YLURFRklORVwiKTtSYT1zbihhLENhKTtMbihhLHIpO3JldHVybiB0KFNhLE1uKGEsZCxjLHIsUmEpLDMpO2Nhc2UgMzpyZXR1cm4gSGE9U2EuYixObi5pbmNsdWRlcyhIYSkmJihjPVwiXCIpLEFhPW5ldyBNYXAseChTYSw0KSx0KFNhLHRuKGEsYixyLEhhLEFhLFJhKSw2KTtjYXNlIDY6UGI9U2EuYjt1YShTYSw1KTticmVhaztjYXNlIDQ6eWc9QyhTYSk7aWYoNDAzNT09eWcuY29kZSlyZXR1cm4gV2EoXCJTa2lwcGluZyB1bnN1cHBvcnRlZCBITFMgc3RyZWFtXCIsXG5IYSxiKSxTYVtcInJldHVyblwiXShudWxsKTt0aHJvdyB5ZztjYXNlIDU6cmV0dXJuIFhrPVBiWzBdLnN0YXJ0VGltZSxZaz1QYltQYi5sZW5ndGgtMV0uZW5kVGltZSxaaz1uZXcgVChQYiksJGs9XCJ0ZXh0XCI9PWQ/XCJzdWJ0aXRsZVwiOnZvaWQgMCx6Zz1bXSxsJiZ6Zy5wdXNoKGwpLGFsPXtpZDphLkFhKyssb3JpZ2luYWxJZDpnLGNyZWF0ZVNlZ21lbnRJbmRleDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sc2VnbWVudEluZGV4OlprLG1pbWVUeXBlOkhhLGNvZGVjczpjLGtpbmQ6JGssZW5jcnlwdGVkOkQsZHJtSW5mb3M6QixrZXlJZHM6RSxsYW5ndWFnZTplLGxhYmVsOmcsdHlwZTpkLHByaW1hcnk6Zix0cmlja01vZGVWaWRlbzpudWxsLGVtc2dTY2hlbWVJZFVyaXM6bnVsbCxmcmFtZVJhdGU6dm9pZCAwLHBpeGVsQXNwZWN0UmF0aW86dm9pZCAwLHdpZHRoOnZvaWQgMCxoZWlnaHQ6dm9pZCAwLGJhbmR3aWR0aDp2b2lkIDAscm9sZXM6emcsY2hhbm5lbHNDb3VudDpoLFxuYXVkaW9TYW1wbGluZ1JhdGU6bnVsbCxjbG9zZWRDYXB0aW9uczprfSxTYVtcInJldHVyblwiXSh7c3RyZWFtOmFsLG9jOmIsWGQ6bSxFZDpYayxEZTpZayxEZDpBYX0pfX0pfWZ1bmN0aW9uIExuKGEsYil7dmFyIGM9WW0oYi5WLFwiRVhULVgtUExBWUxJU1QtVFlQRVwiKSxkPVltKGIuVixcIkVYVC1YLUVORExJU1RcIik7ZD1jJiZcIlZPRFwiPT1jLnZhbHVlfHxkO2M9YyYmXCJFVkVOVFwiPT1jLnZhbHVlJiYhZDtjPSFkJiYhYztkP3VuKGEsbm4pOihjP3VuKGEsT24pOnVuKGEsUG4pLGQ9UW4oYi5WLFwiRVhULVgtVEFSR0VURFVSQVRJT05cIiksZD1OdW1iZXIoZC52YWx1ZSksYS5NPU1hdGgubWF4KGQsYS5NKSxhLlQ9TWF0aC5taW4oZCxhLlQpKX1cbmZ1bmN0aW9uIFJuKGEsYixjLGQpe2M9WW0oYyxcIkVYVC1YLU1BUFwiKTtpZighYylyZXR1cm4gbnVsbDt2YXIgZT1UbShjLFwiVVJJXCIpO2Q9SW4oTGMoW2JdLFtlXSlbMF0sZCk7Yj1bZCxTbShjLFwiQllURVJBTkdFXCIsXCJcIildLmpvaW4oXCItXCIpO2EuSC5oYXMoYil8fChjPVNuKGQsYyksYS5ILnNldChiLGMpKTtyZXR1cm4gYS5ILmdldChiKX1mdW5jdGlvbiBTbihhLGIpe3ZhciBjPTAsZD1udWxsLGU9U20oYixcIkJZVEVSQU5HRVwiKTtlJiYoYz1lLnNwbGl0KFwiQFwiKSxkPU51bWJlcihjWzBdKSxjPU51bWJlcihjWzFdKSxkPWMrZC0xKTtyZXR1cm4gbmV3IE9mKGZ1bmN0aW9uKCl7cmV0dXJuW2FdfSxjLGQpfVxuZnVuY3Rpb24gVG4oYSxiLGMsZCxlLGYpe3ZhciBnPWMuVixoPUluKGMuYSxmKTtjPVFuKGcsXCJFWFRJTkZcIikudmFsdWUuc3BsaXQoXCIsXCIpO2M9ZCtOdW1iZXIoY1swXSk7Zj0wO3ZhciBrPW51bGw7aWYoZz1ZbShnLFwiRVhULVgtQllURVJBTkdFXCIpKWY9Zy52YWx1ZS5zcGxpdChcIkBcIiksZz1OdW1iZXIoZlswXSksZj1mWzFdP051bWJlcihmWzFdKTpiLmErMSxrPWYrZy0xO3JldHVybiBuZXcgUGYoZCxjLGZ1bmN0aW9uKCl7cmV0dXJuW2hdfSxmLGssYSxlLDAsSW5maW5pdHkpfWZ1bmN0aW9uIENuKGEpe2lmKGEuYil7Zm9yKHZhciBiPXEoYS5XKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlhLmIubWIoYy52YWx1ZSk7YS5XPVtdfX1cbmZ1bmN0aW9uIHRuKGEsYixjLGQsZSxmKXt2YXIgZyxoLGssbCxtLG4scix1LHYseSx6LEEsRCxCLEUsSCxHLEYsSSxPLFg7cmV0dXJuIEooZnVuY3Rpb24oUCl7c3dpdGNoKFAuYSl7Y2FzZSAxOmc9Yy5zZWdtZW50cztrPVptKGMuVixcIkVYVC1YLU1FRElBLVNFUVVFTkNFXCIsMCk7aWYoYS5jIT1ubiYmZS5oYXMoaykpe2w9ZS5nZXQoayk7UC51KDIpO2JyZWFrfWlmKG51bGwhPWEuQyl7UC51KDMpO2JyZWFrfWg9Um4oYSxjLmEsZ1swXS5WLGYpO209YTtyZXR1cm4gdChQLFVuKGEsYixoLGQsaywhMSxnWzBdLGYpLDQpO2Nhc2UgNDptLkM9UC5iO2Nhc2UgMzpsPWEuQztjYXNlIDI6bj1nWzBdLmEsJGEobi5zcGxpdChcIi9cIikucG9wKCkpLHI9Wm0oYy5WLFwiRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRVwiKSx1PWEudi5nZXQocil8fDAsdj1bXSx5PWZ1bmN0aW9uKGthKXtyZXR1cm4gaGIoa2EpfSx6PXEoeShnKSksQT16Lm5leHQoKTtjYXNlIDU6aWYoQS5kb25lKXtQLnUoNyk7YnJlYWt9Qj1cbkQ9QS52YWx1ZTtFPUIuWTtIPUIuaXRlbTtHPXZbdi5sZW5ndGgtMV07Rj0wPT1FP2w6Ry5lbmRUaW1lO0k9aytFO2Uuc2V0KEksRik7aD1SbihhLGMuYSxILlYsZik7Tz1ZbShILlYsXCJFWFQtWC1ESVNDT05USU5VSVRZXCIpO2lmKCFPKXtQLnUoOCk7YnJlYWt9cisrO3JldHVybiB0KFAsVm4oYSxyLGIsaCxkLEksSCxmLEYpLDkpO2Nhc2UgOTp1PVAuYjtjYXNlIDg6WD1UbihoLEcsSCxGLHUsZik7di5wdXNoKFgpO0E9ei5uZXh0KCk7UC51KDUpO2JyZWFrO2Nhc2UgNzpyZXR1cm4gYS5XLnB1c2godiksQ24oYSksUFtcInJldHVyblwiXSh2KX19KX1cbmZ1bmN0aW9uIFZuKGEsYixjLGQsZSxmLGcsaCxrKXt2YXIgbCxtO3JldHVybiBKKGZ1bmN0aW9uKG4pe2lmKDE9PW4uYSlyZXR1cm4gbD0wLGEudi5oYXMoYik/KGw9YS52LmdldChiKSxuLnUoMikpOnQobixVbihhLGMsZCxlLGYsITAsZyxoKSwzKTsyIT1uLmEmJihtPW4uYixsPWstbSxhLnYuc2V0KGIsbCkpO3JldHVybiBuW1wicmV0dXJuXCJdKGwpfSl9XG5mdW5jdGlvbiBXbihhLGIpe3ZhciBjLGQsZSxmLGcsaDtyZXR1cm4gSihmdW5jdGlvbihrKXtzd2l0Y2goay5hKXtjYXNlIDE6Yz1pYztkPUxnKGIuYygpLGIuYixiLmEsYS5pLnJldHJ5UGFyYW1ldGVycyk7aWYoYS5pLmhscy51c2VGdWxsU2VnbWVudHNGb3JTdGFydFRpbWUpcmV0dXJuIGtbXCJyZXR1cm5cIl0ob24oYSxkLGMpKTtlPUxnKGIuYygpLGIuYixiLmIrMjA0OC0xLGEuaS5yZXRyeVBhcmFtZXRlcnMpO3goaywyKTtyZXR1cm4gdChrLG9uKGEsZSxjKSw0KTtjYXNlIDQ6cmV0dXJuIGY9ay5iLGtbXCJyZXR1cm5cIl0oZik7Y2FzZSAyOmc9QyhrKTtpZig3MDAxPT1nLmNvZGUpdGhyb3cgZztXYShcIlVuYWJsZSB0byBmZXRjaCBhIHBhcnRpYWwgSExTIHNlZ21lbnQhIEZhbGxpbmcgYmFjayB0byBhIGZ1bGwgc2VnbWVudCByZXF1ZXN0LCB3aGljaCBpcyBleHBlbnNpdmUhICBZb3VyIHNlcnZlciBzaG91bGQgc3VwcG9ydCBSYW5nZSByZXF1ZXN0cyBhbmQgQ09SUyBwcmVmbGlnaHRzLlwiLFxuZS51cmlzWzBdKTtyZXR1cm4gdChrLG9uKGEsZCxjKSw1KTtjYXNlIDU6cmV0dXJuIGg9ay5iLGtbXCJyZXR1cm5cIl0oaCl9fSl9XG5mdW5jdGlvbiBVbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrLGwsbSxuLHIsdSx2LHk7cmV0dXJuIEooZnVuY3Rpb24oeil7c3dpdGNoKHouYSl7Y2FzZSAxOms9VG4oYyxudWxsLGcsMCwwLGgpO2lmKGEubyYmIWYmJihsPWEuYS5nZXQoYiksbT1sLkRkLmdldChlKSx2b2lkIDAhPW0pKXJldHVybiB6W1wicmV0dXJuXCJdKG0pO2Q9ZC50b0xvd2VyQ2FzZSgpO2lmKE5uLmluY2x1ZGVzKGQpKXRocm93IFdhKFwiUmF3IGZvcm1hdHMgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkLiAgU2tpcHBpbmcgXCIrZCksbmV3IEwoMSw0LDQwMzUpO2lmKFwidmlkZW8vd2VibVwiPT1kKXRocm93IFdhKFwiV2ViTSBpbiBITFMgaXMgbm90IHlldCBzdXBwb3J0ZWQuICBTa2lwcGluZy5cIiksbmV3IEwoMSw0LDQwMzUpO2lmKFwidmlkZW8vbXA0XCIhPWQmJlwiYXVkaW8vbXA0XCIhPWQpe3oudSgyKTticmVha31uPVtXbihhLGspXTtjJiZuLnB1c2goV24oYSxjKSk7cmV0dXJuIHQoeixQcm9taXNlLmFsbChuKSwzKTtjYXNlIDM6cmV0dXJuIHI9XG56LmIsdT1yWzBdLHY9clsxXXx8clswXSx6W1wicmV0dXJuXCJdKFhuKGIsdS51cmksdS5kYXRhLHYuZGF0YSkpO2Nhc2UgMjppZihcInZpZGVvL21wMnRcIiE9ZCl7ei51KDQpO2JyZWFrfXJldHVybiB0KHosV24oYSxrKSw1KTtjYXNlIDU6cmV0dXJuIHk9ei5iLHpbXCJyZXR1cm5cIl0oWW4oYix5LnVyaSx5LmRhdGEpKTtjYXNlIDQ6dGhyb3cgbmV3IEwoMiw0LDQwMzAsYik7fX0pfVxuZnVuY3Rpb24gWG4oYSxiLGMsZCl7dmFyIGU9MDsobmV3IERnKS5MKFwibW9vdlwiLEhnKS5MKFwidHJha1wiLEhnKS5MKFwibWRpYVwiLEhnKS5lYShcIm1kaGRcIixmdW5jdGlvbihoKXtoLnJlYWRlci5za2lwKDA9PWgudmVyc2lvbj84OjE2KTtlPWgucmVhZGVyLkooKTtoLnBhcnNlci5zdG9wKCl9KS5wYXJzZShkLCEwKTtpZighZSl0aHJvdyBuZXcgTCgyLDQsNDAzMCxhLGIpO3ZhciBmPTAsZz0hMTsobmV3IERnKS5MKFwibW9vZlwiLEhnKS5MKFwidHJhZlwiLEhnKS5lYShcInRmZHRcIixmdW5jdGlvbihoKXtmPSgwPT1oLnZlcnNpb24/aC5yZWFkZXIuSigpOmgucmVhZGVyLnBiKCkpL2U7Zz0hMDtoLnBhcnNlci5zdG9wKCl9KS5wYXJzZShjLCEwKTtpZighZyl0aHJvdyBuZXcgTCgyLDQsNDAzMCxhLGIpO3JldHVybiBmfVxuZnVuY3Rpb24gWW4oYSxiLGMpe2Z1bmN0aW9uIGQoKXtmLnNlZWsoZysxODgpO2g9Zi5uYSgpOzcxIT1oJiYoZi5zZWVrKGcrMTkyKSxoPWYubmEoKSk7NzEhPWgmJihmLnNlZWsoZysyMDQpLGg9Zi5uYSgpKTs3MSE9aCYmZSgpO2YuTGQoMSl9ZnVuY3Rpb24gZSgpe3Rocm93IG5ldyBMKDIsNCw0MDMwLGEsYik7fWZvcih2YXIgZj1uZXcgVShjLDApLGc9MCxoPTA7OylpZihnPWYuQixoPWYubmEoKSw3MSE9aCYmZSgpLGM9Zi5LYigpLDgxOTE9PShjJjgxOTEpKWQoKTtlbHNlIGlmKGMmMTYzODQpaWYoYz0oZi5uYSgpJjQ4KT4+NCwwIT1jJiYyIT1jfHxlKCksMz09YyYmKGM9Zi5uYSgpLGYuc2tpcChjKSksMSE9Zi5KKCk+PjgpZCgpO2Vsc2V7Zi5za2lwKDMpO2M9Zi5uYSgpPj42OzAhPWMmJjEhPWN8fGUoKTswPT1mLm5hKCkmJmUoKTtjPWYubmEoKTt2YXIgaz1mLktiKCksbD1mLktiKCk7cmV0dXJuKDEwNzM3NDE4MjQqKChjJjE0KT4+MSkrKChrJjY1NTM0KTw8MTR8KGwmNjU1MzQpPj5cbjEpKS85RTR9ZWxzZSBkKCl9ZnVuY3Rpb24geG4oYSxiKXtpZigxPT1iLmxlbmd0aClyZXR1cm4gYlswXTt2YXIgYz13bihhLGIpO2lmKG51bGwhPWMpcmV0dXJuIGM7dGhyb3cgbmV3IEwoMiw0LDQwMjUsYik7fWZ1bmN0aW9uIHduKGEsYil7Zm9yKHZhciBjPXEoWm5bYV0pLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXtkPWQudmFsdWU7Zm9yKHZhciBlPXEoYiksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpaWYoZj1mLnZhbHVlLGQudGVzdChmLnRyaW0oKSkpcmV0dXJuIGYudHJpbSgpfXJldHVyblwidGV4dFwiPT1hP1wiXCI6bnVsbH1cbmZ1bmN0aW9uIEluKGEsYil7dmFyIGM9U3RyaW5nKGEpLnJlcGxhY2UoLyU3Qi9nLFwie1wiKS5yZXBsYWNlKC8lN0QvZyxcIn1cIiksZD1jLm1hdGNoKC97XFwkXFx3Kn0vZyk7aWYoZCl7ZD1xKGQpO2Zvcih2YXIgZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe2U9ZS52YWx1ZTt2YXIgZj1lLnNsaWNlKDIsZS5sZW5ndGgtMSksZz1iLmdldChmKTtpZihnKWM9Yy5yZXBsYWNlKGUsZyk7ZWxzZSB0aHJvdyBuZXcgTCgyLDQsNDAzOSxmKTt9fXJldHVybiBjfVxuZnVuY3Rpb24gTW4oYSxiLGMsZCxlKXt2YXIgZixnLGgsayxsLG0sbixyLHUsdjtyZXR1cm4gSihmdW5jdGlvbih5KXtpZigxPT15LmEpe2Y9TmM7Zz1pYztoPUluKGQuc2VnbWVudHNbMF0uYSxlKTtrPW5ldyBqYihoKTtsPWsuaWEuc3BsaXQoXCIuXCIpLnBvcCgpO209JG5bYl07aWYobj1tW2xdKXJldHVybiB5W1wicmV0dXJuXCJdKG4pO2lmKGI9PWYuJClyZXR1cm4gYyYmXCJ2dHRcIiE9YyYmXCJ3dnR0XCIhPWM/eVtcInJldHVyblwiXShcImFwcGxpY2F0aW9uL21wNFwiKTp5W1wicmV0dXJuXCJdKFwidGV4dC92dHRcIik7cj1jYyhbaF0sYS5pLnJldHJ5UGFyYW1ldGVycyk7ci5tZXRob2Q9XCJIRUFEXCI7cmV0dXJuIHQoeSxvbihhLHIsZyksMil9dT15LmI7dj11LmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl07aWYoIXYpdGhyb3cgbmV3IEwoMiw0LDQwMjEsbCk7cmV0dXJuIHlbXCJyZXR1cm5cIl0odi5zcGxpdChcIjtcIilbMF0pfSl9XG5mdW5jdGlvbiBRbihhLGIpe3ZhciBjPVltKGEsYik7aWYoIWMpdGhyb3cgbmV3IEwoMiw0LDQwMjQsYik7cmV0dXJuIGN9cC5JYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYixjO3JldHVybiBKKGZ1bmN0aW9uKGQpe2lmKDE9PWQuYSl7aWYoIWEucylyZXR1cm4gZFtcInJldHVyblwiXSgpO3goZCwyKTtyZXR1cm4gdChkLGEudXBkYXRlKCksNCl9aWYoMiE9ZC5hKXJldHVybiBiPWEuY2EsYS5oLlIoYiksdWEoZCwwKTtjPUMoZCk7aWYoIWEucylyZXR1cm4gZFtcInJldHVyblwiXSgpO2Muc2V2ZXJpdHk9MTthLnMub25FcnJvcihjKTthLmguUiguMSk7dyhkKX0pfTtmdW5jdGlvbiB1bihhLGIpe2EuYz1iO2EuYiYmYS5iLk5iKGEuYz09bm4pO2EuYyE9bm58fGEuaC5zdG9wKCl9ZnVuY3Rpb24gb24oYSxiLGMpe2lmKCFhLm0pdGhyb3cgbmV3IEwoMiw3LDcwMDEpO2I9YS5zLm5ldHdvcmtpbmdFbmdpbmUucmVxdWVzdChjLGIpO1liKGEubSxiKTtyZXR1cm4gYi5wcm9taXNlfVxuSyhcInNoYWthLmhscy5IbHNQYXJzZXJcIixtbik7XG52YXIgWm49e2F1ZGlvOlsvXnZvcmJpcyQvLC9eb3B1cyQvLC9eZmxhYyQvLC9ebXA0YS8sL15bYWVdYy0zJC9dLHZpZGVvOlsvXmF2Yy8sL15oZXYvLC9eaHZjLywvXnZwMD9bODldLywvXmF2MSQvXSx0ZXh0OlsvXnZ0dCQvLC9ed3Z0dC8sL15zdHBwL119LE5uPVtcImF1ZGlvL2FhY1wiLFwiYXVkaW8vYWMzXCIsXCJhdWRpby9lYzNcIixcImF1ZGlvL21wZWdcIl0sJG49e2F1ZGlvOnttcDQ6XCJhdWRpby9tcDRcIixtNHM6XCJhdWRpby9tcDRcIixtNGk6XCJhdWRpby9tcDRcIixtNGE6XCJhdWRpby9tcDRcIixjbWZhOlwiYXVkaW8vbXA0XCIsdHM6XCJ2aWRlby9tcDJ0XCIsYWFjOlwiYXVkaW8vYWFjXCIsYWMzOlwiYXVkaW8vYWMzXCIsZWMzOlwiYXVkaW8vZWMzXCIsbXAzOlwiYXVkaW8vbXBlZ1wifSx2aWRlbzp7bXA0OlwidmlkZW8vbXA0XCIsbTRzOlwidmlkZW8vbXA0XCIsbTRpOlwidmlkZW8vbXA0XCIsbTR2OlwidmlkZW8vbXA0XCIsY21mdjpcInZpZGVvL21wNFwiLHRzOlwidmlkZW8vbXAydFwifSx0ZXh0OnttcDQ6XCJhcHBsaWNhdGlvbi9tcDRcIixcbm00czpcImFwcGxpY2F0aW9uL21wNFwiLG00aTpcImFwcGxpY2F0aW9uL21wNFwiLGNtZnQ6XCJhcHBsaWNhdGlvbi9tcDRcIix2dHQ6XCJ0ZXh0L3Z0dFwiLHR0bWw6XCJhcHBsaWNhdGlvbi90dG1sK3htbFwifX0sS249e1widXJuOnV1aWQ6ZWRlZjhiYTktNzlkNi00YWNlLWEzYzgtMjdkY2Q1MWQyMWVkXCI6ZnVuY3Rpb24oYSl7dmFyIGI9VG0oYSxcIk1FVEhPRFwiKTtpZighW1wiU0FNUExFLUFFU1wiLFwiU0FNUExFLUFFUy1DVFJcIl0uaW5jbHVkZXMoYikpcmV0dXJuIG51bGw7Yj1UbShhLFwiVVJJXCIpO2I9bG4oYik7Yj1OKGIuZGF0YSk7Yj1NYyhcImNvbS53aWRldmluZS5hbHBoYVwiLFt7aW5pdERhdGFUeXBlOlwiY2VuY1wiLGluaXREYXRhOmJ9XSk7aWYoYT1TbShhLFwiS0VZSURcIikpYi5rZXlJZHM9bmV3IFNldChbYS50b0xvd2VyQ2FzZSgpLnN1YnN0cigyKV0pO3JldHVybiBifX0sbm49XCJWT0RcIixQbj1cIkVWRU5UXCIsT249XCJMSVZFXCIscm49e1ZkOm5uLGxmOlBuLFVkOk9ufTtNZi5tM3U4PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBtbn07XG5LZltcImFwcGxpY2F0aW9uL3gtbXBlZ3VybFwiXT1mdW5jdGlvbigpe3JldHVybiBuZXcgbW59O0tmW1wiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmxcIl09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1ufTtmdW5jdGlvbiBhbyhhLGIsYyxkLGUsZil7aWYoMjAwPD1jJiYyOTk+PWMmJjIwMiE9YylyZXR1cm57dXJpOmV8fGQsSWQ6ZCxkYXRhOmIsaGVhZGVyczphLGZyb21DYWNoZTohIWFbXCJ4LXNoYWthLWZyb20tY2FjaGVcIl19O2U9bnVsbDt0cnl7ZT12YyhiKX1jYXRjaChnKXt9dGhyb3cgbmV3IEwoNDAxPT1jfHw0MDM9PWM/MjoxLDEsMTAwMSxkLGMsZSxhLGYpO307ZnVuY3Rpb24gYm8oKXt9ZnVuY3Rpb24gY28oYSxiLGMsZCl7dmFyIGU9bmV3IGVvO09jKGIuaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihrLGwpe2UuYXBwZW5kKGwsayl9KTt2YXIgZj1uZXcgZm8sZz17cmQ6ITEsUmQ6ITF9O2E9Z28oYSxjLHtib2R5OmIuYm9keXx8dm9pZCAwLGhlYWRlcnM6ZSxtZXRob2Q6Yi5tZXRob2Qsc2lnbmFsOmYuc2lnbmFsLGNyZWRlbnRpYWxzOmIuYWxsb3dDcm9zc1NpdGVDcmVkZW50aWFscz9cImluY2x1ZGVcIjp2b2lkIDB9LGcsZCk7YT1uZXcgQmIoYSxmdW5jdGlvbigpe2cucmQ9ITA7Zi5hYm9ydCgpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pO2lmKGI9Yi5yZXRyeVBhcmFtZXRlcnMudGltZW91dCl7dmFyIGg9bmV3IE0oZnVuY3Rpb24oKXtnLlJkPSEwO2YuYWJvcnQoKX0pO2guUihiLzFFMyk7YVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtoLnN0b3AoKX0pfXJldHVybiBhfVxuZnVuY3Rpb24gZ28oYSxiLGMsZCxlKXt2YXIgZixnLGgsayxsLG0sbixyLHUsdix5LHosQSxEO3JldHVybiBKKGZ1bmN0aW9uKEIpe3N3aXRjaChCLmEpe2Nhc2UgMTpyZXR1cm4gZj1obyxnPWlvLG09bD0wLG49RGF0ZS5ub3coKSx4KEIsMiksdChCLGYoYSxjKSw0KTtjYXNlIDQ6cmV0dXJuIGg9Qi5iLHI9aC5jbG9uZSgpLmJvZHkuZ2V0UmVhZGVyKCksdj0odT1oLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1MZW5ndGhcIikpP3BhcnNlSW50KHUsMTApOjAseT1mdW5jdGlvbihFKXtmdW5jdGlvbiBIKCl7dmFyIEcsRjtyZXR1cm4gSihmdW5jdGlvbihJKXtzd2l0Y2goSS5hKXtjYXNlIDE6cmV0dXJuIHgoSSwyKSx0KEksci5yZWFkKCksNCk7Y2FzZSA0Okc9SS5iO3VhKEksMyk7YnJlYWs7Y2FzZSAyOnJldHVybiBDKEkpLElbXCJyZXR1cm5cIl0oKTtjYXNlIDM6Ry5kb25lfHwobCs9Ry52YWx1ZS5ieXRlTGVuZ3RoKTtGPURhdGUubm93KCk7aWYoMTAwPEYtbnx8Ry5kb25lKWUoRi1uLGwtbSxcbnYtbCksbT1sLG49RjtHLmRvbmU/RS5jbG9zZSgpOihFLmVucXVldWUoRy52YWx1ZSksSCgpKTt3KEkpfX0pfUgoKX0sbmV3IGcoe3N0YXJ0Onl9KSx0KEIsaC5hcnJheUJ1ZmZlcigpLDUpO2Nhc2UgNTprPUIuYjt1YShCLDMpO2JyZWFrO2Nhc2UgMjp6PUMoQik7aWYoZC5yZCl0aHJvdyBuZXcgTCgxLDEsNzAwMSxhLGIpO2lmKGQuUmQpdGhyb3cgbmV3IEwoMSwxLDEwMDMsYSxiKTt0aHJvdyBuZXcgTCgxLDEsMTAwMixhLHosYik7Y2FzZSAzOnJldHVybiBBPXt9LEQ9aC5oZWFkZXJzLEQuZm9yRWFjaChmdW5jdGlvbihFLEgpe0FbSC50cmltKCldPUV9KSxCW1wicmV0dXJuXCJdKGFvKEEsayxoLnN0YXR1cyxhLGgudXJsLGIpKX19KX1cbmZ1bmN0aW9uIGpvKCl7aWYod2luZG93LlJlYWRhYmxlU3RyZWFtKXRyeXtuZXcgUmVhZGFibGVTdHJlYW0oe30pfWNhdGNoKGEpe3JldHVybiExfWVsc2UgcmV0dXJuITE7cmV0dXJuISghd2luZG93LmZldGNofHwhd2luZG93LkFib3J0Q29udHJvbGxlcil9SyhcInNoYWthLm5ldC5IdHRwRmV0Y2hQbHVnaW5cIixibyk7Ym8uaXNTdXBwb3J0ZWQ9am87Ym8ucGFyc2U9Y287dmFyIGhvPXdpbmRvdy5mZXRjaCxmbz13aW5kb3cuQWJvcnRDb250cm9sbGVyLGlvPXdpbmRvdy5SZWFkYWJsZVN0cmVhbSxlbz13aW5kb3cuSGVhZGVycztqbygpJiYoJGIoXCJodHRwXCIsY28sMiksJGIoXCJodHRwc1wiLGNvLDIpKTtmdW5jdGlvbiBrbygpe31cbmZ1bmN0aW9uIGxvKGEsYixjLGQpe3ZhciBlPW5ldyBtbyxmPURhdGUubm93KCksZz0wLGg9bmV3IFByb21pc2UoZnVuY3Rpb24oayxsKXtlLm9wZW4oYi5tZXRob2QsYSwhMCk7ZS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiO2UudGltZW91dD1iLnJldHJ5UGFyYW1ldGVycy50aW1lb3V0O2Uud2l0aENyZWRlbnRpYWxzPWIuYWxsb3dDcm9zc1NpdGVDcmVkZW50aWFscztlLm9uYWJvcnQ9ZnVuY3Rpb24oKXtsKG5ldyBMKDEsMSw3MDAxLGEsYykpfTtlLm9ubG9hZD1mdW5jdGlvbihuKXtuPW4udGFyZ2V0O3ZhciByPW4uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkudHJpbSgpLnNwbGl0KFwiXFxyXFxuXCIpLHU9e307cj1xKHIpO2Zvcih2YXIgdj1yLm5leHQoKTshdi5kb25lO3Y9ci5uZXh0KCkpdj12LnZhbHVlLnNwbGl0KFwiOiBcIiksdVt2WzBdLnRvTG93ZXJDYXNlKCldPXYuc2xpY2UoMSkuam9pbihcIjogXCIpO3RyeXt2YXIgeT1hbyh1LG4ucmVzcG9uc2Usbi5zdGF0dXMsYSxuLnJlc3BvbnNlVVJMLFxuYyk7ayh5KX1jYXRjaCh6KXtsKHopfX07ZS5vbmVycm9yPWZ1bmN0aW9uKG4pe2wobmV3IEwoMSwxLDEwMDIsYSxuLGMpKX07ZS5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtsKG5ldyBMKDEsMSwxMDAzLGEsYykpfTtlLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24obil7dmFyIHI9RGF0ZS5ub3coKTtpZigxMDA8ci1mfHxuLmxlbmd0aENvbXB1dGFibGUmJm4ubG9hZGVkPT1uLnRvdGFsKWQoci1mLG4ubG9hZGVkLWcsbi50b3RhbC1uLmxvYWRlZCksZz1uLmxvYWRlZCxmPXJ9O2Zvcih2YXIgbSBpbiBiLmhlYWRlcnMpZS5zZXRSZXF1ZXN0SGVhZGVyKG0udG9Mb3dlckNhc2UoKSxiLmhlYWRlcnNbbV0pO2Uuc2VuZChiLmJvZHkpfSk7cmV0dXJuIG5ldyBCYihoLGZ1bmN0aW9uKCl7ZS5hYm9ydCgpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pfUsoXCJzaGFrYS5uZXQuSHR0cFhIUlBsdWdpblwiLGtvKTtrby5wYXJzZT1sbzt2YXIgbW89d2luZG93LlhNTEh0dHBSZXF1ZXN0O1xuJGIoXCJodHRwXCIsbG8sMSk7JGIoXCJodHRwc1wiLGxvLDEpO2Z1bmN0aW9uIG5vKCl7dGhpcy5hPXRoaXMuZj10aGlzLmI9MDt0aGlzLmM9bmV3IE1hcDt0aGlzLmc9MH1mdW5jdGlvbiBvbyhhLGIpe2EuYis9Yjt2YXIgYz1hLmc7YS5nKys7YS5jLnNldChjLGIpO3JldHVybiBjfW5vLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMuYy5oYXMoYSkpe3ZhciBjPXRoaXMuYy5nZXQoYSk7dGhpcy5jW1wiZGVsZXRlXCJdKGEpO3RoaXMuZis9Yzt0aGlzLmErPWJ9fTtmdW5jdGlvbiBwbyhhKXt2YXIgYj10aGlzO3RoaXMuTj1hO3RoaXMuYT1uZXcgTWFwO3RoaXMuRD1uZXcgamMoZnVuY3Rpb24oKXt2YXIgYz1BcnJheS5mcm9tKGIuYS52YWx1ZXMoKSk7cmV0dXJuIFByb21pc2UuYWxsKGMubWFwKGZ1bmN0aW9uKGQpe3JldHVybiBkW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt9KX0pKX0pO3RoaXMuYj1bXTt0aGlzLkhkPWZ1bmN0aW9uKCl7fTt0aGlzLkdkPWZ1bmN0aW9uKCl7fTt0aGlzLkJiPW5ldyBub31wby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkQuZGVzdHJveSgpfTtmdW5jdGlvbiBxbyhhLGIsYyl7YS5IZD1iO2EuR2Q9Y31mdW5jdGlvbiBybyhhKXt2YXIgYj1hLmIubWFwKGZ1bmN0aW9uKGMpe3JldHVybiBjKCl9KTthLmI9W107cmV0dXJuIFByb21pc2UuYWxsKGIpfVxuZnVuY3Rpb24gc28oYSxiLGMsZCxlLGYpe2tjKGEuRCk7dmFyIGc9b28oYS5CYixkKTtkPShhLmEuZ2V0KGIpfHxQcm9taXNlLnJlc29sdmUoKSkudGhlbihmdW5jdGlvbigpe3ZhciBoLGssbCxtLG4scix1O3JldHVybiBKKGZ1bmN0aW9uKHYpe2lmKDE9PXYuYSlyZXR1cm4gdCh2LHRvKGEsYyksMik7aD12LmI7aWYoYS5ELmEpdGhyb3cgbmV3IEwoMiw5LDcwMDEpO2lmKGUpZm9yKG0gaW4gaz1OKGgpLGw9bmV3IE5rKGspLGwuZGF0YSluPU51bWJlcihtKSxyPWwuZGF0YVtuXSx1PWwuYVtuXSxhLkdkKHIsdSk7YS5CYi5jbG9zZShnLGguYnl0ZUxlbmd0aCk7dmFyIHk9YS5CYjthLkhkKDA9PXkuYj8wOnkuZi95LmIsYS5CYi5hKTtyZXR1cm4gdltcInJldHVyblwiXShmKGgpKX0pfSk7YS5hLnNldChiLGQpO3JldHVybiBkfVxuZnVuY3Rpb24gdW8oYSxiLGMpe2tjKGEuRCk7dmFyIGQ9KGEuYS5nZXQoYil8fFByb21pc2UucmVzb2x2ZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEooZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSxjKCksMCl9KX0pO2EuYS5zZXQoYixkKX1mdW5jdGlvbiB2byhhKXtyZXR1cm4gSihmdW5jdGlvbihiKXtyZXR1cm4gMT09Yi5hP3QoYixQcm9taXNlLmFsbChhLmEudmFsdWVzKCkpLDIpOmJbXCJyZXR1cm5cIl0oYS5CYi5hKX0pfWZ1bmN0aW9uIHRvKGEsYil7dmFyIGMsZCxlLGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7aWYoMT09Zy5hKXJldHVybiBjPWljLGQ9YS5OLnJlcXVlc3QoYyxiKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGQuYWJvcnQoKX0sYS5iLnB1c2goZSksdChnLGQucHJvbWlzZSwyKTtmPWcuYjtWYihhLmIsZSk7cmV0dXJuIGdbXCJyZXR1cm5cIl0oZi5kYXRhKX0pfTtmdW5jdGlvbiB3byhhLGIpe3ZhciBjPXRoaXM7dGhpcy5jPWE7dGhpcy5iPWEub2JqZWN0U3RvcmUoYik7dGhpcy5hPW5ldyBBYjthLm9uYWJvcnQ9ZnVuY3Rpb24oZCl7ZC5wcmV2ZW50RGVmYXVsdCgpO2MuYS5yZWplY3QoKX07YS5vbmVycm9yPWZ1bmN0aW9uKGQpe2QucHJldmVudERlZmF1bHQoKTtjLmEucmVqZWN0KCl9O2Eub25jb21wbGV0ZT1mdW5jdGlvbigpe2MuYS5yZXNvbHZlKCl9fXdvLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEooZnVuY3Rpb24oYil7aWYoMT09Yi5hKXt0cnl7YS5jLmFib3J0KCl9Y2F0Y2goYyl7fXgoYiwyKTtyZXR1cm4gdChiLGEuYSw0KX1pZigyIT1iLmEpcmV0dXJuIHVhKGIsMCk7QyhiKTt3KGIpfSl9O1xuZnVuY3Rpb24geG8oYSxiKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxkKXt2YXIgZT1hLmIub3BlbkN1cnNvcigpO2Uub25lcnJvcj1kO2Uub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7aWYoMT09Zy5hKXtpZihudWxsPT1lLnJlc3VsdClyZXR1cm4gYygpLGdbXCJyZXR1cm5cIl0oKTtmPWUucmVzdWx0O3JldHVybiB0KGcsYihmLmtleSxmLnZhbHVlLGYpLDIpfWZbXCJjb250aW51ZVwiXSgpO3coZyl9KX19KX13by5wcm90b3R5cGUuc3RvcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTt3by5wcm90b3R5cGUucHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHlvKGEpe3RoaXMuYj1hO3RoaXMuYT1bXX15by5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbCh0aGlzLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFib3J0KCl9KSl9O2Z1bmN0aW9uIHpvKGEsYil7cmV0dXJuIEFvKGEsYixcInJlYWR3cml0ZVwiKX1mdW5jdGlvbiBBbyhhLGIsYyl7Yz1hLmIudHJhbnNhY3Rpb24oW2JdLGMpO3ZhciBkPW5ldyB3byhjLGIpO2EuYS5wdXNoKGQpO2QucHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oKXtWYihhLmEsZCl9LGZ1bmN0aW9uKCl7VmIoYS5hLGQpfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIEJvKGEsYixjKXt0aGlzLmI9bmV3IHlvKGEpO3RoaXMuYz1iO3RoaXMuYT1jfXA9Qm8ucHJvdG90eXBlO3AuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuZGVzdHJveSgpfTtwLmhhc0ZpeGVkS2V5U3BhY2U9ZnVuY3Rpb24oKXtyZXR1cm4hMH07cC5hZGRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiBDbyh0aGlzLmMpfTtwLnJlbW92ZVNlZ21lbnRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIERvKHRoaXMsdGhpcy5jLGEsYil9O3AuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjO3JldHVybiBKKGZ1bmN0aW9uKGQpe2lmKDE9PWQuYSlyZXR1cm4gdChkLEVvKGIsYi5jLGEpLDIpO2M9ZC5iO3JldHVybiBkW1wicmV0dXJuXCJdKGMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBiLnNkKGUpfSkpfSl9O3AuYWRkTWFuaWZlc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIENvKHRoaXMuYSl9O1xucC51cGRhdGVNYW5pZmVzdEV4cGlyYXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz16byh0aGlzLmIsdGhpcy5hKSxkPWMuc3RvcmUoKTtkLmdldChhKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYoZT1lLnRhcmdldC5yZXN1bHQpZS5leHBpcmF0aW9uPWIsZC5wdXQoZSxhKX07cmV0dXJuIGMucHJvbWlzZSgpfTtwLnJlbW92ZU1hbmlmZXN0cz1mdW5jdGlvbihhLGIpe3JldHVybiBEbyh0aGlzLHRoaXMuYSxhLGIpfTtwLmdldE1hbmlmZXN0cz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7cmV0dXJuIEooZnVuY3Rpb24oZCl7aWYoMT09ZC5hKXJldHVybiB0KGQsRW8oYixiLmEsYSksMik7Yz1kLmI7cmV0dXJuIGRbXCJyZXR1cm5cIl0oUHJvbWlzZS5hbGwoYy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGIuQWIoZSl9KSkpfSl9O1xucC5nZXRBbGxNYW5pZmVzdHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYztyZXR1cm4gSihmdW5jdGlvbihkKXtyZXR1cm4gMT09ZC5hPyhiPUFvKGEuYixhLmEsXCJyZWFkb25seVwiKSxjPW5ldyBNYXAsdChkLHhvKGIsZnVuY3Rpb24oZSxmKXt2YXIgZztyZXR1cm4gSihmdW5jdGlvbihoKXtpZigxPT1oLmEpcmV0dXJuIHQoaCxhLkFiKGYpLDIpO2c9aC5iO2Muc2V0KGUsZyk7dyhoKX0pfSksMikpOjMhPWQuYT90KGQsYi5wcm9taXNlKCksMyk6ZFtcInJldHVyblwiXShjKX0pfTtwLnNkPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtwLkFiPWZ1bmN0aW9uKGEpe3JldHVybiBQcm9taXNlLnJlc29sdmUoYSl9O2Z1bmN0aW9uIENvKGEpe3JldHVybiBQcm9taXNlLnJlamVjdChuZXcgTCgyLDksOTAxMSxcIkNhbm5vdCBhZGQgbmV3IHZhbHVlIHRvIFwiK2EpKX1cbnAuYWRkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkLGUsZixnLGgsayxsO3JldHVybiBKKGZ1bmN0aW9uKG0pe2lmKDE9PW0uYSl7ZD16byhjLmIsYSk7ZT1kLnN0b3JlKCk7Zj1bXTtnPXt9O2g9cShiKTtmb3Ioaz1oLm5leHQoKTshay5kb25lO2c9e1NiOmcuU2J9LGs9aC5uZXh0KCkpbD1rLnZhbHVlLGcuU2I9ZS5hZGQobCksZy5TYi5vbnN1Y2Nlc3M9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7Zi5wdXNoKG4uU2IucmVzdWx0KX19KGcpO3JldHVybiB0KG0sZC5wcm9taXNlKCksMil9cmV0dXJuIG1bXCJyZXR1cm5cIl0oZil9KX07XG5mdW5jdGlvbiBEbyhhLGIsYyxkKXthPXpvKGEuYixiKTtiPWEuc3RvcmUoKTt2YXIgZT17fTtjPXEoYyk7Zm9yKHZhciBmPWMubmV4dCgpOyFmLmRvbmU7ZT17UmI6ZS5SYn0sZj1jLm5leHQoKSllLlJiPWYudmFsdWUsYltcImRlbGV0ZVwiXShlLlJiKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGQoZy5SYil9fShlKTtyZXR1cm4gYS5wcm9taXNlKCl9XG5mdW5jdGlvbiBFbyhhLGIsYyl7dmFyIGQsZSxmLGcsaCxrLGw7cmV0dXJuIEooZnVuY3Rpb24obSl7aWYoMT09bS5hKXtkPUFvKGEuYixiLFwicmVhZG9ubHlcIik7ZT1kLnN0b3JlKCk7Zj17fTtnPVtdO2g9e307az1xKGMpO2ZvcihsPWsubmV4dCgpOyFsLmRvbmU7aD17dmI6aC52Yix0YjpoLnRifSxsPWsubmV4dCgpKWgudGI9bC52YWx1ZSxoLnZiPWUuZ2V0KGgudGIpLGgudmIub25zdWNjZXNzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe3ZvaWQgMD09bi52Yi5yZXN1bHQmJmcucHVzaChuLnRiKTtmW24udGJdPW4udmIucmVzdWx0fX0oaCk7cmV0dXJuIHQobSxkLnByb21pc2UoKSwyKX1pZihnLmxlbmd0aCl0aHJvdyBuZXcgTCgyLDksOTAxMixcIkNvdWxkIG5vdCBmaW5kIHZhbHVlcyBmb3IgXCIrZyk7cmV0dXJuIG1bXCJyZXR1cm5cIl0oYy5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGZbbl19KSl9KX07ZnVuY3Rpb24gRm8oYSl7dGhpcy5hPW5ldyB5byhhKX1Gby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZGVzdHJveSgpfTtGby5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiLGM7cmV0dXJuIEooZnVuY3Rpb24oZCl7cmV0dXJuIDE9PWQuYT8oYj1BbyhhLmEsXCJzZXNzaW9uLWlkc1wiLFwicmVhZG9ubHlcIiksYz1bXSx0KGQseG8oYixmdW5jdGlvbihlLGYpe2MucHVzaChmKX0pLDIpKTozIT1kLmE/dChkLGIucHJvbWlzZSgpLDMpOmRbXCJyZXR1cm5cIl0oYyl9KX07Rm8ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt2YXIgYj16byh0aGlzLmEsXCJzZXNzaW9uLWlkc1wiKSxjPWIuc3RvcmUoKTthPXEoYSk7Zm9yKHZhciBkPWEubmV4dCgpOyFkLmRvbmU7ZD1hLm5leHQoKSljLmFkZChkLnZhbHVlKTtyZXR1cm4gYi5wcm9taXNlKCl9O1xuRm8ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7cmV0dXJuIEooZnVuY3Rpb24oZCl7cmV0dXJuIDE9PWQuYT8oYz16byhiLmEsXCJzZXNzaW9uLWlkc1wiKSx0KGQseG8oYyxmdW5jdGlvbihlLGYsZyl7YS5pbmNsdWRlcyhmLnNlc3Npb25JZCkmJmdbXCJkZWxldGVcIl0oKX0pLDIpKTp0KGQsYy5wcm9taXNlKCksMCl9KX07ZnVuY3Rpb24gR28oKXt0aGlzLmE9bmV3IE1hcH1Hby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT1bXSxiPXEodGhpcy5hLnZhbHVlcygpKSxjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSlhLnB1c2goYy52YWx1ZS5kZXN0cm95KCkpO3RoaXMuYS5jbGVhcigpO3JldHVybiBQcm9taXNlLmFsbChhKX07R28ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0hvLmZvckVhY2goZnVuY3Rpb24oZSxmKXt2YXIgZz1lKCk7ZyYmYS5hLnNldChmLGcpfSk7Zm9yKHZhciBiPVtdLGM9cSh0aGlzLmEudmFsdWVzKCkpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWIucHVzaChkLnZhbHVlLmluaXQoKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfTtcbmZ1bmN0aW9uIElvKGEpe3ZhciBiPW51bGw7YS5hLmZvckVhY2goZnVuY3Rpb24oYyxkKXtjLmdldENlbGxzKCkuZm9yRWFjaChmdW5jdGlvbihlLGYpe2UuaGFzRml4ZWRLZXlTcGFjZSgpfHxifHwoYj17cGF0aDp7dmE6ZCxiYTpmfSxiYTplfSl9KX0pO2lmKGIpcmV0dXJuIGI7dGhyb3cgbmV3IEwoMiw5LDkwMTMsXCJDb3VsZCBub3QgZmluZCBhIGNlbGwgdGhhdCBzdXBwb3J0cyBhZGQtb3BlcmF0aW9uc1wiKTt9ZnVuY3Rpb24gSm8oYSxiKXthLmEuZm9yRWFjaChmdW5jdGlvbihjLGQpe2MuZ2V0Q2VsbHMoKS5mb3JFYWNoKGZ1bmN0aW9uKGUsZil7Yih7dmE6ZCxiYTpmfSxlKX0pfSl9XG5mdW5jdGlvbiBLbyhhLGIsYyl7YT1hLmEuZ2V0KGIpO2lmKCFhKXRocm93IG5ldyBMKDIsOSw5MDEzLFwiQ291bGQgbm90IGZpbmQgbWVjaGFuaXNtIHdpdGggbmFtZSBcIitiKTtiPWEuZ2V0Q2VsbHMoKS5nZXQoYyk7aWYoIWIpdGhyb3cgbmV3IEwoMiw5LDkwMTMsXCJDb3VsZCBub3QgZmluZCBjZWxsIHdpdGggbmFtZSBcIitjKTtyZXR1cm4gYn1mdW5jdGlvbiBMbyhhLGIpe2EuYS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2IoYy5nZXRFbWVTZXNzaW9uQ2VsbCgpKX0pfWZ1bmN0aW9uIE1vKGEpe3ZhciBiPUFycmF5LmZyb20oYS5hLmtleXMoKSk7aWYoIWIubGVuZ3RoKXRocm93IG5ldyBMKDIsOSw5RTMsXCJObyBzdXBwb3J0ZWQgc3RvcmFnZSBtZWNoYW5pc21zIGZvdW5kXCIpO3JldHVybiBhLmEuZ2V0KGJbMF0pLmdldEVtZVNlc3Npb25DZWxsKCl9XG5mdW5jdGlvbiBObyhhKXt2YXIgYixjLGQ7cmV0dXJuIEooZnVuY3Rpb24oZSl7cmV0dXJuIDE9PWUuYT8oYj1BcnJheS5mcm9tKGEuYS52YWx1ZXMoKSksYz0wPGIubGVuZ3RoLGN8fChkPUhvLGQuZm9yRWFjaChmdW5jdGlvbihmKXsoZj1mKCkpJiZiLnB1c2goZil9KSksdChlLFByb21pc2UuYWxsKGIubWFwKGZ1bmN0aW9uKGYpe3JldHVybiBmLmVyYXNlKCl9KSksMikpOmM/ZS51KDApOnQoZSxQcm9taXNlLmFsbChiLm1hcChmdW5jdGlvbihmKXtyZXR1cm4gZi5kZXN0cm95KCl9KSksMCl9KX1mdW5jdGlvbiBPbyhhLGIpe0hvLnNldChhLGIpfUsoXCJzaGFrYS5vZmZsaW5lLlN0b3JhZ2VNdXhlclwiLEdvKTtHby51bnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe0hvW1wiZGVsZXRlXCJdKGEpfTtHby5yZWdpc3Rlcj1PbztHby5wcm90b3R5cGUuZGVzdHJveT1Hby5wcm90b3R5cGUuZGVzdHJveTt2YXIgSG89bmV3IE1hcDtmdW5jdGlvbiBQbygpe0JvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1wYShQbyxCbyk7UG8ucHJvdG90eXBlLnVwZGF0ZU1hbmlmZXN0RXhwaXJhdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZCxlLGY7cmV0dXJuIEooZnVuY3Rpb24oZyl7ZD16byhjLmIsYy5hKTtlPWQuc3RvcmUoKTtmPW5ldyBBYjtlLmdldChhKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oaCl7KGg9aC50YXJnZXQucmVzdWx0KT8oaC5leHBpcmF0aW9uPWIsZS5wdXQoaCksZi5yZXNvbHZlKCkpOmYucmVqZWN0KG5ldyBMKDIsOSw5MDEyLFwiQ291bGQgbm90IGZpbmQgdmFsdWVzIGZvciBcIithKSl9O3JldHVybiB0KGcsUHJvbWlzZS5hbGwoW2QucHJvbWlzZSgpLGZdKSwwKX0pfTtcblBvLnByb3RvdHlwZS5BYj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc7cmV0dXJuIEooZnVuY3Rpb24oaCl7aWYoMT09aC5hKXtiPVtdO2ZvcihjPTA7YzxhLnBlcmlvZHMubGVuZ3RoOysrYylkPWM9PWEucGVyaW9kcy5sZW5ndGgtMT9hLmR1cmF0aW9uOmEucGVyaW9kc1tjKzFdLnN0YXJ0VGltZSxlPWQtYS5wZXJpb2RzW2NdLnN0YXJ0VGltZSxmPVFvKGEucGVyaW9kc1tjXSxlKSxiLnB1c2goZik7cmV0dXJuIHQoaCxpbShiKSwyKX1nPWguYjtyZXR1cm4gaFtcInJldHVyblwiXSh7Y3JlYXRpb25UaW1lOjAsb3JpZ2luYWxNYW5pZmVzdFVyaTphLm9yaWdpbmFsTWFuaWZlc3RVcmksZHVyYXRpb246YS5kdXJhdGlvbixzaXplOmEuc2l6ZSxleHBpcmF0aW9uOm51bGw9PWEuZXhwaXJhdGlvbj9JbmZpbml0eTphLmV4cGlyYXRpb24sc3RyZWFtczpnLHNlc3Npb25JZHM6YS5zZXNzaW9uSWRzLGRybUluZm86YS5kcm1JbmZvLGFwcE1ldGFkYXRhOmEuYXBwTWV0YWRhdGF9KX0pfTtcbmZ1bmN0aW9uIFFvKGEsYil7Um8oYSk7Zm9yKHZhciBjPXEoYS5zdHJlYW1zKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSk7cmV0dXJuIGEuc3RyZWFtcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFNvKGUsYS5zdGFydFRpbWUsYil9KX1cbmZ1bmN0aW9uIFNvKGEsYixjKXt2YXIgZD1hLmluaXRTZWdtZW50VXJpP1RvKGEuaW5pdFNlZ21lbnRVcmkpOm51bGwsZT1iK2EucHJlc2VudGF0aW9uVGltZU9mZnNldCxmPWIrYztyZXR1cm57aWQ6YS5pZCxvcmlnaW5hbElkOm51bGwscHJpbWFyeTphLnByaW1hcnksdHlwZTphLmNvbnRlbnRUeXBlLG1pbWVUeXBlOmEubWltZVR5cGUsY29kZWNzOmEuY29kZWNzLGZyYW1lUmF0ZTphLmZyYW1lUmF0ZSxwaXhlbEFzcGVjdFJhdGlvOnZvaWQgMCxraW5kOmEua2luZCxsYW5ndWFnZTphLmxhbmd1YWdlLGxhYmVsOmEubGFiZWwsd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQsaW5pdFNlZ21lbnRLZXk6ZCxlbmNyeXB0ZWQ6YS5lbmNyeXB0ZWQsa2V5SWRzOm5ldyBTZXQoW2Eua2V5SWRdKSxzZWdtZW50czphLnNlZ21lbnRzLm1hcChmdW5jdGlvbihnKXt2YXIgaD1UbyhnLnVyaSk7cmV0dXJue3N0YXJ0VGltZTpiK2cuc3RhcnRUaW1lLGVuZFRpbWU6YitnLmVuZFRpbWUsZGF0YUtleTpoLFxuaW5pdFNlZ21lbnRLZXk6ZCxhcHBlbmRXaW5kb3dTdGFydDpiLGFwcGVuZFdpbmRvd0VuZDpmLHRpbWVzdGFtcE9mZnNldDplfX0pLHZhcmlhbnRJZHM6YS52YXJpYW50SWRzLHJvbGVzOltdLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsY2hhbm5lbHNDb3VudDpudWxsLGNsb3NlZENhcHRpb25zOm51bGx9fVBvLnByb3RvdHlwZS5zZD1mdW5jdGlvbihhKXtyZXR1cm57ZGF0YTphLmRhdGF9fTtmdW5jdGlvbiBUbyhhKXt2YXIgYjtpZigoYj0vXm9mZmxpbmU6WzAtOV0rXFwvWzAtOV0rXFwvKFswLTldKykkLy5leGVjKGEpKXx8KGI9L15vZmZsaW5lOnNlZ21lbnRcXC8oWzAtOV0rKSQvLmV4ZWMoYSkpKXJldHVybiBOdW1iZXIoYlsxXSk7dGhyb3cgbmV3IEwoMiw5LDkwMDQsXCJDb3VsZCBub3QgcGFyc2UgdXJpIFwiK2EpO31cbmZ1bmN0aW9uIFJvKGEpe3ZhciBiPWEuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24oaCl7cmV0dXJuXCJhdWRpb1wiPT1oLmNvbnRlbnRUeXBlfSk7YT1hLnN0cmVhbXMuZmlsdGVyKGZ1bmN0aW9uKGgpe3JldHVyblwidmlkZW9cIj09aC5jb250ZW50VHlwZX0pO2lmKCFiLmV2ZXJ5KGZ1bmN0aW9uKGgpe3JldHVybiBoLnZhcmlhbnRJZHN9KXx8IWEuZXZlcnkoZnVuY3Rpb24oaCl7cmV0dXJuIGgudmFyaWFudElkc30pKXtmb3IodmFyIGM9cShiKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlkLnZhbHVlLnZhcmlhbnRJZHM9W107Yz1xKGEpO2ZvcihkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlkLnZhbHVlLnZhcmlhbnRJZHM9W107Yz0wO2lmKGEubGVuZ3RoJiYhYi5sZW5ndGgpe3ZhciBlPWMrKyxmPXEoYSk7Zm9yKGQ9Zi5uZXh0KCk7IWQuZG9uZTtkPWYubmV4dCgpKWQudmFsdWUudmFyaWFudElkcy5wdXNoKGUpfWlmKCFhLmxlbmd0aCYmYi5sZW5ndGgpZm9yKGU9YysrLFxuZj1xKGIpLGQ9Zi5uZXh0KCk7IWQuZG9uZTtkPWYubmV4dCgpKWQudmFsdWUudmFyaWFudElkcy5wdXNoKGUpO2lmKGEubGVuZ3RoJiZiLmxlbmd0aClmb3IoYj1xKGIpLGQ9Yi5uZXh0KCk7IWQuZG9uZTtkPWIubmV4dCgpKWZvcihkPWQudmFsdWUsZT1xKGEpLGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKXtmPWYudmFsdWU7dmFyIGc9YysrO2QudmFyaWFudElkcy5wdXNoKGcpO2YudmFyaWFudElkcy5wdXNoKGcpfX19O2Z1bmN0aW9uIFVvKCl7Qm8uYXBwbHkodGhpcyxhcmd1bWVudHMpfXBhKFVvLEJvKTtcblVvLnByb3RvdHlwZS5BYj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc7cmV0dXJuIEooZnVuY3Rpb24oaCl7aWYoMT09aC5hKXtiPVtdO2ZvcihjPTA7YzxhLnBlcmlvZHMubGVuZ3RoOysrYyl7ZD1jPT1hLnBlcmlvZHMubGVuZ3RoLTE/YS5kdXJhdGlvbjphLnBlcmlvZHNbYysxXS5zdGFydFRpbWU7ZT1kLWEucGVyaW9kc1tjXS5zdGFydFRpbWU7Zm9yKHZhciBrPWEucGVyaW9kc1tjXSxsPVtdLG09cShrLnN0cmVhbXMpLG49bS5uZXh0KCk7IW4uZG9uZTtuPW0ubmV4dCgpKW49bi52YWx1ZSwwIT1uLnZhcmlhbnRJZHMubGVuZ3RoJiZsLnB1c2goVm8obixrLnN0YXJ0VGltZSxrLnN0YXJ0VGltZStlKSk7Zj1sO2IucHVzaChmKX1yZXR1cm4gdChoLGltKGIpLDIpfWc9aC5iO3JldHVybiBoW1wicmV0dXJuXCJdKHthcHBNZXRhZGF0YTphLmFwcE1ldGFkYXRhLGNyZWF0aW9uVGltZTowLGRybUluZm86YS5kcm1JbmZvLGR1cmF0aW9uOmEuZHVyYXRpb24sZXhwaXJhdGlvbjpudWxsPT1cbmEuZXhwaXJhdGlvbj9JbmZpbml0eTphLmV4cGlyYXRpb24sb3JpZ2luYWxNYW5pZmVzdFVyaTphLm9yaWdpbmFsTWFuaWZlc3RVcmksc2Vzc2lvbklkczphLnNlc3Npb25JZHMsc2l6ZTphLnNpemUsc3RyZWFtczpnfSl9KX07XG5mdW5jdGlvbiBWbyhhLGIsYyl7cmV0dXJue2lkOmEuaWQsb3JpZ2luYWxJZDphLm9yaWdpbmFsSWQscHJpbWFyeTphLnByaW1hcnksdHlwZTphLmNvbnRlbnRUeXBlLG1pbWVUeXBlOmEubWltZVR5cGUsY29kZWNzOmEuY29kZWNzLGZyYW1lUmF0ZTphLmZyYW1lUmF0ZSxwaXhlbEFzcGVjdFJhdGlvOmEucGl4ZWxBc3BlY3RSYXRpbyxraW5kOmEua2luZCxsYW5ndWFnZTphLmxhbmd1YWdlLGxhYmVsOmEubGFiZWwsd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQsZW5jcnlwdGVkOmEuZW5jcnlwdGVkLGtleUlkczpuZXcgU2V0KFthLmtleUlkXSksc2VnbWVudHM6YS5zZWdtZW50cy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJue3N0YXJ0VGltZTpiK2Quc3RhcnRUaW1lLGVuZFRpbWU6YitkLmVuZFRpbWUsaW5pdFNlZ21lbnRLZXk6YS5pbml0U2VnbWVudEtleSxhcHBlbmRXaW5kb3dTdGFydDpiLGFwcGVuZFdpbmRvd0VuZDpjLHRpbWVzdGFtcE9mZnNldDpiLWEucHJlc2VudGF0aW9uVGltZU9mZnNldCxcbmRhdGFLZXk6ZC5kYXRhS2V5fX0pLHZhcmlhbnRJZHM6YS52YXJpYW50SWRzLHJvbGVzOltdLGF1ZGlvU2FtcGxpbmdSYXRlOm51bGwsY2hhbm5lbHNDb3VudDpudWxsLGNsb3NlZENhcHRpb25zOm51bGx9fTtmdW5jdGlvbiBXbygpe0JvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1wYShXbyxCbyk7V28ucHJvdG90eXBlLmhhc0ZpeGVkS2V5U3BhY2U9ZnVuY3Rpb24oKXtyZXR1cm4hMX07V28ucHJvdG90eXBlLmFkZFNlZ21lbnRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZCh0aGlzLmMsYSl9O1dvLnByb3RvdHlwZS5hZGRNYW5pZmVzdHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKHRoaXMuYSxhKX07V28ucHJvdG90eXBlLkFiPWZ1bmN0aW9uKGEpe251bGw9PWEuZXhwaXJhdGlvbiYmKGEuZXhwaXJhdGlvbj1JbmZpbml0eSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07ZnVuY3Rpb24gWG8oKXt0aGlzLmg9dGhpcy5mPXRoaXMuYz10aGlzLmI9dGhpcy5hPXRoaXMuZz1udWxsfXA9WG8ucHJvdG90eXBlO1xucC5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPW5ldyBBYixjPXdpbmRvdy5pbmRleGVkREIub3BlbihcInNoYWthX29mZmxpbmVfZGJcIiw1KTtjLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3ZhciBkPWMucmVzdWx0O2EuZz1kO3ZhciBlPWQub2JqZWN0U3RvcmVOYW1lcztlPWUuY29udGFpbnMoXCJtYW5pZmVzdFwiKSYmZS5jb250YWlucyhcInNlZ21lbnRcIik/bmV3IFBvKGQsXCJzZWdtZW50XCIsXCJtYW5pZmVzdFwiKTpudWxsO2EuYT1lO2U9ZC5vYmplY3RTdG9yZU5hbWVzO2U9ZS5jb250YWlucyhcIm1hbmlmZXN0LXYyXCIpJiZlLmNvbnRhaW5zKFwic2VnbWVudC12MlwiKT9uZXcgVW8oZCxcInNlZ21lbnQtdjJcIixcIm1hbmlmZXN0LXYyXCIpOm51bGw7YS5iPWU7ZT1kLm9iamVjdFN0b3JlTmFtZXM7ZT1lLmNvbnRhaW5zKFwibWFuaWZlc3QtdjNcIikmJmUuY29udGFpbnMoXCJzZWdtZW50LXYzXCIpP25ldyBVbyhkLFwic2VnbWVudC12M1wiLFwibWFuaWZlc3QtdjNcIik6bnVsbDthLmM9ZTtlPWQub2JqZWN0U3RvcmVOYW1lcztcbmU9ZS5jb250YWlucyhcIm1hbmlmZXN0LXY1XCIpJiZlLmNvbnRhaW5zKFwic2VnbWVudC12NVwiKT9uZXcgV28oZCxcInNlZ21lbnQtdjVcIixcIm1hbmlmZXN0LXY1XCIpOm51bGw7YS5mPWU7ZD1kLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoXCJzZXNzaW9uLWlkc1wiKT9uZXcgRm8oZCk6bnVsbDthLmg9ZDtiLnJlc29sdmUoKX07Yy5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGQ9Yy5yZXN1bHQsZT1xKFtcInNlZ21lbnQtdjVcIixcIm1hbmlmZXN0LXY1XCIsXCJzZXNzaW9uLWlkc1wiXSksZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpZj1mLnZhbHVlLGQub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhmKXx8ZC5jcmVhdGVPYmplY3RTdG9yZShmLHthdXRvSW5jcmVtZW50OiEwfSl9O2Mub25lcnJvcj1mdW5jdGlvbihkKXtiLnJlamVjdChuZXcgTCgyLDksOTAwMSxjLmVycm9yKSk7ZC5wcmV2ZW50RGVmYXVsdCgpfTtyZXR1cm4gYn07XG5wLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBKKGZ1bmN0aW9uKGIpe3N3aXRjaChiLmEpe2Nhc2UgMTppZighYS5hKXtiLnUoMik7YnJlYWt9cmV0dXJuIHQoYixhLmEuZGVzdHJveSgpLDIpO2Nhc2UgMjppZighYS5iKXtiLnUoNCk7YnJlYWt9cmV0dXJuIHQoYixhLmIuZGVzdHJveSgpLDQpO2Nhc2UgNDppZighYS5jKXtiLnUoNik7YnJlYWt9cmV0dXJuIHQoYixhLmMuZGVzdHJveSgpLDYpO2Nhc2UgNjppZighYS5mKXtiLnUoOCk7YnJlYWt9cmV0dXJuIHQoYixhLmYuZGVzdHJveSgpLDgpO2Nhc2UgODppZighYS5oKXtiLnUoMTApO2JyZWFrfXJldHVybiB0KGIsYS5oLmRlc3Ryb3koKSwxMCk7Y2FzZSAxMDphLmcmJmEuZy5jbG9zZSgpLHcoYil9fSl9O1xucC5nZXRDZWxscz1mdW5jdGlvbigpe3ZhciBhPW5ldyBNYXA7dGhpcy5hJiZhLnNldChcInYxXCIsdGhpcy5hKTt0aGlzLmImJmEuc2V0KFwidjJcIix0aGlzLmIpO3RoaXMuYyYmYS5zZXQoXCJ2M1wiLHRoaXMuYyk7dGhpcy5mJiZhLnNldChcInY1XCIsdGhpcy5mKTtyZXR1cm4gYX07cC5nZXRFbWVTZXNzaW9uQ2VsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9O1xucC5lcmFzZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEooZnVuY3Rpb24oYil7c3dpdGNoKGIuYSl7Y2FzZSAxOmlmKCFhLmEpe2IudSgyKTticmVha31yZXR1cm4gdChiLGEuYS5kZXN0cm95KCksMik7Y2FzZSAyOmlmKCFhLmIpe2IudSg0KTticmVha31yZXR1cm4gdChiLGEuYi5kZXN0cm95KCksNCk7Y2FzZSA0OmlmKCFhLmMpe2IudSg2KTticmVha31yZXR1cm4gdChiLGEuYy5kZXN0cm95KCksNik7Y2FzZSA2OmlmKCFhLmYpe2IudSg4KTticmVha31yZXR1cm4gdChiLGEuZi5kZXN0cm95KCksOCk7Y2FzZSA4OnJldHVybiBhLmcmJmEuZy5jbG9zZSgpLHQoYixZbygpLDEwKTtjYXNlIDEwOnJldHVybiBhLmc9bnVsbCxhLmE9bnVsbCxhLmI9bnVsbCxhLmM9bnVsbCxhLmY9bnVsbCx0KGIsYS5pbml0KCksMCl9fSl9O1xuZnVuY3Rpb24gWW8oKXt2YXIgYT1uZXcgQWIsYj13aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKFwic2hha2Ffb2ZmbGluZV9kYlwiKTtiLm9uYmxvY2tlZD1mdW5jdGlvbigpe307Yi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXthLnJlc29sdmUoKX07Yi5vbmVycm9yPWZ1bmN0aW9uKGMpe2EucmVqZWN0KG5ldyBMKDIsOSw5MDAxLGIuZXJyb3IpKTtjLnByZXZlbnREZWZhdWx0KCl9O3JldHVybiBhfU9vKFwiaWRiXCIsZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmluZGV4ZWREQj9uZXcgWG86bnVsbH0pO2Z1bmN0aW9uIFpvKGEsYixjLGQpe3RoaXMuYT1hO3RoaXMuZz1iO3RoaXMuZj1jO3RoaXMuYz1kO3RoaXMuYj1bXCJvZmZsaW5lOlwiLGEsXCIvXCIsYixcIi9cIixjLFwiL1wiLGRdLmpvaW4oXCJcIil9Wm8ucHJvdG90eXBlLnZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307Wm8ucHJvdG90eXBlLmJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07Wm8ucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1pvLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O1xuZnVuY3Rpb24gJG8oYSl7YT0vXm9mZmxpbmU6KFthLXpdKylcXC8oW14vXSspXFwvKFteL10rKVxcLyhbMC05XSspJC8uZXhlYyhhKTtpZihudWxsPT1hKXJldHVybiBudWxsO3ZhciBiPWFbMV07aWYoXCJtYW5pZmVzdFwiIT1iJiZcInNlZ21lbnRcIiE9YilyZXR1cm4gbnVsbDt2YXIgYz1hWzJdO2lmKCFjKXJldHVybiBudWxsO3ZhciBkPWFbM107cmV0dXJuIGQmJm51bGwhPWI/bmV3IFpvKGIsYyxkLE51bWJlcihhWzRdKSk6bnVsbH07ZnVuY3Rpb24gYXAoYSxiKXt0aGlzLmI9YTt0aGlzLmE9Yn1cbmZ1bmN0aW9uIGJwKGEsYil7dmFyIGM9bmV3IFMobnVsbCwwKTtjLnhhKGIuZHVyYXRpb24pO3ZhciBkPWIuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24oayl7cmV0dXJuXCJhdWRpb1wiPT1rLnR5cGV9KSxlPWIuc3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24oayl7cmV0dXJuXCJ2aWRlb1wiPT1rLnR5cGV9KTtkPWNwKGEsZCxlLGMpO2U9Yi5zdHJlYW1zLmZpbHRlcihmdW5jdGlvbihrKXtyZXR1cm5cInRleHRcIj09ay50eXBlfSkubWFwKGZ1bmN0aW9uKGspe3JldHVybiBkcChhLGssYyl9KTt2YXIgZj1iLmRybUluZm8/W2IuZHJtSW5mb106W107aWYoYi5kcm1JbmZvKWZvcih2YXIgZz1xKGQudmFsdWVzKCkpLGg9Zy5uZXh0KCk7IWguZG9uZTtoPWcubmV4dCgpKWg9aC52YWx1ZSxoLmF1ZGlvJiZoLmF1ZGlvLmVuY3J5cHRlZCYmKGguYXVkaW8uZHJtSW5mb3M9ZiksaC52aWRlbyYmaC52aWRlby5lbmNyeXB0ZWQmJihoLnZpZGVvLmRybUluZm9zPWYpO3JldHVybntwcmVzZW50YXRpb25UaW1lbGluZTpjLFxubWluQnVmZmVyVGltZToyLG9mZmxpbmVTZXNzaW9uSWRzOmIuc2Vzc2lvbklkcyx2YXJpYW50czpBcnJheS5mcm9tKGQudmFsdWVzKCkpLHRleHRTdHJlYW1zOmV9fVxuZnVuY3Rpb24gY3AoYSxiLGMsZCl7Zm9yKHZhciBlPW5ldyBTZXQsZj1xKGIpLGc9Zi5uZXh0KCk7IWcuZG9uZTtnPWYubmV4dCgpKXt2YXIgaD1xKGcudmFsdWUudmFyaWFudElkcyk7Zm9yKGc9aC5uZXh0KCk7IWcuZG9uZTtnPWgubmV4dCgpKWUuYWRkKGcudmFsdWUpfWY9cShjKTtmb3IoZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpZm9yKGg9cShnLnZhbHVlLnZhcmlhbnRJZHMpLGc9aC5uZXh0KCk7IWcuZG9uZTtnPWgubmV4dCgpKWUuYWRkKGcudmFsdWUpO2Y9bmV3IE1hcDtlPXEoZSk7Zm9yKGc9ZS5uZXh0KCk7IWcuZG9uZTtnPWUubmV4dCgpKWc9Zy52YWx1ZSxmLnNldChnLHtpZDpnLGxhbmd1YWdlOlwiXCIscHJpbWFyeTohMSxhdWRpbzpudWxsLHZpZGVvOm51bGwsYmFuZHdpZHRoOjAsYWxsb3dlZEJ5QXBwbGljYXRpb246ITAsYWxsb3dlZEJ5S2V5U3lzdGVtOiEwfSk7Yj1xKGIpO2ZvcihlPWIubmV4dCgpOyFlLmRvbmU7ZT1iLm5leHQoKSlmb3IoZT1lLnZhbHVlLFxuZz1kcChhLGUsZCksaD1xKGUudmFyaWFudElkcyksZT1oLm5leHQoKTshZS5kb25lO2U9aC5uZXh0KCkpZT1mLmdldChlLnZhbHVlKSxlLmxhbmd1YWdlPWcubGFuZ3VhZ2UsZS5wcmltYXJ5PWUucHJpbWFyeXx8Zy5wcmltYXJ5LGUuYXVkaW89ZztjPXEoYyk7Zm9yKGI9Yy5uZXh0KCk7IWIuZG9uZTtiPWMubmV4dCgpKWZvcihlPWIudmFsdWUsYj1kcChhLGUsZCksZz1xKGUudmFyaWFudElkcyksZT1nLm5leHQoKTshZS5kb25lO2U9Zy5uZXh0KCkpZT1mLmdldChlLnZhbHVlKSxlLnByaW1hcnk9ZS5wcmltYXJ5fHxiLnByaW1hcnksZS52aWRlbz1iO3JldHVybiBmfVxuZnVuY3Rpb24gZHAoYSxiLGMpe3ZhciBkPWIuc2VnbWVudHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlcChhLGUpfSk7Yy5tYihkKTtyZXR1cm57aWQ6Yi5pZCxvcmlnaW5hbElkOmIub3JpZ2luYWxJZCxjcmVhdGVTZWdtZW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LHNlZ21lbnRJbmRleDpuZXcgVChkKSxtaW1lVHlwZTpiLm1pbWVUeXBlLGNvZGVjczpiLmNvZGVjcyx3aWR0aDpiLndpZHRofHx2b2lkIDAsaGVpZ2h0OmIuaGVpZ2h0fHx2b2lkIDAsZnJhbWVSYXRlOmIuZnJhbWVSYXRlLHBpeGVsQXNwZWN0UmF0aW86Yi5waXhlbEFzcGVjdFJhdGlvLGtpbmQ6Yi5raW5kLGVuY3J5cHRlZDpiLmVuY3J5cHRlZCxkcm1JbmZvczpbXSxrZXlJZHM6Yi5rZXlJZHMsbGFuZ3VhZ2U6Yi5sYW5ndWFnZSxsYWJlbDpiLmxhYmVsLHR5cGU6Yi50eXBlLHByaW1hcnk6Yi5wcmltYXJ5LHRyaWNrTW9kZVZpZGVvOm51bGwsZW1zZ1NjaGVtZUlkVXJpczpudWxsLFxucm9sZXM6Yi5yb2xlcyxjaGFubmVsc0NvdW50OmIuY2hhbm5lbHNDb3VudCxhdWRpb1NhbXBsaW5nUmF0ZTpiLmF1ZGlvU2FtcGxpbmdSYXRlLGNsb3NlZENhcHRpb25zOmIuY2xvc2VkQ2FwdGlvbnN9fWZ1bmN0aW9uIGVwKGEsYil7dmFyIGM9bmV3IFpvKFwic2VnbWVudFwiLGEuYixhLmEsYi5kYXRhS2V5KTtyZXR1cm4gbmV3IFBmKGIuc3RhcnRUaW1lLGIuZW5kVGltZSxmdW5jdGlvbigpe3JldHVybltjLnRvU3RyaW5nKCldfSwwLG51bGwsbnVsbCE9Yi5pbml0U2VnbWVudEtleT9mcChhLGIuaW5pdFNlZ21lbnRLZXkpOm51bGwsYi50aW1lc3RhbXBPZmZzZXQsYi5hcHBlbmRXaW5kb3dTdGFydCxiLmFwcGVuZFdpbmRvd0VuZCl9ZnVuY3Rpb24gZnAoYSxiKXt2YXIgYz1uZXcgWm8oXCJzZWdtZW50XCIsYS5iLGEuYSxiKTtyZXR1cm4gbmV3IE9mKGZ1bmN0aW9uKCl7cmV0dXJuW2MudG9TdHJpbmcoKV19LDAsbnVsbCl9O2Z1bmN0aW9uIGdwKCl7dGhpcy5hPW51bGx9cD1ncC5wcm90b3R5cGU7cC5jb25maWd1cmU9ZnVuY3Rpb24oKXt9O3Auc3RhcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQsZSxmLGcsaDtyZXR1cm4gSihmdW5jdGlvbihrKXtzd2l0Y2goay5hKXtjYXNlIDE6Yz0kbyhhKTtiLmE9YztpZihudWxsPT1jfHxcIm1hbmlmZXN0XCIhPWMuYSl0aHJvdyBuZXcgTCgyLDEsOTAwNCxhKTtkPW5ldyBHbzt0YShrKTtyZXR1cm4gdChrLGQuaW5pdCgpLDQpO2Nhc2UgNDpyZXR1cm4gdChrLEtvKGQsYy52YSgpLGMuYmEoKSksNSk7Y2FzZSA1OnJldHVybiBlPWsuYix0KGssZS5nZXRNYW5pZmVzdHMoW2Mua2V5KCldKSw2KTtjYXNlIDY6cmV0dXJuIGY9ay5iLGc9ZlswXSxoPW5ldyBhcChjLnZhKCksYy5iYSgpKSxrW1wicmV0dXJuXCJdKGJwKGgsZykpO2Nhc2UgMjpyZXR1cm4gdmEoayksdChrLGQuZGVzdHJveSgpLDcpO2Nhc2UgNzp3YShrLDApfX0pfTtwLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O1xucC51cGRhdGU9ZnVuY3Rpb24oKXt9O3Aub25FeHBpcmF0aW9uVXBkYXRlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZCxlLGYsZyxoLGssbDtyZXR1cm4gSihmdW5jdGlvbihtKXtzd2l0Y2gobS5hKXtjYXNlIDE6cmV0dXJuIGQ9Yy5hLGU9bmV3IEdvLHgobSwyLDMpLHQobSxlLmluaXQoKSw1KTtjYXNlIDU6cmV0dXJuIHQobSxLbyhlLGQudmEoKSxkLmJhKCkpLDYpO2Nhc2UgNjpyZXR1cm4gZj1tLmIsdChtLGYuZ2V0TWFuaWZlc3RzKFtkLmtleSgpXSksNyk7Y2FzZSA3Omc9bS5iO2g9Z1swXTtrPWguc2Vzc2lvbklkcy5pbmNsdWRlcyhhKTtsPXZvaWQgMD09aC5leHBpcmF0aW9ufHxoLmV4cGlyYXRpb24+YjtpZigha3x8IWwpe20udSgzKTticmVha31yZXR1cm4gdChtLGYudXBkYXRlTWFuaWZlc3RFeHBpcmF0aW9uKGQua2V5KCksYiksMyk7Y2FzZSAzOnJldHVybiB2YShtKSx0KG0sZS5kZXN0cm95KCksMTApO2Nhc2UgMTA6d2EobSwwKTticmVhaztjYXNlIDI6QyhtKSxtLnUoMyl9fSl9O1xuS2ZbXCJhcHBsaWNhdGlvbi94LW9mZmxpbmUtbWFuaWZlc3RcIl09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGdwfTtmdW5jdGlvbiBocCgpe31mdW5jdGlvbiBpcChhKXt2YXIgYj0kbyhhKTtiJiZcIm1hbmlmZXN0XCI9PWIuYT8oYT17dXJpOmEsSWQ6YSxkYXRhOm5ldyBBcnJheUJ1ZmZlcigwKSxoZWFkZXJzOntcImNvbnRlbnQtdHlwZVwiOlwiYXBwbGljYXRpb24veC1vZmZsaW5lLW1hbmlmZXN0XCJ9fSxhPUViKGEpKTphPWImJlwic2VnbWVudFwiPT1iLmE/anAoYi5rZXkoKSxiKTpDYihuZXcgTCgyLDEsOTAwNCxhKSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBqcChhLGIpe3ZhciBjPW5ldyBHbztyZXR1cm4gRWIodm9pZCAwKS5VKGZ1bmN0aW9uKCl7cmV0dXJuIGMuaW5pdCgpfSkuVShmdW5jdGlvbigpe3JldHVybiBLbyhjLGIudmEoKSxiLmJhKCkpfSkuVShmdW5jdGlvbihkKXtyZXR1cm4gZC5nZXRTZWdtZW50cyhbYi5rZXkoKV0pfSkuVShmdW5jdGlvbihkKXtyZXR1cm57dXJpOmIsZGF0YTpkWzBdLmRhdGEsaGVhZGVyczp7fX19KVtcImZpbmFsbHlcIl0oZnVuY3Rpb24oKXtyZXR1cm4gYy5kZXN0cm95KCl9KX1LKFwic2hha2Eub2ZmbGluZS5PZmZsaW5lU2NoZW1lXCIsaHApO2hwLnBsdWdpbj1pcDskYihcIm9mZmxpbmVcIixpcCk7ZnVuY3Rpb24ga3AoYSxiLGMpe3ZhciBkLGUsZixnLGgsaztyZXR1cm4gSihmdW5jdGlvbihsKXtzd2l0Y2gobC5hKXtjYXNlIDE6ZD1bXTtmb3IodmFyIG09W10sbj1xKGMpLHI9bi5uZXh0KCk7IXIuZG9uZTtyPW4ubmV4dCgpKXtyPXIudmFsdWU7Zm9yKHZhciB1PSExLHY9cShtKSx5PXYubmV4dCgpOyF5LmRvbmU7eT12Lm5leHQoKSlpZih5PXkudmFsdWUsbHAoeS5pbmZvLHIpKXt5LnNlc3Npb25JZHMucHVzaChyLnNlc3Npb25JZCk7dT0hMDticmVha311fHxtLnB1c2goe2luZm86cixzZXNzaW9uSWRzOltyLnNlc3Npb25JZF19KX1lPXEobSk7Zj1lLm5leHQoKTtjYXNlIDI6aWYoZi5kb25lKXtsLnUoNCk7YnJlYWt9Zz1mLnZhbHVlO2g9bXAoYSxiLGcpO3JldHVybiB0KGwsaCw1KTtjYXNlIDU6az1sLmI7ZD1kLmNvbmNhdChrKTtmPWUubmV4dCgpO2wudSgyKTticmVhaztjYXNlIDQ6cmV0dXJuIGxbXCJyZXR1cm5cIl0oZCl9fSl9XG5mdW5jdGlvbiBtcChhLGIsYyl7dmFyIGQsZTtyZXR1cm4gSihmdW5jdGlvbihmKXtzd2l0Y2goZi5hKXtjYXNlIDE6cmV0dXJuIGQ9bmV3IGpkKHtsYjpiLG9uRXJyb3I6ZnVuY3Rpb24oKXt9LGljOmZ1bmN0aW9uKCl7fSxvbkV4cGlyYXRpb25VcGRhdGVkOmZ1bmN0aW9uKCl7fSxvbkV2ZW50OmZ1bmN0aW9uKCl7fX0pLHgoZiwyKSxkLmNvbmZpZ3VyZShhKSx0KGYscmQoZCxjLmluZm8ua2V5U3lzdGVtLGMuaW5mby5saWNlbnNlVXJpLGMuaW5mby5zZXJ2ZXJDZXJ0aWZpY2F0ZSxjLmluZm8uYXVkaW9DYXBhYmlsaXRpZXMsYy5pbmZvLnZpZGVvQ2FwYWJpbGl0aWVzKSw0KTtjYXNlIDQ6dWEoZiwzKTticmVhaztjYXNlIDI6cmV0dXJuIEMoZiksdChmLGQuZGVzdHJveSgpLDUpO2Nhc2UgNTpyZXR1cm4gZltcInJldHVyblwiXShbXSk7Y2FzZSAzOnJldHVybiB4KGYsNiksdChmLHlkKGQpLDgpO2Nhc2UgODp1YShmLDcpO2JyZWFrO2Nhc2UgNjpyZXR1cm4gQyhmKSx0KGYsZC5kZXN0cm95KCksXG45KTtjYXNlIDk6cmV0dXJuIGZbXCJyZXR1cm5cIl0oW10pO2Nhc2UgNzpyZXR1cm4gZT1bXSx0KGYsUHJvbWlzZS5hbGwoYy5zZXNzaW9uSWRzLm1hcChmdW5jdGlvbihnKXtyZXR1cm4gSihmdW5jdGlvbihoKXtpZigxPT1oLmEpcmV0dXJuIHgoaCwyKSx0KGgsQmQoZCxnKSw0KTtpZigyIT1oLmEpcmV0dXJuIGUucHVzaChnKSx1YShoLDApO0MoaCk7dyhoKX0pfSkpLDEwKTtjYXNlIDEwOnJldHVybiB0KGYsZC5kZXN0cm95KCksMTEpO2Nhc2UgMTE6cmV0dXJuIGZbXCJyZXR1cm5cIl0oZSl9fSl9XG5mdW5jdGlvbiBscChhLGIpe2Z1bmN0aW9uIGMoZCxlKXtyZXR1cm4gZC5yb2J1c3RuZXNzPT1lLnJvYnVzdG5lc3MmJmQuY29udGVudFR5cGU9PWUuY29udGVudFR5cGV9cmV0dXJuIGEua2V5U3lzdGVtPT1iLmtleVN5c3RlbSYmYS5saWNlbnNlVXJpPT1iLmxpY2Vuc2VVcmkmJldiKGEuYXVkaW9DYXBhYmlsaXRpZXMsYi5hdWRpb0NhcGFiaWxpdGllcyxjKSYmV2IoYS52aWRlb0NhcGFiaWxpdGllcyxiLnZpZGVvQ2FwYWJpbGl0aWVzLGMpfTtmdW5jdGlvbiBucChhLGIsYyl7dmFyIGQ9Yi5wcmVzZW50YXRpb25UaW1lbGluZS5nZXREdXJhdGlvbigpO2I9b3AoYik7cmV0dXJue29mZmxpbmVVcmk6bnVsbCxvcmlnaW5hbE1hbmlmZXN0VXJpOmEsZHVyYXRpb246ZCxzaXplOjAsZXhwaXJhdGlvbjpJbmZpbml0eSx0cmFja3M6YixhcHBNZXRhZGF0YTpjfX1mdW5jdGlvbiBwcChhLGIpe3ZhciBjPWJwKG5ldyBhcChhLnZhKCksYS5iYSgpKSxiKSxkPWIuYXBwTWV0YWRhdGF8fHt9O2M9b3AoYyk7cmV0dXJue29mZmxpbmVVcmk6YS50b1N0cmluZygpLG9yaWdpbmFsTWFuaWZlc3RVcmk6Yi5vcmlnaW5hbE1hbmlmZXN0VXJpLGR1cmF0aW9uOmIuZHVyYXRpb24sc2l6ZTpiLnNpemUsZXhwaXJhdGlvbjpiLmV4cGlyYXRpb24sdHJhY2tzOmMsYXBwTWV0YWRhdGE6ZH19XG5mdW5jdGlvbiBvcChhKXt2YXIgYj1bXSxjPXFmKGEudmFyaWFudHMpO2M9cShjKTtmb3IodmFyIGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWIucHVzaChqZihkLnZhbHVlKSk7YT1xKGEudGV4dFN0cmVhbXMpO2ZvcihjPWEubmV4dCgpOyFjLmRvbmU7Yz1hLm5leHQoKSliLnB1c2goa2YoYy52YWx1ZSkpO3JldHVybiBifTtmdW5jdGlvbiBxcCgpe3RoaXMuYT17fX1mdW5jdGlvbiBycChhLGIsYyl7Yz1jLmVuZFRpbWUtYy5zdGFydFRpbWU7cmV0dXJuIHNwKGEsYikqY31mdW5jdGlvbiBzcChhLGIpe3ZhciBjPWEuYVtiXTtudWxsPT1jJiYoYz0wKTtyZXR1cm4gY307ZnVuY3Rpb24gdHAoYSxiLGMpe2EudmFyaWFudHM9YS52YXJpYW50cy5maWx0ZXIoZnVuY3Rpb24oZCl7cmV0dXJuIGZmKGQsYixjKX0pfWZ1bmN0aW9uIHVwKGEpe2EudmFyaWFudHM9YS52YXJpYW50cy5maWx0ZXIoZnVuY3Rpb24oYil7dmFyIGM9ITA7Yi5hdWRpbyYmKGM9YyYmSGUoYi5hdWRpbykpO2IudmlkZW8mJihjPWMmJkhlKGIudmlkZW8pKTtyZXR1cm4gY30pfWZ1bmN0aW9uIHZwKGEsYil7YS52YXJpYW50cz1hLnZhcmlhbnRzLmZpbHRlcihmdW5jdGlvbihjKXtyZXR1cm4gUmQoYixjKX0pfTtmdW5jdGlvbiB3cChhKXt2YXIgYj10aGlzO2lmKGEmJmEuY29uc3RydWN0b3IhPVYpdGhyb3cgbmV3IEwoMiw5LDkwMDgpO3RoaXMuTj10aGlzLmk9bnVsbDthPyh0aGlzLmk9YS5pLHRoaXMuTj1hLkRiKCkpOih0aGlzLmk9SWgoKSx0aGlzLk49bmV3IFpiKTt0aGlzLm1jPVtdO3RoaXMuSmI9W107dGhpcy5ZYz1bXTt0aGlzLmE9bmV3IE1hcDt0aGlzLmEuc2V0KG51bGwsUHJvbWlzZS5yZXNvbHZlKG51bGwpKTt0aGlzLmI9bmV3IE1hcDt2YXIgYz0hYTt0aGlzLkQ9bmV3IGpjKGZ1bmN0aW9uKCl7dmFyIGQsZSxmLGcsaDtyZXR1cm4gSihmdW5jdGlvbihrKXtzd2l0Y2goay5hKXtjYXNlIDE6cmV0dXJuIHQoayxQcm9taXNlLmFsbChiLlljLm1hcChmdW5jdGlvbihsKXtyZXR1cm4gcm8obCl9KSksMik7Y2FzZSAyOmQ9ZnVuY3Rpb24oKXt9O2U9W107Zj1xKGIuSmIpO2ZvcihnPWYubmV4dCgpOyFnLmRvbmU7Zz1mLm5leHQoKSloPWcudmFsdWUsZS5wdXNoKGgudGhlbihkLGQpKTtcbnJldHVybiB0KGssUHJvbWlzZS5hbGwoZSksMyk7Y2FzZSAzOmlmKCFjKXtrLnUoNCk7YnJlYWt9cmV0dXJuIHQoayxiLk4uZGVzdHJveSgpLDQpO2Nhc2UgNDpiLmk9bnVsbCxiLk49bnVsbCx3KGspfX0pfSl9ZnVuY3Rpb24geHAoKXtpZihWYygpKWE6e3ZhciBhPXEoSG8udmFsdWVzKCkpO2Zvcih2YXIgYj1hLm5leHQoKTshYi5kb25lO2I9YS5uZXh0KCkpaWYoYj1iLnZhbHVlLGI9YigpKXtiLmRlc3Ryb3koKTthPSEwO2JyZWFrIGF9YT0hMX1lbHNlIGE9ITE7cmV0dXJuIGF9cD13cC5wcm90b3R5cGU7cC5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRC5kZXN0cm95KCl9O1xucC5jb25maWd1cmU9ZnVuY3Rpb24oYSxiKXsyPT1hcmd1bWVudHMubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9R2goYSxiKSk7YS5tYW5pZmVzdCYmYS5tYW5pZmVzdC5kYXNoJiZcImRlZmF1bHRQcmVzZW50YXRpb25EZWxheVwiaW4gYS5tYW5pZmVzdC5kYXNoJiYoRGMoXCJtYW5pZmVzdC5kYXNoLmRlZmF1bHRQcmVzZW50YXRpb25EZWxheSBjb25maWd1cmF0aW9uXCIsXCJQbGVhc2UgVXNlIG1hbmlmZXN0LmRlZmF1bHRQcmVzZW50YXRpb25EZWxheSBpbnN0ZWFkLlwiKSxhLm1hbmlmZXN0LmRlZmF1bHRQcmVzZW50YXRpb25EZWxheT1hLm1hbmlmZXN0LmRhc2guZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5LGRlbGV0ZSBhLm1hbmlmZXN0LmRhc2guZGVmYXVsdFByZXNlbnRhdGlvbkRlbGF5KTtyZXR1cm4gS2godGhpcy5pLGEpfTtwLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXt2YXIgYT1JaCgpO0toKGEsdGhpcy5pLEloKCkpO3JldHVybiBhfTtwLkRiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTn07XG5wLnN0b3JlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9dGhpcy5nZXRDb25maWd1cmF0aW9uKCksZj1uZXcgcG8odGhpcy5OKTt0aGlzLlljLnB1c2goZik7Yj15cCh0aGlzLGEsYnx8e30sZnVuY3Rpb24oKXt2YXIgaDtyZXR1cm4gSihmdW5jdGlvbihrKXtpZigxPT1rLmEpcmV0dXJuIHQoayxKZihhLGQuTixlLm1hbmlmZXN0LnJldHJ5UGFyYW1ldGVycyxjfHxudWxsKSwyKTtoPWsuYjtyZXR1cm4ga1tcInJldHVyblwiXShLYyhoKSl9KX0sZSxmKTt2YXIgZz1uZXcgQmIoYixmdW5jdGlvbigpe3JldHVybiBybyhmKX0pO2dbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7VmIoZC5ZYyxmKX0pO2cudGhlbj1mdW5jdGlvbihoKXtEYyhcInNoYWthLm9mZmxpbmUuU3RvcmFnZS5zdG9yZS50aGVuXCIsXCJTdG9yYWdlIG9wZXJhdGlvbnMgbm93IHJldHVybiBhIHNoYWthLnV0aWwuQWJvcnRhYmxlT3BlcmF0aW9uLCByYXRoZXIgdGhhbiBhIHByb21pc2UuICBQbGVhc2UgdXBkYXRlIHRvIGNvbmZvcm0gdG8gdGhpcyBuZXcgQVBJOyB5b3UgY2FuIHVzZSB0aGUgfGNoYWlufCBtZXRob2QgaW5zdGVhZC5cIik7XG5yZXR1cm4gZy5wcm9taXNlLnRoZW4oaCl9O3JldHVybiB6cCh0aGlzLGcpfTtwLndlPWZ1bmN0aW9uKCl7RGMoXCJzaGFrYS5vZmZsaW5lLlN0b3JhZ2UuZ2V0U3RvcmVJblByb2dyZXNzXCIsXCJNdWx0aXBsZSBjb25jdXJyZW50IGRvd25sb2FkcyBhcmUgbm93IHN1cHBvcnRlZC5cIik7cmV0dXJuITF9O1xuZnVuY3Rpb24geXAoYSxiLGMsZCxlLGYpe3ZhciBnLGgsayxsLG0sbixyLHUsdix5LHo7cmV0dXJuIEooZnVuY3Rpb24oQSl7c3dpdGNoKEEuYSl7Y2FzZSAxOnJldHVybiBBcCgpLGg9Zz1udWxsLGs9bmV3IEdvLG09bD1udWxsLHgoQSwyLDMpLHQoQSxkKCksNSk7Y2FzZSA1OnJldHVybiBnPUEuYix0KEEsQnAoYSxiLGcsZSksNik7Y2FzZSA2Om49QS5iO0NwKGEpO3I9IW4ucHJlc2VudGF0aW9uVGltZWxpbmUuUygpJiYhbi5wcmVzZW50YXRpb25UaW1lbGluZS5UYSgpO2lmKCFyKXRocm93IG5ldyBMKDIsOSw5MDA1LGIpO3JldHVybiB0KEEsRHAoYSxuLGZ1bmN0aW9uKEQpe209bXx8RH0sZSksNyk7Y2FzZSA3Omg9QS5iO0NwKGEpO2lmKG0pdGhyb3cgbTtyZXR1cm4gdChBLGEuZmIobixoLGUpLDgpO2Nhc2UgODpyZXR1cm4gdChBLGsuaW5pdCgpLDkpO2Nhc2UgOTpyZXR1cm4gQ3AoYSksdChBLElvKGspLDEwKTtjYXNlIDEwOnJldHVybiBsPUEuYixDcChhKSx0KEEsRXAoYSxsLmJhLFxuaCxuLGIsYyxlLGYpLDExKTtjYXNlIDExOnU9QS5iO0NwKGEpO2lmKG0pdGhyb3cgbTtyZXR1cm4gdChBLGwuYmEuYWRkTWFuaWZlc3RzKFt1XSksMTIpO2Nhc2UgMTI6cmV0dXJuIHY9QS5iLENwKGEpLHk9bmV3IFpvKFwibWFuaWZlc3RcIixsLnBhdGgudmEsbC5wYXRoLmJhLHZbMF0pLEFbXCJyZXR1cm5cIl0ocHAoeSx1KSk7Y2FzZSAzOnJldHVybiB2YShBKSxhLm1jPVtdLHQoQSxrLmRlc3Ryb3koKSwxMyk7Y2FzZSAxMzppZighZyl7QS51KDE0KTticmVha31yZXR1cm4gdChBLGcuc3RvcCgpLDE0KTtjYXNlIDE0OmlmKCFoKXtBLnUoMTYpO2JyZWFrfXJldHVybiB0KEEsaC5kZXN0cm95KCksMTYpO2Nhc2UgMTY6d2EoQSwwKTticmVhaztjYXNlIDI6ej1DKEEpO2lmKCFsKXtBLnUoMTgpO2JyZWFrfXJldHVybiB0KEEsbC5iYS5yZW1vdmVTZWdtZW50cyhhLm1jLGZ1bmN0aW9uKCl7fSksMTgpO2Nhc2UgMTg6dGhyb3cgbXx8ejt9fSl9XG5wLmZiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGssbCxtLG4scix1LHYseSx6LEE7cmV0dXJuIEooZnVuY3Rpb24oRCl7aWYoMT09RC5hKXtkPXt3aWR0aDpJbmZpbml0eSxoZWlnaHQ6SW5maW5pdHl9O3RwKGEsYy5yZXN0cmljdGlvbnMsZCk7dXAoYSk7dnAoYSxiKTtlPVtdO2Y9Yy5wcmVmZXJyZWRBdWRpb0NoYW5uZWxDb3VudDtkZihhLGYpO2c9cShhLnZhcmlhbnRzKTtmb3IoaD1nLm5leHQoKTshaC5kb25lO2g9Zy5uZXh0KCkpaz1oLnZhbHVlLGUucHVzaChqZihrKSk7bD1xKGEudGV4dFN0cmVhbXMpO2ZvcihtPWwubmV4dCgpOyFtLmRvbmU7bT1sLm5leHQoKSluPW0udmFsdWUsZS5wdXNoKGtmKG4pKTtyZXR1cm4gdChELGMub2ZmbGluZS50cmFja1NlbGVjdGlvbkNhbGxiYWNrKGUpLDIpfXI9RC5iO3U9bmV3IFNldDt2PW5ldyBTZXQ7eT1xKHIpO2Zvcih6PXkubmV4dCgpOyF6LmRvbmU7ej15Lm5leHQoKSlBPXoudmFsdWUsXCJ2YXJpYW50XCI9PUEudHlwZSYmdS5hZGQoQS5pZCksXG5cInRleHRcIj09QS50eXBlJiZ2LmFkZChBLmlkKTthLnZhcmlhbnRzPWEudmFyaWFudHMuZmlsdGVyKGZ1bmN0aW9uKEIpe3JldHVybiB1LmhhcyhCLmlkKX0pO2EudGV4dFN0cmVhbXM9YS50ZXh0U3RyZWFtcy5maWx0ZXIoZnVuY3Rpb24oQil7cmV0dXJuIHYuaGFzKEIuaWQpfSk7RnAoYSk7dyhEKX0pfTtcbmZ1bmN0aW9uIEVwKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbCxtLG4scix1LHYseSx6LEEsRCxCO3JldHVybiBKKGZ1bmN0aW9uKEUpe3N3aXRjaChFLmEpe2Nhc2UgMTpyZXR1cm4gaz1ucChlLGQsZiksbD1nLm9mZmxpbmUucHJvZ3Jlc3NDYWxsYmFjayxtPWZ1bmN0aW9uKEgsRyl7ay5zaXplPUc7bChrLEgpfSxuPWZ1bmN0aW9uKEgsRyl7diYmZy5vZmZsaW5lLnVzZVBlcnNpc3RlbnRMaWNlbnNlJiZ5PT1HJiZBZChjLFwiY2VuY1wiLEgpfSxxbyhoLG0sbikscj1kLnZhcmlhbnRzLnNvbWUoZnVuY3Rpb24oSCl7dmFyIEc9SC5hdWRpbyYmSC5hdWRpby5lbmNyeXB0ZWQ7cmV0dXJuIEgudmlkZW8mJkgudmlkZW8uZW5jcnlwdGVkfHxHfSksdT1kLnZhcmlhbnRzLnNvbWUoZnVuY3Rpb24oSCl7cmV0dXJuKEgudmlkZW8/SC52aWRlby5kcm1JbmZvczpbXSkuY29uY2F0KEguYXVkaW8/SC5hdWRpby5kcm1JbmZvczpbXSkuc29tZShmdW5jdGlvbihHKXtyZXR1cm4gRy5pbml0RGF0YSYmXG5HLmluaXREYXRhLmxlbmd0aH0pfSksdj1yJiYhdSx5PW51bGwsdiYmKHo9Yy5jLHk9R3AuZ2V0KHoua2V5U3lzdGVtKSksdGEoRSksRD1BPUhwKGEsaCxiLGMsZCxlLGYsZyksdChFLHZvKGgpLDQpO2Nhc2UgNDpELnNpemU9RS5iO0EuZXhwaXJhdGlvbj1jLkNiKCk7Qj1HZChjKTtBLnNlc3Npb25JZHM9Zy5vZmZsaW5lLnVzZVBlcnNpc3RlbnRMaWNlbnNlP0I6W107aWYociYmZy5vZmZsaW5lLnVzZVBlcnNpc3RlbnRMaWNlbnNlJiYhQi5sZW5ndGgpdGhyb3cgbmV3IEwoMiw5LDkwMDcpO3JldHVybiBFW1wicmV0dXJuXCJdKEEpO2Nhc2UgMjpyZXR1cm4gdmEoRSksdChFLGguZGVzdHJveSgpLDUpO2Nhc2UgNTp3YShFLDApfX0pfXAucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBJcCh0aGlzLEpwKHRoaXMsYSkpfTtcbmZ1bmN0aW9uIEpwKGEsYil7dmFyIGMsZCxlLGYsZyxoO3JldHVybiBKKGZ1bmN0aW9uKGspe3N3aXRjaChrLmEpe2Nhc2UgMTpBcCgpO2M9JG8oYik7aWYobnVsbD09Y3x8XCJtYW5pZmVzdFwiIT1jLmEpdGhyb3cgbmV3IEwoMiw5LDkwMDQsYik7ZD1jO2U9bmV3IEdvO3RhKGspO3JldHVybiB0KGssZS5pbml0KCksNCk7Y2FzZSA0OnJldHVybiB0KGssS28oZSxkLnZhKCksZC5iYSgpKSw1KTtjYXNlIDU6cmV0dXJuIGY9ay5iLHQoayxmLmdldE1hbmlmZXN0cyhbZC5rZXkoKV0pLDYpO2Nhc2UgNjpyZXR1cm4gZz1rLmIsaD1nWzBdLHQoayxQcm9taXNlLmFsbChbS3AoYSxoLGUpLExwKGYsZCxoKV0pLDIpO2Nhc2UgMjpyZXR1cm4gdmEoayksdChrLGUuZGVzdHJveSgpLDgpO2Nhc2UgODp3YShrLDApfX0pfVxuZnVuY3Rpb24gTXAoYSxiKXtmb3IodmFyIGM9W10sZD1xKGEuc3RyZWFtcyksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZT1lLnZhbHVlLGImJlwidmlkZW9cIj09ZS50eXBlP2MucHVzaCh7Y29udGVudFR5cGU6UmMoZS5taW1lVHlwZSxlLmNvZGVjcykscm9idXN0bmVzczphLmRybUluZm8udmlkZW9Sb2J1c3RuZXNzfSk6Ynx8XCJhdWRpb1wiIT1lLnR5cGV8fGMucHVzaCh7Y29udGVudFR5cGU6UmMoZS5taW1lVHlwZSxlLmNvZGVjcykscm9idXN0bmVzczphLmRybUluZm8uYXVkaW9Sb2J1c3RuZXNzfSk7cmV0dXJuIGN9ZnVuY3Rpb24gS3AoYSxiLGMpe3JldHVybiBKKGZ1bmN0aW9uKGQpe3JldHVybiB0KGQsTnAoYS5OLGEuaS5kcm0sYyxiKSwwKX0pfVxuZnVuY3Rpb24gTHAoYSxiLGMpe2Z1bmN0aW9uIGQoKXt9dmFyIGU9T3AoYyk7cHAoYixjKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EucmVtb3ZlU2VnbWVudHMoZSxkKSxhLnJlbW92ZU1hbmlmZXN0cyhbYi5rZXkoKV0sZCldKX1wLk5lPWZ1bmN0aW9uKCl7cmV0dXJuIElwKHRoaXMsUHAodGhpcykpfTtcbmZ1bmN0aW9uIFBwKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGssbCxtO3JldHVybiBKKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmEpe2Nhc2UgMTpyZXR1cm4gQXAoKSxiPWEuTixjPWEuaS5kcm0sZD1uZXcgR28sZT0hMSx0YShuKSx0KG4sZC5pbml0KCksNCk7Y2FzZSA0OmY9W10sTG8oZCxmdW5jdGlvbihyKXtyZXR1cm4gZi5wdXNoKHIpfSksZz1xKGYpLGg9Zy5uZXh0KCk7Y2FzZSA1OmlmKGguZG9uZSl7bi51KDIpO2JyZWFrfWs9aC52YWx1ZTtyZXR1cm4gdChuLGsuZ2V0QWxsKCksOCk7Y2FzZSA4OnJldHVybiBsPW4uYix0KG4sa3AoYyxiLGwpLDkpO2Nhc2UgOTpyZXR1cm4gbT1uLmIsdChuLGsucmVtb3ZlKG0pLDEwKTtjYXNlIDEwOm0ubGVuZ3RoIT1sLmxlbmd0aCYmKGU9ITApO2g9Zy5uZXh0KCk7bi51KDUpO2JyZWFrO2Nhc2UgMjpyZXR1cm4gdmEobiksdChuLGQuZGVzdHJveSgpLDExKTtjYXNlIDExOndhKG4sMyk7YnJlYWs7Y2FzZSAzOnJldHVybiBuW1wicmV0dXJuXCJdKCFlKX19KX1cbnAubGlzdD1mdW5jdGlvbigpe3JldHVybiBJcCh0aGlzLFFwKCkpfTtmdW5jdGlvbiBRcCgpe3ZhciBhLGIsYztyZXR1cm4gSihmdW5jdGlvbihkKXtzd2l0Y2goZC5hKXtjYXNlIDE6cmV0dXJuIEFwKCksYT1bXSxiPW5ldyBHbyx0YShkKSx0KGQsYi5pbml0KCksNCk7Y2FzZSA0OnJldHVybiBjPVByb21pc2UucmVzb2x2ZSgpLEpvKGIsZnVuY3Rpb24oZSxmKXtjPWMudGhlbihmdW5jdGlvbigpe3ZhciBnO3JldHVybiBKKGZ1bmN0aW9uKGgpe2lmKDE9PWguYSlyZXR1cm4gdChoLGYuZ2V0QWxsTWFuaWZlc3RzKCksMik7Zz1oLmI7Zy5mb3JFYWNoKGZ1bmN0aW9uKGssbCl7dmFyIG09cHAobmV3IFpvKFwibWFuaWZlc3RcIixlLnZhLGUuYmEsbCksayk7YS5wdXNoKG0pfSk7dyhoKX0pfSl9KSx0KGQsYywyKTtjYXNlIDI6cmV0dXJuIHZhKGQpLHQoZCxiLmRlc3Ryb3koKSw2KTtjYXNlIDY6d2EoZCwzKTticmVhaztjYXNlIDM6cmV0dXJuIGRbXCJyZXR1cm5cIl0oYSl9fSl9XG5mdW5jdGlvbiBCcChhLGIsYyxkKXt2YXIgZSxmLGcsaCxrO3JldHVybiBKKGZ1bmN0aW9uKGwpe2lmKDE9PWwuYSlyZXR1cm4gZT1udWxsLGY9YS5OLGc9e25ldHdvcmtpbmdFbmdpbmU6ZixmaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LG9uVGltZWxpbmVSZWdpb25BZGRlZDpmdW5jdGlvbigpe30sb25FdmVudDpmdW5jdGlvbigpe30sb25FcnJvcjpmdW5jdGlvbihtKXtlPW19fSxjLmNvbmZpZ3VyZShkLm1hbmlmZXN0KSxDcChhKSx0KGwsYy5zdGFydChiLGcpLDIpO2lmKDMhPWwuYSlyZXR1cm4gaD1sLmIsQ3AoYSksaz1ScChoKSx0KGwsUHJvbWlzZS5hbGwoY2IoayxmdW5jdGlvbihtKXtyZXR1cm4gbS5jcmVhdGVTZWdtZW50SW5kZXgoKX0pKSwzKTtDcChhKTtpZihlKXRocm93IGU7cmV0dXJuIGxbXCJyZXR1cm5cIl0oaCl9KX1cbmZ1bmN0aW9uIERwKGEsYixjLGQpe3ZhciBlO3JldHVybiBKKGZ1bmN0aW9uKGYpe3N3aXRjaChmLmEpe2Nhc2UgMTpyZXR1cm4gZT1uZXcgamQoe2xiOmEuTixvbkVycm9yOmMsaWM6ZnVuY3Rpb24oKXt9LG9uRXhwaXJhdGlvblVwZGF0ZWQ6ZnVuY3Rpb24oKXt9LG9uRXZlbnQ6ZnVuY3Rpb24oKXt9fSksZS5jb25maWd1cmUoZC5kcm0pLHQoZixvZChlLGIudmFyaWFudHMsZC5vZmZsaW5lLnVzZVBlcnNpc3RlbnRMaWNlbnNlKSwyKTtjYXNlIDI6cmV0dXJuIHQoZix5ZChlKSwzKTtjYXNlIDM6cmV0dXJuIHQoZix6ZChlKSw0KTtjYXNlIDQ6cmV0dXJuIGZbXCJyZXR1cm5cIl0oZSl9fSl9XG5mdW5jdGlvbiBIcChhLGIsYyxkLGUsZixnLGgpe2Zvcih2YXIgaz1uZXcgcXAsbD1xKGUudmFyaWFudHMpLG09bC5uZXh0KCk7IW0uZG9uZTttPWwubmV4dCgpKXt2YXIgbj1rO209bS52YWx1ZTt2YXIgcj1tLmF1ZGlvLHU9bS52aWRlbztyJiYhdSYmKG4uYVtyLmlkXT1yLmJhbmR3aWR0aHx8bS5iYW5kd2lkdGgpOyFyJiZ1JiYobi5hW3UuaWRdPXUuYmFuZHdpZHRofHxtLmJhbmR3aWR0aCk7aWYociYmdSl7dmFyIHY9ci5iYW5kd2lkdGh8fDM5MzIxNix5PXUuYmFuZHdpZHRofHxtLmJhbmR3aWR0aC12OzA+PXkmJih5PW0uYmFuZHdpZHRoKTtuLmFbci5pZF09djtuLmFbdS5pZF09eX19bD1xKGUudGV4dFN0cmVhbXMpO2ZvcihuPWwubmV4dCgpOyFuLmRvbmU7bj1sLm5leHQoKSlrLmFbbi52YWx1ZS5pZF09NTI7bj1ScChlKTtsPW5ldyBNYXA7bj1xKG4pO2ZvcihtPW4ubmV4dCgpOyFtLmRvbmU7bT1uLm5leHQoKSltPW0udmFsdWUscj1TcChhLGIsYyxrLGUsbSxoKSxsLnNldChtLmlkLFxucik7YT1xKGUudmFyaWFudHMpO2ZvcihtPWEubmV4dCgpOyFtLmRvbmU7bT1hLm5leHQoKSliPW0udmFsdWUsYi5hdWRpbyYmbC5nZXQoYi5hdWRpby5pZCkudmFyaWFudElkcy5wdXNoKGIuaWQpLGIudmlkZW8mJmwuZ2V0KGIudmlkZW8uaWQpLnZhcmlhbnRJZHMucHVzaChiLmlkKTthPUFycmF5LmZyb20obC52YWx1ZXMoKSk7aD1oLm9mZmxpbmUudXNlUGVyc2lzdGVudExpY2Vuc2U7KGI9ZC5jKSYmaCYmKGIuaW5pdERhdGE9W10pO3JldHVybntjcmVhdGlvblRpbWU6RGF0ZS5ub3coKSxvcmlnaW5hbE1hbmlmZXN0VXJpOmYsZHVyYXRpb246ZS5wcmVzZW50YXRpb25UaW1lbGluZS5nZXREdXJhdGlvbigpLHNpemU6MCxleHBpcmF0aW9uOmQuQ2IoKSxzdHJlYW1zOmEsc2Vzc2lvbklkczpoP0dkKGQpOltdLGRybUluZm86YixhcHBNZXRhZGF0YTpnfX1cbmZ1bmN0aW9uIFNwKGEsYixjLGQsZSxmLGcpe3ZhciBoPXtpZDpmLmlkLG9yaWdpbmFsSWQ6Zi5vcmlnaW5hbElkLHByaW1hcnk6Zi5wcmltYXJ5LHR5cGU6Zi50eXBlLG1pbWVUeXBlOmYubWltZVR5cGUsY29kZWNzOmYuY29kZWNzLGZyYW1lUmF0ZTpmLmZyYW1lUmF0ZSxwaXhlbEFzcGVjdFJhdGlvOmYucGl4ZWxBc3BlY3RSYXRpbyxraW5kOmYua2luZCxsYW5ndWFnZTpmLmxhbmd1YWdlLGxhYmVsOmYubGFiZWwsd2lkdGg6Zi53aWR0aHx8bnVsbCxoZWlnaHQ6Zi5oZWlnaHR8fG51bGwsZW5jcnlwdGVkOmYuZW5jcnlwdGVkLGtleUlkczpmLmtleUlkcyxzZWdtZW50czpbXSx2YXJpYW50SWRzOltdLHJvbGVzOmYucm9sZXMsY2hhbm5lbHNDb3VudDpmLmNoYW5uZWxzQ291bnQsYXVkaW9TYW1wbGluZ1JhdGU6Zi5hdWRpb1NhbXBsaW5nUmF0ZSxjbG9zZWRDYXB0aW9uczpmLmNsb3NlZENhcHRpb25zfSxrPWYuaWQ7VHAoZixlLnByZXNlbnRhdGlvblRpbWVsaW5lLlFhKCksZnVuY3Rpb24obCl7dmFyIG09XG5VcChhLGIsayxmLmlkLGMsZCxsLmYsZyksbj1WcChhLGIsayxmLmlkLGMsZCxsLGcpO3VvKGIsayxmdW5jdGlvbigpe3ZhciByLHU7cmV0dXJuIEooZnVuY3Rpb24odil7aWYoMT09di5hKXJldHVybiB0KHYsbSwyKTtpZigzIT12LmEpcmV0dXJuIHI9di5iLHQodixuLDMpO3U9di5iO2guc2VnbWVudHMucHVzaCh7aW5pdFNlZ21lbnRLZXk6cixzdGFydFRpbWU6bC5zdGFydFRpbWUsZW5kVGltZTpsLmVuZFRpbWUsYXBwZW5kV2luZG93U3RhcnQ6bC5hcHBlbmRXaW5kb3dTdGFydCxhcHBlbmRXaW5kb3dFbmQ6bC5hcHBlbmRXaW5kb3dFbmQsdGltZXN0YW1wT2Zmc2V0OmwudGltZXN0YW1wT2Zmc2V0LGRhdGFLZXk6dX0pO3codil9KX0pfSk7cmV0dXJuIGh9XG5mdW5jdGlvbiBVcChhLGIsYyxkLGUsZixnLGgpe2lmKGEuYS5oYXMoZykpcmV0dXJuIGEuYS5nZXQoZyk7aD1MZyhnLmMoKSxnLmIsZy5hLGguc3RyZWFtaW5nLnJldHJ5UGFyYW1ldGVycyk7Yj1zbyhiLGMsaCwuNSpzcChmLGQpLCEwLGZ1bmN0aW9uKGspe3ZhciBsO3JldHVybiBKKGZ1bmN0aW9uKG0pe2lmKDE9PW0uYSlyZXR1cm4gdChtLGUuYWRkU2VnbWVudHMoW3tkYXRhOmt9XSksMik7bD1tLmI7YS5tYy5wdXNoKGxbMF0pO3JldHVybiBtW1wicmV0dXJuXCJdKGxbMF0pfSl9KTthLmEuc2V0KGcsYik7cmV0dXJuIGJ9XG5mdW5jdGlvbiBWcChhLGIsYyxkLGUsZixnLGgpe3ZhciBrPVtnLmMoKVswXSxnLmIsZy5hXS5qb2luKFwiLVwiKTtpZihhLmIuaGFzKGspKXJldHVybiBhLmIuZ2V0KGspO2g9TGcoZy5jKCksZy5iLGcuYSxoLnN0cmVhbWluZy5yZXRyeVBhcmFtZXRlcnMpO2I9c28oYixjLGgscnAoZixkLGcpLCExLGZ1bmN0aW9uKGwpe3ZhciBtO3JldHVybiBKKGZ1bmN0aW9uKG4pe2lmKDE9PW4uYSlyZXR1cm4gdChuLGUuYWRkU2VnbWVudHMoW3tkYXRhOmx9XSksMik7bT1uLmI7YS5tYy5wdXNoKG1bMF0pO3JldHVybiBuW1wicmV0dXJuXCJdKG1bMF0pfSl9KTthLmIuc2V0KGssYik7cmV0dXJuIGJ9ZnVuY3Rpb24gVHAoYSxiLGMpe2I9YS5zZWdtZW50SW5kZXguZmluZChiKTtpZihudWxsIT1iKWZvcih2YXIgZD1hLnNlZ21lbnRJbmRleC5nZXQoYik7ZDspYyhkKSxkPWEuc2VnbWVudEluZGV4LmdldCgrK2IpfWZ1bmN0aW9uIENwKGEpe2lmKGEuRC5hKXRocm93IG5ldyBMKDIsOSw3MDAxKTt9XG5mdW5jdGlvbiBBcCgpe2lmKCF4cCgpKXRocm93IG5ldyBMKDIsOSw5RTMpO31mdW5jdGlvbiBJcChhLGIpe3JldHVybiBKKGZ1bmN0aW9uKGMpe2lmKDE9PWMuYSlyZXR1cm4gYS5KYi5wdXNoKGIpLHRhKGMpLHQoYyxiLDQpO2lmKDIhPWMuYSlyZXR1cm4gY1tcInJldHVyblwiXShjLmIpO3ZhKGMpO1ZiKGEuSmIsYik7cmV0dXJuIHdhKGMsMCl9KX1mdW5jdGlvbiB6cChhLGIpe3ZhciBjPWIucHJvbWlzZTthLkpiLnB1c2goYyk7cmV0dXJuIGJbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7VmIoYS5KYixjKX0pfVxuZnVuY3Rpb24gT3AoYSl7dmFyIGI9W107YT1xKGEuc3RyZWFtcyk7Zm9yKHZhciBjPWEubmV4dCgpOyFjLmRvbmU7Yz1hLm5leHQoKSl7Yz1xKGMudmFsdWUuc2VnbWVudHMpO2Zvcih2YXIgZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpZD1kLnZhbHVlLG51bGwhPWQuaW5pdFNlZ21lbnRLZXkmJmIucHVzaChkLmluaXRTZWdtZW50S2V5KSxiLnB1c2goZC5kYXRhS2V5KX1yZXR1cm4gYn1cbmZ1bmN0aW9uIE5wKGEsYixjLGQpe3ZhciBlLGYsZztyZXR1cm4gSihmdW5jdGlvbihoKXtpZigxPT1oLmEpe2lmKCFkLmRybUluZm8pcmV0dXJuIGhbXCJyZXR1cm5cIl0oKTtlPU1vKGMpO2Y9ZC5zZXNzaW9uSWRzLm1hcChmdW5jdGlvbihrKXtyZXR1cm57c2Vzc2lvbklkOmssa2V5U3lzdGVtOmQuZHJtSW5mby5rZXlTeXN0ZW0sbGljZW5zZVVyaTpkLmRybUluZm8ubGljZW5zZVNlcnZlclVyaSxzZXJ2ZXJDZXJ0aWZpY2F0ZTpkLmRybUluZm8uc2VydmVyQ2VydGlmaWNhdGUsYXVkaW9DYXBhYmlsaXRpZXM6TXAoZCwhMSksdmlkZW9DYXBhYmlsaXRpZXM6TXAoZCwhMCl9fSk7cmV0dXJuIHQoaCxrcChiLGEsZiksMil9cmV0dXJuIDMhPWguYT8oZz1oLmIsdChoLGUucmVtb3ZlKGcpLDMpKTp0KGgsZS5hZGQoZi5maWx0ZXIoZnVuY3Rpb24oayl7cmV0dXJuIWcuaW5jbHVkZXMoay5zZXNzaW9uSWQpfSkpLDApfSl9XG5mdW5jdGlvbiBScChhKXtmb3IodmFyIGI9bmV3IFNldCxjPXEoYS50ZXh0U3RyZWFtcyksZD1jLm5leHQoKTshZC5kb25lO2Q9Yy5uZXh0KCkpYi5hZGQoZC52YWx1ZSk7YT1xKGEudmFyaWFudHMpO2ZvcihjPWEubmV4dCgpOyFjLmRvbmU7Yz1hLm5leHQoKSljPWMudmFsdWUsYy5hdWRpbyYmYi5hZGQoYy5hdWRpbyksYy52aWRlbyYmYi5hZGQoYy52aWRlbyk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBGcChhKXthLnZhcmlhbnRzLm1hcChmdW5jdGlvbihmKXtyZXR1cm4gZi52aWRlb30pO3ZhciBiPW5ldyBTZXQoYS52YXJpYW50cy5tYXAoZnVuY3Rpb24oZil7cmV0dXJuIGYuYXVkaW99KSk7YT1hLnRleHRTdHJlYW1zO2Zvcih2YXIgYz1xKGIpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXtkPXEoYik7Zm9yKHZhciBlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSk7fWI9cShhKTtmb3IoYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpZm9yKGM9cShhKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSk7fUsoXCJzaGFrYS5vZmZsaW5lLlN0b3JhZ2VcIix3cCk7d3AuZGVsZXRlQWxsPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIEooZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuYT8oYT1uZXcgR28sdGEoYiksdChiLE5vKGEpLDIpKTo1IT1iLmE/KHZhKGIpLHQoYixhLmRlc3Ryb3koKSw1KSk6d2EoYiwwKX0pfTt3cC5wcm90b3R5cGUubGlzdD13cC5wcm90b3R5cGUubGlzdDtcbndwLnByb3RvdHlwZS5yZW1vdmVFbWVTZXNzaW9ucz13cC5wcm90b3R5cGUuTmU7d3AucHJvdG90eXBlLnJlbW92ZT13cC5wcm90b3R5cGUucmVtb3ZlO3dwLnByb3RvdHlwZS5nZXRTdG9yZUluUHJvZ3Jlc3M9d3AucHJvdG90eXBlLndlO3dwLnByb3RvdHlwZS5zdG9yZT13cC5wcm90b3R5cGUuc3RvcmU7d3AucHJvdG90eXBlLmdldE5ldHdvcmtpbmdFbmdpbmU9d3AucHJvdG90eXBlLkRiO3dwLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPXdwLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uO3dwLnByb3RvdHlwZS5jb25maWd1cmU9d3AucHJvdG90eXBlLmNvbmZpZ3VyZTt3cC5wcm90b3R5cGUuZGVzdHJveT13cC5wcm90b3R5cGUuZGVzdHJveTt3cC5zdXBwb3J0PXhwO1xudmFyIEdwPShuZXcgTWFwKS5zZXQoXCJvcmcudzMuY2xlYXJrZXlcIixcIjEwNzdlZmVjYzBiMjRkMDJhY2UzM2MxZTUyZTJmYjRiXCIpLnNldChcImNvbS53aWRldmluZS5hbHBoYVwiLFwiZWRlZjhiYTk3OWQ2NGFjZWEzYzgyN2RjZDUxZDIxZWRcIikuc2V0KFwiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHlcIixcIjlhMDRmMDc5OTg0MDQyODZhYjkyZTY1YmUwODg1Zjk1XCIpLnNldChcImNvbS5hZG9iZS5wcmltZXRpbWVcIixcImYyMzllNzY5ZWZhMzQ4NTA5YzE2YTkwM2M2OTMyZWZiXCIpO3ZqLm9mZmxpbmU9eHA7ZnVuY3Rpb24gV3AoKXt9ZnVuY3Rpb24gWHAoYSxiKXtmb3IodmFyIGM9e3ByaW9yaXR5OmJ8fDAsWWQ6YX0sZD1xKGhiKFlwKSksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpe2U9ZS52YWx1ZTt2YXIgZj1lLlk7aWYoZS5pdGVtLnByaW9yaXR5PGMucHJpb3JpdHkpe1lwLnNwbGljZShmLDAsYyk7cmV0dXJufX1ZcC5wdXNoKGMpfUsoXCJzaGFrYS5wb2x5ZmlsbFwiLFdwKTtXcC5yZWdpc3Rlcj1YcDtXcC5pbnN0YWxsQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXEoWXApLGI9YS5uZXh0KCk7IWIuZG9uZTtiPWEubmV4dCgpKXtiPWIudmFsdWU7dHJ5e2IuWWQoKX1jYXRjaChjKXtXYShcIkVycm9yIGluc3RhbGxpbmcgcG9seWZpbGwhXCIsYyl9fX07dmFyIFlwPVtdO1hwKGZ1bmN0aW9uKCl7WnAoKX0sLTEpO2Z1bmN0aW9uICRwKGEpe3ZhciBiPWEudHlwZS5yZXBsYWNlKC9eKHdlYmtpdHxtb3p8TVMpLyxcIlwiKS50b0xvd2VyQ2FzZSgpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBFdmVudCl2YXIgYz1uZXcgRXZlbnQoYixhKTtlbHNlIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSxjLmluaXRFdmVudChiLGEuYnViYmxlcyxhLmNhbmNlbGFibGUpO2EudGFyZ2V0LmRpc3BhdGNoRXZlbnQoYyl9XG5YcChmdW5jdGlvbigpe2lmKHdpbmRvdy5Eb2N1bWVudCl7dmFyIGE9RWxlbWVudC5wcm90b3R5cGU7YS5yZXF1ZXN0RnVsbHNjcmVlbj1hLnJlcXVlc3RGdWxsc2NyZWVufHxhLm1velJlcXVlc3RGdWxsU2NyZWVufHxhLm1zUmVxdWVzdEZ1bGxzY3JlZW58fGEud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW47YT1Eb2N1bWVudC5wcm90b3R5cGU7YS5leGl0RnVsbHNjcmVlbj1hLmV4aXRGdWxsc2NyZWVufHxhLm1vekNhbmNlbEZ1bGxTY3JlZW58fGEubXNFeGl0RnVsbHNjcmVlbnx8YS53ZWJraXRDYW5jZWxGdWxsU2NyZWVuO1wiZnVsbHNjcmVlbkVsZW1lbnRcImluIGRvY3VtZW50fHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LFwiZnVsbHNjcmVlbkVsZW1lbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC53ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnR8fFxuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LFwiZnVsbHNjcmVlbkVuYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbmFibGVkfHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkfHxkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZH19KSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiwkcCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiLCRwKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLCRwKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmVycm9yXCIsJHApO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIiwkcCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkVycm9yXCIsXG4kcCl9fSk7WHAoZnVuY3Rpb24oKXt2YXIgYT0hMTtpZihaYyhcIkNyS2V5XCIpKWE9ITA7ZWxzZSB0cnl7d2luZG93LmluZGV4ZWREQiYmKGE9ITEpfWNhdGNoKGIpe2E9ITB9YSYmZGVsZXRlIHdpbmRvdy5pbmRleGVkREJ9KTtmdW5jdGlvbiBhcShhLGIsYyl7aWYoXCJpbnB1dFwiPT1hKXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgXCJyYW5nZVwiOmE9XCJjaGFuZ2VcIn1IVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5vcmlnaW5hbEFkZEV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLGEsYixjKX1YcChmdW5jdGlvbigpe1pjKFwiVHJpZGVudC9cIikmJiFIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5vcmlnaW5hbEFkZEV2ZW50TGlzdGVuZXImJihIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5vcmlnaW5hbEFkZEV2ZW50TGlzdGVuZXI9SFRNTElucHV0RWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcixIVE1MSW5wdXRFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWFxKX0pO1hwKGZ1bmN0aW9uKCl7bmF2aWdhdG9yLmxhbmd1YWdlc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvcixcImxhbmd1YWdlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlP1tuYXZpZ2F0b3IubGFuZ3VhZ2VdOltcImVuXCJdfX0pfSk7WHAoZnVuY3Rpb24oKXt9KTtmdW5jdGlvbiBicSgpe3ZhciBhPU1lZGlhU291cmNlLnByb3RvdHlwZS5hZGRTb3VyY2VCdWZmZXI7TWVkaWFTb3VyY2UucHJvdG90eXBlLmFkZFNvdXJjZUJ1ZmZlcj1mdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZD0wO2Q8YXJndW1lbnRzLmxlbmd0aDsrK2QpY1tkXT1hcmd1bWVudHNbZF07Yz1hLmFwcGx5KHRoaXMsYyk7Yy5hYm9ydD1mdW5jdGlvbigpe307cmV0dXJuIGN9fWZ1bmN0aW9uIGNxKCl7dmFyIGE9U291cmNlQnVmZmVyLnByb3RvdHlwZS5yZW1vdmU7U291cmNlQnVmZmVyLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKHRoaXMsYixjLS4wMDEpfX1mdW5jdGlvbiBkcSgpe3ZhciBhPU1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZDtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQ9ZnVuY3Rpb24oYil7cmV0dXJuXCJtcDJ0XCI9PWIuc3BsaXQoLyAqOyAqLylbMF0uc3BsaXQoXCIvXCIpWzFdLnRvTG93ZXJDYXNlKCk/ITE6YShiKX19XG5mdW5jdGlvbiBlcSgpe3ZhciBhPU1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZDtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQ9ZnVuY3Rpb24oYil7cmV0dXJuXCJvcHVzXCIhPVVjKGIpWzBdJiZhKGIpfX1mdW5jdGlvbiBmcSgpe3ZhciBhPU1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZDtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQ9ZnVuY3Rpb24oYil7dmFyIGM9Yi5zcGxpdCgvICo7ICovKTtjLnNoaWZ0KCk7cmV0dXJuIGMuc29tZShmdW5jdGlvbihkKXtyZXR1cm4gZC5zdGFydHNXaXRoKFwiY29kZWNzPVwiKX0pP2Nhc3QuX19wbGF0Zm9ybV9fLmNhbkRpc3BsYXlUeXBlKGIpOmEoYil9fVxuWHAoZnVuY3Rpb24oKXt2YXIgYT0kYygpO3dpbmRvdy5NZWRpYVNvdXJjZSYmKHdpbmRvdy5jYXN0JiZjYXN0Ll9fcGxhdGZvcm1fXyYmY2FzdC5fX3BsYXRmb3JtX18uY2FuRGlzcGxheVR5cGU/ZnEoKTphPyhkcSgpLDEyPj1hPyhicSgpLGNxKCkpOmJxKCkpOihaYyhcIlRpemVuIDJcIil8fFpjKFwiVGl6ZW4gM1wiKXx8WmMoXCJUaXplbiA0XCIpKSYmZXEoKSl9KTtmdW5jdGlvbiBncShhLGIpe3RyeXt2YXIgYz1uZXcgaHEoYSxiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX19ZnVuY3Rpb24gaXEoYSl7dmFyIGI9dGhpcy5tZWRpYUtleXM7YiYmYiE9YSYmanEoYixudWxsKTtkZWxldGUgdGhpcy5tZWRpYUtleXM7cmV0dXJuKHRoaXMubWVkaWFLZXlzPWEpP2pxKGEsdGhpcyk6UHJvbWlzZS5yZXNvbHZlKCl9ZnVuY3Rpb24ga3EoYSl7YT1OKGEuaW5pdERhdGEpO2lmKE5iKGEpLmdldFVpbnQzMigwLCEwKSs0IT1hLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNYWxmb3JtZWQgRmFpclBsYXkgaW5pdCBkYXRhXCIpO2E9dWMoYS5zdWJhcnJheSg0KSwhMCk7YT13YyhhKTt2YXIgYj1uZXcgRXZlbnQoXCJlbmNyeXB0ZWRcIik7Yi5pbml0RGF0YVR5cGU9XCJza2RcIjtiLmluaXREYXRhPUxiKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKX1cbmZ1bmN0aW9uIGhxKGEsYil7dGhpcy5rZXlTeXN0ZW09YTtpZihhLnN0YXJ0c1dpdGgoXCJjb20uYXBwbGUuZnBzXCIpKWZvcih2YXIgYz1xKGIpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKXt2YXIgZT1kLnZhbHVlO2lmKFwicmVxdWlyZWRcIj09ZS5wZXJzaXN0ZW50U3RhdGUpZD1udWxsO2Vsc2V7ZD17YXVkaW9DYXBhYmlsaXRpZXM6W10sdmlkZW9DYXBhYmlsaXRpZXM6W10scGVyc2lzdGVudFN0YXRlOlwib3B0aW9uYWxcIixkaXN0aW5jdGl2ZUlkZW50aWZpZXI6XCJvcHRpb25hbFwiLGluaXREYXRhVHlwZXM6ZS5pbml0RGF0YVR5cGVzLHNlc3Npb25UeXBlczpbXCJ0ZW1wb3JhcnlcIl0sbGFiZWw6ZS5sYWJlbH07dmFyIGY9ITEsZz0hMTtpZihlLmF1ZGlvQ2FwYWJpbGl0aWVzKWZvcih2YXIgaD1xKGUuYXVkaW9DYXBhYmlsaXRpZXMpLGs9aC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKWs9ay52YWx1ZSxrLmNvbnRlbnRUeXBlJiYoZj0hMCxXZWJLaXRNZWRpYUtleXMuaXNUeXBlU3VwcG9ydGVkKHRoaXMua2V5U3lzdGVtLFxuay5jb250ZW50VHlwZS5zcGxpdChcIjtcIilbMF0pJiYoZC5hdWRpb0NhcGFiaWxpdGllcy5wdXNoKGspLGc9ITApKTtpZihlLnZpZGVvQ2FwYWJpbGl0aWVzKWZvcihlPXEoZS52aWRlb0NhcGFiaWxpdGllcyksaz1lLm5leHQoKTshay5kb25lO2s9ZS5uZXh0KCkpaD1rLnZhbHVlLGguY29udGVudFR5cGUmJihmPSEwLFdlYktpdE1lZGlhS2V5cy5pc1R5cGVTdXBwb3J0ZWQodGhpcy5rZXlTeXN0ZW0saC5jb250ZW50VHlwZS5zcGxpdChcIjtcIilbMF0pJiYoZC52aWRlb0NhcGFiaWxpdGllcy5wdXNoKGgpLGc9ITApKTtmfHwoZz1XZWJLaXRNZWRpYUtleXMuaXNUeXBlU3VwcG9ydGVkKHRoaXMua2V5U3lzdGVtLFwidmlkZW8vbXA0XCIpKTtkPWc/ZDpudWxsfWlmKGQpe3RoaXMuYT1kO3JldHVybn19Yz1FcnJvcihcIlVuc3VwcG9ydGVkIGtleVN5c3RlbVwiKTtjLm5hbWU9XCJOb3RTdXBwb3J0ZWRFcnJvclwiO2MuY29kZT1ET01FeGNlcHRpb24uTk9UX1NVUFBPUlRFRF9FUlI7dGhyb3cgYzt9XG5ocS5wcm90b3R5cGUuY3JlYXRlTWVkaWFLZXlzPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IGxxKHRoaXMua2V5U3lzdGVtKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfTtocS5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIGxxKGEpe3RoaXMuYT1uZXcgV2ViS2l0TWVkaWFLZXlzKGEpO3RoaXMuYj1uZXcgbGN9bHEucHJvdG90eXBlLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oYSl7YT1hfHxcInRlbXBvcmFyeVwiO2lmKFwidGVtcG9yYXJ5XCIhPWEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlc3Npb24gdHlwZSBcIithK1wiIGlzIHVuc3VwcG9ydGVkIG9uIHRoaXMgcGxhdGZvcm0uXCIpO3JldHVybiBuZXcgbXEodGhpcy5hLGEpfTtscS5wcm90b3R5cGUuc2V0U2VydmVyQ2VydGlmaWNhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCExKX07XG5mdW5jdGlvbiBqcShhLGIpe2EuYi5YYSgpO2lmKCFiKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTthLmIubChiLFwid2Via2l0bmVlZGtleVwiLGtxKTt0cnl7cmV0dXJuIFdmKGIsSFRNTE1lZGlhRWxlbWVudC5IQVZFX01FVEFEQVRBLGEuYixmdW5jdGlvbigpe2Iud2Via2l0U2V0TWVkaWFLZXlzKGEuYSl9KSxQcm9taXNlLnJlc29sdmUoKX1jYXRjaChjKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYyl9fWZ1bmN0aW9uIG1xKGEpe1JiLmNhbGwodGhpcyk7dGhpcy5mPW51bGw7dGhpcy5nPWE7dGhpcy5jPXRoaXMuYT1udWxsO3RoaXMuYj1uZXcgbGM7dGhpcy5zZXNzaW9uSWQ9XCJcIjt0aGlzLmV4cGlyYXRpb249TmFOO3RoaXMuY2xvc2VkPW5ldyBBYjt0aGlzLmtleVN0YXR1c2VzPW5ldyBucX1wYShtcSxSYik7cD1tcS5wcm90b3R5cGU7XG5wLmdlbmVyYXRlUmVxdWVzdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5hPW5ldyBBYjt0cnl7dmFyIGQ9dGhpcy5nLmNyZWF0ZVNlc3Npb24oXCJ2aWRlby9tcDRcIixOKGIpKTt0aGlzLmY9ZDt0aGlzLnNlc3Npb25JZD1kLnNlc3Npb25JZHx8XCJcIjt0aGlzLmIubCh0aGlzLmYsXCJ3ZWJraXRrZXltZXNzYWdlXCIsZnVuY3Rpb24oZSl7Yy5hJiYoYy5hLnJlc29sdmUoKSxjLmE9bnVsbCk7ZT1uZXcgUShcIm1lc3NhZ2VcIix7bWVzc2FnZVR5cGU6dm9pZCAwPT1jLmtleVN0YXR1c2VzLmE/XCJsaWNlbnNlLXJlcXVlc3RcIjpcImxpY2Vuc2UtcmVuZXdhbFwiLG1lc3NhZ2U6TGIoZS5tZXNzYWdlKX0pO2MuZGlzcGF0Y2hFdmVudChlKX0pO3RoaXMuYi5sKGQsXCJ3ZWJraXRrZXlhZGRlZFwiLGZ1bmN0aW9uKCl7Yy5jJiYob3EoYyxcInVzYWJsZVwiKSxjLmMucmVzb2x2ZSgpLGMuYz1udWxsKX0pO3RoaXMuYi5sKGQsXCJ3ZWJraXRrZXllcnJvclwiLGZ1bmN0aW9uKCl7dmFyIGU9RXJyb3IoXCJFTUUgUGF0Y2hlZE1lZGlhS2V5c0FwcGxlIGtleSBlcnJvclwiKTtcbmUuZXJyb3JDb2RlPWMuZi5lcnJvcjtpZihudWxsIT1jLmEpYy5hLnJlamVjdChlKSxjLmE9bnVsbDtlbHNlIGlmKG51bGwhPWMuYyljLmMucmVqZWN0KGUpLGMuYz1udWxsO2Vsc2Ugc3dpdGNoKGMuZi5lcnJvci5jb2RlKXtjYXNlIFdlYktpdE1lZGlhS2V5RXJyb3IuTUVESUFfS0VZRVJSX09VVFBVVDpjYXNlIFdlYktpdE1lZGlhS2V5RXJyb3IuTUVESUFfS0VZRVJSX0hBUkRXQVJFQ0hBTkdFOm9xKGMsXCJvdXRwdXQtbm90LWFsbG93ZWRcIik7YnJlYWs7ZGVmYXVsdDpvcShjLFwiaW50ZXJuYWwtZXJyb3JcIil9fSk7b3EodGhpcyxcInN0YXR1cy1wZW5kaW5nXCIpfWNhdGNoKGUpe3RoaXMuYS5yZWplY3QoZSl9cmV0dXJuIHRoaXMuYX07cC5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKFwiTWVkaWFLZXlTZXNzaW9uLmxvYWQgbm90IHlldCBzdXBwb3J0ZWRcIikpfTtwLnVwZGF0ZT1mdW5jdGlvbihhKXt0aGlzLmM9bmV3IEFiO3RyeXt0aGlzLmYudXBkYXRlKE4oYSkpfWNhdGNoKGIpe3RoaXMuYy5yZWplY3QoYil9cmV0dXJuIHRoaXMuY307XG5wLmNsb3NlPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuZi5jbG9zZSgpLHRoaXMuY2xvc2VkLnJlc29sdmUoKSx0aGlzLmIuWGEoKX1jYXRjaChhKXt0aGlzLmNsb3NlZC5yZWplY3QoYSl9cmV0dXJuIHRoaXMuY2xvc2VkfTtwLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChFcnJvcihcIk1lZGlhS2V5U2Vzc2lvbi5yZW1vdmUgaXMgb25seSBhcHBsaWNhYmxlIGZvciBwZXJzaXN0ZW50IGxpY2Vuc2VzLCB3aGljaCBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtXCIpKX07ZnVuY3Rpb24gb3EoYSxiKXt2YXIgYz1hLmtleVN0YXR1c2VzO2Muc2l6ZT12b2lkIDA9PWI/MDoxO2MuYT1iO2M9bmV3IFEoXCJrZXlzdGF0dXNlc2NoYW5nZVwiKTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gbnEoKXt0aGlzLnNpemU9MDt0aGlzLmE9dm9pZCAwfXA9bnEucHJvdG90eXBlO3AuZm9yRWFjaD1mdW5jdGlvbihhKXt0aGlzLmEmJmEodGhpcy5hLFVkLnZhbHVlKCkpfTtcbnAuZ2V0PWZ1bmN0aW9uKGEpe2lmKHRoaXMuaGFzKGEpKXJldHVybiB0aGlzLmF9O3AuaGFzPWZ1bmN0aW9uKGEpe3ZhciBiPVVkLnZhbHVlKCk7cmV0dXJuIHRoaXMuYSYmSmIoYSxiKT8hMDohMX07cC5lbnRyaWVzPWZ1bmN0aW9uKCl7fTtwLmtleXM9ZnVuY3Rpb24oKXt9O3AudmFsdWVzPWZ1bmN0aW9uKCl7fTtYcChmdW5jdGlvbigpe3dpbmRvdy5IVE1MVmlkZW9FbGVtZW50JiZ3aW5kb3cuV2ViS2l0TWVkaWFLZXlzJiYoZGVsZXRlIEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cyxIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5tZWRpYUtleXM9bnVsbCxIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRNZWRpYUtleXM9aXEsd2luZG93Lk1lZGlhS2V5cz1scSx3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3M9aHEsbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1ncSl9KTtmdW5jdGlvbiBwcShhLGIpe3RyeXt2YXIgYz1uZXcgcXEoYSxiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX19ZnVuY3Rpb24gcnEoYSl7aWYoYS5pbml0RGF0YSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtiLmluaXRDdXN0b21FdmVudChcImVuY3J5cHRlZFwiLCExLCExLG51bGwpO2IuaW5pdERhdGFUeXBlPVwiY2VuY1wiO2IuaW5pdERhdGE9TGIoT2soYS5pbml0RGF0YSkpO3RoaXMuZGlzcGF0Y2hFdmVudChiKX19XG5mdW5jdGlvbiBxcShhLGIpe3RoaXMua2V5U3lzdGVtPWE7Zm9yKHZhciBjPSExLGQ9cShiKSxlPWQubmV4dCgpOyFlLmRvbmU7ZT1kLm5leHQoKSl7ZT1lLnZhbHVlO3ZhciBmPXthdWRpb0NhcGFiaWxpdGllczpbXSx2aWRlb0NhcGFiaWxpdGllczpbXSxwZXJzaXN0ZW50U3RhdGU6XCJvcHRpb25hbFwiLGRpc3RpbmN0aXZlSWRlbnRpZmllcjpcIm9wdGlvbmFsXCIsaW5pdERhdGFUeXBlczplLmluaXREYXRhVHlwZXMsc2Vzc2lvblR5cGVzOltcInRlbXBvcmFyeVwiXSxsYWJlbDplLmxhYmVsfSxnPSExO2lmKGUuYXVkaW9DYXBhYmlsaXRpZXMpZm9yKHZhciBoPXEoZS5hdWRpb0NhcGFiaWxpdGllcyksaz1oLm5leHQoKTshay5kb25lO2s9aC5uZXh0KCkpaz1rLnZhbHVlLGsuY29udGVudFR5cGUmJihnPSEwLE1TTWVkaWFLZXlzLmlzVHlwZVN1cHBvcnRlZCh0aGlzLmtleVN5c3RlbSxrLmNvbnRlbnRUeXBlLnNwbGl0KFwiO1wiKVswXSkmJihmLmF1ZGlvQ2FwYWJpbGl0aWVzLnB1c2goayksYz1cbiEwKSk7aWYoZS52aWRlb0NhcGFiaWxpdGllcylmb3IoaD1xKGUudmlkZW9DYXBhYmlsaXRpZXMpLGs9aC5uZXh0KCk7IWsuZG9uZTtrPWgubmV4dCgpKWs9ay52YWx1ZSxrLmNvbnRlbnRUeXBlJiYoZz0hMCxNU01lZGlhS2V5cy5pc1R5cGVTdXBwb3J0ZWQodGhpcy5rZXlTeXN0ZW0say5jb250ZW50VHlwZS5zcGxpdChcIjtcIilbMF0pJiYoZi52aWRlb0NhcGFiaWxpdGllcy5wdXNoKGspLGM9ITApKTtnfHwoYz1NU01lZGlhS2V5cy5pc1R5cGVTdXBwb3J0ZWQodGhpcy5rZXlTeXN0ZW0sXCJ2aWRlby9tcDRcIikpO1wicmVxdWlyZWRcIj09ZS5wZXJzaXN0ZW50U3RhdGUmJihjPSExKTtpZihjKXt0aGlzLmE9ZjtyZXR1cm59fWM9RXJyb3IoXCJVbnN1cHBvcnRlZCBrZXlTeXN0ZW1cIik7Yy5uYW1lPVwiTm90U3VwcG9ydGVkRXJyb3JcIjtjLmNvZGU9RE9NRXhjZXB0aW9uLk5PVF9TVVBQT1JURURfRVJSO3Rocm93IGM7fVxucXEucHJvdG90eXBlLmNyZWF0ZU1lZGlhS2V5cz1mdW5jdGlvbigpe3ZhciBhPW5ldyBzcSh0aGlzLmtleVN5c3RlbSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07cXEucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtmdW5jdGlvbiB0cShhKXt2YXIgYj10aGlzLm1lZGlhS2V5cztiJiZiIT1hJiZ1cShiLG51bGwpO2RlbGV0ZSB0aGlzLm1lZGlhS2V5cztyZXR1cm4odGhpcy5tZWRpYUtleXM9YSk/dXEoYSx0aGlzKTpQcm9taXNlLnJlc29sdmUoKX1mdW5jdGlvbiBzcShhKXt0aGlzLmE9bmV3IE1TTWVkaWFLZXlzKGEpO3RoaXMuYj1uZXcgbGN9XG5zcS5wcm90b3R5cGUuY3JlYXRlU2Vzc2lvbj1mdW5jdGlvbihhKXthPWF8fFwidGVtcG9yYXJ5XCI7aWYoXCJ0ZW1wb3JhcnlcIiE9YSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2Vzc2lvbiB0eXBlIFwiK2ErXCIgaXMgdW5zdXBwb3J0ZWQgb24gdGhpcyBwbGF0Zm9ybS5cIik7cmV0dXJuIG5ldyB2cSh0aGlzLmEsYSl9O3NxLnByb3RvdHlwZS5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoITEpfTtmdW5jdGlvbiB1cShhLGIpe2EuYi5YYSgpO2lmKCFiKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTthLmIubChiLFwibXNuZWVka2V5XCIscnEpO3RyeXtyZXR1cm4gV2YoYixIVE1MTWVkaWFFbGVtZW50LkhBVkVfTUVUQURBVEEsYS5iLGZ1bmN0aW9uKCl7Yi5tc1NldE1lZGlhS2V5cyhhLmEpfSksUHJvbWlzZS5yZXNvbHZlKCl9Y2F0Y2goYyl7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfX1cbmZ1bmN0aW9uIHZxKGEpe1JiLmNhbGwodGhpcyk7dGhpcy5mPW51bGw7dGhpcy5nPWE7dGhpcy5jPXRoaXMuYT1udWxsO3RoaXMuYj1uZXcgbGM7dGhpcy5zZXNzaW9uSWQ9XCJcIjt0aGlzLmV4cGlyYXRpb249TmFOO3RoaXMuY2xvc2VkPW5ldyBBYjt0aGlzLmtleVN0YXR1c2VzPW5ldyB3cX1wYSh2cSxSYik7cD12cS5wcm90b3R5cGU7XG5wLmdlbmVyYXRlUmVxdWVzdD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5hPW5ldyBBYjt0cnl7dGhpcy5mPXRoaXMuZy5jcmVhdGVTZXNzaW9uKFwidmlkZW8vbXA0XCIsTihiKSxudWxsKSx0aGlzLmIubCh0aGlzLmYsXCJtc2tleW1lc3NhZ2VcIixmdW5jdGlvbihkKXtjLmEmJihjLmEucmVzb2x2ZSgpLGMuYT1udWxsKTtkPW5ldyBRKFwibWVzc2FnZVwiLHttZXNzYWdlVHlwZTp2b2lkIDA9PWMua2V5U3RhdHVzZXMuYT9cImxpY2Vuc2UtcmVxdWVzdFwiOlwibGljZW5zZS1yZW5ld2FsXCIsbWVzc2FnZTpMYihkLm1lc3NhZ2UpfSk7Yy5kaXNwYXRjaEV2ZW50KGQpfSksdGhpcy5iLmwodGhpcy5mLFwibXNrZXlhZGRlZFwiLGZ1bmN0aW9uKCl7Yy5hPyh4cShjLFwidXNhYmxlXCIpLGMuYS5yZXNvbHZlKCksYy5hPW51bGwpOmMuYyYmKHhxKGMsXCJ1c2FibGVcIiksYy5jLnJlc29sdmUoKSxjLmM9bnVsbCl9KSx0aGlzLmIubCh0aGlzLmYsXCJtc2tleWVycm9yXCIsZnVuY3Rpb24oKXt2YXIgZD1FcnJvcihcIkVNRSBQYXRjaGVkTWVkaWFLZXlzTXMga2V5IGVycm9yXCIpO1xuZC5lcnJvckNvZGU9Yy5mLmVycm9yO2lmKG51bGwhPWMuYSljLmEucmVqZWN0KGQpLGMuYT1udWxsO2Vsc2UgaWYobnVsbCE9Yy5jKWMuYy5yZWplY3QoZCksYy5jPW51bGw7ZWxzZSBzd2l0Y2goYy5mLmVycm9yLmNvZGUpe2Nhc2UgTVNNZWRpYUtleUVycm9yLk1TX01FRElBX0tFWUVSUl9PVVRQVVQ6Y2FzZSBNU01lZGlhS2V5RXJyb3IuTVNfTUVESUFfS0VZRVJSX0hBUkRXQVJFQ0hBTkdFOnhxKGMsXCJvdXRwdXQtbm90LWFsbG93ZWRcIik7YnJlYWs7ZGVmYXVsdDp4cShjLFwiaW50ZXJuYWwtZXJyb3JcIil9fSkseHEodGhpcyxcInN0YXR1cy1wZW5kaW5nXCIpfWNhdGNoKGQpe3RoaXMuYS5yZWplY3QoZCl9cmV0dXJuIHRoaXMuYX07cC5sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKFwiTWVkaWFLZXlTZXNzaW9uLmxvYWQgbm90IHlldCBzdXBwb3J0ZWRcIikpfTtwLnVwZGF0ZT1mdW5jdGlvbihhKXt0aGlzLmM9bmV3IEFiO3RyeXt0aGlzLmYudXBkYXRlKE4oYSkpfWNhdGNoKGIpe3RoaXMuYy5yZWplY3QoYil9cmV0dXJuIHRoaXMuY307XG5wLmNsb3NlPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuZi5jbG9zZSgpLHRoaXMuY2xvc2VkLnJlc29sdmUoKSx0aGlzLmIuWGEoKX1jYXRjaChhKXt0aGlzLmNsb3NlZC5yZWplY3QoYSl9cmV0dXJuIHRoaXMuY2xvc2VkfTtwLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlamVjdChFcnJvcihcIk1lZGlhS2V5U2Vzc2lvbi5yZW1vdmUgaXMgb25seSBhcHBsaWNhYmxlIGZvciBwZXJzaXN0ZW50IGxpY2Vuc2VzLCB3aGljaCBhcmUgbm90IHN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtXCIpKX07ZnVuY3Rpb24geHEoYSxiKXt2YXIgYz1hLmtleVN0YXR1c2VzO2Muc2l6ZT12b2lkIDA9PWI/MDoxO2MuYT1iO2M9bmV3IFEoXCJrZXlzdGF0dXNlc2NoYW5nZVwiKTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gd3EoKXt0aGlzLnNpemU9MDt0aGlzLmE9dm9pZCAwfXA9d3EucHJvdG90eXBlO3AuZm9yRWFjaD1mdW5jdGlvbihhKXt0aGlzLmEmJmEodGhpcy5hLFVkLnZhbHVlKCkpfTtcbnAuZ2V0PWZ1bmN0aW9uKGEpe2lmKHRoaXMuaGFzKGEpKXJldHVybiB0aGlzLmF9O3AuaGFzPWZ1bmN0aW9uKGEpe3ZhciBiPVVkLnZhbHVlKCk7cmV0dXJuIHRoaXMuYSYmSmIoYSxiKT8hMDohMX07cC5lbnRyaWVzPWZ1bmN0aW9uKCl7fTtwLmtleXM9ZnVuY3Rpb24oKXt9O3AudmFsdWVzPWZ1bmN0aW9uKCl7fTtcblhwKGZ1bmN0aW9uKCl7IXdpbmRvdy5IVE1MVmlkZW9FbGVtZW50fHwhd2luZG93Lk1TTWVkaWFLZXlzfHxuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzJiZNZWRpYUtleVN5c3RlbUFjY2Vzcy5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbnx8KGRlbGV0ZSBIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5tZWRpYUtleXMsSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUubWVkaWFLZXlzPW51bGwsd2luZG93Lk1lZGlhS2V5cz1zcSx3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3M9cXEsbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1wcSxIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5zZXRNZWRpYUtleXM9dHEpfSk7ZnVuY3Rpb24geXEoKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoRXJyb3IoXCJUaGUga2V5IHN5c3RlbSBzcGVjaWZpZWQgaXMgbm90IHN1cHBvcnRlZC5cIikpfWZ1bmN0aW9uIHpxKGEpe3JldHVybiBudWxsPT1hP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVqZWN0KEVycm9yKFwiTWVkaWFLZXlzIG5vdCBzdXBwb3J0ZWQuXCIpKX1mdW5jdGlvbiBBcSgpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yLlwiKTt9QXEucHJvdG90eXBlLmNyZWF0ZVNlc3Npb249ZnVuY3Rpb24oKXt9O0FxLnByb3RvdHlwZS5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZT1mdW5jdGlvbigpe307ZnVuY3Rpb24gQnEoKXt0aGlzLmtleVN5c3RlbT1cIlwiO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yLlwiKTt9QnEucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXt9O0JxLnByb3RvdHlwZS5jcmVhdGVNZWRpYUtleXM9ZnVuY3Rpb24oKXt9O1xuWHAoZnVuY3Rpb24oKXshd2luZG93LkhUTUxWaWRlb0VsZW1lbnR8fG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MmJk1lZGlhS2V5U3lzdGVtQWNjZXNzLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9ufHwobmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz15cSxkZWxldGUgSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUubWVkaWFLZXlzLEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cz1udWxsLEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldE1lZGlhS2V5cz16cSx3aW5kb3cuTWVkaWFLZXlzPUFxLHdpbmRvdy5NZWRpYUtleVN5c3RlbUFjY2Vzcz1CcSl9LC0xMCk7ZnVuY3Rpb24gQ3EoYSl7dmFyIGI9RHE7cmV0dXJuIGI/YithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSk6YX1mdW5jdGlvbiBFcShhLGIpe3RyeXt2YXIgYz1uZXcgRnEoYSxiKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGMpfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX19ZnVuY3Rpb24gR3EoYSl7dmFyIGI9dGhpcy5tZWRpYUtleXM7YiYmYiE9YSYmSHEoYixudWxsKTtkZWxldGUgdGhpcy5tZWRpYUtleXM7KHRoaXMubWVkaWFLZXlzPWEpJiZIcShhLHRoaXMpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX1cbmZ1bmN0aW9uIEZxKGEsYil7dGhpcy5hPXRoaXMua2V5U3lzdGVtPWE7dmFyIGM9ITE7XCJvcmcudzMuY2xlYXJrZXlcIj09YSYmKHRoaXMuYT1cIndlYmtpdC1vcmcudzMuY2xlYXJrZXlcIixjPSExKTt2YXIgZD0hMTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInZpZGVvXCIpO2U9ZS5sZW5ndGg/ZVswXTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7Zm9yKHZhciBmPXEoYiksZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpe2c9Zy52YWx1ZTt2YXIgaD17YXVkaW9DYXBhYmlsaXRpZXM6W10sdmlkZW9DYXBhYmlsaXRpZXM6W10scGVyc2lzdGVudFN0YXRlOlwib3B0aW9uYWxcIixkaXN0aW5jdGl2ZUlkZW50aWZpZXI6XCJvcHRpb25hbFwiLGluaXREYXRhVHlwZXM6Zy5pbml0RGF0YVR5cGVzLHNlc3Npb25UeXBlczpbXCJ0ZW1wb3JhcnlcIl0sbGFiZWw6Zy5sYWJlbH0saz0hMTtpZihnLmF1ZGlvQ2FwYWJpbGl0aWVzKWZvcih2YXIgbD1xKGcuYXVkaW9DYXBhYmlsaXRpZXMpLFxubT1sLm5leHQoKTshbS5kb25lO209bC5uZXh0KCkpbT1tLnZhbHVlLG0uY29udGVudFR5cGUmJihrPSEwLGUuY2FuUGxheVR5cGUobS5jb250ZW50VHlwZS5zcGxpdChcIjtcIilbMF0sdGhpcy5hKSYmKGguYXVkaW9DYXBhYmlsaXRpZXMucHVzaChtKSxkPSEwKSk7aWYoZy52aWRlb0NhcGFiaWxpdGllcylmb3IobD1xKGcudmlkZW9DYXBhYmlsaXRpZXMpLG09bC5uZXh0KCk7IW0uZG9uZTttPWwubmV4dCgpKW09bS52YWx1ZSxtLmNvbnRlbnRUeXBlJiYoaz0hMCxlLmNhblBsYXlUeXBlKG0uY29udGVudFR5cGUsdGhpcy5hKSYmKGgudmlkZW9DYXBhYmlsaXRpZXMucHVzaChtKSxkPSEwKSk7a3x8KGQ9ZS5jYW5QbGF5VHlwZShcInZpZGVvL21wNFwiLHRoaXMuYSl8fGUuY2FuUGxheVR5cGUoXCJ2aWRlby93ZWJtXCIsdGhpcy5hKSk7XCJyZXF1aXJlZFwiPT1nLnBlcnNpc3RlbnRTdGF0ZSYmKGM/KGgucGVyc2lzdGVudFN0YXRlPVwicmVxdWlyZWRcIixoLnNlc3Npb25UeXBlcz1bXCJwZXJzaXN0ZW50LWxpY2Vuc2VcIl0pOlxuZD0hMSk7aWYoZCl7dGhpcy5iPWg7cmV0dXJufX1jPVwiVW5zdXBwb3J0ZWQga2V5U3lzdGVtXCI7aWYoXCJvcmcudzMuY2xlYXJrZXlcIj09YXx8XCJjb20ud2lkZXZpbmUuYWxwaGFcIj09YSljPVwiTm9uZSBvZiB0aGUgcmVxdWVzdGVkIGNvbmZpZ3VyYXRpb25zIHdlcmUgc3VwcG9ydGVkLlwiO2M9RXJyb3IoYyk7Yy5uYW1lPVwiTm90U3VwcG9ydGVkRXJyb3JcIjtjLmNvZGU9RE9NRXhjZXB0aW9uLk5PVF9TVVBQT1JURURfRVJSO3Rocm93IGM7fUZxLnByb3RvdHlwZS5jcmVhdGVNZWRpYUtleXM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgSXEodGhpcy5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfTtGcS5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2Z1bmN0aW9uIElxKGEpe3RoaXMuZz1hO3RoaXMuYT1udWxsO3RoaXMuYj1uZXcgbGM7dGhpcy5jPVtdO3RoaXMuZj1uZXcgTWFwfVxuZnVuY3Rpb24gSHEoYSxiKXthLmE9YjthLmIuWGEoKTt2YXIgYz1EcTtiJiYoYS5iLmwoYixjK1wibmVlZGtleVwiLGZ1bmN0aW9uKGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7ZS5pbml0Q3VzdG9tRXZlbnQoXCJlbmNyeXB0ZWRcIiwhMSwhMSxudWxsKTtlLmluaXREYXRhVHlwZT1cImNlbmNcIjtlLmluaXREYXRhPUxiKGQuaW5pdERhdGEpO2EuYS5kaXNwYXRjaEV2ZW50KGUpfSksYS5iLmwoYixjK1wia2V5bWVzc2FnZVwiLGZ1bmN0aW9uKGQpe3ZhciBlPUpxKGEsZC5zZXNzaW9uSWQpO2UmJihkPW5ldyBRKFwibWVzc2FnZVwiLHttZXNzYWdlVHlwZTp2b2lkIDA9PWUua2V5U3RhdHVzZXMuYT9cImxpY2Vuc2VyZXF1ZXN0XCI6XCJsaWNlbnNlcmVuZXdhbFwiLG1lc3NhZ2U6ZC5tZXNzYWdlfSksZS5iJiYoZS5iLnJlc29sdmUoKSxlLmI9bnVsbCksZS5kaXNwYXRjaEV2ZW50KGQpKX0pLGEuYi5sKGIsYytcImtleWFkZGVkXCIsZnVuY3Rpb24oZCl7aWYoZD1KcShhLGQuc2Vzc2lvbklkKSlLcShkLFxuXCJ1c2FibGVcIiksZC5hJiZkLmEucmVzb2x2ZSgpLGQuYT1udWxsfSksYS5iLmwoYixjK1wia2V5ZXJyb3JcIixmdW5jdGlvbihkKXt2YXIgZT1KcShhLGQuc2Vzc2lvbklkKTtlJiZlLmhhbmRsZUVycm9yKGQpfSkpfUlxLnByb3RvdHlwZS5jcmVhdGVTZXNzaW9uPWZ1bmN0aW9uKGEpe2E9YXx8XCJ0ZW1wb3JhcnlcIjtpZihcInRlbXBvcmFyeVwiIT1hJiZcInBlcnNpc3RlbnQtbGljZW5zZVwiIT1hKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTZXNzaW9uIHR5cGUgXCIrYStcIiBpcyB1bnN1cHBvcnRlZCBvbiB0aGlzIHBsYXRmb3JtLlwiKTt2YXIgYj10aGlzLmF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtiLnNyY3x8KGIuc3JjPVwiYWJvdXQ6YmxhbmtcIik7YT1uZXcgTHEoYix0aGlzLmcsYSk7dGhpcy5jLnB1c2goYSk7cmV0dXJuIGF9O0lxLnByb3RvdHlwZS5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZT1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoITEpfTtcbmZ1bmN0aW9uIEpxKGEsYil7dmFyIGM9YS5mLmdldChiKTtyZXR1cm4gYz9jOihjPWEuYy5zaGlmdCgpKT8oYy5zZXNzaW9uSWQ9YixhLmYuc2V0KGIsYyksYyk6bnVsbH1mdW5jdGlvbiBMcShhLGIsYyl7UmIuY2FsbCh0aGlzKTt0aGlzLmY9YTt0aGlzLmg9ITE7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuYz1iO3RoaXMuZz1jO3RoaXMuc2Vzc2lvbklkPVwiXCI7dGhpcy5leHBpcmF0aW9uPU5hTjt0aGlzLmNsb3NlZD1uZXcgQWI7dGhpcy5rZXlTdGF0dXNlcz1uZXcgTXF9cGEoTHEsUmIpO3A9THEucHJvdG90eXBlO1xucC5oYW5kbGVFcnJvcj1mdW5jdGlvbihhKXt2YXIgYj1FcnJvcihcIkVNRSB2MC4xYiBrZXkgZXJyb3JcIiksYz1hLmVycm9yQ29kZTtjLnN5c3RlbUNvZGU9YS5zeXN0ZW1Db2RlO2IuZXJyb3JDb2RlPWM7IWEuc2Vzc2lvbklkJiZ0aGlzLmI/KDQ1PT1hLnN5c3RlbUNvZGUmJihiLm1lc3NhZ2U9XCJVbnN1cHBvcnRlZCBzZXNzaW9uIHR5cGUuXCIpLHRoaXMuYi5yZWplY3QoYiksdGhpcy5iPW51bGwpOmEuc2Vzc2lvbklkJiZ0aGlzLmE/KHRoaXMuYS5yZWplY3QoYiksdGhpcy5hPW51bGwpOihiPWEuc3lzdGVtQ29kZSxhLmVycm9yQ29kZS5jb2RlPT1NZWRpYUtleUVycm9yLk1FRElBX0tFWUVSUl9PVVRQVVQ/S3EodGhpcyxcIm91dHB1dC1yZXN0cmljdGVkXCIpOjE9PWI/S3EodGhpcyxcImV4cGlyZWRcIik6S3EodGhpcyxcImludGVybmFsLWVycm9yXCIpKX07XG5mdW5jdGlvbiBOcShhLGIsYyl7aWYoYS5oKXJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcihcIlRoZSBzZXNzaW9uIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpKTthLmg9ITA7dHJ5e2lmKFwicGVyc2lzdGVudC1saWNlbnNlXCI9PWEuZylpZihjKXZhciBkPU4od2MoXCJMT0FEX1NFU1NJT058XCIrYykpO2Vsc2V7dmFyIGU9d2MoXCJQRVJTSVNURU5UfFwiKTtkPWlkKGUsYil9ZWxzZSBkPU4oYil9Y2F0Y2goZyl7cmV0dXJuIFByb21pc2UucmVqZWN0KGcpfWEuYj1uZXcgQWI7dmFyIGY9Q3EoXCJnZW5lcmF0ZUtleVJlcXVlc3RcIik7dHJ5e2EuZltmXShhLmMsZCl9Y2F0Y2goZyl7aWYoXCJJbnZhbGlkU3RhdGVFcnJvclwiIT1nLm5hbWUpcmV0dXJuIGEuYj1udWxsLFByb21pc2UucmVqZWN0KGcpOyhuZXcgTShmdW5jdGlvbigpe3RyeXthLmZbZl0oYS5jLGQpfWNhdGNoKGgpe2EuYi5yZWplY3QoaCksYS5iPW51bGx9fSkpLlIoLjAxKX1yZXR1cm4gYS5ifVxuZnVuY3Rpb24gT3EoYSxiLGMpe2lmKGEuYSlhLmEudGhlbihmdW5jdGlvbigpe3JldHVybiBPcShhLGIsYyl9KVtcImNhdGNoXCJdKGZ1bmN0aW9uKCl7cmV0dXJuIE9xKGEsYixjKX0pO2Vsc2V7YS5hPWI7aWYoXCJ3ZWJraXQtb3JnLnczLmNsZWFya2V5XCI9PWEuYyl7dmFyIGQ9c2MoYyk7dmFyIGU9SlNPTi5wYXJzZShkKTtcIm9jdFwiIT1lLmtleXNbMF0ua3R5JiYoYS5hLnJlamVjdChFcnJvcihcIlJlc3BvbnNlIGlzIG5vdCBhIHZhbGlkIEpTT04gV2ViIEtleSBTZXQuXCIpKSxhLmE9bnVsbCk7ZD1mZChlLmtleXNbMF0uayk7ZT1mZChlLmtleXNbMF0ua2lkKX1lbHNlIGQ9TihjKSxlPW51bGw7dmFyIGY9Q3EoXCJhZGRLZXlcIik7dHJ5e2EuZltmXShhLmMsZCxlLGEuc2Vzc2lvbklkKX1jYXRjaChnKXthLmEucmVqZWN0KGcpLGEuYT1udWxsfX19XG5mdW5jdGlvbiBLcShhLGIpe3ZhciBjPWEua2V5U3RhdHVzZXM7Yy5zaXplPXZvaWQgMD09Yj8wOjE7Yy5hPWI7Yz1uZXcgUShcImtleXN0YXR1c2VzY2hhbmdlXCIpO2EuZGlzcGF0Y2hFdmVudChjKX1wLmdlbmVyYXRlUmVxdWVzdD1mdW5jdGlvbihhLGIpe3JldHVybiBOcSh0aGlzLGIsbnVsbCl9O3AubG9hZD1mdW5jdGlvbihhKXtyZXR1cm5cInBlcnNpc3RlbnQtbGljZW5zZVwiPT10aGlzLmc/TnEodGhpcyxudWxsLGEpOlByb21pc2UucmVqZWN0KEVycm9yKFwiTm90IGEgcGVyc2lzdGVudCBzZXNzaW9uLlwiKSl9O3AudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBBYjtPcSh0aGlzLGIsYSk7cmV0dXJuIGJ9O1xucC5jbG9zZT1mdW5jdGlvbigpe2lmKFwicGVyc2lzdGVudC1saWNlbnNlXCIhPXRoaXMuZyl7aWYoIXRoaXMuc2Vzc2lvbklkKXJldHVybiB0aGlzLmNsb3NlZC5yZWplY3QoRXJyb3IoXCJUaGUgc2Vzc2lvbiBpcyBub3QgY2FsbGFibGUuXCIpKSx0aGlzLmNsb3NlZDt2YXIgYT1DcShcImNhbmNlbEtleVJlcXVlc3RcIik7dHJ5e3RoaXMuZlthXSh0aGlzLmMsdGhpcy5zZXNzaW9uSWQpfWNhdGNoKGIpe319dGhpcy5jbG9zZWQucmVzb2x2ZSgpO3JldHVybiB0aGlzLmNsb3NlZH07cC5yZW1vdmU9ZnVuY3Rpb24oKXtyZXR1cm5cInBlcnNpc3RlbnQtbGljZW5zZVwiIT10aGlzLmc/UHJvbWlzZS5yZWplY3QoRXJyb3IoXCJOb3QgYSBwZXJzaXN0ZW50IHNlc3Npb24uXCIpKTp0aGlzLmNsb3NlKCl9O2Z1bmN0aW9uIE1xKCl7dGhpcy5zaXplPTA7dGhpcy5hPXZvaWQgMH1wPU1xLnByb3RvdHlwZTtwLmZvckVhY2g9ZnVuY3Rpb24oYSl7dGhpcy5hJiZhKHRoaXMuYSxVZC52YWx1ZSgpKX07cC5nZXQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5oYXMoYSkpcmV0dXJuIHRoaXMuYX07XG5wLmhhcz1mdW5jdGlvbihhKXt2YXIgYj1VZC52YWx1ZSgpO3JldHVybiB0aGlzLmEmJkpiKGEsYik/ITA6ITF9O3AuZW50cmllcz1mdW5jdGlvbigpe307cC5rZXlzPWZ1bmN0aW9uKCl7fTtwLnZhbHVlcz1mdW5jdGlvbigpe307dmFyIERxPVwiXCI7XG5YcChmdW5jdGlvbigpe2lmKCEoIXdpbmRvdy5IVE1MVmlkZW9FbGVtZW50fHxuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzJiZNZWRpYUtleVN5c3RlbUFjY2Vzcy5wcm90b3R5cGUuZ2V0Q29uZmlndXJhdGlvbikpe2lmKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLndlYmtpdEdlbmVyYXRlS2V5UmVxdWVzdClEcT1cIndlYmtpdFwiO2Vsc2UgaWYoIUhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLmdlbmVyYXRlS2V5UmVxdWVzdClyZXR1cm47bmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1FcTtkZWxldGUgSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUubWVkaWFLZXlzO0hUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLm1lZGlhS2V5cz1udWxsO0hUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnNldE1lZGlhS2V5cz1HcTt3aW5kb3cuTWVkaWFLZXlzPUlxO3dpbmRvdy5NZWRpYUtleVN5c3RlbUFjY2Vzcz1GcX19KTtmdW5jdGlvbiBQcShhKXthPWEudGFyZ2V0O2lmKFwicGljdHVyZS1pbi1waWN0dXJlXCI9PWEud2Via2l0UHJlc2VudGF0aW9uTW9kZSl7ZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQ9YTt2YXIgYj1uZXcgRXZlbnQoXCJlbnRlcnBpY3R1cmVpbnBpY3R1cmVcIik7YS5kaXNwYXRjaEV2ZW50KGIpfWVsc2UgZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQ9PWEmJihkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudD1udWxsKSxiPW5ldyBFdmVudChcImxlYXZlcGljdHVyZWlucGljdHVyZVwiKSxhLmRpc3BhdGNoRXZlbnQoYil9XG5mdW5jdGlvbiBRcSgpe3JldHVybiB0aGlzLndlYmtpdFN1cHBvcnRzUHJlc2VudGF0aW9uTW9kZShcInBpY3R1cmUtaW4tcGljdHVyZVwiKT8odGhpcy53ZWJraXRTZXRQcmVzZW50YXRpb25Nb2RlKFwicGljdHVyZS1pbi1waWN0dXJlXCIpLGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50PXRoaXMsUHJvbWlzZS5yZXNvbHZlKCkpOlByb21pc2UucmVqZWN0KEVycm9yKFwiUGlQIG5vdCBhbGxvd2VkIGJ5IHZpZGVvIGVsZW1lbnRcIikpfWZ1bmN0aW9uIFJxKCl7dmFyIGE9ZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQ7cmV0dXJuIGE/KGEud2Via2l0U2V0UHJlc2VudGF0aW9uTW9kZShcImlubGluZVwiKSxkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudD1udWxsLFByb21pc2UucmVzb2x2ZSgpKTpQcm9taXNlLnJlamVjdChFcnJvcihcIk5vIHBpY3R1cmUgaW4gcGljdHVyZSBlbGVtZW50IGZvdW5kXCIpKX1cbmZ1bmN0aW9uIFNxKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIik/ITA6IXRoaXMud2Via2l0U3VwcG9ydHNQcmVzZW50YXRpb25Nb2RlKFwicGljdHVyZS1pbi1waWN0dXJlXCIpfWZ1bmN0aW9uIFRxKGEpe2E/dGhpcy5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiLFwiXCIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIil9XG5YcChmdW5jdGlvbigpe2lmKHdpbmRvdy5IVE1MVmlkZW9FbGVtZW50KXt2YXIgYT1IVE1MVmlkZW9FbGVtZW50LnByb3RvdHlwZTthLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlJiZkb2N1bWVudC5leGl0UGljdHVyZUluUGljdHVyZXx8IWEud2Via2l0U3VwcG9ydHNQcmVzZW50YXRpb25Nb2RlfHwoZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVuYWJsZWQ9ITAsZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVsZW1lbnQ9bnVsbCxhLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlPVFxLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIix7Z2V0OlNxLHNldDpUcSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlPVJxLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRwcmVzZW50YXRpb25tb2RlY2hhbmdlZFwiLFBxLCEwKSl9fSk7WHAoZnVuY3Rpb24oKXtpZih3aW5kb3cuSFRNTE1lZGlhRWxlbWVudCl7dmFyIGE9SFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUucGxheTtIVE1MTWVkaWFFbGVtZW50LnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dmFyIGI9YS5hcHBseSh0aGlzKTtiJiZiW1wiY2F0Y2hcIl0oZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn19fSk7ZnVuY3Rpb24gVXEoKXtyZXR1cm57ZHJvcHBlZFZpZGVvRnJhbWVzOnRoaXMud2Via2l0RHJvcHBlZEZyYW1lQ291bnQsdG90YWxWaWRlb0ZyYW1lczp0aGlzLndlYmtpdERlY29kZWRGcmFtZUNvdW50LGNvcnJ1cHRlZFZpZGVvRnJhbWVzOjAsY3JlYXRpb25UaW1lOk5hTix0b3RhbEZyYW1lRGVsYXk6MH19WHAoZnVuY3Rpb24oKXtpZih3aW5kb3cuSFRNTFZpZGVvRWxlbWVudCl7dmFyIGE9SFRNTFZpZGVvRWxlbWVudC5wcm90b3R5cGU7IWEuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkmJlwid2Via2l0RHJvcHBlZEZyYW1lQ291bnRcImluIGEmJihhLmdldFZpZGVvUGxheWJhY2tRdWFsaXR5PVVxKX19KTtmdW5jdGlvbiBWcShhLGIsYyl7cmV0dXJuIG5ldyB3aW5kb3cuVGV4dFRyYWNrQ3VlKGEsYixjKX1mdW5jdGlvbiBXcShhLGIsYyl7cmV0dXJuIG5ldyB3aW5kb3cuVGV4dFRyYWNrQ3VlKGErXCItXCIrYitcIi1cIitjLGEsYixjKX1YcChmdW5jdGlvbigpe2lmKCF3aW5kb3cuVlRUQ3VlJiZ3aW5kb3cuVGV4dFRyYWNrQ3VlKXt2YXIgYT1udWxsLGI9VGV4dFRyYWNrQ3VlLmxlbmd0aDtpZigzPT1iKWE9VnE7ZWxzZSBpZig2PT1iKWE9V3E7ZWxzZXt0cnl7dmFyIGM9ISFWcSgxLDIsXCJcIil9Y2F0Y2goZCl7Yz0hMX1jJiYoYT1WcSl9YSYmKHdpbmRvdy5WVFRDdWU9ZnVuY3Rpb24oZCxlLGYpe3JldHVybiBhKGQsZSxmKX0pfX0pO2Z1bmN0aW9uIFhxKCl7fVhxLnByb3RvdHlwZS5wYXJzZUluaXQ9ZnVuY3Rpb24oKXt9O1xuWHEucHJvdG90eXBlLnBhcnNlTWVkaWE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1zYyhhKSxkPVtdLGU9bmV3IERPTVBhcnNlcixmPW51bGw7aWYoXCJcIj09YylyZXR1cm4gZDt0cnl7Zj1lLnBhcnNlRnJvbVN0cmluZyhjLFwidGV4dC94bWxcIil9Y2F0Y2goQil7dGhyb3cgbmV3IEwoMiwyLDIwMDUsXCJGYWlsZWQgdG8gcGFyc2UgVFRNTC5cIik7fWlmKGYpe2lmKGM9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpWzBdKXRocm93IG5ldyBMKDIsMiwyMDA1LGMudGV4dENvbnRlbnQpO2lmKGU9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInR0XCIpWzBdKXt2YXIgZz1UayhlLFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXJcIixcImZyYW1lUmF0ZVwiKTt2YXIgaD1UayhlLFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXJcIixcInN1YkZyYW1lUmF0ZVwiKTt2YXIgaz1UayhlLFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXJcIixcImZyYW1lUmF0ZU11bHRpcGxpZXJcIik7XG52YXIgbD1UayhlLFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXJcIixcInRpY2tSYXRlXCIpO3ZhciBtPVRrKGUsXCJodHRwOi8vd3d3LnczLm9yZy9ucy90dG1sI3BhcmFtZXRlclwiLFwiY2VsbFJlc29sdXRpb25cIik7Zj1lLmdldEF0dHJpYnV0ZShcInhtbDpzcGFjZVwiKXx8XCJkZWZhdWx0XCI7Yz1lLmdldEF0dHJpYnV0ZShcInR0czpleHRlbnRcIil9ZWxzZSB0aHJvdyBuZXcgTCgyLDIsMjAwNSxcIlRUTUwgZG9lcyBub3QgY29udGFpbiA8dHQ+IHRhZy5cIik7aWYoXCJkZWZhdWx0XCIhPWYmJlwicHJlc2VydmVcIiE9Zil0aHJvdyBuZXcgTCgyLDIsMjAwNSxcIkludmFsaWQgeG1sOnNwYWNlIHZhbHVlOiBcIitmKTtmPVwiZGVmYXVsdFwiPT1mO2c9bmV3IFlxKGcsaCxrLGwpO209bT8obT0vXihcXGQrKSAoXFxkKykkLy5leGVjKG0pKT97Y29sdW1uczpwYXJzZUludChtWzFdLDEwKSxyb3dzOnBhcnNlSW50KG1bMl0sMTApfTpudWxsOm51bGw7aD1acShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibWV0YWRhdGFcIilbMF0pO1xuaz1acShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3R5bGluZ1wiKVswXSk7bD1acShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGF5b3V0XCIpWzBdKTtmb3IodmFyIG49W10scj1xKGwpLHU9ci5uZXh0KCk7IXUuZG9uZTt1PXIubmV4dCgpKXt2YXIgdj11LnZhbHVlLHk9Yzt1PW5ldyBoZTt2YXIgej12LmdldEF0dHJpYnV0ZShcInhtbDppZFwiKTtpZih6KXt1LmlkPXo7ej1udWxsO3kmJih6PSRxLmV4ZWMoeSl8fGFyLmV4ZWMoeSkpO3k9ej9OdW1iZXIoelsxXSk6bnVsbDt6PXo/TnVtYmVyKHpbMl0pOm51bGw7dmFyIEEsRDtpZihBPWJyKHYsayxcImV4dGVudFwiKSlBPShEPSRxLmV4ZWMoQSkpfHxhci5leGVjKEEpLG51bGwhPUEmJih1LndpZHRoPW51bGwhPXk/MTAwKk51bWJlcihBWzFdKS95Ok51bWJlcihBWzFdKSx1LmhlaWdodD1udWxsIT16PzEwMCpOdW1iZXIoQVsyXSkvejpOdW1iZXIoQVsyXSksdS53aWR0aFVuaXRzPUR8fG51bGwhPXk/dWU6MCx1LmhlaWdodFVuaXRzPUR8fG51bGwhPVxuej91ZTowKTtpZih2PWJyKHYsayxcIm9yaWdpblwiKSlBPShEPSRxLmV4ZWModikpfHxhci5leGVjKHYpLG51bGwhPUEmJih1LnZpZXdwb3J0QW5jaG9yWD1udWxsIT16PzEwMCpOdW1iZXIoQVsxXSkvejpOdW1iZXIoQVsxXSksdS52aWV3cG9ydEFuY2hvclk9bnVsbCE9eT8xMDAqTnVtYmVyKEFbMl0pL3k6TnVtYmVyKEFbMl0pLHUudmlld3BvcnRBbmNob3JVbml0cz1EfHxudWxsIT15P3VlOjApfWVsc2UgdT1udWxsO3UmJm4ucHVzaCh1KX1jPWNyKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdKTtjPXEoYyk7Zm9yKGU9Yy5uZXh0KCk7IWUuZG9uZTtlPWMubmV4dCgpKShlPWRyKGUudmFsdWUsYi5wZXJpb2RTdGFydCxnLGgsayxsLG4sZiwhMSxtKSkmJmQucHVzaChlKX1yZXR1cm4gZH07XG5mdW5jdGlvbiBacShhKXt2YXIgYj1bXTtpZighYSlyZXR1cm4gYjtmb3IodmFyIGM9cShhLmNoaWxkTm9kZXMpLGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWQ9ZC52YWx1ZSxkLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSYmXCJiclwiIT09ZC5ub2RlTmFtZSYmKGQ9WnEoZCksYj1iLmNvbmNhdChkKSk7Yi5sZW5ndGh8fGIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBjcihhKXtpZighYSlyZXR1cm5bXTt2YXIgYj1bXTthPXEoYS5jaGlsZE5vZGVzKTtmb3IodmFyIGM9YS5uZXh0KCk7IWMuZG9uZTtjPWEubmV4dCgpKWM9Yy52YWx1ZSxjIGluc3RhbmNlb2YgRWxlbWVudCYmKGMuaGFzQXR0cmlidXRlKFwiYmVnaW5cIik/Yi5wdXNoKGMpOmI9Yi5jb25jYXQoY3IoYykpKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIGVyKGEsYil7Zm9yKHZhciBjPVwiXCIsZD1xKGEuY2hpbGROb2RlcyksZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpZT1lLnZhbHVlLFwiYnJcIj09ZS5ub2RlTmFtZSYmYS5jaGlsZE5vZGVzWzBdIT09ZT9jKz1cIlxcblwiOmUuY2hpbGROb2RlcyYmMDxlLmNoaWxkTm9kZXMubGVuZ3RoP2MrPWVyKGUsYik6Yj8oZT1lLnRleHRDb250ZW50LnRyaW0oKSxlPWUucmVwbGFjZSgvXFxzKy9nLFwiIFwiKSxjKz1lKTpjKz1lLnRleHRDb250ZW50O3JldHVybiBjfVxuZnVuY3Rpb24gZHIoYSxiLGMsZCxlLGYsZyxoLGssbCl7aWYoayYmXCJiclwiPT1hLm5vZGVOYW1lKXJldHVybiBhPW5ldyBmZSgwLDAsXCJcIiksYS5zcGFjZXI9ITAsYTt2YXIgbT0vXltcXHNcXG5dKiQvLnRlc3QoYS50ZXh0Q29udGVudCksbj1hLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSYmIWEuaGFzQXR0cmlidXRlKFwiYmVnaW5cIikmJiFhLmhhc0F0dHJpYnV0ZShcImVuZFwiKTtpZihhLm5vZGVUeXBlIT1Ob2RlLkVMRU1FTlRfTk9ERXx8biYmbXx8biYmIWspcmV0dXJuIG51bGw7bT1mcihhLmdldEF0dHJpYnV0ZShcImJlZ2luXCIpLGMpO249ZnIoYS5nZXRBdHRyaWJ1dGUoXCJlbmRcIiksYyk7dmFyIHI9ZnIoYS5nZXRBdHRyaWJ1dGUoXCJkdXJcIiksYyk7bnVsbD09biYmbnVsbCE9ciYmKG49bStyKTtpZighayYmKG51bGw9PW18fG51bGw9PW4pKXRocm93IG5ldyBMKDIsMiwyMDAxKTttPWsmJm51bGw9PW0/MDptK2I7bj1rJiZudWxsPT1uPzA6bitiO3I9XCJcIjtrPVtdO2lmKEFycmF5LmZyb20oYS5jaGlsZE5vZGVzKS5zb21lKGZ1bmN0aW9uKHope3JldHVybiB6Lm5vZGVUeXBlPT1cbk5vZGUuVEVYVF9OT0RFJiYvXFxTKy8udGVzdCh6LnRleHRDb250ZW50KX0pKXI9ZXIoYSxoKTtlbHNlIGZvcih2YXIgdT1xKGEuY2hpbGROb2Rlcyksdj11Lm5leHQoKTshdi5kb25lO3Y9dS5uZXh0KCkpaWYodj1kcih2LnZhbHVlLGIsYyxkLGUsZixnLGgsITAsbCkpdi5zdGFydFRpbWU9di5zdGFydFRpbWV8fG0sdi5lbmRUaW1lPXYuZW5kVGltZXx8bixrLnB1c2godik7Yj1uZXcgZmUobSxuLHIpO2IubmVzdGVkQ3Vlcz1rO2wmJihiLmNlbGxSZXNvbHV0aW9uPWwpO2lmKChmPWdyKGEsXCJyZWdpb25cIixmLFwiXCIpWzBdKSYmZi5nZXRBdHRyaWJ1dGUoXCJ4bWw6aWRcIikpe3ZhciB5PWYuZ2V0QXR0cmlidXRlKFwieG1sOmlkXCIpO2IucmVnaW9uPWcuZmlsdGVyKGZ1bmN0aW9uKHope3JldHVybiB6LmlkPT15fSlbMF19ZD1ncihhLFwic21wdGU6YmFja2dyb3VuZEltYWdlXCIsZCxcIiNcIilbMF07aHIoYixhLGYsZCxlKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIGhyKGEsYixjLGQsZSl7XCJydGxcIj09aXIoYixjLGUsXCJkaXJlY3Rpb25cIikmJihhLmRpcmVjdGlvbj1cInJ0bFwiKTt2YXIgZj1pcihiLGMsZSxcIndyaXRpbmdNb2RlXCIpO1widGJcIj09Znx8XCJ0YmxyXCI9PWY/YS53cml0aW5nTW9kZT1cInZlcnRpY2FsLWxyXCI6XCJ0YnJsXCI9PWY/YS53cml0aW5nTW9kZT1cInZlcnRpY2FsLXJsXCI6XCJybHRiXCI9PWZ8fFwicmxcIj09Zj9hLmRpcmVjdGlvbj1cInJ0bFwiOmYmJihhLmRpcmVjdGlvbj1nZSk7KGY9aXIoYixjLGUsXCJ0ZXh0QWxpZ25cIikpPyhhLnBvc2l0aW9uQWxpZ249anJbZl0sYS5saW5lQWxpZ249a3JbZl0sYS50ZXh0QWxpZ249cWVbZi50b1VwcGVyQ2FzZSgpXSk6YS50ZXh0QWxpZ249XCJzdGFydFwiO2lmKGY9aXIoYixjLGUsXCJkaXNwbGF5QWxpZ25cIikpYS5kaXNwbGF5QWxpZ249cmVbZi50b1VwcGVyQ2FzZSgpXTtpZihmPWlyKGIsYyxlLFwiY29sb3JcIikpYS5jb2xvcj1mO2lmKGY9aXIoYixjLGUsXCJiYWNrZ3JvdW5kQ29sb3JcIikpYS5iYWNrZ3JvdW5kQ29sb3I9XG5mO2lmKGY9aXIoYixjLGUsXCJib3JkZXJcIikpYS5ib3JkZXI9ZjtpZihmPWlyKGIsYyxlLFwiZm9udEZhbWlseVwiKSlhLmZvbnRGYW1pbHk9ZjsoZj1pcihiLGMsZSxcImZvbnRXZWlnaHRcIikpJiZcImJvbGRcIj09ZiYmKGEuZm9udFdlaWdodD03MDApOyhmPWlyKGIsYyxlLFwid3JhcE9wdGlvblwiKSkmJlwibm9XcmFwXCI9PWYmJihhLndyYXBMaW5lPSExKTsoZj1pcihiLGMsZSxcImxpbmVIZWlnaHRcIikpJiZmLm1hdGNoKGxyKSYmKGEubGluZUhlaWdodD1mKTsoZj1pcihiLGMsZSxcImZvbnRTaXplXCIpKSYmKGYubWF0Y2gobHIpfHxmLm1hdGNoKG1yKSkmJihhLmZvbnRTaXplPWYpO2lmKGY9aXIoYixjLGUsXCJmb250U3R5bGVcIikpYS5mb250U3R5bGU9dGVbZi50b1VwcGVyQ2FzZSgpXTtpZihkKXtmPWQuZ2V0QXR0cmlidXRlKFwiaW1hZ2V0eXBlXCIpO3ZhciBnPWQuZ2V0QXR0cmlidXRlKFwiZW5jb2RpbmdcIik7ZD1kLnRleHRDb250ZW50LnRyaW0oKTtcIlBOR1wiPT1mJiZcIkJhc2U2NFwiPT1nJiZkJiYoYS5iYWNrZ3JvdW5kSW1hZ2U9XG5cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIitkKX0oZD1pcihiLGMsZSxcImxldHRlclNwYWNpbmdcIikpJiZkLm1hdGNoKGxyKSYmKGEubGV0dGVyU3BhY2luZz1kKTsoZD1pcihiLGMsZSxcImxpbmVQYWRkaW5nXCIpKSYmZC5tYXRjaChscikmJihhLmxpbmVQYWRkaW5nPWQpO2lmKGQ9aXIoYixjLGUsXCJvcGFjaXR5XCIpKWEub3BhY2l0eT1wYXJzZUZsb2F0KGQpOyhjPWJyKGMsZSxcInRleHREZWNvcmF0aW9uXCIpKSYmbnIoYSxjKTsoYj1vcihiLGUsXCJ0ZXh0RGVjb3JhdGlvblwiKSkmJm5yKGEsYil9XG5mdW5jdGlvbiBucihhLGIpe2Zvcih2YXIgYz1xKGIuc3BsaXQoXCIgXCIpKSxkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSlzd2l0Y2goZC52YWx1ZSl7Y2FzZSBcInVuZGVybGluZVwiOmEudGV4dERlY29yYXRpb24uaW5jbHVkZXMoXCJ1bmRlcmxpbmVcIil8fGEudGV4dERlY29yYXRpb24ucHVzaChcInVuZGVybGluZVwiKTticmVhaztjYXNlIFwibm9VbmRlcmxpbmVcIjphLnRleHREZWNvcmF0aW9uLmluY2x1ZGVzKFwidW5kZXJsaW5lXCIpJiZWYihhLnRleHREZWNvcmF0aW9uLFwidW5kZXJsaW5lXCIpO2JyZWFrO2Nhc2UgXCJsaW5lVGhyb3VnaFwiOmEudGV4dERlY29yYXRpb24uaW5jbHVkZXMoXCJsaW5lVGhyb3VnaFwiKXx8YS50ZXh0RGVjb3JhdGlvbi5wdXNoKFwibGluZVRocm91Z2hcIik7YnJlYWs7Y2FzZSBcIm5vTGluZVRocm91Z2hcIjphLnRleHREZWNvcmF0aW9uLmluY2x1ZGVzKFwibGluZVRocm91Z2hcIikmJlZiKGEudGV4dERlY29yYXRpb24sXCJsaW5lVGhyb3VnaFwiKTticmVhaztjYXNlIFwib3ZlcmxpbmVcIjphLnRleHREZWNvcmF0aW9uLmluY2x1ZGVzKFwib3ZlcmxpbmVcIil8fFxuYS50ZXh0RGVjb3JhdGlvbi5wdXNoKFwib3ZlcmxpbmVcIik7YnJlYWs7Y2FzZSBcIm5vT3ZlcmxpbmVcIjphLnRleHREZWNvcmF0aW9uLmluY2x1ZGVzKFwib3ZlcmxpbmVcIikmJlZiKGEudGV4dERlY29yYXRpb24sXCJvdmVybGluZVwiKX19ZnVuY3Rpb24gaXIoYSxiLGMsZCl7cmV0dXJuKGE9b3IoYSxjLGQpKT9hOmJyKGIsYyxkKX1mdW5jdGlvbiBicihhLGIsYyl7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGQ9WnEoYSk7ZD1xKGQpO2Zvcih2YXIgZT1kLm5leHQoKTshZS5kb25lO2U9ZC5uZXh0KCkpaWYoZT1UayhlLnZhbHVlLFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNzdHlsaW5nXCIsYykpcmV0dXJuIGU7cmV0dXJuIHByKGEsYixjKX1mdW5jdGlvbiBvcihhLGIsYyl7dmFyIGQ9VGsoYSxcImh0dHA6Ly93d3cudzMub3JnL25zL3R0bWwjc3R5bGluZ1wiLGMpO3JldHVybiBkP2Q6cHIoYSxiLGMpfVxuZnVuY3Rpb24gcHIoYSxiLGMpe2E9Z3IoYSxcInN0eWxlXCIsYixcIlwiKTtmb3IodmFyIGQ9bnVsbCxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPVRrKGFbZV0sXCJ1cm46ZWJ1OnR0OnN0eWxlXCIsYyk7Znx8KGY9VGsoYVtlXSxcImh0dHA6Ly93d3cudzMub3JnL25zL3R0bWwjc3R5bGluZ1wiLGMpKTtmfHwoZj1vcihhW2VdLGIsYykpO2YmJihkPWYpfXJldHVybiBkfVxuZnVuY3Rpb24gZ3IoYSxiLGMsZCl7dmFyIGU9W107aWYoIWF8fDE+Yy5sZW5ndGgpcmV0dXJuIGU7dmFyIGY9YTtmb3IoYT1udWxsO2YmJiEoYT1mLmdldEF0dHJpYnV0ZShiKSkmJihmPWYucGFyZW50Tm9kZSxmIGluc3RhbmNlb2YgRWxlbWVudCk7KTtpZihiPWEpZm9yKGI9cShiLnNwbGl0KFwiIFwiKSksYT1iLm5leHQoKTshYS5kb25lO2E9Yi5uZXh0KCkpe2E9YS52YWx1ZTtmPXEoYyk7Zm9yKHZhciBnPWYubmV4dCgpOyFnLmRvbmU7Zz1mLm5leHQoKSlpZihnPWcudmFsdWUsZCtnLmdldEF0dHJpYnV0ZShcInhtbDppZFwiKT09YSl7ZS5wdXNoKGcpO2JyZWFrfX1yZXR1cm4gZX1cbmZ1bmN0aW9uIGZyKGEsYil7dmFyIGM9bnVsbDtpZihxci50ZXN0KGEpKXtjPXFyLmV4ZWMoYSk7dmFyIGQ9TnVtYmVyKGNbMV0pLGU9TnVtYmVyKGNbMl0pLGY9TnVtYmVyKGNbM10pLGc9TnVtYmVyKGNbNF0pO2crPShOdW1iZXIoY1s1XSl8fDApL2IuYjtmKz1nL2IuZnJhbWVSYXRlO2M9Zis2MCplKzM2MDAqZH1lbHNlIHJyLnRlc3QoYSk/Yz1zcihycixhKTp0ci50ZXN0KGEpP2M9c3IodHIsYSk6dXIudGVzdChhKT8oYz11ci5leGVjKGEpLGM9TnVtYmVyKGNbMV0pL2IuZnJhbWVSYXRlKTp2ci50ZXN0KGEpPyhjPXZyLmV4ZWMoYSksYz1OdW1iZXIoY1sxXSkvYi5hKTp3ci50ZXN0KGEpJiYoYz1zcih3cixhKSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBzcihhLGIpe3ZhciBjPWEuZXhlYyhiKTtyZXR1cm4gbnVsbD09Y3x8XCJcIj09Y1swXT9udWxsOihOdW1iZXIoY1s0XSl8fDApLzFFMysoTnVtYmVyKGNbM10pfHwwKSs2MCooTnVtYmVyKGNbMl0pfHwwKSszNjAwKihOdW1iZXIoY1sxXSl8fDApfUsoXCJzaGFrYS50ZXh0LlR0bWxUZXh0UGFyc2VyXCIsWHEpO1hxLnByb3RvdHlwZS5wYXJzZU1lZGlhPVhxLnByb3RvdHlwZS5wYXJzZU1lZGlhO1hxLnByb3RvdHlwZS5wYXJzZUluaXQ9WHEucHJvdG90eXBlLnBhcnNlSW5pdDtmdW5jdGlvbiBZcShhLGIsYyxkKXt0aGlzLmZyYW1lUmF0ZT1OdW1iZXIoYSl8fDMwO3RoaXMuYj1OdW1iZXIoYil8fDE7dGhpcy5hPU51bWJlcihkKTswPT10aGlzLmEmJih0aGlzLmE9YT90aGlzLmZyYW1lUmF0ZSp0aGlzLmI6MSk7YyYmKGE9L14oXFxkKykgKFxcZCspJC9nLmV4ZWMoYykpJiYodGhpcy5mcmFtZVJhdGUqPU51bWJlcihhWzFdKS9OdW1iZXIoYVsyXSkpfVxudmFyICRxPS9eKFxcZHsxLDJ9KD86XFwuXFxkKyk/fDEwMCg/OlxcLjArKT8pJSAoXFxkezEsMn0oPzpcXC5cXGQrKT98MTAwKD86XFwuMCspPyklJC8sbXI9L14oXFxkezEsMn0oPzpcXC5cXGQrKT98MTAwKSUkLyxscj0vXihcXGQrcHh8XFxkK2VtfFxcZCpcXC4/XFxkK2MpJC8sYXI9L14oXFxkKylweCAoXFxkKylweCQvLHFyPS9eKFxcZHsyLH0pOihcXGR7Mn0pOihcXGR7Mn0pOihcXGR7Mn0pXFwuPyhcXGQrKT8kLyxycj0vXig/OihcXGR7Mix9KTopPyhcXGR7Mn0pOihcXGR7Mn0pJC8sdHI9L14oPzooXFxkezIsfSk6KT8oXFxkezJ9KTooXFxkezJ9XFwuXFxkezIsfSkkLyx1cj0vXihcXGQqKD86XFwuXFxkKik/KWYkLyx2cj0vXihcXGQqKD86XFwuXFxkKik/KXQkLyx3cj0vXig/OihcXGQqKD86XFwuXFxkKik/KWgpPyg/OihcXGQqKD86XFwuXFxkKik/KW0pPyg/OihcXGQqKD86XFwuXFxkKik/KXMpPyg/OihcXGQqKD86XFwuXFxkKik/KW1zKT8kLyxrcj17bGVmdDptZSxjZW50ZXI6XCJjZW50ZXJcIixyaWdodDpcImVuZFwiLHN0YXJ0Om1lLGVuZDpcImVuZFwifSxqcj1cbntsZWZ0OlwibGluZS1sZWZ0XCIsY2VudGVyOlwiY2VudGVyXCIscmlnaHQ6XCJsaW5lLXJpZ2h0XCJ9O3llW1wiYXBwbGljYXRpb24vdHRtbCt4bWxcIl09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhxfTtmdW5jdGlvbiB4cigpe3RoaXMubT1uZXcgWHF9eHIucHJvdG90eXBlLnBhcnNlSW5pdD1mdW5jdGlvbihhKXt2YXIgYj0hMTsobmV3IERnKS5MKFwibW9vdlwiLEhnKS5MKFwidHJha1wiLEhnKS5MKFwibWRpYVwiLEhnKS5MKFwibWluZlwiLEhnKS5MKFwic3RibFwiLEhnKS5lYShcInN0c2RcIixJZykuTChcInN0cHBcIixmdW5jdGlvbihjKXtiPSEwO2MucGFyc2VyLnN0b3AoKX0pLnBhcnNlKGEpO2lmKCFiKXRocm93IG5ldyBMKDIsMiwyMDA3KTt9O3hyLnByb3RvdHlwZS5wYXJzZU1lZGlhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPSExLGU9W107KG5ldyBEZykuTChcIm1kYXRcIixKZyhmdW5jdGlvbihmKXtkPSEwO2U9ZS5jb25jYXQoYy5tLnBhcnNlTWVkaWEoZixiKSl9KSkucGFyc2UoYSwhMSk7aWYoIWQpdGhyb3cgbmV3IEwoMiwyLDIwMDcpO3JldHVybiBlfTtLKFwic2hha2EudGV4dC5NcDRUdG1sUGFyc2VyXCIseHIpO3hyLnByb3RvdHlwZS5wYXJzZU1lZGlhPXhyLnByb3RvdHlwZS5wYXJzZU1lZGlhO1xueHIucHJvdG90eXBlLnBhcnNlSW5pdD14ci5wcm90b3R5cGUucGFyc2VJbml0O3llWydhcHBsaWNhdGlvbi9tcDQ7IGNvZGVjcz1cInN0cHBcIiddPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4cn07eWVbJ2FwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwic3RwcC50dG1sLmltMXRcIiddPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4cn07eWVbJ2FwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwic3RwcC5UVE1MLmltMXRcIiddPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB4cn07ZnVuY3Rpb24geXIoKXt9eXIucHJvdG90eXBlLnBhcnNlSW5pdD1mdW5jdGlvbigpe307XG55ci5wcm90b3R5cGUucGFyc2VNZWRpYT1mdW5jdGlvbihhLGIpe3ZhciBjPXNjKGEpO2M9Yy5yZXBsYWNlKC9cXHJcXG58XFxyKD89W15cXG5dfCQpL2dtLFwiXFxuXCIpO3ZhciBkPWMuc3BsaXQoL1xcbnsyLH0vbSk7aWYoIS9eV0VCVlRUKCR8WyBcXHRcXG5dKS9tLnRlc3QoZFswXSkpdGhyb3cgbmV3IEwoMiwyLDJFMyk7Yz1iLnBlcmlvZFN0YXJ0O2lmKGRbMF0uaW5jbHVkZXMoXCJYLVRJTUVTVEFNUC1NQVBcIikpe3ZhciBlPWRbMF0ubWF0Y2goL0xPQ0FMOigoPzooXFxkezEsfSk6KT8oXFxkezJ9KTooXFxkezJ9KVxcLihcXGR7M30pKS9tKSxmPWRbMF0ubWF0Y2goL01QRUdUUzooXFxkKykvbSk7aWYoZSYmZil7Yz16cihuZXcgJG0oZVsxXSkpO2lmKG51bGw9PWMpdGhyb3cgbmV3IEwoMiwyLDJFMyk7Zj1OdW1iZXIoZlsxXSk7Zm9yKGU9Yi5zZWdtZW50U3RhcnQ7OTU0NDMuNzE3Njg4ODg4OTw9ZTspZS09OTU0NDMuNzE3Njg4ODg4OSxmKz04NTg5OTM0NTkyO2M9Yi5wZXJpb2RTdGFydCtmLzlFNC1jfX1mPVxuW107ZT1xKGRbMF0uc3BsaXQoXCJcXG5cIikpO2Zvcih2YXIgZz1lLm5leHQoKTshZy5kb25lO2c9ZS5uZXh0KCkpaWYoZz1nLnZhbHVlLC9eUmVnaW9uOi8udGVzdChnKSl7Zz1uZXcgJG0oZyk7dmFyIGg9bmV3IGhlO2NuKGcpO2FuKGcpO2Zvcih2YXIgaz1jbihnKTtrOyl7dmFyIGw9aCxtPWs7KGs9L15pZD0oLiopJC8uZXhlYyhtKSk/bC5pZD1rWzFdOihrPS9ed2lkdGg9KFxcZHsxLDJ9fDEwMCklJC8uZXhlYyhtKSk/bC53aWR0aD1OdW1iZXIoa1sxXSk6KGs9L15saW5lcz0oXFxkKykkLy5leGVjKG0pKT8obC5oZWlnaHQ9TnVtYmVyKGtbMV0pLGwuaGVpZ2h0VW5pdHM9Mik6KGs9L15yZWdpb25hbmNob3I9KFxcZHsxLDJ9fDEwMCklLChcXGR7MSwyfXwxMDApJSQvLmV4ZWMobSkpPyhsLnJlZ2lvbkFuY2hvclg9TnVtYmVyKGtbMV0pLGwucmVnaW9uQW5jaG9yWT1OdW1iZXIoa1syXSkpOihrPS9edmlld3BvcnRhbmNob3I9KFxcZHsxLDJ9fDEwMCklLChcXGR7MSwyfXwxMDApJSQvLmV4ZWMobSkpP1xuKGwudmlld3BvcnRBbmNob3JYPU51bWJlcihrWzFdKSxsLnZpZXdwb3J0QW5jaG9yWT1OdW1iZXIoa1syXSkpOi9ec2Nyb2xsPXVwJC8uZXhlYyhtKSYmKGwuc2Nyb2xsPVwidXBcIik7YW4oZyk7az1jbihnKX1mLnB1c2goaCl9ZT1bXTtkPXEoZC5zbGljZSgxKSk7Zm9yKGc9ZC5uZXh0KCk7IWcuZG9uZTtnPWQubmV4dCgpKXtsPWcudmFsdWUuc3BsaXQoXCJcXG5cIik7az1jO2lmKDE9PWwubGVuZ3RoJiYhbFswXXx8L15OT1RFKCR8WyBcXHRdKS8udGVzdChsWzBdKXx8XCJTVFlMRVwiPT1sWzBdKWc9bnVsbDtlbHNle2c9bnVsbDtsWzBdLmluY2x1ZGVzKFwiLS1cXHgzZVwiKXx8KGc9bFswXSxsLnNwbGljZSgwLDEpKTtoPW5ldyAkbShsWzBdKTttPXpyKGgpO3ZhciBuPWJuKGgsL1sgXFx0XSstLVxceDNlWyBcXHRdKy9nKSxyPXpyKGgpO2lmKG51bGw9PW18fG51bGw9PW58fG51bGw9PXIpdGhyb3cgbmV3IEwoMiwyLDIwMDEpO2w9bmV3IGZlKG0rayxyK2ssbC5zbGljZSgxKS5qb2luKFwiXFxuXCIpLnRyaW0oKSk7XG5hbihoKTtmb3Ioaz1jbihoKTtrOylBcihsLGssZiksYW4oaCksaz1jbihoKTtudWxsIT1nJiYobC5pZD1nKTtnPWx9ZyYmZS5wdXNoKGcpfXJldHVybiBlfTtcbmZ1bmN0aW9uIEFyKGEsYixjKXt2YXIgZDtpZihkPS9eYWxpZ246KHN0YXJ0fG1pZGRsZXxjZW50ZXJ8ZW5kfGxlZnR8cmlnaHQpJC8uZXhlYyhiKSliPWRbMV0sXCJtaWRkbGVcIj09Yj9hLnRleHRBbGlnbj1qZTphLnRleHRBbGlnbj1xZVtiLnRvVXBwZXJDYXNlKCldO2Vsc2UgaWYoZD0vXnZlcnRpY2FsOihscnxybCkkLy5leGVjKGIpKWEud3JpdGluZ01vZGU9XCJsclwiPT1kWzFdP1widmVydGljYWwtbHJcIjpcInZlcnRpY2FsLXJsXCI7ZWxzZSBpZihkPS9ec2l6ZTooW1xcZC5dKyklJC8uZXhlYyhiKSlhLnNpemU9TnVtYmVyKGRbMV0pO2Vsc2UgaWYoZD0vXnBvc2l0aW9uOihbXFxkLl0rKSUoPzosKGxpbmUtbGVmdHxsaW5lLXJpZ2h0fGNlbnRlcnxzdGFydHxlbmQpKT8kLy5leGVjKGIpKWEucG9zaXRpb249TnVtYmVyKGRbMV0pLGRbMl0mJihiPWRbMl0sYS5wb3NpdGlvbkFsaWduPVwibGluZS1sZWZ0XCI9PWJ8fFwic3RhcnRcIj09Yj9cImxpbmUtbGVmdFwiOlwibGluZS1yaWdodFwiPT1ifHxcImVuZFwiPT1cbmI/XCJsaW5lLXJpZ2h0XCI6XCJjZW50ZXJcIik7ZWxzZSBpZihkPS9ecmVnaW9uOiguKikkLy5leGVjKGIpKXtpZihiPUJyKGMsZFsxXSkpYS5yZWdpb249Yn1lbHNlIGlmKGM9L15saW5lOihbXFxkLl0rKSUoPzosKHN0YXJ0fGVuZHxjZW50ZXIpKT8kLy5leGVjKGIpKWEubGluZUludGVycHJldGF0aW9uPTEsYS5saW5lPU51bWJlcihjWzFdKSxjWzJdJiYoYS5saW5lQWxpZ249c2VbY1syXS50b1VwcGVyQ2FzZSgpXSk7ZWxzZSBpZihjPS9ebGluZTooLT9cXGQrKSg/Oiwoc3RhcnR8ZW5kfGNlbnRlcikpPyQvLmV4ZWMoYikpYS5saW5lSW50ZXJwcmV0YXRpb249bGUsYS5saW5lPU51bWJlcihjWzFdKSxjWzJdJiYoYS5saW5lQWxpZ249c2VbY1syXS50b1VwcGVyQ2FzZSgpXSl9ZnVuY3Rpb24gQnIoYSxiKXt2YXIgYz1hLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC5pZD09Yn0pO3JldHVybiBjLmxlbmd0aD9jWzBdOm51bGx9XG5mdW5jdGlvbiB6cihhKXthPWJuKGEsLyg/OihcXGR7MSx9KTopPyhcXGR7Mn0pOihcXGR7Mn0pXFwuKFxcZHszfSkvZyk7aWYobnVsbD09YSlyZXR1cm4gbnVsbDt2YXIgYj1OdW1iZXIoYVsyXSksYz1OdW1iZXIoYVszXSk7cmV0dXJuIDU5PGJ8fDU5PGM/bnVsbDpOdW1iZXIoYVs0XSkvMUUzK2MrNjAqYiszNjAwKihOdW1iZXIoYVsxXSl8fDApfUsoXCJzaGFrYS50ZXh0LlZ0dFRleHRQYXJzZXJcIix5cik7eXIucHJvdG90eXBlLnBhcnNlTWVkaWE9eXIucHJvdG90eXBlLnBhcnNlTWVkaWE7eXIucHJvdG90eXBlLnBhcnNlSW5pdD15ci5wcm90b3R5cGUucGFyc2VJbml0O3llW1widGV4dC92dHRcIl09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHlyfTt5ZVsndGV4dC92dHQ7IGNvZGVjcz1cInZ0dFwiJ109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHlyfTt5ZVsndGV4dC92dHQ7IGNvZGVjcz1cInd2dHRcIiddPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB5cn07ZnVuY3Rpb24gQ3IoKXt0aGlzLmE9bnVsbH1Dci5wcm90b3R5cGUucGFyc2VJbml0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz0hMTsobmV3IERnKS5MKFwibW9vdlwiLEhnKS5MKFwidHJha1wiLEhnKS5MKFwibWRpYVwiLEhnKS5lYShcIm1kaGRcIixmdW5jdGlvbihkKXswPT1kLnZlcnNpb24/KGQucmVhZGVyLnNraXAoNCksZC5yZWFkZXIuc2tpcCg0KSxiLmE9ZC5yZWFkZXIuSigpLGQucmVhZGVyLnNraXAoNCkpOihkLnJlYWRlci5za2lwKDgpLGQucmVhZGVyLnNraXAoOCksYi5hPWQucmVhZGVyLkooKSxkLnJlYWRlci5za2lwKDgpKTtkLnJlYWRlci5za2lwKDQpfSkuTChcIm1pbmZcIixIZykuTChcInN0YmxcIixIZykuZWEoXCJzdHNkXCIsSWcpLkwoXCJ3dnR0XCIsZnVuY3Rpb24oKXtjPSEwfSkucGFyc2UoYSk7aWYoIXRoaXMuYSl0aHJvdyBuZXcgTCgyLDIsMjAwOCk7aWYoIWMpdGhyb3cgbmV3IEwoMiwyLDIwMDgpO307XG5Dci5wcm90b3R5cGUucGFyc2VNZWRpYT1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLmEpdGhyb3cgbmV3IEwoMiwyLDIwMDgpO3ZhciBjPTAsZD1bXSxlLGY9W10sZz0hMSxoPSExLGs9ITEsbD1udWxsOyhuZXcgRGcpLkwoXCJtb29mXCIsSGcpLkwoXCJ0cmFmXCIsSGcpLmVhKFwidGZkdFwiLGZ1bmN0aW9uKEUpe2c9ITA7Yz0wPT1FLnZlcnNpb24/RS5yZWFkZXIuSigpOkUucmVhZGVyLnBiKCl9KS5lYShcInRmaGRcIixmdW5jdGlvbihFKXt2YXIgSD1FLmZsYWdzO0U9RS5yZWFkZXI7RS5za2lwKDQpO0gmMSYmRS5za2lwKDgpO0gmMiYmRS5za2lwKDQpO2w9SCY4P0UuSigpOm51bGx9KS5lYShcInRydW5cIixmdW5jdGlvbihFKXtoPSEwO3ZhciBIPUUudmVyc2lvbixHPUUuZmxhZ3M7RT1FLnJlYWRlcjt2YXIgRj1FLkooKTtHJjEmJkUuc2tpcCg0KTtHJjQmJkUuc2tpcCg0KTt2YXIgST1bXTtGPXEoZmIoRikpO2Zvcih2YXIgTz1GLm5leHQoKTshTy5kb25lO089Ri5uZXh0KCkpTz17ZHVyYXRpb246bnVsbCxcbnNhbXBsZVNpemU6bnVsbCxtZDpudWxsfSxHJjI1NiYmKE8uZHVyYXRpb249RS5KKCkpLEcmNTEyJiYoTy5zYW1wbGVTaXplPUUuSigpKSxHJjEwMjQmJkUuc2tpcCg0KSxHJjIwNDgmJihPLm1kPTA9PUg/RS5KKCk6RS5KZCgpKSxJLnB1c2goTyk7ZD1JfSkuTChcIm1kYXRcIixKZyhmdW5jdGlvbihFKXtrPSEwO2U9RX0pKS5wYXJzZShhLCExKTtpZighayYmIWcmJiFoKXRocm93IG5ldyBMKDIsMiwyMDA4KTtmb3IodmFyIG09YyxuPW5ldyBVKGUsMCkscj1xKGQpLHU9ci5uZXh0KCk7IXUuZG9uZTt1PXIubmV4dCgpKXt1PXUudmFsdWU7dmFyIHY9dS5kdXJhdGlvbnx8bCx5PXUubWQ/Yyt1Lm1kOm07bT15Kyh2fHwwKTt2YXIgej0wO2Rve3ZhciBBPW4uSigpO3orPUE7dmFyIEQ9bi5KKCksQj1udWxsO1widnR0Y1wiPT1LZyhEKT84PEEmJihCPW4uV2EoQS04KSk6bi5za2lwKEEtOCk7diYmQiYmKEE9RHIoQixiLnBlcmlvZFN0YXJ0K3kvdGhpcy5hLGIucGVyaW9kU3RhcnQrbS90aGlzLmEpLFxuZi5wdXNoKEEpKX13aGlsZSh1LnNhbXBsZVNpemUmJno8dS5zYW1wbGVTaXplKX1yZXR1cm4gZi5maWx0ZXIoSmMpfTtmdW5jdGlvbiBEcihhLGIsYyl7dmFyIGQsZSxmOyhuZXcgRGcpLkwoXCJwYXlsXCIsSmcoZnVuY3Rpb24oZyl7ZD1zYyhnKX0pKS5MKFwiaWRlblwiLEpnKGZ1bmN0aW9uKGcpe2U9c2MoZyl9KSkuTChcInN0dGdcIixKZyhmdW5jdGlvbihnKXtmPXNjKGcpfSkpLnBhcnNlKGEpO3JldHVybiBkP0VyKGQsZSxmLGIsYyk6bnVsbH1mdW5jdGlvbiBFcihhLGIsYyxkLGUpe2E9bmV3IGZlKGQsZSxhKTtiJiYoYS5pZD1iKTtpZihjKWZvcihiPW5ldyAkbShjKSxjPWNuKGIpO2M7KUFyKGEsYyxbXSksYW4oYiksYz1jbihiKTtyZXR1cm4gYX1LKFwic2hha2EudGV4dC5NcDRWdHRQYXJzZXJcIixDcik7Q3IucHJvdG90eXBlLnBhcnNlTWVkaWE9Q3IucHJvdG90eXBlLnBhcnNlTWVkaWE7Q3IucHJvdG90eXBlLnBhcnNlSW5pdD1Dci5wcm90b3R5cGUucGFyc2VJbml0O1xueWVbJ2FwcGxpY2F0aW9uL21wNDsgY29kZWNzPVwid3Z0dFwiJ109ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENyfTsvKlxuIEBsaWNlbnNlXG4gRU1FIEVuY3J5cHRpb24gU2NoZW1lIFBvbHlmaWxsXG4gQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuZnVuY3Rpb24gRnIoKXt9dmFyIEdyO2Z1bmN0aW9uIEhyKCl7R3I/Y29uc29sZS5kZWJ1ZyhcIkVtZUVuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbDogQWxyZWFkeSBpbnN0YWxsZWQuXCIpOm5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MmJk1lZGlhS2V5U3lzdGVtQWNjZXNzLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPyhHcj1uYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLGNvbnNvbGUuZGVidWcoXCJFbWVFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IFdhaXRpbmcgdG8gZGV0ZWN0IGVuY3J5cHRpb25TY2hlbWUgc3VwcG9ydC5cIiksbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1Jcik6Y29uc29sZS5kZWJ1ZyhcIkVtZUVuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbDogRU1FIG5vdCBmb3VuZFwiKX1cbmZ1bmN0aW9uIElyKGEsYil7dmFyIGM9dGhpcyxkO3JldHVybiBKKGZ1bmN0aW9uKGUpe2lmKDE9PWUuYSlyZXR1cm4gY29uc29sZS5hc3NlcnQoYz09bmF2aWdhdG9yLCdiYWQgXCJ0aGlzXCIgZm9yIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcycpLHQoZSxHci5jYWxsKGMsYSxiKSwyKTtkPWUuYjtpZihKcihkKSlyZXR1cm4gY29uc29sZS5kZWJ1ZyhcIkVtZUVuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbDogTmF0aXZlIGVuY3J5cHRpb25TY2hlbWUgc3VwcG9ydCBmb3VuZC5cIiksbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1HcixlW1wicmV0dXJuXCJdKGQpO2NvbnNvbGUuZGVidWcoXCJFbWVFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IE5vIG5hdGl2ZSBlbmNyeXB0aW9uU2NoZW1lIHN1cHBvcnQgZm91bmQuIFBhdGNoaW5nIGVuY3J5cHRpb25TY2hlbWUgc3VwcG9ydC5cIik7bmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcz1LcjtyZXR1cm4gZVtcInJldHVyblwiXShLci5jYWxsKGMsXG5hLGIpKX0pfVxuZnVuY3Rpb24gS3IoYSxiKXt2YXIgYz10aGlzLGQsZSxmLGcsaCxrLGwsbSxuLHI7cmV0dXJuIEooZnVuY3Rpb24odSl7aWYoMT09dS5hKXtjb25zb2xlLmFzc2VydChjPT1uYXZpZ2F0b3IsJ2JhZCBcInRoaXNcIiBmb3IgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzJyk7ZD1McihhKTtlPVtdO2Y9cShiKTtmb3IoZz1mLm5leHQoKTshZy5kb25lO2c9Zi5uZXh0KCkpaD1nLnZhbHVlLGs9TXIoaC52aWRlb0NhcGFiaWxpdGllcyxkKSxsPU1yKGguYXVkaW9DYXBhYmlsaXRpZXMsZCksaC52aWRlb0NhcGFiaWxpdGllcyYmaC52aWRlb0NhcGFiaWxpdGllcy5sZW5ndGgmJiFrLmxlbmd0aHx8aC5hdWRpb0NhcGFiaWxpdGllcyYmaC5hdWRpb0NhcGFiaWxpdGllcy5sZW5ndGgmJiFsLmxlbmd0aHx8KG09T2JqZWN0LmFzc2lnbih7fSxoKSxtLnZpZGVvQ2FwYWJpbGl0aWVzPWssbS5hdWRpb0NhcGFiaWxpdGllcz1sLGUucHVzaChtKSk7aWYoIWUubGVuZ3RoKXRocm93IG49RXJyb3IoXCJVbnN1cHBvcnRlZCBrZXlTeXN0ZW0gb3Igc3VwcG9ydGVkQ29uZmlndXJhdGlvbnMuXCIpLFxubi5uYW1lPVwiTm90U3VwcG9ydGVkRXJyb3JcIixuLmNvZGU9RE9NRXhjZXB0aW9uLk5PVF9TVVBQT1JURURfRVJSLG47cmV0dXJuIHQodSxHci5jYWxsKGMsYSxlKSwyKX1yPXUuYjtyZXR1cm4gdVtcInJldHVyblwiXShuZXcgTnIocixkKSl9KX1mdW5jdGlvbiBNcihhLGIpe3JldHVybiBhP2EuZmlsdGVyKGZ1bmN0aW9uKGMpe3JldHVybiFjLmVuY3J5cHRpb25TY2hlbWV8fGMuZW5jcnlwdGlvblNjaGVtZT09Yn0pOmF9SyhcIkVtZUVuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbFwiLEZyKTtGci5pbnN0YWxsPUhyO2Z1bmN0aW9uIE9yKCl7fXZhciBQcjtcbmZ1bmN0aW9uIFFyKCl7bmF2aWdhdG9yLm1lZGlhQ2FwYWJpbGl0aWVzPyhQcj1uYXZpZ2F0b3IubWVkaWFDYXBhYmlsaXRpZXMuZGVjb2RpbmdJbmZvLGNvbnNvbGUuZGVidWcoXCJNY0VuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbDogV2FpdGluZyB0byBkZXRlY3QgZW5jcnlwdGlvblNjaGVtZSBzdXBwb3J0LlwiKSxuYXZpZ2F0b3IubWVkaWFDYXBhYmlsaXRpZXMuZGVjb2RpbmdJbmZvPVJyKTpjb25zb2xlLmRlYnVnKFwiTWNFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IE1lZGlhQ2FwYWJpbGl0aWVzIG5vdCBmb3VuZFwiKX1cbmZ1bmN0aW9uIFJyKGEpe3ZhciBiPXRoaXMsYyxkO3JldHVybiBKKGZ1bmN0aW9uKGUpe2lmKDE9PWUuYSlyZXR1cm4gY29uc29sZS5hc3NlcnQoYj09bmF2aWdhdG9yLm1lZGlhQ2FwYWJpbGl0aWVzLCdiYWQgXCJ0aGlzXCIgZm9yIGRlY29kaW5nSW5mbycpLHQoZSxQci5jYWxsKGIsYSksMik7Yz1lLmI7aWYoIWEua2V5U3lzdGVtQ29uZmlndXJhdGlvbilyZXR1cm4gZVtcInJldHVyblwiXShjKTtkPWMua2V5U3lzdGVtQWNjZXNzO2lmKEpyKGQpKXJldHVybiBjb25zb2xlLmRlYnVnKFwiTWNFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IE5hdGl2ZSBlbmNyeXB0aW9uU2NoZW1lIHN1cHBvcnQgZm91bmQuXCIpLG5hdmlnYXRvci5tZWRpYUNhcGFiaWxpdGllcy5kZWNvZGluZ0luZm89UHIsZVtcInJldHVyblwiXShjKTtjb25zb2xlLmRlYnVnKFwiTWNFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IE5vIG5hdGl2ZSBlbmNyeXB0aW9uU2NoZW1lIHN1cHBvcnQgZm91bmQuIFBhdGNoaW5nIGVuY3J5cHRpb25TY2hlbWUgc3VwcG9ydC5cIik7XG5uYXZpZ2F0b3IubWVkaWFDYXBhYmlsaXRpZXMuZGVjb2RpbmdJbmZvPVNyO3JldHVybiBlW1wicmV0dXJuXCJdKFNyLmNhbGwoYixhKSl9KX1cbmZ1bmN0aW9uIFNyKGEpe3ZhciBiPXRoaXMsYyxkLGUsZixnLGgsaztyZXR1cm4gSihmdW5jdGlvbihsKXtpZigxPT1sLmEpcmV0dXJuIGNvbnNvbGUuYXNzZXJ0KGI9PW5hdmlnYXRvci5tZWRpYUNhcGFiaWxpdGllcywnYmFkIFwidGhpc1wiIGZvciBkZWNvZGluZ0luZm8nKSxjPW51bGwsYS5rZXlTeXN0ZW1Db25maWd1cmF0aW9uJiYoZD1hLmtleVN5c3RlbUNvbmZpZ3VyYXRpb24sZT1kLmtleVN5c3RlbSxmPWQuYXVkaW8mJmQuYXVkaW8uZW5jcnlwdGlvblNjaGVtZSxnPWQudmlkZW8mJmQudmlkZW8uZW5jcnlwdGlvblNjaGVtZSxjPUxyKGUpLGg9e3Bvd2VyRWZmaWNpZW50OiExLHNtb290aDohMSxzdXBwb3J0ZWQ6ITEsa2V5U3lzdGVtQWNjZXNzOm51bGwsY29uZmlndXJhdGlvbjphfSxmJiZmIT1jfHxnJiZnIT1jKT9sW1wicmV0dXJuXCJdKGgpOnQobCxQci5jYWxsKGIsYSksMik7az1sLmI7ay5rZXlTeXN0ZW1BY2Nlc3MmJihrLmtleVN5c3RlbUFjY2Vzcz1uZXcgTnIoay5rZXlTeXN0ZW1BY2Nlc3MsXG5jKSk7cmV0dXJuIGxbXCJyZXR1cm5cIl0oayl9KX1LKFwiTWNFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGxcIixPcik7T3IuaW5zdGFsbD1RcjtmdW5jdGlvbiBOcihhLGIpe3RoaXMuYj1hO3RoaXMuYT1iO3RoaXMua2V5U3lzdGVtPWEua2V5U3lzdGVtfU5yLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmdldENvbmZpZ3VyYXRpb24oKTtpZihhLnZpZGVvQ2FwYWJpbGl0aWVzKWZvcih2YXIgYj1xKGEudmlkZW9DYXBhYmlsaXRpZXMpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWMudmFsdWUuZW5jcnlwdGlvblNjaGVtZT10aGlzLmE7aWYoYS5hdWRpb0NhcGFiaWxpdGllcylmb3IoYj1xKGEuYXVkaW9DYXBhYmlsaXRpZXMpLGM9Yi5uZXh0KCk7IWMuZG9uZTtjPWIubmV4dCgpKWMudmFsdWUuZW5jcnlwdGlvblNjaGVtZT10aGlzLmE7cmV0dXJuIGF9O05yLnByb3RvdHlwZS5jcmVhdGVNZWRpYUtleXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iLmNyZWF0ZU1lZGlhS2V5cygpfTtcbmZ1bmN0aW9uIExyKGEpe2lmKGEuc3RhcnRzV2l0aChcImNvbS53aWRldmluZVwiKXx8YS5zdGFydHNXaXRoKFwiY29tLm1pY3Jvc29mdFwiKXx8YS5zdGFydHNXaXRoKFwiY29tLmFkb2JlXCIpfHxhLnN0YXJ0c1dpdGgoXCJvcmcudzNcIikpcmV0dXJuXCJjZW5jXCI7aWYoYS5zdGFydHNXaXRoKFwiY29tLmFwcGxlXCIpKXJldHVyblwiY2Jjcy0xLTlcIjtjb25zb2xlLndhcm4oXCJFbWVFbmNyeXB0aW9uU2NoZW1lUG9seWZpbGw6IFVua25vd24ga2V5IHN5c3RlbTpcIixhLFwiUGxlYXNlIGNvbnRyaWJ1dGUhXCIpO3JldHVybiBudWxsfWZ1bmN0aW9uIEpyKGEpe2E9YS5nZXRDb25maWd1cmF0aW9uKCk7dmFyIGI9YS5hdWRpb0NhcGFiaWxpdGllcyYmYS5hdWRpb0NhcGFiaWxpdGllc1swXTtyZXR1cm4oYT1hLnZpZGVvQ2FwYWJpbGl0aWVzJiZhLnZpZGVvQ2FwYWJpbGl0aWVzWzBdfHxiKSYmdm9pZCAwIT09YS5lbmNyeXB0aW9uU2NoZW1lPyEwOiExfWZ1bmN0aW9uIFRyKCl7fVxuZnVuY3Rpb24gWnAoKXtIcigpO1FyKCl9SyhcIkVuY3J5cHRpb25TY2hlbWVQb2x5ZmlsbHNcIixUcik7VHIuaW5zdGFsbD1acDtcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1Ucik7fSkuY2FsbChleHBvcnRUbyxpbm5lckdsb2JhbCxpbm5lckdsb2JhbCx1bmRlZmluZWQpO2lmKHR5cGVvZiBleHBvcnRzIT1cInVuZGVmaW5lZFwiKWZvcih2YXIgayBpbiBleHBvcnRUby5zaGFrYSlleHBvcnRzW2tdPWV4cG9ydFRvLnNoYWthW2tdO2Vsc2UgaWYodHlwZW9mIGRlZmluZSE9XCJ1bmRlZmluZWRcIiYmZGVmaW5lLmFtZClkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gZXhwb3J0VG8uc2hha2F9KTtlbHNlIGlubmVyR2xvYmFsLnNoYWthPWV4cG9ydFRvLnNoYWthfSkoKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hha2EtcGxheWVyLmNvbXBpbGVkLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/shaka-player/dist/shaka-player.compiled.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! shaka-player/dist/shaka-player.compiled.js */ \"./node_modules/shaka-player/dist/shaka-player.compiled.js\");\n/* harmony import */ var shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0__);\n// import shaka from 'shaka-player/dist/shaka-player.compiled.debug.js';\n // console.log(shaka);\n\n(function () {\n  var Html5;\n\n  if (typeof videojs.getTech === 'function') {\n    Html5 = videojs.getTech('Html5');\n  } else if (typeof videojs.getComponent === 'function') {\n    Html5 = videojs.getComponent('Html5');\n  } else {\n    console.error('Not supported version of video.js');\n    return;\n  }\n\n  function setInnerText(element, text) {\n    if (typeof element === 'undefined') {\n      return false;\n    }\n\n    var textProperty = 'innerText' in element ? 'innerText' : 'textContent';\n\n    try {\n      element[textProperty] = text;\n    } catch (anException) {\n      element.setAttribute('innerText', text);\n    }\n\n    return true;\n  }\n\n  var ShakaTech = videojs.extend(Html5, {\n    constructor: function constructor(options, ready) {\n      var _this = this;\n\n      var player = this; // Remove the application/dash+xml source so that the browser\n      // doesn't try to play it\n\n      var source = options.source;\n      delete options.source;\n      Html5.call(player, options, ready);\n      shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0___default.a.polyfill.installAll(); // https://docs.videojs.com/html5#.isSupported\n      // Check to see if the browser supports the basic APIs Shaka needs.\n\n      if (shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0___default.a.Player.isBrowserSupported()) {\n        var video = player.el();\n        this.shakaPlayer = new shaka_player_dist_shaka_player_compiled_js__WEBPACK_IMPORTED_MODULE_0___default.a.Player(video);\n        this.shakaPlayer.configure({\n          // Adaptive bitrate streaming\n          abr: {\n            enabled: true\n          }\n        });\n        this.shakaPlayer.addEventListener('error', this.onErrorEvent.bind(this));\n        this.shakaPlayer.addEventListener('buffering', function (event) {\n          if (event.buffering) {\n            player.trigger('waiting');\n          }\n        });\n\n        try {\n          this.shakaPlayer.load(source.src, 0, 'application/dash+xml').then(function () {\n            if (player.shakaPlayer.isLive()) {\n              player.duration = function () {\n                return Infinity;\n              };\n\n              _this.shakaPlayer.configure({\n                streaming: {\n                  bufferBehind: 20,\n                  bufferingGoal: 20,\n                  rebufferingGoal: 1\n                }\n              });\n            } else {\n              _this.shakaPlayer.configure({\n                streaming: {\n                  bufferBehind: 120,\n                  bufferingGoal: 120,\n                  rebufferingGoal: 1\n                }\n              });\n            } //    console.log(_this.shakaPlayer.getConfiguration());\n\n\n            player.initShakaMenus();\n          });\n        } catch (e) {\n          this.onError(e);\n        }\n      } else {\n        // This browser does not have the minimum set of APIs we need.\n        console.error('Browser not supported!');\n      }\n    },\n    onErrorEvent: function onErrorEvent(event) {\n      // Extract the shaka.util.Error object from the event.\n      this.onError(event.detail);\n    },\n    onError: function onError(error) {\n      // Log the error.\n      console.error('Error code', error.code, 'object', error);\n    },\n    initShakaMenus: function initShakaMenus() {\n      var player = this;\n      var shakaPlayer = this.shakaPlayer;\n      player.options_.playbackRates = [];\n      var playerEL = player.el();\n      playerEL.className += ' vjs-shaka';\n      var shakaButton = document.createElement('div');\n      shakaButton.setAttribute('class', 'vjs-shaka-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-menu-button-levels');\n      var shakaMenu = document.createElement('div');\n      shakaMenu.setAttribute('class', 'vjs-menu');\n      shakaButton.appendChild(shakaMenu);\n      var shakaMenuContent = document.createElement('ul');\n      shakaMenuContent.setAttribute('class', 'vjs-menu-content');\n      shakaMenuContent.setAttribute('style', 'overflow-y: hidden;');\n      shakaMenu.appendChild(shakaMenuContent);\n      var videoTracks = shakaPlayer.getVariantTracks();\n      var el = document.createElement('li');\n      el.setAttribute('class', 'vjs-menu-item vjs-selected');\n      var label = document.createElement('span');\n      setInnerText(label, 'Auto');\n      el.appendChild(label);\n      el.addEventListener('click', function onClick() {\n        var selected = shakaMenuContent.querySelector('.vjs-selected');\n\n        if (selected) {\n          selected.className = selected.className.replace('vjs-selected', '');\n        }\n\n        this.className = ''.concat(this.className, ' vjs-selected');\n        shakaPlayer.configure({\n          abr: {\n            enabled: true\n          }\n        });\n      });\n      shakaMenuContent.appendChild(el);\n      var sortedTracks = {};\n\n      for (var i = 1; i < videoTracks.length; i += 1) {\n        if (typeof sortedTracks[videoTracks[i].height] === 'undefined' || sortedTracks[videoTracks[i].height].audioBandwidth < videoTracks[i].audioBandwidth) {\n          sortedTracks[videoTracks[i].height] = videoTracks[i];\n        }\n      }\n\n      var _loop = function _loop(h) {\n        var track = sortedTracks[h];\n        var rate = (sortedTracks[h].bandwidth / 1024).toFixed(0);\n        var height = sortedTracks[h].height;\n        var li = document.createElement('li');\n        li.setAttribute('class', 'vjs-menu-item');\n        li.setAttribute('data-val', rate);\n        var liLabel = document.createElement('span');\n        setInnerText(liLabel, ''.concat(height, 'p'));\n        li.appendChild(liLabel);\n        li.addEventListener('click', function onClick() {\n          var selected = shakaMenuContent.querySelector('.vjs-selected');\n\n          if (selected) {\n            selected.className = selected.className.replace('vjs-selected', '');\n          }\n\n          this.className = ''.concat(this.className, ' vjs-selected');\n          shakaPlayer.configure({\n            abr: {\n              enabled: false\n            }\n          });\n          shakaPlayer.selectVariantTrack(track, false);\n        });\n        shakaMenuContent.appendChild(li);\n      };\n\n      for (var h in sortedTracks) {\n        _loop(h);\n      }\n\n      var controlBar = playerEL.parentNode.querySelector('.vjs-control-bar');\n\n      if (controlBar && Object.entries(sortedTracks).length > 1) {\n        controlBar.insertBefore(shakaButton, controlBar.lastChild);\n      }\n    }\n  });\n\n  ShakaTech.isSupported = function isSupported() {\n    return !!window.MediaSource;\n  };\n\n  ShakaTech.canPlaySource = function canPlaySource(srcObj) {\n    // https://docs.videojs.com/html5#.canPlaySource\n    if (srcObj.type === 'application/dash+xml' || srcObj.type === 'application/vnd.ms-sstr+xml') {\n      return 'maybe';\n    }\n\n    return '';\n  };\n\n  videojs.options.techOrder.unshift('shaka');\n  videojs.registerTech('Shaka', ShakaTech);\n})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgc2hha2EgZnJvbSAnc2hha2EtcGxheWVyL2Rpc3Qvc2hha2EtcGxheWVyLmNvbXBpbGVkLmRlYnVnLmpzJztcbmltcG9ydCBzaGFrYSBmcm9tICdzaGFrYS1wbGF5ZXIvZGlzdC9zaGFrYS1wbGF5ZXIuY29tcGlsZWQuanMnO1xuLy8gY29uc29sZS5sb2coc2hha2EpO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBIdG1sNTtcblxuICBpZiAodHlwZW9mIHZpZGVvanMuZ2V0VGVjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIEh0bWw1ID0gdmlkZW9qcy5nZXRUZWNoKCdIdG1sNScpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2aWRlb2pzLmdldENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIEh0bWw1ID0gdmlkZW9qcy5nZXRDb21wb25lbnQoJ0h0bWw1Jyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignTm90IHN1cHBvcnRlZCB2ZXJzaW9uIG9mIHZpZGVvLmpzJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5uZXJUZXh0KGVsZW1lbnQsIHRleHQpIHtcbiAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHRleHRQcm9wZXJ0eSA9ICdpbm5lclRleHQnIGluIGVsZW1lbnQgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCc7XG5cbiAgICB0cnkge1xuICAgICAgZWxlbWVudFt0ZXh0UHJvcGVydHldID0gdGV4dDtcbiAgICB9IGNhdGNoIChhbkV4Y2VwdGlvbikge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lubmVyVGV4dCcsIHRleHQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIFNoYWthVGVjaCA9IHZpZGVvanMuZXh0ZW5kKEh0bWw1LCB7XG4gICAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIGNvbnN0cnVjdG9yKG9wdGlvbnMsIHJlYWR5KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgcGxheWVyID0gdGhpczsgLy8gUmVtb3ZlIHRoZSBhcHBsaWNhdGlvbi9kYXNoK3htbCBzb3VyY2Ugc28gdGhhdCB0aGUgYnJvd3NlclxuICAgICAgLy8gZG9lc24ndCB0cnkgdG8gcGxheSBpdFxuXG4gICAgICB2YXIgc291cmNlID0gb3B0aW9ucy5zb3VyY2U7XG4gICAgICBkZWxldGUgb3B0aW9ucy5zb3VyY2U7XG4gICAgICBIdG1sNS5jYWxsKHBsYXllciwgb3B0aW9ucywgcmVhZHkpO1xuICAgICAgc2hha2EucG9seWZpbGwuaW5zdGFsbEFsbCgpOyAvLyBodHRwczovL2RvY3MudmlkZW9qcy5jb20vaHRtbDUjLmlzU3VwcG9ydGVkXG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGJhc2ljIEFQSXMgU2hha2EgbmVlZHMuXG5cbiAgICAgIGlmIChzaGFrYS5QbGF5ZXIuaXNCcm93c2VyU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgdmFyIHZpZGVvID0gcGxheWVyLmVsKCk7XG4gICAgICAgIHRoaXMuc2hha2FQbGF5ZXIgPSBuZXcgc2hha2EuUGxheWVyKFxuICAgICAgICAgIHZpZGVvKTtcbiAgICAgICAgdGhpcy5zaGFrYVBsYXllci5jb25maWd1cmUoe1xuICAgICAgICAgIC8vIEFkYXB0aXZlIGJpdHJhdGUgc3RyZWFtaW5nXG4gICAgICAgICAgYWJyOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaGFrYVBsYXllci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMub25FcnJvckV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnNoYWthUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2J1ZmZlcmluZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmJ1ZmZlcmluZykge1xuICAgICAgICAgICAgcGxheWVyLnRyaWdnZXIoJ3dhaXRpbmcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5zaGFrYVBsYXllci5sb2FkKHNvdXJjZS5zcmMsIDAsICdhcHBsaWNhdGlvbi9kYXNoK3htbCcpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocGxheWVyLnNoYWthUGxheWVyLmlzTGl2ZSgpKSB7XG4gICAgICAgICAgICAgIHBsYXllci5kdXJhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBfdGhpcy5zaGFrYVBsYXllci5jb25maWd1cmUoe1xuICAgICAgICAgICAgICAgIHN0cmVhbWluZzoge1xuICAgICAgICAgICAgICAgICAgYnVmZmVyQmVoaW5kOiAyMCxcbiAgICAgICAgICAgICAgICAgIGJ1ZmZlcmluZ0dvYWw6IDIwLFxuICAgICAgICAgICAgICAgICAgcmVidWZmZXJpbmdHb2FsOiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLnNoYWthUGxheWVyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICAgICAgc3RyZWFtaW5nOiB7XG4gICAgICAgICAgICAgICAgICBidWZmZXJCZWhpbmQ6IDEyMCxcbiAgICAgICAgICAgICAgICAgIGJ1ZmZlcmluZ0dvYWw6IDEyMCxcbiAgICAgICAgICAgICAgICAgIHJlYnVmZmVyaW5nR29hbDogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICAgIGNvbnNvbGUubG9nKF90aGlzLnNoYWthUGxheWVyLmdldENvbmZpZ3VyYXRpb24oKSk7XG4gICAgICAgICAgICBwbGF5ZXIuaW5pdFNoYWthTWVudXMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRoaXMub25FcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgdGhlIG1pbmltdW0gc2V0IG9mIEFQSXMgd2UgbmVlZC5cbiAgICAgICAgY29uc29sZS5lcnJvcignQnJvd3NlciBub3Qgc3VwcG9ydGVkIScpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25FcnJvckV2ZW50OiBmdW5jdGlvbiBvbkVycm9yRXZlbnQoZXZlbnQpIHtcbiAgICAgIC8vIEV4dHJhY3QgdGhlIHNoYWthLnV0aWwuRXJyb3Igb2JqZWN0IGZyb20gdGhlIGV2ZW50LlxuICAgICAgdGhpcy5vbkVycm9yKGV2ZW50LmRldGFpbCk7XG4gICAgfSxcbiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7XG4gICAgICAvLyBMb2cgdGhlIGVycm9yLlxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29kZScsIGVycm9yLmNvZGUsICdvYmplY3QnLCBlcnJvcik7XG4gICAgfSxcbiAgICBpbml0U2hha2FNZW51czogZnVuY3Rpb24gaW5pdFNoYWthTWVudXMoKSB7XG4gICAgICB2YXIgcGxheWVyID0gdGhpcztcbiAgICAgIHZhciBzaGFrYVBsYXllciA9IHRoaXMuc2hha2FQbGF5ZXI7XG4gICAgICBwbGF5ZXIub3B0aW9uc18ucGxheWJhY2tSYXRlcyA9IFtdO1xuICAgICAgdmFyIHBsYXllckVMID0gcGxheWVyLmVsKCk7XG4gICAgICBwbGF5ZXJFTC5jbGFzc05hbWUgKz0gJyB2anMtc2hha2EnO1xuICAgICAgdmFyIHNoYWthQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzaGFrYUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJyxcbiAgICAgICAgJ3Zqcy1zaGFrYS1idXR0b24gdmpzLW1lbnUtYnV0dG9uIHZqcy1tZW51LWJ1dHRvbi1wb3B1cCB2anMtY29udHJvbCB2anMtYnV0dG9uIHZqcy1tZW51LWJ1dHRvbi1sZXZlbHMnKTtcbiAgICAgIHZhciBzaGFrYU1lbnUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNoYWthTWVudS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Zqcy1tZW51Jyk7XG4gICAgICBzaGFrYUJ1dHRvbi5hcHBlbmRDaGlsZChzaGFrYU1lbnUpO1xuICAgICAgdmFyIHNoYWthTWVudUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgc2hha2FNZW51Q29udGVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Zqcy1tZW51LWNvbnRlbnQnKTtcbiAgICAgIHNoYWthTWVudUNvbnRlbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsICdvdmVyZmxvdy15OiBoaWRkZW47Jyk7XG4gICAgICBzaGFrYU1lbnUuYXBwZW5kQ2hpbGQoc2hha2FNZW51Q29udGVudCk7XG4gICAgICB2YXIgdmlkZW9UcmFja3MgPSBzaGFrYVBsYXllci5nZXRWYXJpYW50VHJhY2tzKCk7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsICd2anMtbWVudS1pdGVtIHZqcy1zZWxlY3RlZCcpO1xuICAgICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgc2V0SW5uZXJUZXh0KGxhYmVsLCAnQXV0bycpO1xuICAgICAgZWwuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzaGFrYU1lbnVDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy52anMtc2VsZWN0ZWQnKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICBzZWxlY3RlZC5jbGFzc05hbWUgPSBzZWxlY3RlZC5jbGFzc05hbWUucmVwbGFjZSgndmpzLXNlbGVjdGVkJywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSAnJy5jb25jYXQodGhpcy5jbGFzc05hbWUsICcgdmpzLXNlbGVjdGVkJyk7XG4gICAgICAgIHNoYWthUGxheWVyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgYWJyOiB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2hha2FNZW51Q29udGVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICB2YXIgc29ydGVkVHJhY2tzID0ge307XG5cbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdmlkZW9UcmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3J0ZWRUcmFja3NbdmlkZW9UcmFja3NbaV0uaGVpZ2h0XSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICBzb3J0ZWRUcmFja3NbdmlkZW9UcmFja3NbaV0uaGVpZ2h0XS5hdWRpb0JhbmR3aWR0aCA8IHZpZGVvVHJhY2tzW2ldLmF1ZGlvQmFuZHdpZHRoKSB7XG4gICAgICAgICAgc29ydGVkVHJhY2tzW3ZpZGVvVHJhY2tzW2ldLmhlaWdodF0gPSB2aWRlb1RyYWNrc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChoKSB7XG4gICAgICAgIHZhciB0cmFjayA9IHNvcnRlZFRyYWNrc1toXTtcbiAgICAgICAgdmFyIHJhdGUgPSAoc29ydGVkVHJhY2tzW2hdLmJhbmR3aWR0aCAvIDEwMjQpLnRvRml4ZWQoMCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBzb3J0ZWRUcmFja3NbaF0uaGVpZ2h0O1xuICAgICAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICBsaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3Zqcy1tZW51LWl0ZW0nKTtcbiAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdkYXRhLXZhbCcsIHJhdGUpO1xuICAgICAgICB2YXIgbGlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc2V0SW5uZXJUZXh0KGxpTGFiZWwsICcnLmNvbmNhdChoZWlnaHQsICdwJykpO1xuICAgICAgICBsaS5hcHBlbmRDaGlsZChsaUxhYmVsKTtcbiAgICAgICAgbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNoYWthTWVudUNvbnRlbnQucXVlcnlTZWxlY3RvcignLnZqcy1zZWxlY3RlZCcpO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZWxlY3RlZC5jbGFzc05hbWUgPSBzZWxlY3RlZC5jbGFzc05hbWUucmVwbGFjZSgndmpzLXNlbGVjdGVkJywgJycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gJycuY29uY2F0KHRoaXMuY2xhc3NOYW1lLCAnIHZqcy1zZWxlY3RlZCcpO1xuICAgICAgICAgIHNoYWthUGxheWVyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICBhYnI6IHtcbiAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzaGFrYVBsYXllci5zZWxlY3RWYXJpYW50VHJhY2sodHJhY2ssIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNoYWthTWVudUNvbnRlbnQuYXBwZW5kQ2hpbGQobGkpO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgaCBpbiBzb3J0ZWRUcmFja3MpIHtcbiAgICAgICAgX2xvb3AoaCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250cm9sQmFyID0gcGxheWVyRUwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcudmpzLWNvbnRyb2wtYmFyJyk7XG5cbiAgICAgIGlmIChjb250cm9sQmFyICYmIE9iamVjdC5lbnRyaWVzKHNvcnRlZFRyYWNrcykubGVuZ3RoID4gMSkge1xuICAgICAgICBjb250cm9sQmFyLmluc2VydEJlZm9yZShzaGFrYUJ1dHRvbiwgY29udHJvbEJhci5sYXN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgU2hha2FUZWNoLmlzU3VwcG9ydGVkID0gZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuICEhd2luZG93Lk1lZGlhU291cmNlO1xuICB9O1xuXG4gIFNoYWthVGVjaC5jYW5QbGF5U291cmNlID0gZnVuY3Rpb24gY2FuUGxheVNvdXJjZShzcmNPYmopIHtcbiAgICAvLyBodHRwczovL2RvY3MudmlkZW9qcy5jb20vaHRtbDUjLmNhblBsYXlTb3VyY2VcbiAgICBpZiAoc3JjT2JqLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9kYXNoK3htbCcgfHwgc3JjT2JqLnR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWwnKSB7XG4gICAgICByZXR1cm4gJ21heWJlJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH07XG5cbiAgdmlkZW9qcy5vcHRpb25zLnRlY2hPcmRlci51bnNoaWZ0KCdzaGFrYScpO1xuICB2aWRlb2pzLnJlZ2lzdGVyVGVjaCgnU2hha2EnLCBTaGFrYVRlY2gpO1xufSkoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFGQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFEQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBREE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFEQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTVKQTtBQUNBO0FBOEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ })

/******/ });