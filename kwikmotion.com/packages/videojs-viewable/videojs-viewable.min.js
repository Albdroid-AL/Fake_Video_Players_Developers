!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../dist/",n(n.s=9)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var i=n(6),r=n(7);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var i=n(8);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e){e.exports={a:"0.0.1"}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(2),p=n.n(a),l=n(3),u=n.n(l),c=n(4),d=n(5),h=n.n(d),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),this.scrollLastPos=null,this.scrollTimer=0,this.scroll={},this.initd=!1,this.elements=[],this.reappear=[],this.appeared=0,this.disappeared=0,document.addEventListener("scroll",this.track.bind(this),!1),this.opts={init:t.init,elements:t.elements,appear:t.appear,disappear:t.disappear,done:t.done,reappear:t.reappear,bounds:t.bounds||0,debounce:t.debounce||50,delta:{speed:t.deltaSpeed||50,timeout:t.deltaTimeout||500}},addEventListener("DOMContentLoaded",this.init.bind(this),!1),"complete"!==document.readyState&&"loaded"!==document.readyState&&"interactive"!==document.readyState||this.init();var n=this;return{trigger:function(){n.doCheckAppear(!0)},pause:function(){n.removeListeners()},resume:function(){n.begin()},destroy:function(){n.end()}}}return h()(e,[{key:"track",value:function(){var e=this,t=window.scrollY||window.pageYOffset;null!=this.scrollLastPos&&(scroll.velocity=t-this.scrollLastPos,scroll.delta=scroll.velocity>=0?scroll.velocity:-1*scroll.velocity),this.scrollLastPos=t,this.scrollTimer&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){e.scrollLastPos=null},30)}},{key:"viewable",value:function(e){var t=e.getBoundingClientRect();return t.top+t.height>=.5*t.height&&t.left+t.width>=.5*t.width&&t.bottom-t.height<=(window.innerHeight||document.documentElement.clientHeight)-.5*t.height&&t.right-t.width<=(window.innerWidth||document.documentElement.clientWidth)-.5*t.height}},{key:"debounce",value:function(e,t){var n=this,i=arguments;return function(){var r=n,o=i;clearTimeout(n.timer),n.timer=setTimeout(function(){e.apply(r,o)},t)}}},{key:"checkAppear",value:function(){var e=this;this.scroll.delta<this.opts.delta.speed&&(this.deltaSet||(this.deltaSet=!0,this.doCheckAppear(),setTimeout(function(){e.deltaSet=!1},this.opts.delta.timeout))),this.debounce(function(){e.doCheckAppear()},this.opts.debounce)()}},{key:"begin",value:function(){this.doCheckAppear(),addEventListener("scroll",this.checkAppear.bind(this),!1),addEventListener("resize",this.checkAppear.bind(this),!1)}},{key:"end",value:function(){this.elements=[],this.timer&&clearTimeout(this.timer),this.removeListeners()}},{key:"removeListeners",value:function(){removeEventListener("scroll",this.checkAppear.bind(this),!1),removeEventListener("resize",this.checkAppear.bind(this),!1)}},{key:"doCheckAppear",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.done||(this.elements.forEach(function(n,i){n&&e.viewable(n,e.opts.bounds)?(t||e.reappear[i])&&(e.reappear[i]=!1,e.appeared++,e.opts.appear&&e.opts.appear(n),e.opts.disappear||e.opts.reappear||(e.elements[i]=null)):(!1===e.reappear[i]&&(e.opts.disappear&&e.opts.disappear(n),e.disappeared++,e.opts.reappear||(e.elements[i]=null)),e.reappear[i]=!0)}),this.opts.reappear||this.opts.appear&&(!this.opts.appear||this.appeared!==this.elementsLength)||this.opts.disappear&&(!this.opts.disappear||this.disappeared!==this.elementsLength)||(this.done=!0,this.removeListeners(),this.opts.done&&this.opts.done()))}},{key:"init",value:function(){var e;if(!this.initd&&(this.initd=!0,this.opts.init&&this.opts.init(),e="function"==typeof this.opts.elements?this.opts.elements():this.opts.elements)){this.elementsLength=e.length;for(var t=0;t<this.elementsLength;t+=1)this.elements.push(e[t]),this.reappear.push(!0);this.begin()}}}]),e}(),m=videojs.getPlugin("plugin"),y={},b=function(e){function t(e,n){var i;return r()(this,t),(i=s()(this,p()(t).call(this,e))).options=videojs.mergeOptions(y,n),i.player.ready(function(){i.player.addClass("vjs-viewable"),i.player.appear=new f({init:function(){},elements:[i.player.el()],appear:function(t){e.viewable=!0,e.trigger("viewable")},disappear:function(t){e.viewable=!1,e.trigger("viewable")},reappear:!0}),i.player.getViewable=i.player.appear.trigger}),i}return u()(t,e),t}(m);b.defaultState={},b.VERSION=c.a,videojs.registerPlugin("viewable",b);t.default=b}]);